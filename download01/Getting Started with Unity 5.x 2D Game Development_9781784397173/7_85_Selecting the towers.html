<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec84"></a>Selecting the towers</h2></div></div><hr /></div><p>If you remember, all the trading operations have a selected tower to deal with. In fact, when the player presses the sell button, the game should know which cupcake tower the player intends to sell. As such, the player should be able to select (and unselect) a tower, and this tower should notify the trading system.</p><p>To achieve this, we need to slightly modify the <code class="literal">CupcakeTowerScript</code>. From the previous section, we know that when the tower is active, it has a collider to prevent placing other towers on top of it as well. But, we can also use this collider to detect if the player clicks on this very specific tower. In particular, we can use the self-explanatory function, <code class="literal">OnMouseDown()</code> in the following way:</p><pre class="programlisting">
<span class="emphasis"><em>//Function called when the player clicks on the cupcake Tower</em></span> &#13;
void OnMouseDown() { &#13;
 <span class="emphasis"><em> //Assign this tower as the active tower for trading operations</em></span> &#13;
  TradeCupcakeTowers.setActiveTower(this); &#13;
} &#13;
</pre><p>After saving the script, the player is able to select a specific tower among the ones he or she has in the game, and sell or upgrade it through the trading system.</p></div>