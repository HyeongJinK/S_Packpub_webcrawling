<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec76"></a>More about artificial intelligence in games</h2></div></div><hr /></div><p>In the previous sections, we have seen a couple of implementations of a waypoint system to move characters within the game environment. However, as we already said in the introduction, this is not even scratching the surface of AI in games. This section presents some techniques, without entering into detail, as they are not needed to develop our tower defense game. In fact, to master AI in games, you need a specific book about it. Therefore, feel free to skip this section, or read it. You can always come back here later, maybe when you finish the book, for a deeper look at its content. The main goal of this section is just to give you a basic understanding of AI in games.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec84"></a>Other techniques for navigation at the pathfinding level</h3></div></div></div><p>The <span class="emphasis"><em>Pathfinding and its techniques</em></span> section at the beginning of this chapter was in no way exhaustive, and of course thousands of other techniques exist at the pathfinding level which are used in video games.</p><p>However, it's worth quoting one in particular: Navigation Mesh. This is important, because it's built into the Unity engine for 3D games. The main concept behind this technique is a pre-analysis of the geometry of the level to extract a graph (this is for instance, an offline algorithm) where other pathfinding algorithms can extract paths when needed (these, instead, work online).</p><p>You can generate such a graph by setting some parameters by clicking in the top menu bar on <span class="strong"><strong>Window | Navigation</strong></span>. Specifically, you can set the general options in the <span class="strong"><strong>Bake</strong></span> tab, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784397173/graphics/B03794_06_12.jpg" /></div><p>Once this graph is built, agents can have access to it through specific classes in scripts.</p><p>In any case, this belongs to the 3D part of Unity, and we won't go into it any further. But if you are interested in learning more, you can start from the official documentation at: <a class="ulink" href="https://docs.unity3d.com/Manual/Navigation.html" target="_blank">https://docs.unity3d.com/Manual/Navigation.html</a> (as you may notice from the table of contents, it's quite a large and extensive tool in Unity, but powerful).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec85"></a>Navigation at the level of steering behaviours</h3></div></div></div><p>Remember how we could implement physics equations in Unity from <a class="link" href="#" linkend="ch05">Chapter 5</a>, <span class="emphasis"><em>The Secret Ingredient Is a Dash of Physics</em></span>? We can implement all the equations of the motion and we will obtain any kind of movement. If then, we mix this with a goal, a destination, or even just a direction, along with some obstacle avoidance techniques, we have made a steering behaviour.</p><p>For instance, if you implement obstacle avoidance as magnets that repulse the NPC, and the goal as an attractive magnet, you obtain a pretty nice steering behaviour. Characters could reach destinations without any pathfinding algorithms. Note that I said <span class="emphasis"><em>could</em></span>. In fact, they can get stuck, and there are many other issues related to steering behaviours as an end-solution. But integrating steering behaviours in a pathfinding algorithm (the first deals with high-level navigation, such as going from one room to another, the second can navigate within the room to reach the door to the next room) is a great addition, which can lead to highly-realistic behaviours with very low performance overhead.</p><div class="mediaobject"><img src="/graphics/9781784397173/graphics/B03794_06_13.jpg" /><div class="caption"><p>Example of steering behaviour with magnets</p></div></div><p>Usually, the attraction range of the goal is extended to the whole map, whereas the repulsion force of the obstacles is just local. Moreover, these forces can follow different potential laws, and have different shapes. To help you to visualize magnetic fields, you can give a look at the picture by Dayna Mason at: <a class="ulink" href="https://www.flickr.com/photos/daynoir/2180507211" target="_blank">https://www.flickr.com/photos/daynoir/2180507211</a>. Each compass represents which kind of force the character is subject to when he/she is in that position. The same happens in our example, where the character is pushed away from obstacles and attracted by goals. It is also interesting to note that our goals and obstacles are single pole magnets, but in our physical world they don’t exist (only magnetic dipoles exist).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec86"></a>Navigation at the level of pathfinding/decision making – belief-driven pathfinding</h3></div></div></div><p>As I have already mentioned, research in academia has recently started to merge portions of decision-making within pathfinding. An example of this is one of my own publications about <span class="strong"><strong>Belief-Driven Pathfinding</strong></span> (<span class="strong"><strong>BDP</strong></span>).</p><p>The key concept is that NPCs do not necessarily know the entire map. Imagine there was a bridge to cross a river, but the player had destroyed the bridge; therefore, when the character navigates through the environment, the character should consider the map as if the bridge was still there, because he is not aware that the bridge is down. Only when he approaches the river, he realizes that the bridge is down, and therefore, takes action on it (such as find another path, build another bridge, create a raft with the wood, or swim). That is why it is belief-driven, because the character navigates through the environment as he/she believes the environment is and, as such, makes assumptions.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note100"></a>Note</h3><p>If you are interested in learning more about BDP, you can check out my website at: <a class="ulink" href="http://francescosapio.com" target="_blank">francescosapio.com</a>.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec87"></a>Beyond navigation</h3></div></div></div><p>AI in games is not limited to only navigation, but as we said in the introduction, there are many levels that AI can be applied to in video games. Imagine turn-based games, in which NPCs needs to take strategic decisions.</p><p>But AI does not only apply to non-player characters. Some games implement algorithms to adapt the difficulty to the game (adaptive and learning algorithms), others handle how the camera should move in order to raise a specific emotional state in the player (such as in the work of Georgios N. Yannakakis in particular, in the paper, <span class="emphasis"><em>Space Maze: Experience-Driven Game Camera Control</em></span>). Other games have algorithms of <span class="strong"><strong>Procedural Content Generation</strong></span> (<span class="strong"><strong>PCG</strong></span>), like the famous <span class="emphasis"><em>Temple Run</em></span> (Imangi studios, 2011) which procedurally generates the level, or even <span class="emphasis"><em>Minecraft</em></span> (Mojang, 2011) in which a whole world is procedurally generated.</p><p>AI is also applied for analysis of games and players, such as to study the inner structures of games or to gather psychological player profiles. Regarding the latter, you need to imagine the application in serious games, where games can be used to evaluate the performance of people within specific contexts. You can find an interesting introductory paper titled; <span class="emphasis"><em>Towards personalized, gamified systems: an investigation into game design, personality and player typologies</em></span> by Lauren S. Ferro (available at: <a class="ulink" href="http://dl.acm.org/citation.cfm?id=2513024" target="_blank">http://dl.acm.org/citation.cfm?id=2513024</a>).</p><p>Lastly, it's worth mentioning that the relationship between games and AI is not mono-directional. In fact, not only do games use AI, but also the opposite applies. Some studies and research on AI are helped by video games, which can provide a perfect simulation environment (for instance, for robots), and also create algorithms that take the place of the player and play the game (without cheating, because the AI within the game always uses additional extra data to gather the specific state of the game).</p><p>In any case, keep in mind that when AI is used in games, the most important aim is not to be realistic, but to create an immersive and entertaining experience for the player (which may also result in learning experiences, if the design of the game includes that).</p></div></div>