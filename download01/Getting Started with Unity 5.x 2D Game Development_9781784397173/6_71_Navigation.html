<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec71"></a>Navigation</h2></div></div><hr /></div><p>Now, we should have a better understanding of why AI is so important and vital for video games, but it's such an extensive topic that it cannot be dealt with in a small chapter like this. Therefore, we will focus on just one particular aspect, which is navigation. Since this is an introductory chapter to the topic, we will hope to understand the basic concepts of navigation, but implement just one of the simple techniques that we will use in our game.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec78"></a>Aspects of navigation</h3></div></div></div><p>Game characters move within the game and its levels. The movement can be quite simple, such as that of arcade games or NPCs following or targeting you, and others can be quite complex like in fast paced action and adventure games. Fixed routes are simple to implement within a game, but keep in mind that it is possible to break their illusion when objects and other characters get in the way. For example, in games that are highly populated by NPCs (such as <span class="emphasis"><em>Assassin's Creed</em></span>), characters that roam the environment can get stuck on environmental objects and appear to be moon walking, or in other words moving but not going anywhere. In a more dynamic situation, characters that will follow you or come towards you (friend or foe) will not know your future movements and therefore must act accordingly, as you do. This can range from waves of enemies in real-time strategy games, to guards who you need to avoid in order to infiltrate high-level security buildings.</p><p>For each of these characters (and situations), the AI must be able to calculate a suitable route within the game level, ensuring that it can respond to objects that come into its path, in order to reach its goal. Ideally, you want the character to act as natural as possible.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note92"></a>Note</h3><p>In larger contexts, navigation can be used in a space, which can represent the environment, but also more abstract things, such as the space of moves of a problem. For example, in the famous <span class="emphasis"><em>Eight queens</em></span> game (placing eight queens on a chess board such that each one of them doesn't attack another; you should try it), finding a path in the space of moves might be equivalent to finding a solution.</p></div><p>In video games, navigation can exist in various forms, such as:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><span class="strong"><strong>Steering behaviours</strong></span>: These find an immediate path in front of the agent to avoid collisions. It can be used for basic obstacle avoidance, also in multi-agent system contexts. Since these behaviours are at a low-level, in video games they always have been implemented in a Kinematic way (in the same way we saw in <a class="link" href="#" linkend="ch05">Chapter 5</a>, <span class="emphasis"><em>The Secret Ingredient Is a Dash of Physics</em></span>). However recently, some dynamic steering behaviours have arisen in the game development world, bringing more realistic games.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Pathfinding</strong></span>: These finds a path from a starting location to a destination. This level is the most used, and many techniques have been discovered/invented and implemented. It is this type of navigation that will be the focus of this chapter.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Driven pathfinding</strong></span>: These finds one or multiple paths according to some driven behaviours. This is still a level that has never been implemented in the game industry, but it's a field of research for game development in academia, and therefore it's worth mentioning. This level is placed between decision making and pathfinding. In fact, some decisions are taken at pathfinding time, bringing a more intelligent pathfinding and efficiency in decision processes.</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note93"></a>Note</h3><p>More information about the different types of navigation can be found in more detail on my website. Moreover, my research involves directly driven pathfinding, such as the BDP (we will see later in the chapter). Here is the link: <a class="ulink" href="http://francescosapio.com" target="_blank">francescosapio.com</a>.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec79"></a>Pathfinding and its techniques</h3></div></div></div><p>Over the last few decades, many pathfinding algorithms and techniques have been explored. One of the very first pathfinding algorithms that was invented was the <span class="strong"><strong>dijkstra algorithm</strong></span>, which gave the foundation for modern pathfinding algorithms. Of course, since Dijkstra, much progress has been made and algorithms have become much more efficient (especially when we deal with specific information or we have a priori knowledge about the problem that we can use). The most used of these in video games is the <span class="strong"><strong>A* algorithm</strong></span> (along with all its derivations), which uses some additional information about the map. The main concept of Dijkstra was to explore in all directions until a route was found; the main concept of A* is to explore towards the direction of the destination (which may sound simple, but it is not always easy to determine a function that in some way tells you which is the direction towards the destination). Of course, this is a simplification, but good enough to gain a better overview.</p><p>The preceding mentioned algorithms work in many situations, but if the route which we want to find is easy enough to be found in a small map, it wouldn't be worthwhile developing such algorithms, since there are easier techniques. One of these techniques is the use of waypoints, which is the technique we will use for our game. The main concept is that the map is split into a graph which, potentially, is very small (enough to be drawn by hand) and finding a path can happen in a distributed way. Of course, there is another entire world beyond distributed pathfinding (a practical application would be IP packets that need to travel the world on the Internet, and the path between the different routers is determined in a distributed way since the map of the network changes continuously).</p><p>Another important fact that influences pathfinding (but also other techniques of AI) is whether the algorithm needs to work online or offline. Online means that the algorithm needs to find a solution in real time, whereas offline means that the solution can be found a priori. In video games, there are situations in which we need to use online solutions (such as finding the path for your NPCs) and others where we need an offline solution (for instance, when you have more time to compute, such as with turn-based games, or when some AI calculations are performed at loading time).</p><p>Unfortunately, we would need another book just to describe navigation in video games, but this chapter is giving you a nice and gentle introduction to the world that's behind all of this, and you can use the references (suggested books and links) to continue your journey in learning AI in games.</p></div></div>