<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="01lvl1sec12"></a>3D sound and spatial blending</h2></div></div><hr /></div><p>In this section, we are going to introduce the <span>concept</span> of 3D sound and show how this is implemented at the basic level within Unity. Since the introduction of virtual reality, there has been other implementations of 3D or spatial sound, which Unity can support through plugins, but that is outside the scope of this section. Either way, perhaps it is best to start with a definition of 2D and 3D <span>sound</span> using the following diagram:</p><div class="mediaobject"><img src="/graphics/9781787286450/graphics/8edef1ae-51eb-4645-80eb-ef570e4505f5.png" /></div><p>Representation of 2D stereo versus 3D mono or spatial audio (see: <a class="ulink" href="https://icodelikeagirl.com" target="_blank">https://icodelikeagirl.com</a>)
</p><p>In Unity, the basic simulation of 3D <span>sound</span> is achieved by reducing the audio to a single channel and then attenuating (altering the volume), depending on the distance and location to the listener. There are several variables that allow us to customize how an Audio Source is spatialized in Unity, which we will cover when we convert our lake waves 2D ambient sound to 3D in the exercise here:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Continuing <span>from</span> the last section, be sure the <code class="literal">Ambient_lake-shore-waves</code> object is selected in the <strong class="userinput"><code>Hierarchy</code></strong> window.</li><li>Go to the <strong class="userinput"><code>Inspector</code></strong> window and scroll the component list to the bottom so that all of the <strong class="userinput"><code>Audio Source</code></strong> component is visible.</li><li>Drag the <strong class="userinput"><code>Spatial Blend</code></strong> slider all the way to the right in order to make the sound entirely 3D as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/116dcc86-6b48-4be1-b002-e8983b51220b.png" /></div><p>Setting the spatial blend on an Audio Source
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note15"></a>Note</h3><p>Depending on the audio effect you are after, you may not want a full 2D or 3D Audio Source. Fortunately, with the Spatial Blend slider, you can select a mixture of both 2D and 3D sound. An example of an Audio Source that may use both 2D and 3D is an audio effect that needs to be heard everywhere but also has an obvious source.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>At this point, we won't make any other changes to the <strong class="userinput"><code>Audio Source</code></strong> but take note of the 3D sound settings and especially the graph at the bottom of the component. Observe the line representing the listener position on the graph. Pay particular attention to that line, and press the Play button to run the game.</li><li>Move around the scene and move to the water down the boardwalk. Notice how the sound does get louder as you approach the water or if you turn the direction will also change to represent where the Audio Source is. However, the sound probably isn't quite as loud as we want and the falloff is just too gradual.</li><li>Stop the scene <span>from</span> running by pressing <span class="strong"><strong><span class="emphasis"><em>Ctrl</em></span>+P</strong></span> (<span class="emphasis"><em>c</em></span><span class="strong"><strong><span class="emphasis"><em>ommand</em></span></strong></span> + <span class="strong"><strong>P</strong></span> on Mac).</li><li>Let's alter the 3D settings on our Audio Source. Change the <strong class="userinput"><code>Max Distance</code></strong> on the <strong class="userinput"><code>3D Sound Settings</code></strong> of the Audio Source to <code class="literal">100</code>. Notice how this changes the graph as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/370083be-a9ec-4bfd-811d-f8aacf07aefa.png" /></div><p>Changing the max distance of the Audio Source
</p><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Press play and move around the scene again. Notice how the sound now attenuates better as you move close to the shore. Feel free to change the <span>various</span> 3D sound settings and see what effect they have on the audio playback.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip16"></a>Note</h3><p>The <strong class="userinput"><code>3D Sound Settings</code></strong> volume/distance graph curves and lines can also be altered by clicking on them and dragging the line or keys to alter their position and shape. Double clicking on a curve or line will introduce a new key which will allow you to alter the shape of the curve even further. With this ability to alter an audio sources volume, spatial, spread, and reverb over distance is very powerful and can allow you to create some very interesting effects.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="9" type="1"><li>When you are finished altering the Audio Source settings stop the scene. At this point, if you find a combination of different audio settings, you think, might work better, feel free to set those values now. After you are done making the changes, be sure to save the scene by selecting <strong class="userinput"><code>File - Save Scene</code></strong> from the menu.</li></ol></div><p>As you can appreciate, now there are numerous ways to configure a sound to be 2D, 3D, or some mixture of both. How about we add another ambient sound for all the torches in our village by following this exercise:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Switch your attention to the <strong class="userinput"><code>Hierarchy</code></strong> window and click on the search type dropdown on the left of search field. Then, be sure to select by <strong class="userinput"><code>Name</code></strong> as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/47ea70ab-a2b9-4102-aabe-61af8b72bb0e.png" /></div><p>Changing search filter type to by Name
</p><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Enter <code class="literal">prop_torch</code> in the search field. Notice how the <strong class="userinput"><code>Hierarchy</code></strong> window filters the objects to just display those with the matching name. Select all the objects in the window by clicking on the top item and then while holding the <span class="strong"><strong>Shift</strong></span> key, select each of the remaining items in the list. So, all the torch items are selected as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/3bde2925-693c-42b7-84f1-26b374fff631.png" /></div><p>Selecting all the torch objects</p><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Making sure that all the objects are still selected, go to the <strong class="userinput"><code>Inspector</code></strong> window and click on the <strong class="userinput"><code>Add Component</code></strong> button at the bottom of the window. Then, as you did before, type <code class="literal">audio</code> in the search field to filter the list to audio components. Select the Audio Source component from the list to add it to all the <code class="literal">prop_torch</code> GameObjects.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip17"></a>Note</h3><p>In our example, we are modifying several copies of the same object, the torch. Yet that doesn't have to be the case. You can use this same technique to modify several different objects as long as they share a common component.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>After the <strong class="userinput"><code>Audio Source</code></strong> is added to the objects, set the properties on the component to match those in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/e2c3cac1-cac0-4578-8a62-52d3abb30ade.png" /></div><p>Torch Audio Source properties</p><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>If you find yourself struggling to set any of the properties on the Audio Source component, refer to the preceding sections in this chapter. After you are done making the edits, press the Play button to run the scene.</li><li>Be sure to explore the scene and be sure to move close to the water and around the torches. Feel free to make changes to the Audio Source settings as you explore. As always, if you find some settings sound better, remember those and make those edits again after you exit the play mode.
</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note18"></a>Note</h3><p>Have you noticed that the exercise instructions become less specific as you move through the exercises? Well, of course that is intentional and not only will it test your knowledge and make sure you are paying attention, but it also forces you to explore the Unity editor and find your own way to do something. There are numerous ways to do even the simplest tasks in Unity, and as you gain experience in the editor, you will find your own preferred ways of doing things.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>When you are done testing and tweaking audio, be sure to the save the scene and project.</li></ol></div><p>Well, that completes this section and our introduction to 3D sound in Unity. We covered this material quickly and did not go into details of the <strong class="userinput"><code>3D Sound Settings</code></strong>. There will be plenty of time to cover additional details about those settings in upcoming chapters.</p></div>