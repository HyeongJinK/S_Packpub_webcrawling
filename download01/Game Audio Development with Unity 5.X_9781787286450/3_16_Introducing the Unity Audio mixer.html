<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="03lvl1sec20"></a>Introducing the Unity Audio mixer</h2></div></div><hr /></div><p>Released in Unity 5, the <span>Audio</span> Mixer provides the functionality of an embedded <span class="strong"><strong>Digital Audio Workstation</strong></span> (<span class="strong"><strong>DAW</strong></span>). Previously, you would have used a DAW to mix or produce various sound effects or <span>music</span> into importable assets. Those assets would then be imported into Unity and used within various audio sources. Now, with the mixer, you can mix and produce various audio effects directly in Unity, thus eliminating the need for specialized external software and additional preprocessing by a sound designer. Not to mention that having a DAW within the game engine allows for additional specialized dynamic and adaptive audio effects.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note34"></a>Note</h3><p>the Audio Mixer is a great tool, it still has some shortcomings; therefore, we will also be looking at other DAW tools that can integrate directly with Unity in later chapters.</p></div><p>The best way for us to get in and understand the basics of the <span>Audio</span> Mixer is to get hands on and use it for our sample project. Open up Unity and follow the instructions to get started:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>If you are continuing from the end of the last chapter, just continue to the next point. For those who just got here, open up the <code class="literal">Viking Village</code> project within Unity. Then import <code class="literal">Chapter_2_Viking_Village_Start.unitypackage</code> from the <code class="literal">Chapter_2_Assets</code> folder in the source code download folder. Next, locate the scene <strong class="userinput"><code>The_Viking_Village_Chaper2_End</code></strong> in the <strong class="userinput"><code>Project</code></strong> window and open it. Again, if you have any issues completing any of those tasks, reset yourself back to <a class="link" href="#" linkend="ch01">chapter 1</a>, <span class="emphasis"><em>Introducing Game Audio with Unity</em></span>, please.
</li><li>Select the <code class="literal">Assets</code> folder in the <strong class="userinput"><code>Project</code></strong> window and right-click to open a context menu. From the menu, navigate to <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Folder</code></strong>. Rename the folder <code class="literal">Mixes</code>.</li><li>Right click (or <span class="emphasis"><em>control</em></span> + click on Mac) and then on the new <code class="literal">Mixes</code> folder. From the context menu, navigate to <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Audio Mixer</code></strong>. Name the new mix, <code class="literal">Master</code>, and then double click to open it in a new Audio Mixer window as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/bee2899e-56df-4773-9a73-ca7df46d6796.png" /></div><p>Audio Mixer window showing Master
</p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>The <strong class="userinput"><code>Audio Mixer</code></strong> window should line up with your <strong class="userinput"><code>Project</code></strong> window. If it doesn't, just drag it into place. We now have an empty <code class="literal">Master</code> or top mixer. By convention, we will use the word Master to refer to our root or top level mixer. Of <span>course</span> if you want to call your top level mixer something else later, that is entirely up to you.</li><li>Click on the plus icon on the same line as <strong class="userinput"><code>Groups</code></strong>. This will create a new child mixer of the <strong class="userinput"><code>Master</code></strong>. Rename the child <code class="literal">Music</code> as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/16fdc3e9-b0f3-4279-b33f-0f27eb5c32ad.png" /></div><p>Creating a child mixer group called Music
</p><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Locate and select the <strong class="userinput"><code>BackgroundMusic</code></strong> object in the <strong class="userinput"><code>Hierarchy</code></strong> window. From the <strong class="userinput"><code>Inspector</code></strong> window, expand the <strong class="userinput"><code>Audio Source</code></strong> component and then click on the target icon beside the <strong class="userinput"><code>Output</code></strong> setting. This will open the <strong class="userinput"><code>Select AudioMixerGroup</code></strong> dialog. Select the <strong class="userinput"><code>Music</code></strong> mixer group as shown in the <span>following</span> screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/1911885c-7a56-45d6-8c1d-5f858eda7a4b.png" /></div><p>Setting the Output for the Audio Source to the Music mixer group
</p><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Click the play button to run the scene. Press the <span class="emphasis"><em>Esc</em></span> key to unlock the mouse and then click on the <strong class="userinput"><code>Edi</code></strong><strong class="userinput"><code><strong class="userinput"><code>t</code></strong> in Play Mode</code></strong> button at the top of the <strong class="userinput"><code>Audio Mixer</code></strong> window. Adjust the slider on the <strong class="userinput"><code>Music</code></strong> group to <code class="literal">-21</code> as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/09515146-0c37-4257-99d2-c91d9ee0ed58.png" /></div><p>Adjusting mixing group volume during the play mode</p><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>After you make the adjustment, press play to stop the scene. Notice how you were able to control the music volume with the slider. You should also notice that after you exited the play mode, the change was still in place. This is different behavior from the general temporary editing you may perform during testing. Just be especially aware that any changes you make during the play mode in the Audio Mixer will be saved when you exit.</li><li>Feel free to run the scene again and change the slider back to your preference. Try changing the <strong class="userinput"><code>Master</code></strong> slider as well. When you are <span>done</span> setting the sliders, exit from the play mode.</li></ol></div><p>We now have a single group or layer in our <strong class="userinput"><code>Master</code></strong> mixer. In the next section, we will create the other layers/groups we defined in <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Introducing Game Audio with Unity</em></span>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="03lvl2sec19"></a>Creating mixer groups</h3></div></div></div><p>Before we <span>move</span> on to other features of the Audio Mixer, let's set up our additional audio layers or groups by following the exercise here:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Click on the <strong class="userinput"><code>Master</code></strong> node under the <strong class="userinput"><code>Groups</code></strong> list and then click on the plus icon again. This will create another child mixer. Rename this group <code class="literal">Direct</code>.</li><li>Follow the same procedure again to create another group called <code class="literal">Ambient</code>.</li><li>Do this yet again to create a last group called <code class="literal">Interface</code>.</li><li>Your <strong class="userinput"><code>Audio Mixer</code></strong> window should now look like the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/bf80d7df-9d9b-42a0-97f6-61aa7fd69409.png" /></div><p>Audio Mixer window with all layers/groups created</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note35"></a>Note</h3><p>In <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Introducing Game Audio with Unity</em></span>, we broke our audio into four layers: ambient, direct feedback, interface, and background music. As we mentioned before, this convention works well for us in this example. There may well be other times where it makes sense to break audio into different groups, perhaps by the location or area for instance. How you break up the audio for your scene or game is entirely at your discretion; do whatever works well for the situation at hand.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Locate the object in the <strong class="userinput"><code>Hierarchy</code></strong> window. Select the object in the window and then set both of the Audio Source component's output properties (throw and grunt) to the <strong class="userinput"><code>Direct</code></strong> mixer in the I<strong class="userinput"><code>nspector</code></strong> window.
</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip36"></a>Note</h3><p>You can quickly locate any Game Object or asset quickly by just typing the name into the window's search field. As you type, the window's contents will filter to match your search.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Locate the <strong class="userinput"><code>AxePrefab</code></strong> prefab in the <strong class="userinput"><code>Project</code></strong> window. Select the <strong class="userinput"><code>Prefab</code></strong> in the <span>window</span> and then set the <strong class="userinput"><code>Audio Source</code></strong> component's <strong class="userinput"><code>Output</code></strong> property to the <strong class="userinput"><code>Direct</code></strong> mixer in the <strong class="userinput"><code>Inspector</code></strong> window.</li><li>Locate the <code class="literal">Ambient_lake-shore-waves</code> object in the <strong class="userinput"><code>Hierarchy</code></strong> window. Select the object in the window and then set the <strong class="userinput"><code>Audio Source : Output</code></strong> property to the <strong class="userinput"><code>Ambient</code></strong> mixer in the <strong class="userinput"><code>Inspector</code></strong> window.</li><li>Finally, locate all the <code class="literal">prop_torch_01</code> objects in the <strong class="userinput"><code>Hierarchy</code></strong> window. From the menu, navigate to <strong class="userinput"><code>Edit</code></strong> | <strong class="userinput"><code>Select All,</code></strong> and select all the torches in the window. Then, in the <strong class="userinput"><code>Inspector</code></strong> window, set the <strong class="userinput"><code>Audio Source : Output</code></strong> property to the <strong class="userinput"><code>Ambient</code></strong> mixer.</li><li>After completing all that hard work, save your scene <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Save Scene</code></strong>. Then, click on the play button to run the scene. As the scene is running, click on the <strong class="userinput"><code>Edit in Play Mode</code></strong> button on the <strong class="userinput"><code>Audio Mixer</code></strong> window. Adjust the mixers to roughly match the settings in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/1093549e-c182-4cdf-9ea5-ca49b0fb7774.png" /></div><p>Audio Mixer settings adjustments by group (layer)</p><div class="orderedlist"><ol class="orderedlist arabic" start="10" type="1"><li>When you are done making changes, exit the play mode.</li></ol></div><p>After completing these exercises and organizing our scene audio into mixers, you should have a basic understanding of the Audio Mixer and how audio can be broken into groups and remixed.</p><p>In the next section, we will dig deeper into controlling the tone and shape of audio with effects.</p></div></div>