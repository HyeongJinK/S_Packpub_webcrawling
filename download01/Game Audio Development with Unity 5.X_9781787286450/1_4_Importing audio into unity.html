<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="01lvl1sec10"></a>Importing audio into unity</h2></div></div><hr /></div><p>Aside from <span>downloading</span> content from the Asset Store, there are a number of ways of introducing content into a Unity project. Most often, the simplest way of adding content to your project is placing the appropriate files into the relevant project folders. Unity is then smart enough to inspect the new files, provided the file type is supported by Unity, and determine the asset type to automatically import the content. Since there are a number of audio file types out there, let's take a look at the audio file format <span>Unity</span> currently supports in the following list:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">.wav</code> / <code class="literal">.aif</code>: Both of <span>these</span> formats <span>are</span> uncompressed, lossless formats, which <span>means</span> they are exact copies of the original audio. The <code class="literal">.aif</code> originated on the Mac, while <code class="literal">.wav</code> came from the PC. Now both formats are supported by either operating system.</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note8"></a>Note</h3><p>Compressing audio or other forms of media is done in order to reduce the file size for easy transport or download. Since media compression will cause a loss of quality to the media, the term lossy is used to denote a compressed media format. Whereas, lossless or no loss, denotes a media format with no compression and thus no loss in quality.</p></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">.mp3</code>: This is the most <span>common</span> compressed or lossy format for audio. This format became very popular for transferring/downloading music.</li><li style="list-style-type: disc"><code class="literal">.ogg</code>: This, also known as <span class="strong"><strong>Ogg Vorbis</strong></span>, was <span>developed</span> as a <span>patent</span> free alternative to mp3. The standard format is lossy but it can support lossless as well.</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note9"></a>Note</h3><p>Unity can also import tracker module formats such as impulse tracker (<code class="literal">.it</code>), scream tracker (<code class="literal">.s3m</code>), extended module file format (<code class="literal">.xm</code>), and the original module file format (<code class="literal">.mod</code>). We won't cover these file types until later, in <a class="link" href="#" linkend="ch10">Chapter 10</a>, <span class="emphasis"><em>Composing Music</em></span>.</p></div><p>Now that you have a <span>better</span> understanding of the <span>supported</span> audio files types, let's import a couple of files into our project in the following exercise here:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Before importing any content, we will create a new set of folders in the project. This will help us organize and find this content later. As you can see, by just taking a quick look through the <strong class="userinput"><code>Project</code></strong> window, a game project may contain numerous assets in multiple areas.</li><li>Right-click (c<span class="emphasis"><em>ontrol</em></span> + Click on Mac) on the root <code class="literal">Assets</code> folder in the <strong class="userinput"><code>Project</code></strong> window. Then, select <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Folder</code></strong> from the context menu.</li><li>A new folder will be created under the <code class="literal">Assets</code> folder with the cursor prompting for input. Name the new folder <code class="literal">Audio</code>.</li><li>Right-click (c<span class="emphasis"><em>ontrol</em></span> + Click on Mac) on the new <code class="literal">Audio</code> folder and select <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Folder</code></strong> from the context menu. Name the folder <code class="literal">Ambient</code> and your <strong class="userinput"><code>Project</code></strong> window now look like the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/55e468d7-84fe-4418-943e-d854e98694ad.png" /></div><p>New Audio and Ambient folders created in Project window</p><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Right-click [c<span class="emphasis"><em>ontrol</em></span> + Click on Mac] on the <code class="literal">Ambient</code> folder and select <strong class="userinput"><code>Show in Explorer</code></strong> from the context menu. This will open a file explorer on your desktop. Double-click on on the <code class="literal">Ambient</code> folder to open it; the folder should be empty.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Go to your desktop and open the books downloaded source code <code class="literal">Chapter_1_Audio</code> folder in another file explorer window. Drag the folders so that they are adjacent to each other and both visible. A sample screenshot is shown here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/4a32dbb5-996a-49c9-858e-e7f65e07345e.png" /></div><p>Ambient and source code folder: Chapter_1_Audio side by side
</p><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Drag and drop all the <span>files</span> from the <code class="literal">Chapter_1_Audio</code> folder into the <code class="literal">Ambient</code> folder. Then, switch back to the Unity editor. After a <span>couple</span> seconds, you should see the <code class="literal">Ambient</code> folder in the <strong class="userinput"><code>Project</code></strong> window update with the imported audio files, as shown here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/54fe4147-41cd-444c-8d67-da63ebc8ddba.png" /></div><p>Imported audio files showing in project folder
</p><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Select the <code class="literal">lake-shore-waves2.wav</code> audio clip in the folder and then divert your attention to the <strong class="userinput"><code>Inspector</code></strong> window. You should see something similar to what is shown here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/1f39fd2b-82dd-42a2-afbf-98739d4a93cc.png" /></div><p>Inspector window showing imported audio clip
</p><div class="orderedlist"><ol class="orderedlist arabic" start="9" type="1"><li>Click on the asset play button, as shown in the preceding screenshot, and enjoy the soothing sounds of waves hitting the lake shore. We will get into more details about what those other properties are in the next section.</li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="01lvl2sec12"></a>Inspecting the imported audio files</h3></div></div></div><p>Now that we have <span>imported</span> some new audio files into our project, let's take a more detailed look at how Unity handles them by following the exercise here:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Focus your attention to the bottom of the Inspector window showing the audio file import settings. The following is a labeled screenshot of the details we want to pay attention to:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/c2524f5a-b332-47bb-bab0-e0b9cfbe04d5.jpg" /></div><p>Examining the audio file details</p><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>The following is a definition of what each of those sections/terms mean:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Audio channels</strong></span>: This shows the various audio channels composed into the file. Unity can support up to eight channels of audio. The file we are showing has two channels in order to support stereo.</li><li style="list-style-type: disc"><span class="strong"><strong>Compression</strong></span>: Unity will automatically apply compression against imported audio files. Very often you will want to stay with the defaults, but we will look at ways of altering the compression method here. Vorbis, the compression type shown, is similar to mp3. The compression formats supported by Unity are: Vorbis, PCM, and ADPCM.
</li><li style="list-style-type: disc"><span class="strong"><strong>Sample rate</strong></span>: This represents the frequency at which the audio sample was recorded, displayed as the samples per second. Most audio will be recorded in the range of 44100 and 48000 Hz. Generally, the higher the sample rate, the better quality the audio will be and Unity supports up to 192000 Hz.</li><li style="list-style-type: disc"><span class="strong"><strong>Mono/Stereo</strong></span>: This stipulates if the audio will play in stereo or mono. This setting will be honored if a sound is played in 2D space. However, if the sound is played in 3D, this will change. We will explore 3D sound in more detail at the end of this chapter.</li><li style="list-style-type: disc"><span class="strong"><strong>Play time</strong></span>: This displays the minutes and seconds an audio file will play for.</li></ul></div></li><li>Now that we have those definitions under our belt, we will take a look at how to alter some of the import settings. Switch your attention to the top of the <strong class="userinput"><code>Inspector</code></strong> window as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/a7a5fc50-6ae3-4da6-85bd-979543a3ac8e.png" /></div><p>Inspector window audio import settings panel
</p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Since we will be importing a number of <span>audio</span> files into Unity, it is important we review each of these settings in more detail here:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Force To Mono</strong></span>: This setting allows you to force Unity to down sample the file into a single channel, which is useful for sounds be played in 3D or you just don't want to play in stereo.</li><li style="list-style-type: disc"><span class="strong"><strong>Normalize</strong></span>: This setting won't activate unless you force mono. Normalize refers to the down sampling process of converting a multichannel sound to a single channel. Normalize all the channels to be sampled at an equalized volume.</li><li style="list-style-type: disc"><span class="strong"><strong>Load In Background</strong></span>: This sets the clip to load in a background while the game is running. If you have a large audio file, you will certainly want to check this setting.</li><li style="list-style-type: disc"><span class="strong"><strong>Load Type</strong></span>: This tells Unity how to load the clip into memory and supports the following settings:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Decompress On Load</strong></span>: This works well for small to medium size files. The files will be decompressed into memory on load and not suffer any CPU performance when playing.</li><li style="list-style-type: disc"><span class="strong"><strong>Compress in memory</strong></span>: This is best for large files played less frequently. Files will need to be decompressed before playing but the savings in memory may make this a preferred option.</li><li style="list-style-type: disc"><span class="strong"><strong>Streaming</strong></span>: This plays the file directly from the disk. It is a great option for media played infrequently or memory management is an issue.</li></ul></div></li><li style="list-style-type: disc"><span class="strong"><strong>Preload Audio Data</strong></span>: By default, the audio clip will be loaded unless this option is unchecked. Again, this is another good option for less frequently played files.</li><li style="list-style-type: disc"><span class="strong"><strong>Compression Format</strong></span>: This is the format used to compress the clip and is dependent on the game build settings. The format will match one of the following settings:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>PCM</strong></span>: The pulse-code modulation is a format best used for smaller file sizes.</li><li style="list-style-type: disc"><span class="strong"><strong>ADPCM</strong></span>: This is the format best used for short sounds with a lot of noise such as footsteps and weapons.</li><li style="list-style-type: disc"><span class="strong"><strong>Vorbis/MP3</strong></span>: This is best used to compress larger files such as our sample file. The quality of compression can be set by the quality slider.</li><li style="list-style-type: disc"><span class="strong"><strong>HEVAG</strong></span>: This is similar to ADPCM.</li></ul></div></li><li style="list-style-type: disc"><span class="strong"><strong>Quality:</strong></span> This is a slider that allows you to downgrade the quality of a clip with the benefit of reducing the file size.</li><li style="list-style-type: disc"><span class="strong"><strong>Sample Rate Setting</strong></span>: This sets how the sample rate of the clip should be handled and will be one of the following:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Preserve Sample Rate</strong></span>: This prevents the sample rate from being modified.</li><li style="list-style-type: disc"><span class="strong"><strong>Optimize Sample Rate</strong></span>: This will select the highest rate sampled within the file and apply that.</li><li style="list-style-type: disc"><span class="strong"><strong>Override Sample Rate</strong></span>: This allows the sample rate of the file to be downgraded. This will generally reduce the audio quality but for some large files or specific audio effects this may be preferred. This setting can never be used to artificially increase the quality or sample rate of a clip.</li></ul></div></li><li style="list-style-type: disc"><span class="strong"><strong>Sample Rate</strong></span>: This value can only be changed if the Override Sample Rate setting was selected. Again, a sample can easily be downgraded to reduce the file size and quality but this setting cannot be used to upgrade a file beyond what it was originally recorded at.</li></ul></div></li><li>As you can see, there is a lot going on in this panel and initially it may be difficult to grasp all the terminology used. Fortunately, this panel is something we will come back to several times over the course of this book and you will get to become quite familiar with the terms and settings.</li></ol></div><p>Let's use some of that new knowledge to tweak the settings on that <code class="literal">torch.wav</code> file we just imported by conducting the following exercise:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Select the <code class="literal">torch.wav</code> file in the <strong class="userinput"><code>Project</code></strong> window <code class="literal">Assets/Audio/Ambient</code> folder.</li><li>In the Inspector window, check the <strong class="userinput"><code>Force To Mono</code></strong> setting. The torch clip will be used as a full 3D sound and does not need two channels or stereo. Be sure the <strong class="userinput"><code>Normalize</code></strong> box is also checked.</li><li>Click on the <strong class="userinput"><code>Apply</code></strong> button at the bottom of the panel. After a few seconds, this will apply the changes to the audio clip; Notice at the bottom of the Inspector window how the audio is now using only a single channel. Click on the play button to play the clip, you will most likely not hear much difference.</li><li>Click on the <strong class="userinput"><code>Sample Rate Setting</code></strong> drop down-list and select the <strong class="userinput"><code>Override Sample Rate</code></strong> option. Then, open the <strong class="userinput"><code>Sample Rate</code></strong> list and select <strong class="userinput"><code>22050 Hz</code></strong> from the list and then click on the <strong class="userinput"><code>Apply</code></strong> button. After the settings are applied, the preview clip should match the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/d2aee177-0e6b-464b-bac4-2874916cb131.png" /></div><p>Preview showing modified audio clip settings</p><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>The reason we <span>downgraded</span> the clip is to reduce some of the harsher tones. Feel free to downgrade or adjust the sample further to see the effects it has on the sound quality. Be sure to reset the clip to the settings shown in the preceding screenshot as we will be using this sound later in the chapter.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip10"></a>Note</h3><p>Downgrading the torch clip to balance the tones may not be an optimal solution in some cases and in fact there are many other ways of equalizing a clip, as we will see. However, optimizing a clip at the source, as we did here, will always be in your best interest. In fact, if your game becomes bogged down due to overuse of audio, one of the core solutions is to optimize the imported file settings first. Audio performance and optimization is something we will cover in more detail in <span><a class="link" href="#" linkend="ch11">Chapter 11</a>, <span class="emphasis"><em>Audio Performance and Troubleshooting</em></span></span>.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>After you are done editing the audio clip settings, select <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Save Project</code></strong> from the menu. This will save the project and allow us to close the editor now if we need to.</li></ol></div><p>That completes our introduction to importing audio content into Unity. In the next section, we will look at how these clips can be added to our village scene.</p></div></div>