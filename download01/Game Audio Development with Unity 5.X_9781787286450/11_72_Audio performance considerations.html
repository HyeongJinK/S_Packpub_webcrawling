<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="11lvl1sec68"></a>Audio performance considerations</h2></div></div><hr /></div><p>Before we dig into the details of <span>profiling</span> and tuning audio performance, we probably should go over the primary factors that determine an efficient audio system. When we talk about an audio system, we refer to all the components (Audio Source versus FMOD), resources (audio clips), mixes (Mixer versus FMOD), and effects. The major contributors to performance will be driven by the quality, size of resources, and/or the use of mixing and effects. Ultimately though, it all comes down to your chosen platform and the expected limitations of that platform. Since the type of platform is so important, we will consider those options first:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col /><col /><col /><col /></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Platform</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Performance benchmarks</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Considerations</strong></span></p></td><td style="border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Pitfalls</strong></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Desktop (Windows/Mac/Linux)</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>CPU:</strong></span> excellent</p><p><span class="strong"><strong>Memory:</strong></span> GB range</p><p><span class="strong"><strong>Disk space:</strong></span> GB range</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Less restrictive than other platforms, but may also be limited by other game systems such as physics or graphics</p></td><td style="border-bottom: 0.5pt solid ; "><p>Using high quality or too many resources and audio components</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Tablet (iOS, Android, and Windows)</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>CPU:</strong></span> good</p><p><span class="strong"><strong>Memory:</strong></span> MB to GB range</p><p><span class="strong"><strong>Disk space:</strong></span> MB to GB range</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>More restrictive than desktop due to lower memory and CPU.</p></td><td style="border-bottom: 0.5pt solid ; "><p>A tablet deployment may share the same footprint as a phone, unless targeted explicitly for the tablet</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Phone (iOS, Android, and Windows)</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>CPU:</strong></span> poor to good</p><p><span class="strong"><strong>Memory:</strong></span> MB range</p><p><span class="strong"><strong>Disk space:</strong></span> MB range</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Memory and disk space will often be a prime concern</p></td><td style="border-bottom: 0.5pt solid ; "><p>May require significant downgrading of the audio system if the game is targeted for multiple platforms.</p></td></tr><tr><td style="border-right: 0.5pt solid ; "><p>Web</p></td><td style="border-right: 0.5pt solid ; "><p><span class="strong"><strong>CPU:</strong></span> poor</p><p><span class="strong"><strong>Memory:</strong></span> MB range</p><p><span class="strong"><strong>Disk space:</strong></span> none</p></td><td style="border-right: 0.5pt solid ; "><p>At present this will be the most restrictive platform. You need to be especially careful of resource memory and streaming</p></td><td style=""><p>Unique restrictions on audio system make it best suited for single web target deployment</p></td></tr></tbody></table></div><p>Now, we don't have <span>time</span> to go into the specific details for profiling and tuning performance for each platform, but we will talk about the main factors. It will then be up to the reader to apply those tips to their target platforms. The following table breaks down the elements of an audio system and how they can affect performance:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col /><col /><col /><col /></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Element</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Performance Considerations</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Optimization</strong></span></p></td><td style="border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Notes</strong></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Audio sources or FMOD events</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Number of different audio sources in a scene</p></li><li style="list-style-type: disc"><p>Instantiation of game objects with audio components</p></li></ul></div></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Carefully manage the number of sources in a scene</p></td><td style="border-bottom: 0.5pt solid ; "><p>Object pooling is a good solution</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Resources (audio clips)</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">In game memory for each loaded audio clip</li><li style="list-style-type: disc">Loading time from the disk</li><li style="list-style-type: disc">Decompression impact on CPU</li></ul></div></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>*Optimize audio resources by type</p></td><td style="border-bottom: 0.5pt solid ; "><p>Unity defaults are poor and almost always need customization</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Mixes</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Impact on CPU performance</li></ul></div></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Not a significant impact on performance but need to be careful with hidden effects</p></td><td style="border-bottom: 0.5pt solid ; "><p>Be careful not to unintentionally replicate effects through groups or other levels of deep nested mixes</p></td></tr><tr><td style="border-right: 0.5pt solid ; "><p>Effects</p></td><td style="border-right: 0.5pt solid ; "><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Impact on the CPU</p></li><li style="list-style-type: disc"><p>Impact on memory</p></li></ul></div></td><td style="border-right: 0.5pt solid ; "><p>*Optimization through careful use or reuse of effects</p></td><td style=""><p>Easy to unintentionally replicate effects through mixing</p></td></tr></tbody></table></div><p>As identified in the preceding table by the asterisk(*), the two critical elements of a Unity audio system will generally come down to resources and use of effects. That isn't to say that you couldn't get yourself into trouble with the other elements as well. Yet, for our purposes, we will focus on optimization tips and tricks for resources and effects. In the next section, we will go over audio performance profiling with Unity.</p></div>