<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="06lvl1sec39"></a>Back to the basics</h2></div></div><hr /></div><p>As we already discussed, FMOD provides its own audio implementation within Unity. This means that we need to relearn the FMOD way of putting sound into our scene. While this may sound like we are starting over, that is far from the case. Although FMOD uses different components and terminologies, as we will see, the concepts are all the same.</p><p>Open up the Unity editor to the new project we created in the last section and let's get started working with importing the <span>Viking</span> Village asset into the new project by following the instructions here:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>From the menu, select <strong class="userinput"><code>Windows</code></strong> | <strong class="userinput"><code>Asset Store</code></strong>. After the store page loads, type <code class="literal">unity viking village</code> in the search box and enter to start searching for the example project. Select the first item from the list of results (as you did previously) and then from asset page, click on the <strong class="userinput"><code>Import</code></strong> button as shown in the screenshot here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/f5d77553-b1ee-4416-b4b6-035d728ed162.png" /></div><p>Importing the Unity Viking Village example project, again</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip94"></a>Note</h3><p>If you have jumped ahead to this chapter from earlier in the book or not completed any of the previous exercises, you may instead see a <strong class="userinput"><code>Download</code></strong> button. That is fine, just click on the <strong class="userinput"><code>Download</code></strong> button to download and import the asset.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>We won't go over step by step on importing the project as we already covered this in <a class="link" href="#" linkend="ch01">Chapter 1</a><span class="emphasis"><em>, Introducing Game Audio with Unity</em></span>. Just follow the steps as you did previously to import the asset into the new project. , this can take a while so stay hydrated and don't be afraid to grab some of your favorite beverage.</li><li>When the asset has completed loading, locate and then open the <strong class="userinput"><code>The_Viking_Village</code></strong> scene as shown in the screenshot here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/7fa88dd0-bc5c-40c1-ab0d-f8f8ed01f54f.png" /></div><p>Opening the The_Viking_Village scene</p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>From the menu, select <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Save Scene as</code></strong> and then save the scene with the name <code class="literal">Chapter_6_Start</code> in the <code class="literal">Scenes</code> folder. It is best to always make a copy of a scene you are modifying.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip95"></a>Note</h3><p>Remember you can easily locate anything in the various editor windows quickly by using the search field. Just start typing the name of your asset, scene, or script and the window will filter the contents to match your search.</p></div><p>Now, we have a <span>completely</span> fresh install of our Viking Village asset in our project we can get back to the FMOD integration pieces. First, we will open up FMOD Studio and take a bit of a tour on how to import audio and set up events by following the directions here:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Open up FMOD Studio and be sure that the <code class="literal"><strong class="userinput"><code>GameAudio_FMOD</code></strong></code> project is loaded by taking note of the software's title bar.</li><li>From the menu, select <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Import Audio Files</code></strong>. Use the <strong class="userinput"><code>Open</code></strong> dialog to locate and open the <code class="literal">Chapter_1_Audio</code> folder from the book's downloaded source code. Inside the folder, select the <code class="literal">torch.wav</code> and <code class="literal">lake-shore-waves2.wav</code> files to import them into the project. After the files are selected, click on <strong class="userinput"><code>Open</code></strong> to import them.</li><li>The files will quickly import and the <strong class="userinput"><code>Audio Bin</code></strong> window will open showing both files. Select the <code class="literal">torch.wav</code> file as shown in the screenshot here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/501a2792-91d5-42d1-a084-9e1659c2e75b.png" /></div><p>Audio assets imported into the FMOD projects Audio Bin
</p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Notice that the <span>information</span> is similar to what we seen in Unity after importing the same files. Close the <strong class="userinput"><code>Audio Bin</code></strong> window as we no longer need it. Back in Studio, select the <strong class="userinput"><code>Assets</code></strong> tab and then right-click [<span class="emphasis"><em>Ctrl</em></span> + click on Mac] on the <code class="literal">torch.wav</code> asset. From the context menu, select <strong class="userinput"><code>Create Event</code></strong> as shown in the screenshot here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/98882f49-09d3-4be8-9ea3-3adad2a6c630.png" /></div><p>Creating an Event from the torch asset</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note96"></a>Note</h3><p>FMOD uses the term Event to refer to what we would call in Unity an audio source and mixer group combined. It may seem strange after working with sources and groups, but as we will see, it actually simplifies things.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>You will then be <span>prompted</span> with the <strong class="userinput"><code>Create Event</code></strong> dialog asking you to choose between <strong class="userinput"><code>2D</code></strong> or <strong class="userinput"><code>3D</code></strong>. Select <strong class="userinput"><code>3D</code></strong> and then click on the <strong class="userinput"><code>Create</code></strong> button as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/764c3402-7bfc-4037-ba09-117e24a377f1.png" /></div><p>Creating an event</p><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>After the <strong class="userinput"><code>Create Event</code></strong> dialog closes, not much will appear to change. Select the <strong class="userinput"><code>Events</code></strong> tab and then select the new <strong class="userinput"><code>torch</code></strong> event in the list and the interface will now completely come alive as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/1d313dff-1760-4b54-9368-9d13aff2b0b7.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>First off, try not to <span>panic</span> or get overwhelmed. Sure, there is a lot of new stuff going on here, but as we will see, most of it will be similar to using the Unity Audio Mixer. As you can see, the major points of the interface have been labeled on the diagram and and a brief explanation for each is given here:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Events tab</strong></span>: This shows a list of the events that are defined for the project.</li><li style="list-style-type: disc"><span class="strong"><strong>Playback control</strong></span>: This allows you to play the event and monitor timing/beats and so forth.</li><li style="list-style-type: disc"><span class="strong"><strong>Event editor area</strong></span>: This allows you to horizontally edit the tracks or modules. The control area provides what separates FMOD Studio from the Unity Audio Mixer. We will spend a lot of time working in this window.</li></ul></div></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note97"></a>Note</h3><p>As a clarification, you will notice that the entire window in the preceding screenshot is showing is called the event editor. FMOD Studio uses a series of actual windows or sub-applications to control various phases of the audio editing process.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Overview window</strong></span>: As this sound is 3D, the interface provides a spatial overview window that allows you to move the listener.</li><li style="list-style-type: disc"><span class="strong"><strong>Deck</strong></span><span class="strong"><strong>region</strong></span>: This is named after the old mixing recorder used in the early days of audio editing. It is essentially like the Unity Inspector window view of a mixer group. This is where effects are added on the event or tracks.</li><li style="list-style-type: disc"><span class="strong"><strong>Master control</strong></span>: Just like the Unity mixer, this Event or group is controlled by a Master control.</li></ul></div></li><li>Next, right click [<span class="strong"><strong>Ctrl+Click</strong></span> on Mac] on the <code class="literal">torch</code> track in the <strong class="userinput"><code>Event</code></strong> window and from the context menu select <strong class="userinput"><code>New Loop Region</code></strong> as shown in the following screenshot:</li></ol></div><p><strong class="userinput"><code><div class="mediaobject"><img src="/graphics/9781787286450/graphics/5a391748-75d4-4f6c-86d3-3a6bfed1f46b.png" /></div></code></strong></p><p>Making the torch track loop</p><div class="orderedlist"><ol class="orderedlist arabic" start="10" type="1"><li>Click on the play button to play the <strong class="userinput"><code>Event</code></strong> and make sure the audio is looping. As the sound is looping, use your mouse to drag the pointer (listener) in the <strong class="userinput"><code>3D Preview</code></strong> around the area, notice how the sound changes to reflect the change in position. Next, change the <strong class="userinput"><code>Distance Attenuation</code></strong> in the <strong class="userinput"><code>3D Panner</code></strong> effect in the mixing window to the graph shown in the combined screenshot here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/cd3e73e4-4675-4596-9d44-335c6dac5acd.png" /></div><p>Setting the Distance Attenuation graph on the 3D Panner effect and 3D previewing</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip98"></a>Note</h3><p>If you are unable to see any effects, select the <strong class="userinput"><code>Master</code></strong> track (always the bottom track) in the Track region. The <strong class="userinput"><code>3D Panner</code></strong> effect is always applied to the <strong class="userinput"><code>Master</code></strong> track.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="11" type="1"><li>Feel free to play around with the controls until you get a distance attenuation you like. As you can see, this interface is much more visual and powerful than Unity's 3D settings controls. When you are done exploring, press the Stop button.</li><li>Right-click [<span class="emphasis"><em>Ctrl</em></span> + click on Mac] on the torch event in the Events tab, and from the context menu, select <strong class="userinput"><code>Assign to Bank</code></strong> | <strong class="userinput"><code>Master Bank</code></strong>. You will notice that the <strong class="userinput"><code>#unassigned</code></strong> tag has been removed from the event. Then, from the menu, select <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Build</code></strong>. This will build the project and we will be ready to integrate the audio into Unity.</li></ol></div><p>We now have created our first audio Event in FMOD Studio, and it is time to integrate that event in Unity to see how it sounds. Open up the Unity editor and return to the Viking Village scene and follow the instructions to wire up the audio:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>We are going to assign the <code class="literal">torch</code> event to all our torches just as we did previously. Enter <code class="literal">prop_torch</code> in the <strong class="userinput"><code>Hierarchy</code></strong> window search field, to filter down to just all the torches in the scene. Select all the torches in the scene using any method you prefer (<span class="emphasis"><em>Shift</em></span> or <span class="emphasis"><em>Ctrl</em></span> select).</li><li>In the <strong class="userinput"><code>Inspector</code></strong> window, click on the <strong class="userinput"><code>Add Component</code></strong> button. Type <code class="literal">fmod</code> in the search field and from the filtered list select <strong class="userinput"><code>FMOD Studio Event Emitter</code></strong> to add the component. On the new component, set the <strong class="userinput"><code>Play Event</code></strong> to be <strong class="userinput"><code>Object Start</code></strong> and then click on the search button to open the <strong class="userinput"><code>Event</code></strong> finder. Select the <strong class="userinput"><code>torch</code></strong> event and the component will expand to display other properties as shown in the screenshot here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/74a14402-0e9f-40d4-ad01-7dc09335f12c.png" /></div><p>FMOD Studio Event Emitter configured
</p><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Back in the <strong class="userinput"><code>Hierarchy</code></strong> window, enter <code class="literal">camera_high</code> in the search field to locate the <strong class="userinput"><code>Camera_high</code></strong> object. Select the object and add the <strong class="userinput"><code><span>FMOD</span> Studio Listener</code></strong> component to it from the <strong class="userinput"><code>Inspector</code></strong> window.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip99"></a>Note</h3><p>If you forget to add the <strong class="userinput"><code>Studio Listener</code></strong> component, you won't experience any spatial/3D characteristics, that you will still be able to hear the audio though.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Press play to run the scene. Move around the scene and pay attention to the sound of the torches. Do the torches sound better or worse? We will leave that up to you to decide. When you are done testing, stop the scene and save your changes.</li></ol></div><p>As mentioned, this certainly is a diversion from where we started in Unity. Hopefully though, as you progress through this chapter, you can appreciate the power of working with a full featured DAW such as FMOD Studio. In the next section, we will continue introducing the basics by covering effects and mixing.</p></div>