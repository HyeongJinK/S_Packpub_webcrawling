<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="02lvl1sec14"></a>Introduction to scripting in Unity</h2></div></div><hr /></div><p>In this section, our goal is to understand how <span>Unity</span> scripts integrate as components on top of GameObjects. If you recall from <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Introducing Game Audio in Unity,</em></span> all the functionality built into <span>Unity</span> is in the form of components and components are just scripts and code. Take a look at the following diagram, which should demonstrate the basic concepts of a <span class="strong"><strong>GameObject</strong></span> and <span class="strong"><strong>Component:</strong></span></p><div class="mediaobject"><img src="/graphics/9781787286450/graphics/c9265754-ce19-4637-9bde-0efe2d2fcf9b.jpg" /></div><p>A simplistic view of how components combine to create various game objects</p><p>As the diagram shows, all objects are derived from GameObject, which means, they all essentially share the same base level object. If you look at the bottom of the objects in the diagram, you will see a component called <code class="literal">MonoBehaviour</code> with <code class="literal">Transform</code>. As we will see, <code class="literal">MonoBehaviour</code> is the base component, that we will generally derive other components or scripts from.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note20"></a>Note</h3><p>Not all components have to be attached to a single GameObject. In fact, in most cases, a complex object will be made of multiple GameObjects with numerous components attached to each child GameObject.</p></div><p>Perhaps, it will be <span>helpful</span> if we took a look at what the basic structure of one of these <span>scripts</span> looks like, as follows:</p><div class="mediaobject"><img src="/graphics/9781787286450/graphics/ee6315ca-c901-4ed6-abc9-6157ab67e4a5.png" /></div><p>Screenshot from MonoDevelop showing framework of starting script</p><p>The preceding screenshot shows a starting Unity C# script in the MonoDevelop editor. It is the default scripting editor for Unity. We will see how to launch MonoDevelop or other script editors later, when we get our hands on scripting.</p><p>From the <code class="literal">Example.cs</code> script, you can see that there are four main sections in the starting script. At the top, we define any external libraries the script may need to import. The <code class="literal">UnityEngine</code> library, for instance, covers most of the core game engines functionality and will almost always be a requirement.</p><p>Next, we have the class definition. You can think of a class as a template or the blueprint of a component. As we mentioned before, a GameObject may use multiple components or scripts to describe its functionality. The naming syntax of <code class="literal">Example : MonoBehaviour</code> denotes that the class is called <code class="literal">Example</code> and it derives from <code class="literal">MonoBehaviour</code>. In most cases, your scripts will derive from <code class="literal">MonoBehaviour</code>.</p><p>After that, we have a couple of methods defined. One for carrying out object initialization (<code class="literal">Start</code>) and the other for running every frame (<code class="literal">Update</code>). There are several other methods Unity provides for interacting with the game engine but certainly the most common are <code class="literal">Start</code> and <code class="literal">Update</code>.</p><p>Let's carry out an <span>exercise</span> which should help demonstrate some of the <span>preceding</span> concepts further and get us prepared to write a simple script. Follow the instructions to get started:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Open up the Unity editor to the <code class="literal">GameAudioBasics</code> project we created in the last chapter or create a new project called <code class="literal"><span>GameAudioBasics</span></code>. If you are unsure on how to create a new project, you should refer back to <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Introducing Game Audio in Unity</em></span>.</li><li>Create a new scene by selecting <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>New Scene</code></strong> from the menu. If you are prompted to save the scene, then go ahead and do so.</li><li>The new scene should only have a <strong class="userinput"><code>Main Camera</code></strong> and <strong class="userinput"><code>Directional Light</code></strong>, as shown in the screenshot of the <strong class="userinput"><code>Hierarchy</code></strong> window as follows:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/833195ca-2b12-416e-a007-ddc42be55b7b.png" /></div><p>New scene contents</p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Create a new GameObject by selecting <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>Create New</code></strong> from the menu. Rename the new object <code class="literal">VirtualKeyboard</code> and reset the <strong class="userinput"><code>Transform Position</code></strong> to <code class="literal">0,0,0</code> as shown in the screenshot of the <strong class="userinput"><code>Inspector</code></strong> window here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/b1870664-bb22-4af7-84e4-8c55ebd76262.png" /></div><p>Setting Transform position to 0,0,0 or 0 Transform</p><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>At this point, if you <span>look</span> in the <strong class="userinput"><code>Scene</code></strong> or <strong class="userinput"><code>Game</code></strong> view, the new object will not be visible and that is expected. After all, the object is empty and does not <span>contain</span> any component to render a mesh.</li><li>Click on the <strong class="userinput"><code>Add Component</code></strong> button at the bottom of the <strong class="userinput"><code>Inspector</code></strong> window. Type <code class="literal">audio source</code> in the search textbox. This will filter the list to just show the <strong class="userinput"><code>Audio Source</code></strong> component. Select that component to add it to the object.</li><li>Click on the <strong class="userinput"><code>Add Component</code></strong> button at the bottom of the <strong class="userinput"><code>Inspector</code></strong> window, again. This time, type <code class="literal">New Script</code> in the search field. Select the arrow icon beside the <strong class="userinput"><code>New Script</code></strong> option to open the <strong class="userinput"><code>New Script</code></strong> panel as shown here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/0c061194-3851-4d0e-9f43-cc50870102db.png" /></div><p>Creating a new script called Keyboard</p><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Enter the name of <code class="literal">Keyboard</code> as shown in the preceding screenshot. When you are done editing, click on the <strong class="userinput"><code>Create and Add</code></strong> button at the bottom of the panel.</li><li>Click on the gear icon beside the new Keyboard component, and from the context menu, select the <strong class="userinput"><code>Edit Script</code></strong> option as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787286450/graphics/b2d3341d-e34d-424c-bd9e-85b3b342286d.png" /></div><p>Editing the Keyboard component script</p><div class="orderedlist"><ol class="orderedlist arabic" start="10" type="1"><li>If you are new to Unity, then MonoDevelop; the default script editor will open with the new Keyboard (script). This script, aside <span>from</span> the name, will resemble the example script we <span>already</span> saw earlier.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip21"></a>Note</h3><p>There are a number of different editors available for developing scripts in Unity. Visual Studio or Visual Studio Code are great editors that provide many additional features over MonoDevelop. For this book, we will continue to use MonoDevelop for the few exercises we will be carrying out scripting with. If you are working with more than a couple of scripts, you will certainly want to upgrade to a fully- featured editor.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="11" type="1"><li>Take a quick look around the MonoDevelop editor. The editor is like any other text editor you may have used before but with a number of added coding features. If you are new to scripting, don't be intimated. For the most part, we are only going to use this editor to write and edit a few lines of code.</li></ol></div><p>That completes our very brief introduction to Unity scripting. In the next section, we are going to get hands-on and write a script to control audio playback in an interesting manner.</p></div>