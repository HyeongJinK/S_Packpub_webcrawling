<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec43"></a>Coroutines</h2></div></div><hr /></div><p>When we call a function, it<a id="id332" class="indexterm"></a> runs to completion within a single frame. Therefore, we will create a function that makes an enemy ghost gradually disappear by doing the following:</p><div class="informalexample"><pre class="programlisting">function Fading()
{
  for (var f = 1.0; f &gt;= 0; f -= 0.1)
  {
    var colour = renderer.material.color;
    colour.alpha = f;
    renderer.material.color = colour;
  }
}</pre></div><p>The preceding code would not give us the result that we were after as is, because it will be completed within one frame. Thus, we will see the ghost enemy disappear instantly.</p><p>In order to see the ghost gradually disappear, we would need to see it fade over several frames. To achieve this, we let <code class="literal">yield</code> do the following:</p><div class="informalexample"><pre class="programlisting">function Fading()
{
  for (var f = 1.0; f &gt;= 0; f -= 0.1)
  {
    var colour = renderer.material.color;
    colour.alpha = f;
    renderer.material.color = colour;
    yield;
  }
}

function Update()
{
  if (Input.GetKeyDown("a"))
  {
    Fading();
  }
}</pre></div></div>