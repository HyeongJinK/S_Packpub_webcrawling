<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec61"></a>Randomly spawning enemies</h2></div></div><hr /></div><p>We are now <a id="id437" class="indexterm"></a>going to add enemies to the game. Let's do this by<a id="id438" class="indexterm"></a> executing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>To add the<a id="id439" class="indexterm"></a> enemy, we download and unzip the <code class="literal">DwarfSpriteSheet</code> file from the following URL:</p><p>
<a class="ulink" href="http://freeartsprites.com/roguelike/" target="_blank">http://freeartsprites.com/roguelike/</a>
</p><p>The Dwarf sprite sheet is shown in the following image:</p><div class="mediaobject"><img src="/graphics/9781783559046/graphics/9046OT_06_12.jpg" /></div></li><li><p>Slice<a id="id440" class="indexterm"></a> the sprite sheet and create an enemy <a id="id441" class="indexterm"></a>GameObject.</p></li><li><p>Name the GameObject <code class="literal">enemy</code>.</p></li><li><p>Add a Box Collider by going to <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Physics 2D</strong></span> | <span class="strong"><strong>Box Collider 2D</strong></span>.</p></li><li><p>Add a <span class="strong"><strong>Rigidbody 2D</strong></span> component to our enemy GameObject by going to <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Physics 2D</strong></span> | <span class="strong"><strong>Rigidbody 2D</strong></span>.</p></li><li><p>Create the enemy idle animation the same way we created the hero idle animation.</p></li><li><p>We spawn multiple enemies by creating instances of our enemy GameObject.</p></li><li><p>Add the following lines to our hero script:</p><div class="informalexample"><pre class="programlisting">var enemy:Rigidbody2D;

function enemySpawn()
{
var enemyInstance:Rigidbody2D;


  enemyInstance = Instantiate(enemy, Vector3(Random.Range(2, 8),Random.Range(-4, 4),0), Quaternion.Euler(new Vector3(0,0,0)));
  }</pre></div></li><li><p>Within <a id="id442" class="indexterm"></a>the <code class="literal">start()</code> function's braces, we add<a id="id443" class="indexterm"></a> the following line to call the function once at the very start of the game:</p><div class="informalexample"><pre class="programlisting">enemySpawn();</pre></div></li><li><p>Finally, we add the following line of script within the hero script outside of any functions:</p><div class="informalexample"><pre class="programlisting">InvokeRepeating("enemySpawn", 3, 3);</pre></div></li></ol></div><p>This is a built-in Unity method that will repeatedly call the function at the times we set, starting at three seconds after the game has started and then every three seconds after that.</p><p>When the function is called, it will create an enemy at a random <span class="emphasis"><em>x</em></span> and <span class="emphasis"><em>y</em></span> location within the ranges that we set <code class="literal">Random.Range(2, 8)</code> and <code class="literal">Random.Range(-4, 4)</code> respectively.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note59"></a>Note</h3><p>The preceding script will not work unless we assign a value to the enemy variable within the Unity Editor.</p><p>Refer to the <span class="emphasis"><em>Destroying the enemy</em></span> section in <a class="link" href="#" linkend="ch04">Chapter 4</a>, <span class="emphasis"><em>Code Control</em></span> on how to assign unassigned variables that we declare in the script within the Inspector in Unity.</p></div></div>