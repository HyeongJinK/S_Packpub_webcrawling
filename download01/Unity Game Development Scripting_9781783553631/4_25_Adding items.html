<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec29"></a>Adding items</h2></div></div><hr /></div><p>Now, we'll create<a id="id211" class="indexterm"></a> our first interaction with the inventory: adding items. This is probably the most important aspect of having an inventory. Why have an inventory that can't have items added to it?</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec57"></a>Let's figure this out</h3></div></div></div><p>Before we jump into the coding, let's take a moment and plan out how we want to add items to <a id="id212" class="indexterm"></a>our inventory. From the player's point of view, adding<a id="id213" class="indexterm"></a> items to their inventory is something as simple as placing the item in their bag, or walking into the object and having it appear in their inventory. What they do is similar to how we will add items. They see an empty slot in their inventory and then place their newly obtained item into that slot. We will be following a process similar to that within our code, creating an inventory system that allows the player to pick up items off the ground.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec58"></a>Creating the adding function</h3></div></div></div><p>Add the <a id="id214" class="indexterm"></a>following<a id="id215" class="indexterm"></a> function to your script, just below the <code class="literal">InitializeInventory</code> function:</p><div class="informalexample"><pre class="programlisting">void AddToInventory(int HowMany, GameObject NewItem)
{
  for(int i = 0; i &lt; invItems.Length; i++)
  {
    if(invItems[i].name != "Empty")
    {
      if(invItems[i].name == NewItem.name)
      {
        int val = itemCount[i].Value + HowMany;
        itemCount[i] = new KeyValuePair&lt;int, int&gt;(itemCount[i].Key, val);
      break
      };
    }
    else
    {
      int val = itemCount[i].Value + HowMany;
      invItems[i] = NewItem;
      items.Add(new KeyValuePair&lt;int, GameObject&gt;(i, NewItem));
      itemCount.Add(new KeyValuePair&lt;int, int&gt;(i, val));
      break;
    }
  }
}</pre></div><p>The first thing you'll notice is that our function takes in two variables, an <code class="literal">int</code> and a <code class="literal">GameObject</code> variables. The <code class="literal">int</code> variable<a id="id216" class="indexterm"></a> is the number of new items that we want to add to the inventory. The GameObject is the new item that we want to add to the inventory. Now, let's go over how exactly we are going to add items to the inventory.</p><p>We use a <code class="literal">for</code> loop to iterate through each item of our <code class="literal">invItems</code> array, since this is the array that is holding our inventory items. First, we check whether the name of current <code class="literal">invItem</code> is not empty. The only object that we'll be using with the name <code class="literal">"Empty"</code> is actually our <code class="literal">EmptyObject</code> variable, which is our placeholder object.</p><p>So if the current <code class="literal">invItem</code> isn't empty, we move on to check whether its name is equal to that of the new item's name. If it is, we create a new <code class="literal">int</code> variable named <code class="literal">val</code>. The <code class="literal">val</code> integer is assigned the total of the current <code class="literal">invItem</code> variable's value and the value of the new item we want to add. After we do this, we set the current <code class="literal">itemCount</code> value to <code class="literal">val</code> by assigning it a new <code class="literal">KeyValuePair</code> variable. The key is the current <code class="literal">itemCount</code> ID and the value is its amount. After this, we stop the <code class="literal">for</code> loop with <code class="literal">break</code>, so that we no longer iterate through our inventory.</p><p>If the current <code class="literal">invItem</code> variable is empty, we add the new GameObject to our inventory. We do this by creating the same <code class="literal">val</code> integer as we did recently for our amount, and assigning the value of the current <code class="literal">itemCount</code> value plus the amount of the item that we want to add. Then, we assign current <code class="literal">invItems</code> <code class="literal">GameObject</code> to <code class="literal">NewItem</code>, the GameObject passed into the function.</p><p>Next, we <a id="id217" class="indexterm"></a>add the new item to our items list by creating <a id="id218" class="indexterm"></a>a new <code class="literal">KeyValuePair</code> variable and assigning its key to the iterator and its value to <code class="literal">NewItem</code>. Finally, we add the new item's amount by adding it to the <code class="literal">itemCount</code> list. This is done by creating another new <code class="literal">KeyValuePair</code> variable. We assign the new <code class="literal">KeyValuePair</code> variable's key to the iterator and its value to the <code class="literal">val</code> variable.</p><p>With this, you now have the capability to add new items to your inventory. When adding the items, you can add as many as you want. If you want only one of the new items in the inventory, just set <code class="literal">HowMany</code> to <code class="literal">1</code>, and if you want to remove one, set it to <code class="literal">-1</code>.</p></div></div>