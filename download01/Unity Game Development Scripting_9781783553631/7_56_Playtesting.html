<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec57"></a>Playtesting</h2></div></div><hr /></div><p>First let's create <a id="id478" class="indexterm"></a>a test scene; create a new scene and name it <code class="literal">Saving and Loading Example</code>. Within this scene, you have Main Camera, which we will use as our player. We need two more GameObjects for our enemies. For the enemies, I created two boxes and placed them randomly in the scene. I've named one of them <code class="literal">Enemy1</code> and the other <code class="literal">Enemy2</code>. Here's what my scene looks like:</p><div class="mediaobject"><img src="/graphics/9781783553631/graphics/3631OT_07_03.jpg" /></div><p>Where you place the camera and enemy boxes doesn't matter. As long as you have multiple objects to be your enemies, your test scene will be fine. Next, we will add the scripts to Main Camera. First, we will add the <code class="literal">Flat_Save_System</code> script.</p><p>In the <span class="strong"><strong>SFile Name</strong></span> field, type in the name of the file that you want to write to. I've named mine <code class="literal">PlayerData.txt</code>. In the <span class="strong"><strong>SDirectory</strong></span> field, type the directory you want to save the file to for<a id="id479" class="indexterm"></a> the desktop type in <code class="literal">C:\Users\USERNAME\Desktop\</code>. Type your username on your computer in place of username. Finally, drag Main Camera into the slot next to <span class="strong"><strong>Player</strong></span>. Your inspector for that script should look something like the following screenshot.</p><div class="mediaobject"><img src="/graphics/9781783553631/graphics/3631OT_07_04.jpg" /></div><p>Now, we will add the <code class="literal">XML_Save_System</code> script to the camera; go ahead and drag it over to get started. In the <span class="strong"><strong>PFileName</strong></span> field, type in <code class="literal">C:\Users\USERNAME\Desktop\PlayerData.xml</code>. Do the same for the <span class="strong"><strong>EFileName</strong></span> field, except that you replace <code class="literal">PlayerData.xml</code> with <code class="literal">EnemyData.xml</code>. Drag main camera in the slot next to <span class="strong"><strong>Player</strong></span>. In the <span class="strong"><strong>Enemies</strong></span> dropdown, type in the number of enemies you have in your scene. Finally, drag your enemy GameObjects into your <code class="literal">Enemies</code> array. This is what my <span class="strong"><strong>Inspector</strong></span> menu looks like:</p><div class="mediaobject"><img src="/graphics/9781783553631/graphics/3631OT_07_05.jpg" /></div><p>Finally, drag<a id="id480" class="indexterm"></a> the <code class="literal">SaveHandler</code> script to Main Camera. We will now start testing. Click on the <span class="strong"><strong>Play</strong></span> button at the top, and once the scene has started, press the <span class="emphasis"><em>F1</em></span> key. Doing this will save the enemies' transform. Now click on the scene window, and move your enemy GameObject to a different location, rotate them, and change their size. Once you are done, press the <span class="emphasis"><em>F2</em></span> key. You will notice that the enemy GameObjects will return to their original transform.</p><p>Your XML file looks something like the next screenshot. Your XML file might have different values and possibly more enemies.</p><div class="mediaobject"><img src="/graphics/9781783553631/graphics/3631OT_07_06.jpg" /></div><p>To test <a id="id481" class="indexterm"></a>the flat file save system, open the <code class="literal">SaveHandler</code> script to <a id="id482" class="indexterm"></a>change a couple of values. In the <code class="literal">Update</code> function, where we check for input, instead of calling <code class="literal">SaveEnemies</code> and <code class="literal">LoadEnemies</code>, call <code class="literal">WriteToFile</code> and <code class="literal">ReadFile</code>. When you test the scene, again press <span class="emphasis"><em>F1</em></span> to save. On your desktop, you will see a new file called <code class="literal">PlayerData</code>; open it and you should see several lines with numbers. These numbers are the variables you saved from the game.</p><p>If you want to customize your flat file save type and not allow players to easily see or edit the data, change the extension. Instead of saving it as .<code class="literal">txt</code>, save it as <code class="literal">.save</code> or anything you want. If the player tries to open it, the computer won't know how to open the file, but the game will still be able to use it.</p></div>