<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec28"></a>Creating the inventory script</h2></div></div><hr /></div><p>For our<a id="id197" class="indexterm"></a> inventory, we'll only use one script, so let's get it started.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec53"></a>Creating and naming the script</h3></div></div></div><p>The first thing we <a id="id198" class="indexterm"></a>need to do is to create a new C# script and name<a id="id199" class="indexterm"></a> it <code class="literal">Inventory</code>. When you open the script, delete the <code class="literal">Start</code> and <code class="literal">Update</code> functions, leaving an empty class for us to use.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec54"></a>Adding the necessary variables</h3></div></div></div><p>First, add<a id="id200" class="indexterm"></a> this <code class="literal">using</code> statement where the<a id="id201" class="indexterm"></a> other <code class="literal">using</code> statements are. The <code class="literal">using</code> statement<a id="id202" class="indexterm"></a> will be needed so that we can use the <code class="literal">List</code> container variable:</p><div class="informalexample"><pre class="programlisting">using System.Collections.Generic;</pre></div><p>Now, let's add the variables we require and place them after the opening class defining bracket:</p><div class="informalexample"><pre class="programlisting">bool showInventory = false;
public Rect inventoryRect = new Rect(Screen.width / 2, Screen.height / 2, 400, 400);
public GameObject EmptyObject;
public int InventorySize = 9;
public GameObject[] invItems;
public GameObject[] QuickItems;

List&lt;KeyValuePair&lt;int, GameObject&gt;&gt; items = new List&lt;KeyValuePair&lt;int, GameObject&gt;&gt;();

List&lt;KeyValuePair&lt;int, int&gt;&gt; itemCount = new List&lt;KeyValuePair&lt;int, int&gt;&gt;();</pre></div><p>The <code class="literal">showInventory</code> variable will be used when we activate an input. This is how we determine when to and when not to show the inventory GUI. Next, we have a <code class="literal">Rectangle</code> variable, that we'll use<a id="id203" class="indexterm"></a> to determine where we put the inventory GUI and what size it should be. By default, we set the <span class="strong"><strong>X</strong></span> and <span class="strong"><strong>Y</strong></span> positions to the center of the screen.</p><p>Our next variable is a GameObject; in the <span class="strong"><strong>Inspector</strong></span> panel we will set this as an empty object. We'll be using the empty object in our inventory as a placeholder when there is no item to be placed there. The next variable, aptly named <code class="literal">InventorySize</code>, will determine the size of our inventory.</p><p>The next two variables are GameObject arrays. We use these to hold the actual GameObject items that we will hold in our Inventory. <code class="literal">InvItems</code> will hold the GameObjects that are in our inventory and <code class="literal">QuickItems</code> will hold the GameObjects that the player wants as their quick-items.</p><p>Lastly, we have two lists for our final variables. The first one will hold the GameObject items within our inventory; the list is made up of <code class="literal">KeyValuePairs</code>. The key will be the ID of our item and the value is a GameObject, which is the item in our inventory.</p><p>Our next<a id="id204" class="indexterm"></a> list is also made up of <code class="literal">KeyValuePairs</code> and both <a id="id205" class="indexterm"></a>the <code class="literal">Key</code> and <code class="literal">Value</code> are integers. The <code class="literal">Key</code> will be our ID that will match <code class="literal">itemCount</code> to the correct inventory item. The <code class="literal">Value</code> will be the actual number of items that we have.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec55"></a>Initializing our inventory</h3></div></div></div><p>Time<a id="id206" class="indexterm"></a> for our first function! This method will be used to create our inventory for the first time.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec56"></a>Creating the initializer</h3></div></div></div><p>Let's <a id="id207" class="indexterm"></a>create our initializer by adding the following<a id="id208" class="indexterm"></a> function to the script:</p><div class="informalexample"><pre class="programlisting">void InitializeInventory()
{
  invItems = new GameObject[InventorySize];
  for(int i = 0; i &lt; InventorySize; i++)
  {
    invItems[i] = EmptyObject;
    items.Add(new KeyValuePair&lt;int, GameObject&gt;(i, invItems[i]));
    itemCount.Add(new KeyValuePair&lt;int, int&gt;(i, 0));

    if(i &lt; QuickItems.Length)
      QuickItems[i] = invItems[i];
  }
}</pre></div><p>The first line within the new function sets the <code class="literal">invItems</code> array size to the <code class="literal">InventorySize</code> variable. Next, we have a <code class="literal">for</code> loop that will initialize the inventory. First, it sets each <code class="literal">invItem</code> value to our <code class="literal">EmptyObject</code> GameObject variable, which is our placeholder until we start adding items to the inventory.</p><p>Next, we add a new <code class="literal">KeyValuePair</code> variable to each slot within the items list. The key of the new <code class="literal">KeyValuePair</code> variable will be our iterator variable from the <code class="literal">for</code> loop. The value of the new <code class="literal">KeyValuePair</code> variable will be the GameObject within the <code class="literal">invItems</code> array that currently holds the spot that our iterator is valued at. This is so that the <code class="literal">invItems</code> array and items list are ordered in the same way.</p><p>After this, we add a new <code class="literal">KeyValuePair</code> variable to our <code class="literal">itemCount</code> list. The key is going to be set to our iterator variable as well and the value will be set to 0. This will ensure that every item in our inventory will have no value assigned to it, until we start adding items.</p><p>The last <a id="id209" class="indexterm"></a>two lines in our <code class="literal">for</code> loop will create our default<a id="id210" class="indexterm"></a> quick items. We use an <code class="literal">if</code> statement to check whether the value of our iterator is still less than the length of our <code class="literal">QuickItems</code> array. If it is, we set each <code class="literal">QuickItems</code> in the array to what is in our <code class="literal">invItems</code> array, which is our <code class="literal">EmptyObject</code> GameObject. To call this function, we'll put it within an <code class="literal">Awake</code> function, as follows:</p><div class="informalexample"><pre class="programlisting">void Awake()
{
  InitializeInventory();
}</pre></div><p>We have created our inventory. It's currently an empty inventory, but all the necessary containers have been created and assigned to default values. Since we used an iterator variable for all the keys and arrays, all the values in the containers coincide with each other. We also created and assigned our quick items to empty GameObjects, just as we did for our inventory.</p></div></div>