<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch10lvl1sec70"></a>Creating levels</h2></div></div><hr /></div><p>In the <a id="id587" class="indexterm"></a>game, there will be three playable levels and a main menu. The main menu will have three buttons on it: one to play the game, one for options, and a final one to exit the game.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec134"></a>The main menu</h3></div></div></div><p>Create a new <a id="id588" class="indexterm"></a>scene and name it <code class="literal">Main Menu</code>. Next, drag the <code class="literal">Audio_Config</code>, <code class="literal">Video_Config</code>, and <code class="literal">Config_GUI</code> scripts to the main camera. These will be used<a id="id589" class="indexterm"></a> for our <span class="strong"><strong>Options</strong></span> menu. Next, create a new C# script, name it <code class="literal">MainMenu</code>, and add this code to it:</p><div class="informalexample"><pre class="programlisting">void OnGUI()
{
  if(GetComponent&lt;Config_GUI&gt;().optionsGUI == false)
  {
    if(GUI.Button(new Rect(700, 400, 150, 50), "Play Game"))
      Application.LoadLevel("Chapter 10_a");
    if(GUI.Button(new Rect(700, 475, 150, 50), "Options"))
      GetComponent&lt;Config_GUI&gt;().optionsGUI = true;
    if(GUI.Button(new Rect(700, 550, 150, 50), "Quit Game"))
      Application.Quit();
  }
    
  GetComponent&lt;Config_GUI&gt;().OnGUI();
}</pre></div><p>For this<a id="id590" class="indexterm"></a> script, all that you will need is the <code class="literal">OnGUI</code> function. This code <a id="id591" class="indexterm"></a>will create a few buttons that will be used to either play the game, show the options menu, or exit the game. Save this script and drag it to the main camera as well. When you run the scene, you should be able to see buttons similar to the ones shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553631/graphics/3631OT_10_01.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec135"></a>The playable level</h3></div></div></div><p>We will create<a id="id592" class="indexterm"></a> the level that we will play in. We will start off with creating just one level; once we start playtesting, we will clone the scene to make them. To <a id="id593" class="indexterm"></a>make this simple, I'm using the scene from <a class="link" href="#" linkend="ch05">Chapter 5</a>, <span class="emphasis"><em>Enemy and Friendly AIs</em></span> and naming it <code class="literal">Chapter 10_a</code>. Doing this will give us a playable environment, as well as an enemy. Now, delete the main camera that is in the scene and drop in<a id="id594" class="indexterm"></a> <span class="strong"><strong>First Person Controller</strong></span>.</p><p>If you run the scene, you will see that the skeleton is tiny! This is because of its scale when it is imported to the engine. In the <code class="literal">SkeletonData</code> folder, click on the skeleton model. You will see the <span class="strong"><strong>Inspector</strong></span> window open with the imported model data. In the <span class="strong"><strong>Scale Factor</strong></span> property, change its value to <code class="literal">0.0225</code>; this should make the skeleton look bigger. This value is the one that I am using, but feel free to use any value that looks good to you and fits the scene.</p><p>Now we need to make a few GameObjects and prefabs. First, we will create a gun for our player. Drop a cube primitive and scale it into a skinny rectangle. Move it up to the camera and place it where a gun typically is in an FPS. In the <span class="strong"><strong>Hierarchy</strong></span> window, drag the <span class="strong"><strong>Gun</strong></span> object and drop it on the main camera; this will force the gun to rotate with the camera. This is what the gun looks like on my <span class="strong"><strong>First Person Controller</strong></span> object:</p><div class="mediaobject"><img src="/graphics/9781783553631/graphics/3631OT_10_02.jpg" /></div><p>Next, drop a sphere; you can leave it as is, but I have put a material on it with a red diffuse color. Now drop the <code class="literal">itemSelf</code> script on it. These are the values that I have given to it:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>First Person Controller on the player slot</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Amount</strong></span> is set to <code class="literal">25</code>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Value</strong></span> is set to <code class="literal">30</code>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Armor Amount</strong></span> is set to <code class="literal">0</code>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Weight</strong></span> is set to <code class="literal">1</code>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Name</strong></span> is set to <code class="literal">Potion</code>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Stat</strong></span> is set to <code class="literal">Health</code>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Self Action</strong></span> is set to <code class="literal">ChangeHP</code>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Self Type</strong></span> is set to <code class="literal">Potion</code>
</p></li></ul></div><p>Create a<a id="id595" class="indexterm"></a> new prefab and name it <code class="literal">Potion</code>; now drop the sphere that<a id="id596" class="indexterm"></a> you created on the prefab. You now have a prefab for health potions! Place two of these onto the map. Currently, you can't do anything with these potions, but later we will let the player pick them up.</p></div></div>