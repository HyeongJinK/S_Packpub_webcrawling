<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch10lvl1sec71"></a>Creating player interactions</h2></div></div><hr /></div><p>Here, we <a id="id597" class="indexterm"></a>will create ways for the player to interact with the game world. For our game, we will have the player shooting their gun, collecting potions, and pausing the game as interactions. Create a new C# script and name it <code class="literal">PlayerInteraction</code>. First, we will create a couple of variables and add them to our script:</p><div class="informalexample"><pre class="programlisting">public GameObject Projectile, Potion;</pre></div><p>The <code class="literal">Projectile</code> GameObject will be the bullets that we shoot and the <code class="literal">Potion</code> GameObject will be the potion prefab that we created earlier.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec136"></a>Shooting and pausing</h3></div></div></div><p>We will<a id="id598" class="indexterm"></a> create the functionality to shoot the gun and <a id="id599" class="indexterm"></a>pause the game. Add this <code class="literal">Update</code> function <a id="id600" class="indexterm"></a>to <a id="id601" class="indexterm"></a>your script:</p><div class="informalexample"><pre class="programlisting">void Update ()
{
if(Time.tmeScale != 0.00f)
{
  if(Input.GetButtonUp("Fire1"))
    Instantiate(Projectile, transform.position, transform.rotation);

  if(Input.GetButtonUp("Esc_Key"))
  {
    if(Time.timeScale != 0.00f)
      Time.timeScale = 0.00f;
    else
      Time.timeScale = 1.00f;
  }
}
}</pre></div><p>The <a id="id602" class="indexterm"></a>first <code class="literal">if</code> statement will allow the player to shoot the <a id="id603" class="indexterm"></a>projectile. To shoot it, we instantiate the <a id="id604" class="indexterm"></a>GameObject and the player's location and rotation. To let the player<a id="id605" class="indexterm"></a> pause the game, use an input that we created in <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Interactive Input</em></span>. Setting the <code class="literal">timeScale</code> object to <code class="literal">0</code> will pause any script that uses the <code class="literal">Update</code> function, and setting it to <code class="literal">1</code> will resume it.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec137"></a>Collecting potions</h3></div></div></div><p>To collect<a id="id606" class="indexterm"></a> potions, we will need to add a collision function, as <a id="id607" class="indexterm"></a>follows:</p><div class="informalexample"><pre class="programlisting">void OnTriggerEnter(Collider other)
{
  if(other.tag == "Potion")
  {
    GetComponent&lt;Inventory&gt;().AddToInventory(1, Potion);

    for(int i = 0; i &lt; GetComponent&lt;GUI_2D&gt;().Items.Count; i ++)
    {
      if(GetComponent&lt;GUI_2D&gt;().Items[i].name == "")
        GetComponent&lt;GUI_2D&gt;().Items[i] = Potion;
      break;
    }
    Destroy(other.gameObject);
  }
}</pre></div><p>To collect the potion, we check the trigger's tag to make sure it is the potion. Next, we add it to the inventory by calling the <code class="literal">AddToInventory</code> function of the <code class="literal">Inventory</code> component, which we will be adding later. Also, we add it to the GUI by calling the <code class="literal">Items</code> array from the <code class="literal">GUI_2D</code> component and assigning the potion. Finally, we destroy the <code class="literal">GameObject</code> potion in the game world so that the player can no longer get that potion.</p></div></div>