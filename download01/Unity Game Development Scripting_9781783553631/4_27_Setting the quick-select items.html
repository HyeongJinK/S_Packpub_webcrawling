<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec31"></a>Setting the quick-select items</h2></div></div><hr /></div><p>In many <a id="id228" class="indexterm"></a>games, there is a mechanism known as quick-items or quick-select items. These are items that the player uses often and wants to have access to very quickly without having to stop the game to go into their inventory. They are typically accessed by the number keys on the keyboard or the directional pad on a controller. We will add a small function into our inventory that will allow us to assign quick-items.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec61"></a>Setting the quick-select items quickly</h3></div></div></div><p>Add this <a id="id229" class="indexterm"></a>function to your script, under the <code class="literal">RemoveFromInventory</code> function:</p><div class="informalexample"><pre class="programlisting">void SetQuickItem(GameObject NewItem, int QuickInput)
{
  if(QuickItems[QuickInput].name != NewItem.name)
      if(QuickInput &lt; QuickItems.Length)
        QuickItems[QuickInput] = NewItem;
}</pre></div><p>This function takes in two variables, the GameObject that we want as the quick-item and the slot that we want to assign it to. In the actual function, we check whether the name of the <a id="id230" class="indexterm"></a>GameObject in the current <code class="literal">QuickItems</code> array is the same as the name of <code class="literal">NewItem</code>. If it is not same, then we will not do anything because the item is already in that quick-item slot. If it isn't, then we assign the <code class="literal">QuickItems</code> array slot, which is <code class="literal">QuickInput</code>, to the GameObject passed into the function.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec62"></a>Let's display the inventory</h3></div></div></div><p>Now<a id="id231" class="indexterm"></a> let's move on to the next important aspect of the<a id="id232" class="indexterm"></a> inventory, showing it to the player! To do this, we will use <code class="literal">GUILayout</code> and a GUI window.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec63"></a>Using our custom inputs</h3></div></div></div><p>To <a id="id233" class="indexterm"></a>access the inventory, we have set up a couple<a id="id234" class="indexterm"></a> of inputs for our player to use to view the inventory. Let's add an <code class="literal">Update</code> function along with some code that will show the inventory:</p><div class="informalexample"><pre class="programlisting">void Update()
{
  if(Input.GetButtonUp("I_Key") || Input.GetButtonUp("A_360"))
  {
    showInventory = (showInventory) ? false : true;
  }
}</pre></div><p>In <a id="id235" class="indexterm"></a>the <code class="literal">Update</code> function, we check whether the <code class="literal">"I_Key"</code> or <code class="literal">"A_360"</code> inputs are pressed. When one of the inputs is pressed, we switch the <code class="literal">showInventory</code> Boolean. When the <code class="literal">showInventory</code> Boolean is <code class="literal">true</code>, we show the inventory GUI to the player; if it is <code class="literal">false</code>, then we hide the inventory GUI.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec64"></a>Displaying the GUI</h3></div></div></div><p>Now let's <a id="id236" class="indexterm"></a>add the <code class="literal">OnGUI</code> function to the script, just<a id="id237" class="indexterm"></a> below the <code class="literal">Update</code> function:</p><div class="informalexample"><pre class="programlisting">void OnGUI()
{
  if(showInventory)
  {
    inventoryRect = GUI.Window(0, inventoryRect, InventoryGUI, "Inventory");
  }
}</pre></div><p>When the <code class="literal">showInventory</code> Boolean is <code class="literal">true</code>, we show the inventory GUI. We do this by setting our <code class="literal">inventoryRect</code> rectangle variable to a GUI window. The GUI window will show the<a id="id238" class="indexterm"></a> inventory window, as well as give it the<a id="id239" class="indexterm"></a> title <code class="literal">"Inventory"</code>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec65"></a>Running the GUI</h3></div></div></div><p>Now, to<a id="id240" class="indexterm"></a> run the window, we need a function that will <a id="id241" class="indexterm"></a>show the contents of the GUI window. Add the following function to your script, under the <code class="literal">OnGUI</code> function:</p><div class="informalexample"><pre class="programlisting">void InventoryGUI(int ID)
{
  GUILayout.BeginArea(new Rect(0, 50, 400, 350));

  GUILayout.BeginHorizontal();
  GUILayout.Button(itemCount[0].Value.ToString() + " " + invItems[0].name, GUILayout.Height(75));
  GUILayout.Button(itemCount[1].Value.ToString() + " " + invItems[1].name, GUILayout.Height(75));
  GUILayout.Button(itemCount[2].Value.ToString() + " " + invItems[2].name, GUILayout.Height(75));
  GUILayout.EndHorizontal();
    
  GUILayout.BeginHorizontal();
  GUILayout.Button(itemCount[3].Value.ToString() + " " + invItems[3].name, GUILayout.Height(75));
  GUILayout.Button(itemCount[4].Value.ToString() + " " + invItems[4].name, GUILayout.Height(75));
  GUILayout.Button(itemCount[5].Value.ToString() + " " + invItems[5].name, GUILayout.Height(75));
  GUILayout.EndHorizontal();
    
  GUILayout.BeginHorizontal();
  GUILayout.Button(itemCount[6].Value.ToString() + " " + invItems[6].name, GUILayout.Height(75));
  GUILayout.Button(itemCount[7].Value.ToString() + " " + invItems[7].name, GUILayout.Height(75));
  GUILayout.Button(itemCount[8].Value.ToString() + " " + invItems[8].name, GUILayout.Height(75));
  GUILayout.EndHorizontal();
    
  GUILayout.BeginHorizontal();
  GUILayout.Button(QuickItems[0].name, GUILayout.Height(50));
  GUILayout.Button(QuickItems[1].name, GUILayout.Height(50));
  GUILayout.EndHorizontal();

  GUILayout.BeginHorizontal();
  GUILayout.Button(QuickItems[2].name, GUILayout.Height(50));
  GUILayout.Button(QuickItems[3].name, GUILayout.Height(50));
  GUILayout.EndHorizontal();

  GUILayout.EndArea();
}</pre></div><p>To start<a id="id242" class="indexterm"></a> off, we access <code class="literal">GUILayout</code> and use <code class="literal">BeginArea</code>. This<a id="id243" class="indexterm"></a> is a useful tool to have a contained area to work with. The next<a id="id244" class="indexterm"></a> step is to activate the <code class="literal">BeginHorizontal</code> function within <code class="literal">GUILayout</code>, which ensures that everything we put on the GUI is in an even, horizontal line. After this, we create <code class="literal">GUILayout</code> buttons, one for each slot in our inventory. We set the text of the button to the amount and name of an item within the inventory, then we set the height of the button.</p><p>We do this a few times to show all of our inventory items on screen in three different rows. After this, we do the same thing for <code class="literal">QuickItems</code>, except with two rows of two items. Now, the player can see their inventory by clicking on one of our custom inputs.</p></div></div>