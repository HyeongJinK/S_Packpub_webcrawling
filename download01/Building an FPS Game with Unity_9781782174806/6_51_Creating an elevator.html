<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec52"></a>Creating an elevator</h2></div></div><hr /></div><p>Continuing with what you<a id="id445" class="indexterm"></a> learned from the previous section, we can take animations to another level by making moving platforms. However, UFPS comes with its own built-in way of doing this.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>From the <span class="strong"><strong>Project</strong></span> tab, open the <code class="literal">Chapter 6_3_ElevatorStart</code> level. This will give us a simple starting point to create an elevator.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_06_17.jpg" /></div><p>Alternatively, use <a id="id446" class="indexterm"></a>a level that we created previously and add an elevator to it.</p></li><li><p>From Prototype, create a cube by pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>K</em></span>. Move it to ground level in a 3 x 3 x 1 size cube.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_06_18.jpg" /></div></li><li><p>Go to the <span class="strong"><strong>Object</strong></span><a id="id447" class="indexterm"></a> editing mode and set <span class="strong"><strong>Vertex Color</strong></span> to <span class="strong"><strong>Grab</strong></span> to make it easy for us to see.</p></li><li><p>Rename the object to <code class="literal">Platform01</code>. Finally, from the <span class="strong"><strong>Prototype</strong></span> tab, click on the <span class="strong"><strong>Set Mover</strong></span> button to make the object a mover.</p></li><li><p>Create a new game object by going to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Empty</strong></span>. Name this new object <code class="literal">Platform01Path</code>.</p></li><li><p>Create a duplicate of our <code class="literal">Platform01</code> object by selecting it from the <span class="strong"><strong>Hierarchy </strong></span>tab and pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span>. Rename this object to <code class="literal">01</code> and make it a child of <code class="literal">Platform01Path</code>.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_06_19.jpg" /></div></li><li><p>Next, duplicate <a id="id448" class="indexterm"></a>the <code class="literal">01</code> object and move it up till it faces the point where we want the elevator to go.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_06_20.jpg" /></div></li><li><p>Now, select the<a id="id449" class="indexterm"></a> original <code class="literal">Platform01</code> object and add a <span class="strong"><strong>Vp_MovingPlatform</strong></span> component to it.</p></li><li><p>Once added, from the <span class="strong"><strong>Inspector</strong></span>, expand the<span class="strong"><strong> Path</strong></span> property and assign the <code class="literal">Platform01Path</code> object to the <span class="strong"><strong>Waypoints</strong></span> property.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_06_21.jpg" /></div></li><li><p>Finally, we need<a id="id450" class="indexterm"></a> to have the path waypoints to not be visible when the game is playing, so select both objects in the path (01 and 02) and then from the<span class="strong"><strong> Prototype </strong></span>tab click on <span class="strong"><strong>Set Trigger</strong></span>. We don't need the <span class="strong"><strong>Mesh Colliders</strong></span> though, so go ahead and remove them by right clicking on them and selecting <span class="strong"><strong>Remove Component</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_06_22.jpg" /></div><p>If we play the<a id="id451" class="indexterm"></a> game now, the elevator should move up and down continuously. This is great, but there are some additional properties we can set to have the elevator react to our player, such as the paths we could have the object go.</p></li><li><p>From the <span class="strong"><strong>Vp_Moving Platform</strong></span> component, change <span class="strong"><strong>Type</strong></span> to <code class="literal">Target</code>. This mode will have the platform start off still and then move when the player stands on it. We also have some additional parameters we can change. Set <span class="strong"><strong>Return Delay</strong></span> and <span class="strong"><strong>Cooldown</strong></span> to <code class="literal">1</code>.</p><p>
<span class="strong"><strong>Return Delay</strong></span> is the duration the platform will wait at the destination before it goes back. The <span class="strong"><strong>Cooldown</strong></span> property is how long the platform will stay at the end of its animation before going back.</p></li><li><p>Save your level and start the game.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_06_23.jpg" /></div></li></ol></div><p>Now, our new moving<a id="id452" class="indexterm"></a> elevator platform will work in a much more player-friendly way. We have exactly what we're looking for!</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note68"></a>Note</h3><p>For more information on moving <a id="id453" class="indexterm"></a>platforms and their paths, check out the UFPS' documentation at <a class="ulink" href="http://www.visionpunk.com/hub/assets/ufps/manual/platforms" target="_blank">http://www.visionpunk.com/hub/assets/ufps/manual/platforms</a>.</p></div></div>