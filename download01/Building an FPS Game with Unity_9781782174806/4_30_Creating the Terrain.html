<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec33"></a>Creating the Terrain</h2></div></div><hr /></div><p>In Unity, the <a id="id179" class="indexterm"></a>best tool to use to create a natural landscape is the terrain tool. Unity's terrain system allows us to sculpt and shape the landscape<a id="id180" class="indexterm"></a> of our level. This tool is frequently used to create outdoor environments, because the ground is never completely flat in nature. This tool will help the artist create organic and asymmetrical details as well as a realistic ground plane for your player to walk on. After the Terrain is sculpted and formed, we can complete our environment by adding in bushes, trees, and fading materials.</p><p>To see how easy it is to use the tool, let's get started with creating the Terrain:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>First, let's create a new scene from scratch by going to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New Scene</strong></span>.</p></li><li><p>Next, we need to actually create the Terrain we'll be placing for the world. Let's first create a Terrain by selecting <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>3D Object</strong></span> | <span class="strong"><strong>Terrain</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_04_03.jpg" /></div><p>At this point, you should see the Terrain.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note37"></a>Note</h3><p>If for some reason you have problems seeing the Terrain object, go to the <span class="strong"><strong>Hierarchy</strong></span> tab and double-click on the terrain object to focus your camera on it and move in as needed.</p></div><p>Right now, it's just a flat plane, but we'll be doing a lot to it to make it shine. If you <a id="id181" class="indexterm"></a>look to the right with <a id="id182" class="indexterm"></a>the terrain object selected, you'll see the Terrain editing tools that do the following (from left to right):</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Raise/Lower height</strong></span>: This <a id="id183" class="indexterm"></a>will allow us to raise or lower the height of our Terrain in a certain radius to create hills, rivers, and more.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Paint height</strong></span>: If<a id="id184" class="indexterm"></a> you already know the exact height a part of your Terrain needs to be, this tool will allow you to paint a spot at that location.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Smooth height</strong></span>: Averages<a id="id185" class="indexterm"></a> the area that it is in and attempts to smoothen the areas and reduce the appearance of abrupt changes.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Paint texture</strong></span>: Allows<a id="id186" class="indexterm"></a> us to add textures to the surface of our Terrain. One of its nice features is the ability to lay multiple textures on top of each other.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Place trees</strong></span>: Allows<a id="id187" class="indexterm"></a> us to paint objects in our environment that will appear on the surface. Unity attempts to optimize these objects by billboarding distant trees, so we can have dense forests without having a horrible frame rate.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Paint details</strong></span>: In <a id="id188" class="indexterm"></a>addition to trees, you can also have small things such as rocks or grass covering the surface of your environment by using 2D images to represent individual clumps and using a bit of randomization to make it appear more natural.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Terrain settings</strong></span>: Settings<a id="id189" class="indexterm"></a> that will affect the overall properties of the particular Terrain; options such as the size of the Terrain and wind can be found here.</p></li></ul></div><p>By default, the entire Terrain is set to be at the bottom. But we want to have ground above and below us, so we can add in things such as lakes.</p></li><li><p>With the Terrain object selected, click on the second button to the left of the Terrain component (the Paint height mode).</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_04_30.jpg" /></div></li><li><p>From there, set the <span class="strong"><strong>Height</strong></span> value under <span class="strong"><strong>Settings</strong></span> to <code class="literal">100</code> and then press the <span class="strong"><strong>Flatten</strong></span> button. At this point, you should see the plane moving up, so now everything is above ground level by default.</p></li><li><p>Next, we are <a id="id190" class="indexterm"></a>going to create some interesting shapes in our world with some hills by painting on the surface. With the Terrain object selected, click on the first button to the left of our Terrain component (the <span class="strong"><strong>Raise/Lower Terrain</strong></span> mode). Once this is completed, you should see a number of different brushes and shapes that you can select from.</p><p>Our use of Terrain is to create hills in the background of our scene, so it does not seem like the world is completely flat.</p></li><li><p>Under <span class="strong"><strong>Settings</strong></span>, change the <span class="strong"><strong>Brush Size</strong></span> and <span class="strong"><strong>Opacity</strong></span> value of your brush to <code class="literal">100</code> and click around the edges of the world to create some hills. You can increase the height of the current hills by clicking on the top of the previous hills.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_04_04.jpg" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note38"></a>Note</h3><p>While creating hills, it's a good idea to look at them from multiple angles, so you can make sure that none are too high or too short. Generally, having tall hills around the outside of the Terrain prevents the player from seeing where the Terrain cuts off, which is a good thing.</p><p>In the <span class="strong"><strong>Scene</strong></span> view, to move your camera around, you can use the toolbar at the top-right or right-click and drag the mouse in the direction you want the camera to move in, pressing the <a id="id191" class="indexterm"></a>
<span class="strong"><strong>WASD</strong></span> keys to pan. In addition, you can hold down the middle button and drag the mouse to move the camera around. The mouse wheel can be scrolled to zoom in and out from where the camera is.</p><p>Even though you should plan the level ahead of time on something like a graph paper to plan encounters and so on, you should avoid making the level entirely from above, as when the player is actually in the game, they will not see it that way at all (most likely). Referencing the map from the same perspective of your character will help ensure that the map looks great.</p><p>To see many different angles at the same time, you can use a layout with multiple views of the scene such as <span class="emphasis"><em>4 Split</em></span>, which you can go to by clicking on the <span class="strong"><strong>Layout</strong></span> dropdown menu at the top-right of the screen and then selecting it.</p></div></li><li><p>Of course, we <a id="id192" class="indexterm"></a>should see how the Terrain looks in the game with our player first. So, we select the <span class="strong"><strong>Main Camera</strong></span> object in our <span class="strong"><strong>Hierarchy</strong></span> tab and delete it by pressing the <span class="emphasis"><em>Delete </em></span>key.</p></li><li><p>Go to the <code class="literal">UFPS/Base/Content/Prefabs/Players</code> folder and drag and drop an <span class="strong"><strong>Advanced Player</strong></span> prefab into our world. Place it into the scene and then select it to ensure that the collider is above the Terrain to avoid collision problems, causing the player to fall through the map. Now, if you play the game, you'll get a good view as to how the level currently looks.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_04_05.jpg" /></div></li><li><p>Once our<a id="id193" class="indexterm"></a> land is ready, we can create some holes in the ground to fill water in later. This will provide a natural barrier in our world that players will know they cannot pass.</p></li><li><p>To do this, we first need to go back to the <span class="strong"><strong>Raise/Lower Terrain</strong></span> mode. We then create a moat by changing the <span class="strong"><strong>Brush Size</strong></span> value to <code class="literal">50</code> and then holding down the <span class="emphasis"><em>Shift </em></span>key and clicking around the middle of our texture. In this case, it's okay to use the top view; remember that this will eventually be water to fill in the lakes, rivers, and so on.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_04_06.jpg" /></div></li></ol></div><p>To make it easier <a id="id194" class="indexterm"></a>to see, you can click on the sun-looking light icon in the <span class="strong"><strong>Scene</strong></span> tab to disable the lighting's settings for the time being. Alternatively, if you'd still like to see shadows, you can select the <span class="strong"><strong>Directional Light</strong></span> object in the <span class="strong"><strong>Hierarchy</strong></span> tab and decrease the light's intensity by about 25%.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note39"></a>Note</h3><p>At this point, in a traditional studio, you'd spend time playtesting the level and iterating on it before an artist or you took the time to make it look great. However, in this case, we want to create a finished project as soon as possible. While designing your own games, be sure to play your level and have others play your level before you polish it.</p><p>For more information on greyboxing, check out <a class="ulink" href="http://www.worldofleveldesign.com/categories/level_design_tutorials/art_of_blocking_in_your_map.php" target="_blank">http://www.worldofleveldesign.com/categories/level_design_tutorials/art_of_blocking_in_your_map.php</a>.</p><p>If you are interested in checking out how a level is built in greybox from start to finish, check out this article from PC Gamer, which has images of each step, at <a class="ulink" href="http://www.pcgamer.com/building-crown-part-one-the-first-look-at-the-next-big-counter-strike-go-competitive-map/" target="_blank">http://www.pcgamer.com/building-crown-part-one-the-first-look-at-the-next-big-counter-strike-go-competitive-map/</a>. The whole thing is worth a read.</p></div></div>