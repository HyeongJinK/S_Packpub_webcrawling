<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec43"></a>Integrating an AI system – Shooter AI</h2></div></div><hr /></div><p>As mentioned in the previous section, there is another tool called Shooter AI, which is currently available at the<a id="id320" class="indexterm"></a> Asset Store. However, unlike the base RAIN program, it is not free and will require a purchase. However, it is the <a id="id321" class="indexterm"></a>simpler of the two to set up and also uses Unity's own NavMesh system instead of RAIN's proprietary version. Keeping this in mind, let's create a ranged enemy to shoot at us.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note57"></a>Note</h3><p>As of this writing, there is talk of AI Shooter being replaced by another AI System called Paragon Shooter AI.</p><p>Most of the content regarding the AI system should work similarly to what's described here. For more information on that check out: <a class="ulink" href="http://forum.unity3d.com/threads/paragon-ai-first-third-person-shooter-ai.305971/" target="_blank">http://forum.unity3d.com/threads/paragon-ai-first-third-person-shooter-ai.305971/</a>.</p></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>To download Shooter AI, we'll use the Asset Store again. In order to do this, navigate to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Asset Store</strong></span>.</p></li><li><p>In the top-right corner, you'll see a search bar. Type in <code class="literal">Shooter AI</code> and press <span class="emphasis"><em>Enter</em></span>. Once you do this, the first asset you'll see is <span class="strong"><strong>Shooter AI – the AI solution for ANY combat situation</strong></span>. Left-click on it, and then once you've purchased the asset, click on the <span class="strong"><strong>Download</strong></span> button and accept the license agreement.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_05_09.jpg" /></div></li><li><p>Once it <a id="id322" class="indexterm"></a>finishes downloading, you should see the Importing Package dialogue <a id="id323" class="indexterm"></a>box pop up. (If it doesn't, click on the <span class="strong"><strong>Import</strong></span> button where the Download button used to be):</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_05_10.jpg" /></div></li><li><p>Click on the <span class="strong"><strong>Import</strong></span> button to place all the packages into our project and wait for it to<a id="id324" class="indexterm"></a> finish importing into the project.</p></li><li><p>Close <a id="id325" class="indexterm"></a>the Asset Store if it's still open, go back into our game view, and you will notice the new <span class="strong"><strong>Shooter AI</strong></span> folder placed in the <span class="strong"><strong>Assets</strong></span> folder. Double-click on it and then enter the<span class="strong"><strong> Prefabs</strong></span> folder.</p></li><li><p>Now, Shooter AI contains a lot of new things for us to work with, the first of which is a new demo map and prefabs for enemies. To take a look at the new demo level, go to the <span class="strong"><strong>Project</strong></span> tab. Then, go to the <code class="literal">ShooterAI/Scenes/Demo Scene</code> folder and click on <code class="literal">Shooter AI Demo.unity</code>.</p></li><li><p>Upon opening the map, you should be able to click on <span class="strong"><strong>Play</strong></span> and watch a team versus team combat.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_05_11.jpg" /></div><p>Pretty cool, huh? Once this is done, we'll know that Shooter AI is installed properly.</p></li><li><p>To get started working with Shooter AI, we're going to place our player into this level and get the soldier to work as an enemy for us. This level contains two <a id="id326" class="indexterm"></a>objects in <span class="strong"><strong>Hierarchy</strong></span>: <code class="literal">Team 1</code> and <code class="literal">Team 2</code>. Disable <code class="literal">Team 2</code> completely by checking off the checkmark beside the object's <a id="id327" class="indexterm"></a>name. Also, deactivate all but one of the soldiers from <code class="literal">Team 1</code>. Double-click on the enabled object to zoom into him.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_05_12.jpg" /></div></li><li><p>Now, we <a id="id328" class="indexterm"></a>need to customize the solder to actually work with UFPS. To do so, select the <code class="literal">Solder T1</code> object, select the <span class="strong"><strong>Gateway Games Brain</strong></span> component, and open the <span class="strong"><strong>Enemy Data</strong></span> variable. Under <span class="strong"><strong>Tag of Enemy:</strong></span>, select <span class="strong"><strong>Player</strong></span>.</p></li><li><p>After this, we will want to add our player into this map. Then, go to <code class="literal">UFPS/Base/Content/Prefabs/Players</code> and drag and drop the <code class="literal">AdvancedPlayer</code> prefab into the level away from the enemy.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_05_13.jpg" /></div><p>These <a id="id329" class="indexterm"></a>are a great first few steps. If we play the game now, the player can walk around and can damage the enemy… but when the enemy attacks back, it does not damage us! To fix this we will need to modify how damage is done by the Shooter AI.</p></li><li><p>Open<a id="id330" class="indexterm"></a> the <code class="literal">Soldier T1</code> children and select the <code class="literal">MainWeapon(Clone)</code> object, and then in <span class="strong"><strong>Inspector</strong></span> under the <span class="strong"><strong>Gateway Games Weapon</strong></span> component, scroll down and change the <span class="strong"><strong>Damage Model</strong></span> property to <span class="strong"><strong>Global</strong></span>.</p><p>The reason we have chosen <span class="strong"><strong>Global</strong></span> is that UFPS does damage to enemies no matter where you hit the object; Shooter AI by default will do more damage if you hit the head instead of the body, but UFPS doesn't support this by default.</p></li><li><p>Now that we have enemies ready to be used in our project, let's create a prefab of our own that we can use in our own levels. Select our Soldier object and navigate to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Break Prefab Instance</strong></span>. After this, rename it to <code class="literal">UFPS_Enemy</code> so we know that it's to be used with our system. Then, open<a id="id331" class="indexterm"></a> up<a id="id332" class="indexterm"></a> the <code class="literal">MyGame/Prefabs</code> folder and drag and drop the <code class="literal">UFPS_Enemy</code> object there.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_05_14.jpg" /></div></li><li><p>Lastly, save your level and play the project!</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_05_15.jpg" /></div><p>This is now starting to look really nice! We have an enemy that is ready to be used inside our actual game!</p></li><li><p>Now to <a id="id333" class="indexterm"></a>continue <a id="id334" class="indexterm"></a>with this train of thought, let's go ahead and spawn the AI inside one of the levels we've created. To do this, let's open the map that we created in <a class="link" href="#" linkend="ch04">Chapter 4</a>, <span class="emphasis"><em>Creating Exterior Environments</em></span>.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_05_16.jpg" /></div><p>We next <a id="id335" class="indexterm"></a>need to add Navigation <a id="id336" class="indexterm"></a>information to the map in the form of a navigation mesh, <span class="strong"><strong>NavMesh</strong></span><a id="id337" class="indexterm"></a> for short, which is what gives AIs information on where they can and can't go.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note58"></a>Note</h3><p>Note that RAIN does not use this method of navigation for its characters. We will talk about how RAIN's form of NavMeshes work in the <span class="emphasis"><em>Spawning enemies with the help of a trigger</em></span> section.</p></div></li><li><p>Before we can make a NavMesh, we need to make our environment static, which is to say that our characters cannot move. Select the <code class="literal">Terrain</code> object and confirm that the <span class="strong"><strong>Static</strong></span> checkbox from the top right-hand side menu is checked.</p></li><li><p>To create the NavMesh, we need to navigate to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Navigation</strong></span>. From here, we will then select the <span class="strong"><strong>Bake</strong></span> tab. Leave the default parameters as they are now, and then click on the <span class="strong"><strong>Bake</strong></span> button.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_05_17.jpg" /></div><p>Next, we<a id="id338" class="indexterm"></a> will need to wait for it <a id="id339" class="indexterm"></a>to finish, which may take a while based on how powerful your computer is. Once it's finished, we should be able to see a ton of blue on the screen:</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_05_18.jpg" /></div><p>This blue area represents places that the AI can actually travel to.</p></li><li><p>Now, drag <a id="id340" class="indexterm"></a>and drop <code class="literal">UFPS_Enemy</code> into <a id="id341" class="indexterm"></a>the game world where the player was spawned. He will now wander the area using the waypoint specified in the <span class="strong"><strong>Gateway Games Patrol Manager</strong></span> component and will engage with you when he sees you.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_05_19.jpg" /></div></li></ol></div><p>With all this in <a id="id342" class="indexterm"></a>place, we've seen how easy it is to integrate an <a id="id343" class="indexterm"></a>AI system into our project!</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note59"></a>Note</h3><p>If you're interested in checking out the documentation for Shooter AI and learning more about the specific variables that are used for it, check out <a class="ulink" href="https://www.dropbox.com/s/u7wi7wb8azmmlaf/Manual.pdf?dl=0" target="_blank">https://www.dropbox.com/s/u7wi7wb8azmmlaf/Manual.pdf?dl=0</a>.</p></div></div>