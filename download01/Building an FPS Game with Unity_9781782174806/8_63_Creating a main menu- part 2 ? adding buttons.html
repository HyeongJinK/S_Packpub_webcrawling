<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec62"></a>Creating a main menu: part 2 â€“ adding buttons</h2></div></div><hr /></div><p>We <a id="id554" class="indexterm"></a>have now created the simplest type of UI there is. Let's start adding in some interactive objects with buttons that will allow us to start or close the game while also learning about Layout Groups.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>To start off, we will need to create a holder for the buttons we want to create to make it easy for us to add additional options to our HUD with minimal fuss. To do that we will select our <code class="literal">Canvas</code> object from the <span class="strong"><strong>Hierarchy</strong></span> tab and then create a <span class="strong"><strong>Panel</strong></span> by going to the top toolbar and selecting <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Panel</strong></span>.</p><p>The panel object is simply an object with <span class="strong"><strong>Rect Transform</strong></span> and an Image component attached that is set to take up the entire screen.</p></li><li><p>Next let's create a button object. From our canvas object, select <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Button</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_08_06.jpg" /></div><p>The button <a id="id555" class="indexterm"></a>that we just created actually consists of two objects: the button itself, which has the background image, and a button script that dictates how it animates and interacts. It also has a child text object that has the text that's being displayed.</p><p>The text is displayed on top of the button because the Canvas renders objects from the top down; thus, the Button is drawn first, then the Text on top of it. You can change the order by dragging objects as needed</p></li><li><p>Select <a id="id556" class="indexterm"></a>the <code class="literal">Text</code> object and in the <span class="strong"><strong>Text</strong></span> component set the <span class="strong"><strong>Text</strong></span> variable to <code class="literal">Start Game</code>. Rename the <code class="literal">Button</code> object to <code class="literal">StartGameButton</code>.</p></li><li><p>After that, let's add this button as a child of the panel by dragging and dropping buttons on top of the <code class="literal">Panel</code> object.</p></li><li><p>Now let's add a second button to the screen by selecting the button and pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span>. Rename this newly created object to <code class="literal">QuitGameButton</code> and drag it away from the original object. Under its <code class="literal">Text</code> object change the <span class="strong"><strong>Text</strong></span> component's <span class="strong"><strong>Text</strong></span> variable to <span class="strong"><strong>Quit Game</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_08_07.jpg" /></div><p>Now we could hand-place these buttons to fit on our screen nicely but, rather than do that, let's explore how we can use <span class="strong"><strong>Layout Groups</strong></span> to make our job easier.</p></li><li><p>From the <span class="strong"><strong>Hierarchy</strong></span> tab, select the <code class="literal">Panel</code> object and then from the <span class="strong"><strong>Inspector</strong></span> go all <a id="id557" class="indexterm"></a>the way down and select <span class="strong"><strong>Add Component</strong></span>. From there type in <code class="literal">Grid</code> and select <span class="strong"><strong>Grid Layout Group</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_08_08.jpg" /></div><p>As you can see, now that we've added a <span class="strong"><strong>Layout Group</strong></span> to our parent object, all of the children now have their <span class="strong"><strong>Rect Transform</strong></span> component values set by this grid.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note81"></a>Note</h3><p>For more info on different kinds of <a id="id558" class="indexterm"></a>Layouts, check out <a class="ulink" href="http://docs.unity3d.com/Manual/comp-UIAutoLayout.html" target="_blank">http://docs.unity3d.com/Manual/comp-UIAutoLayout.html</a>.</p></div></li><li><p>Let's make this look a little nicer. In the <span class="strong"><strong>Inspector</strong></span> tab, go to the <span class="strong"><strong>Grid Layout Group</strong></span> component and change the <span class="strong"><strong>Cell Size</strong></span> to (<code class="literal">125, 35</code>); you'll notice that the elements are changing at the same time.</p></li><li><p>Then <a id="id559" class="indexterm"></a>set the <span class="strong"><strong>Spacing</strong></span> in the <span class="strong"><strong>X</strong></span> and <span class="strong"><strong>Y</strong></span> fields to <code class="literal">20</code> and you'll notice that the objects are moving away from each other.</p><p>Next change <span class="strong"><strong>Child Alignment</strong></span> to <span class="strong"><strong>Middle Center</strong></span> to center the objects.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_08_09.jpg" /></div></li><li><p>We don't want the Panel to fill the screen, but it may be nice as a holder for all of the buttons in our menu. Select the <code class="literal">Panel</code> object, click the <span class="strong"><strong>Add Component</strong></span> button, and add a <span class="strong"><strong>Content Size Fitter</strong></span> component to the object. Next, inside our newly created component, change the <span class="strong"><strong>Horizontal Fit</strong></span> to <span class="strong"><strong>Preferred Size</strong></span> and <span class="strong"><strong>Vertical Fit</strong></span> to <span class="strong"><strong>Min Size</strong></span>.</p><p>You'll see that now the panel has been resized to fit the contents of its children, and no more. This is great because, if we create a number of other buttons, the object will resize as necessary, making it easy to expand. However, I think it looks a little strange being so tightly bound, so let's add some padding to the sides.</p></li><li><p>Next, in <a id="id560" class="indexterm"></a>the <span class="strong"><strong>Grid Layout Group</strong></span> expand the <span class="strong"><strong>Padding</strong></span> variable and set the <span class="strong"><strong>Left</strong></span>, <span class="strong"><strong>Right</strong></span>, <span class="strong"><strong>Top</strong></span>, and <span class="strong"><strong>Bottom</strong></span> values to <code class="literal">20</code>.</p><p>And with that, we're almost there but it looks a little awkward in the center, so I'm going to lower it down just a little bit.</p></li><li><p>In the Panel's <span class="strong"><strong>Rect Transform</strong></span> component, change <span class="strong"><strong>Y</strong></span> under <span class="strong"><strong>Pivot</strong></span> to <code class="literal">.25</code> and set <span class="strong"><strong>Pos Y</strong></span> to <code class="literal">0</code>.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_08_10.jpg" /></div></li></ol></div><p>We now have the <a id="id561" class="indexterm"></a>visuals for the buttons created, and have a good understanding as to how the buttons are placed.</p></div>