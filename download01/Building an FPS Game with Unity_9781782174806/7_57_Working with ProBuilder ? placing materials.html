<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec57"></a>Working with ProBuilder – placing materials</h2></div></div><hr /></div><p>Now that <a id="id476" class="indexterm"></a>we have <a id="id477" class="indexterm"></a>the materials to work with, let's learn how we can place them into the scene by making use of ProBuilder's Material tools.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>There are many ways to apply material to objects and faces with ProBuilder. For the easiest, simply select an object in your scene and then drag-and-drop one of the materials on top of it. For instance, in the next screenshot I've taken the <code class="literal">BrownBrick</code> material and applied it onto one of the houses in our level.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_14.jpg" /></div><p>As <a id="id478" class="indexterm"></a>you can see, all of the faces of the object now are using the <code class="literal">brick</code> material instead of the default. However, we<a id="id479" class="indexterm"></a> may not want to use the material on every single face of the building. In addition, we may also want the bricks to be bigger, because right now they look incredibly tiny.</p></li><li><p>Open up the <span class="strong"><strong>ProBuilder</strong></span> window and change to <span class="strong"><strong>Face</strong></span> mode. From there, select the faces on the top of the house that we will want to replace with a different texture; for now, some trim around the roof will do nicely.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_15.jpg" /></div></li><li><p>After<a id="id480" class="indexterm"></a> that you can simply drag-and-drop a material onto your selection<a id="id481" class="indexterm"></a> and it should apply the material to what you currently have selected (and nothing else).</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_16.jpg" /></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip10"></a>Tip</h3><p>Don't worry if things look a bit freaky for a period of time, Unity needs time to rebuild lighting after the Materials on objects have changed. Alternatively, if you want things to go quicker, go to the <span class="strong"><strong>Lighting</strong></span> tab by going to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Lighting</strong></span> and then from the <span class="strong"><strong>Object</strong></span> section uncheck the <span class="strong"><strong>Continuous Baking</strong></span> button, but be sure to turn it back on before finishing the project!</p></div></li><li><p>Alternatively, we <a id="id482" class="indexterm"></a>may want to paint the faces individually. This<a id="id483" class="indexterm"></a> is also easy enough to do. Select your object once again. From the <span class="strong"><strong>ProBuilder</strong></span> tab, click on the <span class="strong"><strong>Material</strong></span> button to bring up the <span class="strong"><strong>Material Editor</strong></span> dialog box.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_17.jpg" /></div><p>The <span class="strong"><strong>Material Palette</strong></span> allows users to set up often-used materials and then just press certain hotkeys to apply them to whatever is selected. In addition there is the <span class="strong"><strong>Quick Material</strong></span> parameter, which is what we're going to use now.</p></li><li><p>Drag-and-drop <a id="id484" class="indexterm"></a>the <code class="literal">streakyBlocks</code> material <a id="id485" class="indexterm"></a>into the <span class="strong"><strong>Quick Material</strong></span> parameter; once that's completed, hold down the <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Shift</em></span> keys and then start clicking on faces, such as the heater on the top of the house. This will allow you to quickly start applying faces.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note75"></a>Note</h3><p>For more information on <span class="emphasis"><em>Applying Materials</em></span> check out: <a class="ulink" href="http://www.protoolsforunity3d.com/docs/probuilder/#texturesAndUVs" target="_blank">http://www.protoolsforunity3d.com/docs/probuilder/#texturesAndUVs</a>.</p></div><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_18.jpg" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note76"></a>Note</h3><p>Alternatively, you can select a number of faces and then click on the <span class="strong"><strong>Apply</strong></span> button to apply them all at once. You can also select any face in your level and click <span class="strong"><strong>Match Selection</strong></span> to automatically select whatever material you used there—nice for when you're trying to find something specific for your level.</p></div></li><li><p>Now that we <a id="id486" class="indexterm"></a>have some materials placed, let's fix the whole size and placement <a id="id487" class="indexterm"></a>issue. Let's first fix the brick texture. Select the bricks around the house and then open up the <span class="strong"><strong>UV Editor</strong></span> window by going to the <span class="strong"><strong>ProBuilder</strong></span> tab and then selecting <span class="strong"><strong>UV Editor</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_19.jpg" /></div><p>When you zoom out the camera, you'll notice a lot of lines and some blue boxes. Well, the blue boxes are what you currently have selected in the <span class="strong"><strong>Scene</strong></span> tab, and the white lines represent the UVs of the object: what will be painted onto the surface of the polygon. Rather than use an <span class="emphasis"><em>X</em></span> and <span class="emphasis"><em>Y</em></span> position, to avoid confusion they call the coordinates <span class="emphasis"><em>U</em></span> and <span class="emphasis"><em>V</em></span>.</p><p>Movement in the <span class="strong"><strong>UV Editor</strong></span> is very similar to normal movement in Unity; you can hold the middle mouse button and move the mouse in order to pan the camera and use the mouse wheel to zoom in and out.</p></li><li><p>On the left-hand <a id="id488" class="indexterm"></a>side, you'll see a number of properties in the <span class="strong"><strong>Actions</strong></span> tab. What we want to look at is the <span class="strong"><strong>Scale</strong></span> property. From there click on the <span class="strong"><strong>4</strong></span> button to make our object have a scale of <code class="literal">.25</code>, which makes the plane four times smaller; this will make the texture applied to it four times larger.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_20.jpg" /></div><p>This is <a id="id489" class="indexterm"></a>what it looks from the UV side; from the unreal side, you'll notice that the texture got larger.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_21.jpg" /></div></li><li><p>Next <a id="id490" class="indexterm"></a>we'll <a id="id491" class="indexterm"></a>select the top section and scale that up as well to <code class="literal">2</code> instead:</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_22.jpg" /></div><p>However, at this point there are some additional issues. The top row is facing a different way from the sides, and the bricks are different sizes in different places. Thankfully, we can fix this in a flash.</p></li><li><p>Select<a id="id492" class="indexterm"></a> one <a id="id493" class="indexterm"></a>of the top pieces that is rotated in the wrong direction. We can fix this by moving the <span class="strong"><strong>Rotation </strong></span>property in the <span class="strong"><strong>UV Editor</strong></span> with that face selected to <code class="literal">90</code>.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_23.jpg" /></div><p>It's starting to get there, but what we really want is for the brick to fit the brush we created. It'd be a lot easier to just tweak it in the <span class="strong"><strong>Scene</strong></span> view till it looks correct, and that's what we're going to do next.</p></li><li><p>With our face selected, at the top (on the left side of the right part of the toolbar), you'll see some arrows pointing out in directions. Click on this to lock the <span class="strong"><strong>SceneView</strong></span> map handles to the UVs instead of the object.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_24.jpg" /></div></li><li><p>Now, back<a id="id494" class="indexterm"></a> in the <a id="id495" class="indexterm"></a>
<span class="strong"><strong>Scene</strong></span> view in the Unity editor, you can use the same tools we've been using in the environment to modify the UVs.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_25.jpg" /></div></li><li><p>When<a id="id496" class="indexterm"></a> you go <a id="id497" class="indexterm"></a>back into the <span class="strong"><strong>UV Editor</strong></span> you'll notice the properties have been set to whatever you did in the <span class="strong"><strong>Scene</strong></span> view. Copy the <span class="strong"><strong>Scale</strong></span> value, as we will use it for the other parts.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_26.jpg" /></div></li><li><p>Select the<a id="id498" class="indexterm"></a> face <a id="id499" class="indexterm"></a>to the right, paste the <span class="strong"><strong>Scale</strong></span> values in, and then translate them until they fit within the brush we created as well.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_27.jpg" /></div><p>It's looking<a id="id500" class="indexterm"></a> better, but the edges aren't meeting up<a id="id501" class="indexterm"></a> correctly. Here we have two choices. We could either place a mesh here to hide the issue, or we can translate the UVs to make a small block there. In this case, I will make a small block, as follows:</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_28.jpg" /></div></li><li><p>Next we <a id="id502" class="indexterm"></a>will <a id="id503" class="indexterm"></a>want to do the insides of the blocks.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_29.jpg" /></div><p>As you can see, the blocks are looking even better!</p></li><li><p>You may <a id="id504" class="indexterm"></a>notice that the blocks on the outside look much <a id="id505" class="indexterm"></a>larger than the others; that's because the top section here is broken up into two pieces. To have them show up correctly, we can use the <span class="strong"><strong>Group</strong></span> tool. Select both outer faces by clicking on one and then holding down<span class="emphasis"><em> Shift</em></span> and selecting the other.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_30.jpg" /></div></li><li><p>Then back in the <span class="strong"><strong>UV Editor </strong></span>tab click on the <span class="strong"><strong>Group Selected Faces</strong></span> option. Once you've done that you'll see that the two separate UVs are now connected to each other and function as one.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_31.jpg" /></div></li><li><p>You <a id="id506" class="indexterm"></a>should then be able to move the object and scale<a id="id507" class="indexterm"></a> it correctly to fit each part of the outside. After that, I scaled up the top of the small addition on the top of the house to get rid of the grime and then applied that material on the top, grouping everything so that it fits the top.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_32.jpg" /></div><p>And with that we have one single house completed! This gives us a pretty good <a id="id508" class="indexterm"></a>picture of how to build UVs for different things, but I wanted to show one more example that may help you deal with more complex things such as curves.</p></li><li><p>Continuing <a id="id509" class="indexterm"></a>from the player's starting area, you'll see a curved road. Select those faces and then assign the <code class="literal">Sidewalk</code> material to the object. Once that's done, open up the <span class="strong"><strong>UV Editor </strong></span>once again.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_33.jpg" /></div></li><li><p>Currently <a id="id510" class="indexterm"></a>things are too small and they're all going<a id="id511" class="indexterm"></a> in a certain direction and not flowing correctly. To start fixing this, in the <span class="strong"><strong>UV Editor</strong></span> select <span class="strong"><strong>Group Selected Faces</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_34.jpg" /></div><p>You'll <a id="id512" class="indexterm"></a>see that the objects are now connected to each other, but still look incorrect in the <span class="strong"><strong>Scene</strong></span> view. What we want to do is have the UVs curve with our brushes.</p></li><li><p>Still in <a id="id513" class="indexterm"></a>the <span class="strong"><strong>UV Editor</strong></span>, click on the three dots button to switch to <span class="strong"><strong>Vertex</strong></span> mode and using the <span class="strong"><strong>Translation</strong></span> tool move the vertices to the right away from the other pieces so we don't make any mistakes. Then select the two vertices above the bottom one and move them so that they are parallel to the ones below it.</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_35.jpg" /></div></li><li><p>Then <a id="id514" class="indexterm"></a>continue to<a id="id515" class="indexterm"></a> the next edge and move to the side as well. As you do this, the top two pieces will break apart. Just select them again and move them up as well. At the end it should look like this:</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_36.jpg" /></div><p>And <a id="id516" class="indexterm"></a>inside <a id="id517" class="indexterm"></a>the editor it should look like this:</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_37.jpg" /></div><p>As you <a id="id518" class="indexterm"></a>can see, the path is going in the correct <a id="id519" class="indexterm"></a>direction! Now, the material this is based on is four different blocks in two parts, one half normal and the other half with some destruction. For now, we will scale the material up so that it will only show the clean part.</p></li><li><p>Use the <span class="strong"><strong>UV Editor</strong></span> and scale the objects down to fit only one part of the sidewalk; translate them to fit snugly. When you're done, it should look like this:</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_38.jpg" /></div></li></ol></div><p>Now that we have <a id="id520" class="indexterm"></a>that experience, we can go ahead and texture the <a id="id521" class="indexterm"></a>remaining parts of the level. When you're finished and you turn <span class="strong"><strong>Continuous Baking</strong></span> back on, your level should look something like this:</p><div class="mediaobject"><img src="/graphics/9781782174806/graphics/B04317_07_39.jpg" /></div><p>We're now<a id="id522" class="indexterm"></a> well <a id="id523" class="indexterm"></a>on our way to having a full and polished level!</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note77"></a>Note</h3><p>For a more in-depth<a id="id524" class="indexterm"></a> video showing all aspects of the UV Editing and Unwrapping tools, check out: <a class="ulink" href="https://www.youtube.com/watch?v=U_5f8RlciWQ" target="_blank">https://www.youtube.com/watch?v=U_5f8RlciWQ</a>.</p></div></div>