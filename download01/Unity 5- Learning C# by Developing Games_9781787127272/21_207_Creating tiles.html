<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch21lvl1sec192"></a>Creating tiles</h2></div></div><hr /></div><p>Before we get <a id="id927" class="indexterm"></a>started, it's a good idea to see how the object looks<a id="id928" class="indexterm"></a> to us, so let's add in a temporary controller to give us an idea of what it looks like. Therefore, let's follow the these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Now, in the upper-right corner of the scene view is the scene gizmo. This will display our current camera orientation, allow us to quickly modify the viewing angle, and switch from the <span class="strong"><strong>Perspective</strong></span> to <span class="strong"><strong>Isometric</strong></span> mode easily, which will help us when placing objects in the world. (Note that in 2D mode, this gizmo won't be shown, so untoggle the 2D button on the <span class="strong"><strong>Scene</strong></span> toolbar if that is the case.)</p></li><li><p>Click on the <span class="strong"><strong>Y</strong></span> axis on the scene gizmo to switch our camera to an overhead view. Once there, go to the <span class="strong"><strong>Modular Pieces</strong></span> folder and then drag and drop the <span class="strong"><strong>Floor 01</strong></span> object into our world, and change <span class="strong"><strong>Position</strong></span> to (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>) from the <span class="strong"><strong>Transform</strong></span> section. Then, you can double-click on the object in the <span class="strong"><strong>Hierarchy</strong></span> tab to zoom to its position.</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_08_05.jpg" /></div><p>You'll <a id="id929" class="indexterm"></a>note that instead of the floor tile being in the center of the world when the position is reset, the <a id="id930" class="indexterm"></a>pivot is off on the Z axis. This is because the art files that the artist provided to us placed the pivot there, which you will see if the <span class="strong"><strong>Gizmo Display Toggles</strong></span> are set to <span class="strong"><strong>Pivot</strong></span> (the button to the right of the Transform widgets in the toolbar). Now, since we're going to be placing these objects as tiles, we want them to snap together as easily as possible. In general, we want to place these pivots along one of the edges of the object. Some people prefer to place it on the center of the mesh, which you can easily do by changing the pivot toggle to <span class="strong"><strong>Center</strong></span> by clicking on the button that currently says <span class="strong"><strong>Pivot</strong></span> to change it to the <span class="strong"><strong>Center</strong></span> move, but I don't like it, as it makes rotations and scaling more of a pain. For more information on the Gizmo Display Toggles, check out <a class="ulink" href="http://docs.unity3d.com/410/Documentation/Manual/PositioningGameObjects.html" target="_blank">http://docs.unity3d.com/410/Documentation/Manual/PositioningGameObjects.html</a>.</p></li><li><p>After this, open <a id="id931" class="indexterm"></a>the <span class="strong"><strong>Floor 01</strong></span> object to see the <code class="literal">Floor_01_Modular_pieces_grp</code> object and select it. This is the actual mesh we want to work with. With it selected, go to the <span class="strong"><strong>Mesh Renderer</strong></span> component and expand the <span class="strong"><strong>Materials</strong></span> section. Then, change <span class="strong"><strong>Element 0</strong></span> to our house material either by dragging and dropping or clicking on the right-hand side circle button and then selecting it from the list shown. Finally, let's add in a box collider by going to <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Physics</strong></span> | <span class="strong"><strong>Box Collider</strong></span>.</p><p>This collider is what the player will collide with in the world, so what you see will be what they will be walking into.</p></li><li><p>Now that <a id="id932" class="indexterm"></a>we have created the revised version created, rename the <span class="strong"><strong>Floor_01_Modular_pieces_grp</strong></span> game object to <code class="literal">Floor</code>, and from the <span class="strong"><strong>Project</strong></span> tab, create a new folder named <code class="literal">Prefabs</code>. Drag and drop just the <code class="literal">Floor</code> object as a prefab in the <code class="literal">Prefabs</code> folder; optionally, you can place the object in a new folder named <code class="literal">Modular Pieces</code>.</p></li><li><p>Now repeat steps 3 to 5 for the <span class="strong"><strong>Wall Plain</strong></span> object:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_08_06.jpg" /></div><p>As you can see if we move the camera, the two pieces together are already starting to look like a room. Not too hard, right?</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_08_07.jpg" /></div></li><li><p>Delete <a id="id933" class="indexterm"></a>those two prefabs, and now do the same <a id="id934" class="indexterm"></a>steps for the other models in the <code class="literal">Modular Pieces</code> folders, thereby deleting them as they go on, using <span class="strong"><strong>Mesh Colliders</strong></span> on the <span class="strong"><strong>Door Wall</strong></span> and <span class="strong"><strong>Stairs</strong></span> objects.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note100"></a>Note</h3><p>Everything besides the renaming and moving to the <code class="literal">Prefabs</code> folder can be done to all the objects by shift-clicking on them all to do each of the steps.</p></div></li><li><p>Now that we have the models for our environment fixed, let's assemble them into some tiles that we can place in the world. Create an empty game object, name it <code class="literal">Hallway</code> and reset its position.</p><p>The pivot of an object is extremely important when doing modular level design. We want to make it extremely easy for us to duplicate objects and snap them together, so picking a part of the object that will tile well can save you a lot of time in the future.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note101"></a>Note</h3><p>For those interested in learning more about creating good modular game art, check out <a class="ulink" href="http://www.gamasutra.com/view/feature/130885/creating_modular_game_art_for_fast_.php" target="_blank">http://www.gamasutra.com/view/feature/130885/creating_modular_game_art_for_fast_.php</a>.</p></div></li><li><p>Add a <span class="strong"><strong>Floor</strong></span>, <span class="strong"><strong>Ceiling</strong></span>, and <span class="strong"><strong>Wall</strong></span> prefab to the object as children.</p></li><li><p>Duplicate <a id="id935" class="indexterm"></a>the wall by pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span>, and then<a id="id936" class="indexterm"></a> change <span class="strong"><strong>Position</strong></span> of <span class="strong"><strong>Z</strong></span> axis to <code class="literal">3.2</code> and <span class="strong"><strong>Rotation</strong></span> of <span class="strong"><strong>Y</strong></span> axis to <code class="literal">180</code>. Take a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_08_08.jpg" /></div><p>This will act as our first building block, which we can use to create hallways by merely duplicating these <span class="strong"><strong>Hallway</strong></span> objects.</p></li><li><p>Now, inside the project, add a folder to the <code class="literal">Prefabs</code> folder named <code class="literal">Tiles</code>. Make <span class="strong"><strong>Hallway</strong></span> a prefab by dragging and dropping it in the <code class="literal">Tiles</code> folder. Take a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_08_09.jpg" /></div></li><li><p>Delete <a id="id937" class="indexterm"></a>one of the wall objects, (click on <span class="strong"><strong>Continue</strong></span> at the notification) and you'll note that the object is no longer a prefab, as it's no longer colored blue. This is fine because now we're going to create a <a id="id938" class="indexterm"></a>doorway. Rename <span class="strong"><strong>Hallway</strong></span> to <code class="literal">Hall Door</code>. Then, add a <span class="strong"><strong>Door</strong></span> object and a <span class="strong"><strong>Door Wall</strong></span> object as children to the new <span class="strong"><strong>Hall Door</strong></span> on the side that your wall object was previously at. Then, add <span class="strong"><strong>Hall Door</strong></span> as a prefab in the <code class="literal">Tiles</code> folder.</p><p>You can make these doors functional later on, but for now, we are just building the environment.</p></li><li><p>Apart from these very simple tiles that we have just made, we also want to create some rooms that are larger than one big tile, so next, we need to create nine additional prefab tiles that will look like the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_08_10.jpg" /></div><p>To name the objects, I went with the following convention:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Room Top-Left</p></li><li style="list-style-type: disc"><p>Room Top-Middle</p></li><li style="list-style-type: disc"><p>Room Top-Right</p></li><li style="list-style-type: disc"><p>Room Middle-Left</p></li><li style="list-style-type: disc"><p>Room Middle</p></li><li style="list-style-type: disc"><p>Room Middle-Right</p></li><li style="list-style-type: disc"><p>Room Bottom-Left</p></li><li style="list-style-type: disc"><p>Room Bottom-Middle</p></li><li style="list-style-type: disc"><p>Room Bottom-Right</p></li></ul></div></li><li><p>With <a id="id939" class="indexterm"></a>these pieces, we can make rooms of <a id="id940" class="indexterm"></a>whatever size we want! Delete the newly created prefabs from the hierarchy.</p></li><li><p>Finally, let's get the staircase built! Create an empty game object and give it a name of <code class="literal">Left Stairs</code>. Go back to our <span class="strong"><strong>Modular Pieces</strong></span> prefabs and then place two floors next to each other, one at <span class="strong"><strong>Position</strong></span> (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>) and the other at (<code class="literal">-3.2</code>, <code class="literal">0</code>, <code class="literal">0</code>). Next, add <span class="strong"><strong>Stairs 1</strong></span>, <span class="strong"><strong>Stairs Floor 1</strong></span>, and objects together, all at <span class="strong"><strong>Position</strong></span> (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>). Add <span class="strong"><strong>Stairs Floor 2</strong></span> at <span class="strong"><strong>Position</strong></span> (<code class="literal">-3.2</code>, <code class="literal">0</code>, <code class="literal">0</code>). Finally, add two walls on the first floor (one with <code class="literal">0.0</code> on <span class="strong"><strong>X</strong></span> and one with <code class="literal">-3.2</code>) and two on the second floor (<span class="strong"><strong>Y</strong></span> at <code class="literal">4</code>). Once completed, you should have a staircase built, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_08_11.jpg" /></div></li><li><p>Then, make <a id="id941" class="indexterm"></a>our <span class="strong"><strong>Left Stairs</strong></span> object a prefab inside<a id="id942" class="indexterm"></a> of the <code class="literal">Prefabs\Tiles</code> folder. Be sure to reset the position of <span class="strong"><strong>GameObject</strong></span> by right-clicking on its <span class="strong"><strong>Transform</strong></span> component and by selecting <span class="strong"><strong>Reset Position</strong></span>.</p></li><li><p>Afterwards, go ahead and delete the <span class="strong"><strong>Left Stairs</strong></span> prefab. And with this, we now have our tiles all set!</p></li></ol></div></div>