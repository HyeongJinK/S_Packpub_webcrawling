<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch17lvl1sec155"></a>Keeping score</h2></div></div><hr /></div><p>Now we <a id="id674" class="indexterm"></a>have the basic gameplay in, but the player doesn't know how well they're doing to do that, we will.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Go to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Text</strong></span>. Double-click on the <code class="literal">Canvas</code> object in order to see it and how the text looks compared to it.</p></li><li><p>Then, select the <code class="literal">Text </code>object and then from the <span class="strong"><strong>Anchors Presets</strong></span> menu, hold down <span class="emphasis"><em>Alt</em></span>+<span class="emphasis"><em>Shift</em></span> and select the top-center option by clicking on it. Change the name of the object to <code class="literal">Score Text</code>.</p></li><li><p>Select <a id="id675" class="indexterm"></a>the <code class="literal">Score Text</code> object and change the <span class="strong"><strong>Rect Transform</strong></span> component's <span class="strong"><strong>Height</strong></span> to <code class="literal">50</code>. Under the <span class="strong"><strong>Text</strong></span> component, change the <span class="strong"><strong>Text</strong></span> property to <code class="literal">0</code> and change the <span class="strong"><strong>Alignment</strong></span> to center horizontally. Then, change the <span class="strong"><strong>Font Size</strong></span> to <code class="literal">40</code>. I then changed the text color to a darker blue (If you want to use exactly what I did, you can click on the color and then for <span class="strong"><strong>Hex Color</strong></span>, put in <code class="literal">7AA0ADFF</code>).</p></li><li><p>We want this to be readable in most situations, so click on the <span class="strong"><strong>Add Component</strong></span> menu and add an <span class="strong"><strong>Outline</strong></span> component to this object as well with an <span class="strong"><strong>Effect Color</strong></span> of white (<span class="strong"><strong>Hex Color</strong></span> of <code class="literal">FFFFFFFF</code>) and an <span class="strong"><strong>Effect Distance</strong></span> of <code class="literal">2, -2</code>:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_04_16.jpg" /></div></li><li><p>Now that we have the text created, let's add in the ability to gain a score. Go back to the <span class="strong"><strong>GameController</strong></span> script add the following using:</p><div class="informalexample"><pre class="programlisting">using UnityEngine.UI;</pre></div></li><li><p>Next, add <a id="id676" class="indexterm"></a>the following variables to the file:</p><div class="informalexample"><pre class="programlisting">    private static Text scoreText;
    private static int score;

    public static int Score
    {
        get { return score; }
        set
        {
            score = value;
            scoreText.text = score.ToString();
        }
    }</pre></div></li><li><p>Afterwards, we need to initialize the variables, so add the following bolded lines to the <span class="strong"><strong>Start</strong></span> function:</p><div class="informalexample"><pre class="programlisting">    // Use this for initialization
    void Start ()
    {
        speedModifier = 1.0f;
        gameObject.AddComponent&lt;GameStartBehaviour&gt;();
        score = 0;
        scoreText = 
        GameObject.Find("Score Text").GetComponent&lt;Text&gt;();
    }</pre></div></li><li><p>Save the script and now we need to increase the score when we go through the obstacles. To do this, we'll need to add in something to the obstacle prefab, so to make it easy to see the changes we'll be making, go to the <span class="strong"><strong>Project</strong></span> tab and open up the <code class="literal">Prefabs</code> folder. From there, drag and drop an <code class="literal">Obstacle</code> object into the <span class="strong"><strong>Hierarchy</strong></span> tab and double-click on to zoom the camera so that we can see it easily:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_04_17.jpg" /></div></li><li><p>From <a id="id677" class="indexterm"></a>here, let's add a box collider. To do this, go to <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Physics 2D</strong></span> | <span class="strong"><strong>Box Collider 2D</strong></span>. From there, click on the <span class="strong"><strong>Is Trigger </strong></span>option and change the <span class="strong"><strong>Size</strong></span> to <code class="literal">.5, 3</code>.</p><p>The <span class="strong"><strong>Is Trigger</strong></span> option allows us to tell when something collides with the collider, but instead of using physics to block the object from entering it, we can do something else using the <code class="literal">OnTrigger</code> functions instead of <code class="literal">OnCollision</code>. This is used oftentimes in games for things like spawning enemies when you enter a room. In this case, we will be increasing our score.</p></li><li><p>Open up the <code class="literal">ObstacleBehaviour</code> script and add the following function:</p><div class="informalexample"><pre class="programlisting">    public void OnTriggerEnter2D(Collider2D collision)
    {
        GameController.Score++;
    }</pre></div></li><li><p>Save your script and then go back to the Unity editor. From there, select the <code class="literal">Obstacle</code> objects and then from the <span class="strong"><strong>Inspector</strong></span> tab under the <span class="strong"><strong>Prefab </strong></span>section, click on the <span class="strong"><strong>Apply</strong></span> button.</p></li><li><p>Delete <a id="id678" class="indexterm"></a>the <span class="strong"><strong>Hierarchy</strong></span> tab's <code class="literal">Obstacle</code> object and then save your project:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_04_18.jpg" /></div></li></ol></div><p>Now we can see our score increasing properly and with that our project is completed!</p></div>