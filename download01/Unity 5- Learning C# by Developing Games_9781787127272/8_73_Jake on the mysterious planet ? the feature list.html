<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec71"></a>Jake on the mysterious planet – the feature list</h2></div></div><hr /></div><p>We know the <a id="id261" class="indexterm"></a>core components that we will need to develop to make this game work. We also have a rough idea about the game.</p><p>What's next? Another good step forward would be to write down the game's feature list and talk about each of the steps in detail.</p><p>Here is the feature list:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Procedural level generation with infinite gameplay</p></li><li style="list-style-type: disc"><p>An animated 2D character with 2D physics</p></li><li style="list-style-type: disc"><p>Mouse and touch controls</p></li><li style="list-style-type: disc"><p>Collectables and storing the player's data</p></li><li style="list-style-type: disc"><p>A scoring system with a storage of high score</p></li><li style="list-style-type: disc"><p>UI</p></li></ul></div><p>Let's talk about each of these features to make sure you understand what they are.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec50"></a>Procedural level generation</h3></div></div></div><p>In every game, the <a id="id262" class="indexterm"></a>level is a key component. It's the environment in which the player moves around and enjoys the game. In this case, we have a flat 2D level scrolling from right to left.</p><p>As <span class="emphasis"><em>Jake on the mysterious planet</em></span> is an infinite scroller game, we don't know how big the level has to be. The player can play for just 10 seconds, or they can be really good at this game and run for a long time. This is the main reason we want to divide the level into movable pieces and generate it during gameplay.</p><p>It will work very simply. Once the player travels through the level, the level generator will spawn a new piece of the level in front of the player and destroy the level pieces that are far behind the player. This simple concept will grant the player infinite gameplay.</p><p>Take a look at this sketch:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B04245_08_3.jpg" /></div><p>The gray box represents our <span class="strong"><strong>Main Camera</strong></span> in 3D space.</p><p>The green boxes represent moving pieces of the level. They spawn near the purple line and are destroyed once they touch the red line. I hope this concept makes sense to you. Don't worry about planning to code this at all as of now. Remember that we are planning the game. We <a id="id263" class="indexterm"></a>are not in the active production phase yet. The more you think about the mechanics and how it can work, the better. There will always be a lot of uncertainty while planning, and some solutions that you pick at the planning stage might not work. That's fine! Let's stay open-minded with the game, while at the same time, try to plan as much as we can.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec51"></a>An animated 2D character</h3></div></div></div><p>So, we are <a id="id264" class="indexterm"></a>creating a 2D game in a 3D game engine. Yes, why not? Unity gives us a lot of brilliant features for creating 2D games. We will use Unity's built-in animation system to animate Jake. We will try to add animations for:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Running</p></li><li style="list-style-type: disc"><p>Jumping</p></li><li style="list-style-type: disc"><p>Falling</p></li><li style="list-style-type: disc"><p>Flying in his spaceship</p></li></ul></div><p>If you haven't used the <a id="id265" class="indexterm"></a>Mecanim system in Unity to manage animations yet, I encourage you to take a look at Unity's official tutorials. Anyway, we will cover some basics in this book, too.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec52"></a>Physics</h3></div></div></div><p>For gravity, physics, collision detection, and triggering of events, we will use built-in 2D physics components, such as <code class="literal">Rigidbody2D</code>. As our game is really simple and this book is about learning C#, we <a id="id266" class="indexterm"></a>will try to keep the physics as simple as possible. In fact, we will just implement gravity and simply check whether our character is on the ground. These two physics mechanics are the absolute minimum for any platform game, and you will be able to reuse most of the code that you write for this.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec53"></a>Mouse and touch controls</h3></div></div></div><p>We need to give our <a id="id267" class="indexterm"></a>user a way to control the game. Yet again, simplicity is the key here. I believe we can use the built-in input system and make it universal for standalone platforms and mobile devices. The user will be able to use their mouse and touchscreen. We will possibly use clicks for jump mechanics, and that's it!</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec54"></a>Collectables and obstacles</h3></div></div></div><p>Our character will <a id="id268" class="indexterm"></a>travel through the level. We will add the ability for him to collect stuff such as coins.</p><p>Jake can also be killed by obstacles. To make this work, we will use the built-in Unity physics and write some easy-to-use classes.</p><p>If you search in the Unity reference documentation for <code class="literal">MonoBehaviour</code>, you will find some useful methods called automatically by Unity physics, such as <code class="literal">OnTriggerEnter</code>, <code class="literal">OnCollisionEnter</code>, and so on. I don't want to go too much into the details of how this will work, but I want you to understand the principle.</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B04245_08_4.jpg" /></div><p>On the left-hand side of the image, we have our character game object. It will contain a <code class="literal">RigidBody</code> component in order to enable simple gravity physics and physics events.</p><p>As soon as the <code class="literal">RigidBody</code> collider overlaps the coin trigger, the <code class="literal">OnTriggerEnter</code> method on the <code class="literal">MonoBehaviour</code> attached to the <code class="literal">RigidBody</code> game object will be executed automatically. I <a id="id269" class="indexterm"></a>realize that this might feel a bit complicated, so don't trouble yourself about it too much yet. Once we get that far, I will explain it in much greater detail.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec55"></a>Scoring</h3></div></div></div><p>Our game is very simple, so <a id="id270" class="indexterm"></a>we should also keep the scoring system simple. The player's score will be calculated based on the distance traveled from the beginning of the level. The top score is technically infinite. You will learn how to store and retrieve the user's high score.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec56"></a>UI – the user interface</h3></div></div></div><p>As this book covers the <a id="id271" class="indexterm"></a>basics, we should first explain what a user interface is. A user interface is everything on the screen that the user interacts with to control the game. So, all buttons, text, and so on are parts of a UI system.</p><p>Unity introduced a brilliant UI system with version 4.6. We will focus on the built-in system instead of using any third-party package. Why? Simply because we should learn about the built-in tools that Unity offers.</p><p>The game will be divided into a few views, as follows:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Main menu view</strong></span>: This is the first view that the user sees when the game is loaded:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B04245_08_5.jpg" /></div><p>As you can see, the Main Menu view will be very simple. It will contain only the <span class="strong"><strong>Title</strong></span> and the <span class="strong"><strong>Play</strong></span> button. The <span class="strong"><strong>Play</strong></span> button will take the user to the next view. We will possibly add a nice background also, maybe an animated one. Let's keep the background planning open for this view. We can decide on that later.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>In-game view</strong></span>: This <a id="id272" class="indexterm"></a>will be visible during the gameplay only:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B04245_08_6.jpg" /></div><p>This is more or less what we want our user to see during the actual gameplay stage. The top-left corner will be occupied by some text. One part of it will say <span class="strong"><strong>Score</strong></span>, and immediately underneath it we will display the current score. Analogically, the top-right corner will display the highest score ever achieved by the player.</p><p>The top center of this view seems to be a good spot for a <span class="strong"><strong>coin counter</strong></span>. The <span class="strong"><strong>coin counter</strong></span> will display a coin symbol right next to a text label that shows the currently collected coins. The view won't have any background as it will be filled by the game itself! I hope this makes sense.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Game Over view</strong></span>: This <a id="id273" class="indexterm"></a>will be shown after the game, when the playable character dies:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B04245_08_7.jpg" /></div><p>When the player dies, we will move the focus to the Game Over view, most likely displaying the elements shown in the preceding figure. A massive <span class="strong"><strong>Game Over</strong></span> message will be shown, followed by the score achieved and the count of coins collected. The user will have to make a choice here to <a id="id274" class="indexterm"></a>either click on <span class="strong"><strong>Play</strong></span> again or go to the main menu.</p></li></ul></div></div></div>