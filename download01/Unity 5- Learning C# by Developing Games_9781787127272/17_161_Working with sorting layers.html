<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch17lvl1sec150"></a>Working with sorting layers</h2></div></div><hr /></div><p>Next, I want <a id="id652" class="indexterm"></a>to ensure that the sprites that we added will actually be in the correct order from any of the other sprites that we add to the level. This is because when we place objects on the same Z position, we are telling the graphics card that we don't care what order the images are drawn to the screen (also known as z-fighting). In this case we do and even if it "looks right" in the editor right now, if you ever load or restart the scene it may not look correct so rather than wait for the problem I suggest we fix it now. I could <a id="id653" class="indexterm"></a>change the Z position of the object, but rather that, we can make use of the sorting layers property instead:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select one of the background objects from the <span class="strong"><strong>Hierarchy </strong></span>tab and then from the <span class="strong"><strong>Inspector</strong></span> tab, go to the <span class="strong"><strong>Sprite Renderer</strong></span> component and click on the <span class="strong"><strong>Sorting Layer</strong></span> dropdown. Then, select <span class="strong"><strong>Add Sorting Layer…</strong></span> click on the <span class="strong"><strong>+</strong></span> icon two times and name the newly created layers <code class="literal">Background</code> and <code class="literal">Foreground</code>. From there, bring the <code class="literal">Background</code> layer up (by dragging the <span class="strong"><strong>= </strong></span>symbol on the left up) so that it's drawn first:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_04_07.jpg" /></div><p>Now, the background will be drawn first, then the <code class="literal">Default</code> object (acting as our middleground), then the foreground.</p></li><li><p>Of course, this isn't doing anything just yet, so select the two background objects again and then under the <span class="strong"><strong>Sprite Renderer</strong></span> component change the <span class="strong"><strong>Sorting Layer</strong></span> to <code class="literal">Background</code>.</p></li><li><p>Afterwards, change the two <code class="literal">groundGrass</code> sprites to use the <code class="literal">Foreground </code>
<span class="strong"><strong>Sorting Layer</strong></span>. We'll keep the<code class="literal"> Plane</code> object at the default so it'll stay as is.</p></li></ol></div><p>At this point, the <a id="id654" class="indexterm"></a>Sorting Layers are working correctly! If you want to see what happens when we change the order, go to the <span class="strong"><strong>Add Sorting Layer…</strong></span> menu again (or click on <span class="strong"><strong>Layers | Edit Layers</strong></span> from the top-right toolbar) and then drag and equals sign buttons in a different order. Note that if I bought <code class="literal">Background</code> all the way down, the following will happen:</p><div class="mediaobject"><img src="/graphics/9781787127272/graphics/B05212_04_08.jpg" /></div><p>All of the other sprites would disappear because they'd be drawn first and then the background on top of them. Of course, change it back afterwards.</p></div>