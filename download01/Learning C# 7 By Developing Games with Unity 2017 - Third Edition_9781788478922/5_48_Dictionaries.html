<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec51"></a>Dictionaries</h2></div></div><hr /></div><p>When we talk about collection data, we need to mention Dictionaries. A Dictionary is similar to a List. However, instead of accessing a certain element by index value, we use a string called key.</p><p>The Dictionary that you will probably be using the most often is called <code class="literal">Hashtable</code>. Feel free to dive into the C# documentation after reading this chapter to discover all the bits of this powerful class.</p><p>Here are a few key properties of <code class="literal">Hashtable</code>:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">Hashtable</code> can be resized dynamically, like <code class="literal">List&lt;T&gt;</code> and <code class="literal">ArrayList</code></li><li style="list-style-type: disc"><code class="literal">Hashtable</code> can store multiple data types at the same type, like <code class="literal">ArrayList</code></li><li style="list-style-type: disc">A public member <code class="literal">Hashtable</code> isn't visible in the Unity <strong class="userinput"><code>Inspector</code></strong> panel due to default inspector limitations</li></ul></div><p>I want to make sure that you won't feel confused, so I will go straight to a simple example:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/a7fef4a1-3f9b-4acc-9a4d-7b0b56cc41de.png" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec42"></a>Accessing values</h3></div></div></div><p>To access a specific key in the <code class="literal">Hashtable</code>, you must know the string key the value is stored under. Remember, the key is the first value in the brackets when adding an element to <code class="literal">Hashtable</code>. Ideally, you should also know the type of data you are trying to access. In most cases, that would not be an issue. Take a look at this line:</p><pre class="programlisting">Debug.Log((string)personalDetails["firstName"]); </pre><p>We already know that using <code class="literal">Debug.Log</code> serves to display a message on the Unity console, so what are we trying to display? A <code class="literal">string</code><span>value</span> (it's one that can contain letters and numbers), then we specify where that value is stored. In this case, the information is stored under <code class="literal">Hashtable personalDetails </code>and the content that we want to display is <code class="literal">firstName</code>. </p><p>Now take a look at the script once again and see if you can display the age, remember that the value that we are trying to access here is a number, so we should use <code class="literal">int</code> instead of <code class="literal">string</code>:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/a7fef4a1-3f9b-4acc-9a4d-7b0b56cc41de.png" /></div><p>Similar to <code class="literal">ArrayList</code>, we can store mixed-type data in <code class="literal">Hashtable</code>. Unity requires the developer to specify how an accessed element should be treated. To do this, we need to cast the element into a specific data type. The syntax is very simple. There are brackets with the data type inside, followed by the <code class="literal">Hashtable</code> variable name. Then, in square brackets, we have to enter the key string the value is stored under. Ufff, confusing!</p><p>As you can see in the preceding line, we are casting <span>to</span> string (inside brackets). If we were to access another type of data, for example, an integer number, the syntax would look like this:</p><pre class="programlisting">(int)personalDetails["age"]; </pre><p>I hope that this is clear now. If it isn't, why not search for more examples on the Unity forums?</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec43"></a>How do I know what's inside my Hashtable?</h3></div></div></div><p><code class="literal">Hashtable</code>, by default, isn't displayed in the Unity <strong class="userinput"><code>Inspector</code></strong> panel. You cannot simply look at the <strong class="userinput"><code>Inspector</code></strong> tab and preview all keys and values in your public member <code class="literal">Hashtable</code>.</p><p>We can do this in code, however. You know how to access a value and cast it. What if you are trying to access the value under a key that isn't stored in the <code class="literal">Hashtable</code>? Unity will spit out a null reference error and your program is likely to crash.</p><p>To check whether an element exists in the <code class="literal">Hashtable</code>, we can use the <code class="literal">.Contains(object)</code> method, passing the key parameter:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/16d331a9-d090-403a-8411-f35722c971fe.png" /></div><p>This determines whether the array contains the item and if so, the code will continue; otherwise, it will stop there, preventing any error.</p></div></div>