<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec55"></a>The for loop</h2></div></div><hr /></div><p>You have learned about <code class="literal">foreach</code> loops. When iterating through a <code class="literal">foreach</code> loop, we can use a local variable directly to access the data we need. In a <code class="literal">for</code> loop, we also create a variable. However, it is an integer variable for controlling the execution of the loop and accessing the data inside the collection by index.</p><p>There are three fundamental parts of the <code class="literal">for</code> loop. It will look a bit scary to you at the beginning, but try not to run away:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/95cd4fd0-e0a7-4f95-b86b-4e5ea0da0c08.png" /></div><p>The <code class="literal">for</code> loop's syntax might look overcomplicated, but trust me, it isn't! Let's go through its elements one by one.</p><p>The <code class="literal">for</code> loop begins with the <code class="literal">for</code> keyword, followed by brackets. Inside the brackets we must have three fundamental elements separated by semicolons:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Initializer</strong></span>: The initializer is simply a declared variable that is assigned a value. In the preceding code, we declared a variable called <code class="literal">i</code> of the <code class="literal">int</code> type and assigned it a value of <code class="literal">0</code>.</li><li style="list-style-type: disc"><span class="strong"><strong>Condition</strong></span>: The condition must be true for the code block to be executed. In this example, the loop will run through the code block only if the <code class="literal">i</code> variable is less than <code class="literal">10</code>.</li><li style="list-style-type: disc"><span class="strong"><strong>Iterator</strong></span>: The iterator, <code class="literal">i++</code> in this case, simply adds a value of <code class="literal">1</code> to the mentioned variable every time the loop completes an execution.</li></ul></div><p>In simple words, to use a <code class="literal">for</code> loop, we need an integer variable to control it. The initializer is the declaration and assignment of that variable. In most cases, you will never have to change it and it will always look like this:</p><pre class="programlisting">int i = 0; </pre><p>The next step is to describe under what conditions the loop will be running. It is the same type of condition that you might write in any <code class="literal">if</code> statement. If <code class="literal">i</code> is less than <code class="literal">10</code>, this statement is true. If this statement is true, our loop will execute whatever code is inside the code block:</p><pre class="programlisting">i &lt; 10; </pre><p>The last part of the <code class="literal">for</code> loop's syntax is simply the addition of <code class="literal">1</code> to the previous value stored in the <code class="literal">i</code> variable. The <code class="literal">i++</code> might look rather scary, but it's simply a more elegant version of this statement: <code class="literal">i = i+1;</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note27"></a>Note</h3><p>The <code class="literal">++</code> operator increments the value by <code class="literal">1</code>.</p></div><p>I have introduced a lot of technical words here. Try not to panic. Remember that we want to take baby steps, as we need to make sure you fully understand <code class="literal">for</code> loops. I will show it in an example. Let's now write some proper code using a <code class="literal">for</code> loop.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec44"></a>An example</h3></div></div></div><p>Let's create a new C# script and call it <code class="literal">learningLoopsFor</code>:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/13a08caa-f548-4a6a-967c-147ffdcf1873.png" /></div><p>Then we open the script and we are going to create a <code class="literal">List</code> that will contain the names of the family members. We always start the script by writing down the variables that we'll be using, in this case it will be the <code class="literal">List&lt;string&gt;</code>:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/116ed406-cbd6-4bd0-91a4-db7b8a11dbc1.png" /></div><p>After that, we need to add the family members to our <code class="literal">List</code> and we are going to do all that inside the <code class="literal">void Start()</code>:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/554d57be-db1f-49ec-9bba-038a4aa07860.png" /></div><p>To conclude our script now, we are going to write the <code class="literal">for loop</code> and this is the most important part, so if you don't understand it right away, don't worry, it will be explained in detail what we are doing:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/cb6b4ea8-abc1-405d-9218-025ccfe0755a.png" /></div><p>What we are trying to do in this example is iterate through all the elements inside the <code class="literal">familyMembers</code> list and print their values to the Unity Console; we can test this by assigning the script to any object of the game (we have chosen the camera) and click <strong class="userinput"><code>Play</code></strong>:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/01b17ad1-d6b3-4d24-9ead-cff81c5ab015.png" /></div><p>You will probably ask, "Why do I even have to learn this? I could have used a <code class="literal">foreach</code> loop." Correct! A <code class="literal">foreach</code> loop is definitely a good approach to this task. However, there will be cases when you need to know at what index position in the array a certain element is stored. That is when you will use a <code class="literal">for</code> loop instead of a <code class="literal">foreach</code>. Trust me, it's <span>worth</span> it!</p><p>Line <strong class="userinput"><code>20</code></strong> constructs our <code class="literal">for</code> loop. As I promised before, in most cases there is no need to edit the initializer at all.</p><p>Take a look at this condition:</p><pre class="programlisting">i &lt; familyMembers.Count; </pre><p>Previously, we used a value of <code class="literal">10</code> directly in the condition. In the current example, we want to iterate through all the elements in the array. We don't always know the size of our array, so the safest option is to access its size directly. If you are still confused, please go back <a class="link" href="#" linkend="ch05">Chapter 5</a><span class="emphasis"><em>, Lists, Arrays, and Dictionaries</em></span>, where we spoke about checking out the size of an array and <code class="literal"><span>List</span>&lt;T&gt;</code>.</p><p>Let's observe what actually happens when you click the <strong class="userinput"><code>Play</code></strong> button.</p><p>Unity executes the <code class="literal">Start()</code> function. Lines <strong class="userinput"><code>14</code></strong> to <strong class="userinput"><code>17</code></strong> add four string values to the <code class="literal">familyMembers</code> list.</p><p>Unity starts executing the loop from line <strong class="userinput"><code>20</code></strong>. It creates the <code class="literal">i</code> variable with a value of <code class="literal">0</code>. Then it checks the condition. As <code class="literal">0</code> is smaller than the size of the list, the code block is executed with a value of <code class="literal">0</code> for <code class="literal">i</code>.</p><p>Line <strong class="userinput"><code>23</code></strong> accesses the value in the first place in the <code class="literal">familyMembers</code> list as the value of <code class="literal">i</code> is <code class="literal">0</code>. Unity prints the <code class="literal">"Greg"</code> string.</p><p>Unity hits the end of the loop block and goes back to line <strong class="userinput"><code>20</code></strong> to check whether the loop should run through again.</p><p>But first, <code class="literal">i++</code> increments the value of <code class="literal">i</code> by <code class="literal">1</code>. So <code class="literal">0 + 1 = 1</code>. The <code class="literal">i</code> variable is now equal to <code class="literal">1</code>. Unity checks the condition again and runs through the loop block again.</p><p>These steps will keep occurring until the <code class="literal">i &lt; familyMembers.Count;</code> condition becomes <code class="literal">false</code>. This condition will be <code class="literal">false</code> simply when <code class="literal">i</code> becomes equal to <code class="literal">4</code>. Then, Unity won't execute the code block anymore but will proceed with the normal execution order outside the loop.</p></div></div>