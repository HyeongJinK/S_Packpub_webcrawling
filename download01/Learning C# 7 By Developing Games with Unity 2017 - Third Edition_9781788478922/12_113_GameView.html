<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch12lvl1sec109"></a>GameView</h2></div></div><hr /></div><p>It's a great time to add more UI to the game! I have prepared the second one for you–<code class="literal">InGameCanvas</code>. Yet again, you have to download and import <code class="literal">InGameCanvas.unitypackage</code>.</p><p>Import the aforementioned package and drag the newly created <code class="literal">InGameCanvas.prefab</code> file on top of the UI game object.</p><p><code class="literal">InGameCanvas</code> should appear as a child of the UI game object. It will be invisible for now, but don't worry about it too much at the moment. We will need to add a bit of code to manage the visibility of <code class="literal">InGameCanvas</code> and <code class="literal">MenuCanvas</code>.</p><p>As I have mentioned before, the plan is to show only one UI view at a time to the user. In this way, we will avoid confusion created by multiple layers of a UI on top of each other. When the user is using the menu, only <code class="literal">MenuCanvas</code> should be visible. When the user is in the game, only <code class="literal">inGameCanvas</code> should be visible. Simple!</p><p>Let's add a few lines of code to trigger this behavior.</p><p>In the <code class="literal">GameManager</code> class, add another <code class="literal">Canvas</code> type public variable and call it <code class="literal">inGameCanvas</code>. We will use this reference to control the enabled state in exactly the same way as we did for <code class="literal">menuCanvas</code>. Find the <code class="literal">SetGameState</code> function and edit it so that it looks like <span>this</span>:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/4efbab2e-3a0f-4b3c-bc14-31516d643c2d.png" /></div><p>Make sure that this time you connect the <code class="literal">inGameCanvas</code> slot in the inspector to the right game object. Press <strong class="userinput"><code>Play</code></strong> in Unity to preview the behavior. If everything works as it should, <code class="literal">MenuCanvas</code> will disappear as soon as we press the <strong class="userinput"><code>Play</code></strong> button and <code class="literal">inGameCanvas</code> will appear.</p><p>Great! It all works fine. The views are switching properly. In the game, the view isn't doing any work at the moment. The score, collected coins, and high score always display zero values. We will take care of this in the next chapter.</p><p>I hope it's clear to you how to create additional views for our game. We are missing one more view, <code class="literal">GameOverView</code>. I would like you to import it and implement it yourself as an exercise. You can find <code class="literal">GameOverView</code> on the Packt hub. I have named the file <code class="literal">GameOverCanvas.unitypackage</code>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch12lvl2sec68"></a>Game over</h3></div></div></div><p>Testing the UI is crucial. To test whether the GameOver view is presented to the user at the right time or not, we need a certain condition to happen. In this case, we are calling game over as soon as the player dies in our game. Let's create the right conditions for this.</p><p>At the moment, we are using only one level piece, which is a straight ground level. To make things a bit more interesting and challenging, create a copy of the <code class="literal">LevelPieceBasic</code> game object and call it <code class="literal">LevelPieceHole</code>. Delete two sections of the floor and place the <code class="literal">KillCollider</code> prefab under the hole. Make sure that the <code class="literal">KillCollider</code> prefab is a child of the <code class="literal">LevelPieceHole</code> game <span>object</span>.</p><p>The last thing to do is add the newly created level piece into <code class="literal">LevelGenerator</code>. Add <code class="literal">LevelPieceHole</code> to the <strong class="userinput"><code>Level Prefabs</code></strong> list inside <code class="literal">LevelGeneratorCompon<span>en</span>t</code>:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/92c961fe-37ae-48b8-85fa-d6a4da85dd58.png" /></div><p>That's it! With these few steps, we have added a new level piece into the game. To test whether the game over canvas is being displayed at the right time or not, let the player fall down the hole.</p></div></div>