<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch13lvl1sec116"></a>Magic Points and Magic bar</h2></div></div><hr /></div><p><span class="strong"><strong>Magic Points</strong></span> has a different purpose than <span class="strong"><strong>Coins</strong></span> or <span class="strong"><strong>Health Points</strong></span>, usually, we use it to fire some powers, to do a special move, or any other cool thing that we might think of. It has a vivid purpose to collect them because it will change the gameplay, so at this point, we may assume that the way we create it is totally different–but actually no. As we saw previously, the way we collect objects in terms of functionality is the same, a character touches the collectable and receives the information that they have done that. Then we can choose what we want to do with that information, do we <span>simply</span> sum the number of objects that we collected to be used as a score, or will the object give the character some benefits such as more health or magic points.</p><p>When we think this way, we start to realize that our possibilities are now endless and we are able to create many things just by understanding the principles. Let's see how we could create a simple <span class="strong"><strong>Magic Bar</strong></span> or <span class="strong"><strong>Energy Bar</strong></span> that allows our character to jump higher, for example.</p><p>The first thing we do is duplicate the <span class="strong"><strong>Collectable</strong></span> script, rename the file to <span class="strong"><strong>MagicPoint</strong></span>, and then we change the <code class="literal">Collect()</code> part:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/939d4acc-9714-4240-8585-0e713717db6e.png" /></div><p>This sends the information to the character that they have collected a <span class="strong"><strong>Magic Point</strong></span>. Now, inside <code class="literal">PlayerController</code> we add an <code class="literal">int</code> variable with the name <code class="literal">magicPoints</code> and we add this <code class="literal">void CollectedMagic()</code> that <span>sums</span> the magic points:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/bf1c159f-2df0-4ada-a1c7-340fd8b113e8.png" /></div><p>Once we have this structure created, all we need to do is <span>define</span> what is possible to do with a certain amount of <span class="strong"><strong>Magic Points</strong></span>. Let's tell the character that he can jump higher if he has more than 5 <span class="strong"><strong>Magic Points</strong></span>.</p><p>To do that, we simply update the <code class="literal">Jump</code> function, saying that if the player presses the jump button and the character has less than <code class="literal">5</code> Magic Points, the jump will be normal, but if the player presses the jump button and the character has more than <code class="literal">5</code> Magic Points, the jump will be two times higher than normal, <code class="literal">(jumpForce*2)</code>:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/fba07573-40d6-4a28-8c89-c95be4e7b4bc.png" /></div><p>That's it, we have created a simple and functional system with <span class="strong"><strong>Magic Points</strong></span>, now if we want, we can define unique abilities that only happen when our character has a certain amount of <span class="strong"><strong>Magic</strong></span><span><span class="strong"><strong>Points</strong></span></span>. This is a great opportunity to explore what we have learned so far by trying to develop an ability all by yourself, personalizing the game to your taste.</p></div>