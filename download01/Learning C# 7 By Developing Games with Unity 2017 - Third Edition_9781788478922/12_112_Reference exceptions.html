<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch12lvl1sec108"></a>Reference exceptions</h2></div></div><hr /></div><p>Test the code by pressing <strong class="userinput"><code>Play</code></strong> in Unity and then clicking on the <strong class="userinput"><code>Play UI</code></strong> button. The <code class="literal">SetGameState</code> function that we just added to <code class="literal">GameManager</code> should hide the <code class="literal">MenuCanvas</code>. Oops! Something is wrong. Unity is displaying an error in the <strong class="userinput"><code>Console</code></strong> window. Something surely went wrong. Let's take a look at the red error message, which is shown <span>here</span>:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/07c6c36b-fedb-4ddc-a0a7-fb715ad5f3b7.png" /></div><p>In your programming career, you will come across many issues with the games or applications that you are creating. I have deliberately asked you to follow my steps to cause this issue. We will learn with experience. Beginners in programming often rely on luck while sorting out issues. They blindly change something, test again, and keep going in that loop until they fix the issue by pure luck, or simply give up on trying. This is a very bad approach to debugging. I want you to understand what the issue is. In most cases, Unity will try to give you an accurate description of the error in the Console. Once we face an issue, we will learn to understand what's wrong, and only then will we be able to fix the code issues. While learning something new, we will gain experience and write flawless code.</p><p>Let's take a look at the <strong class="userinput"><code>Console</code></strong> window again. As you can see, the console is divided into two sections:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>The top section</strong></span>: This displays all error and warning messages, usually with a short description</li><li style="list-style-type: disc"><span class="strong"><strong>The bottom section</strong></span>: This has a full description of an error or warning, with the stack trace message showing the sequence of nested functions called up to this point</li></ul></div><p>Our error says: <strong class="userinput"><code>UnassignedReferenceException: The variable menuCanvas of GameManager has not been assigned. You probably need to assign the menuCanvas variable of the GameManager script in the inspector.</code></strong></p><p>Hmm... To see the exact line that is throwing up the error, double-click on the error in the Console. MonoDevelop should open after a few seconds, selecting the line that is causing the <span>issue</span>:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/a9d711a0-3102-4cd9-bda4-573076f07912.jpg" /></div><p>The selected line is causing the issue</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip35"></a>Note</h3><p>Doubleâ€“click on the error in the Console. It will open up <code class="literal">MonoBehaviour</code> and highlight the exact line that is causing the issue.</p></div><p>We are not asking Unity to do much in this line. What we are trying to do is set the <strong class="userinput"><code>Canvas</code></strong> component stored under the <code class="literal">menuCanvas</code> variable name to <code class="literal">false</code>. What can go wrong then? An unassigned reference exception means Unity is trying to use a variable that is not properly assigned. I led you to this issue deliberately, as this is a very common mistake made by beginner programmers.</p><p>Still confused? Not sure what I mean? Select the <code class="literal">GameManager</code> game object and take a look at your <code class="literal">GameManager</code> component in the inspector, as <span>follows</span>:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/dd09eb7b-2261-4f38-87a2-1e866ea78172.png" /></div><p>It should be clear to you now. We forgot to connect the <strong class="userinput"><code>Menu Canvas</code></strong> slot with the <code class="literal">MenuCanvas</code> game object. To fix this, simply drag and drop the <code class="literal">MenuCanvas</code> game object into the <strong class="userinput"><code>Inspector</code></strong>, just as you did before.</p><p>Make sure that the <strong class="userinput"><code>Clear on Play</code></strong> toggle in your <strong class="userinput"><code>Console</code></strong> is switched on. Press <strong class="userinput"><code>Play</code></strong>. The error should disappear and everything should work as expected.</p><p>Great! We have created a Menu view with a simple, fully working button. The Menu view will be the first view seen by our user. It would be good to include a game name in this view.</p><p>Download and import <code class="literal">GameLogo.unitypackage</code> from the Packt hub. The <code class="literal">GameLogo</code> prefab will be imported into the <code class="literal">Assets/Prefabs/UI</code> folder. Simply drag and drop this prefab onto the <code class="literal">MenuCanvas</code> game <span>object</span>.</p><p>A very simple game logo will appear on the Menu Canvas!</p><p>Feel free to change the name of the game and anything else you wish. Hey! At the end of the day, this is your game, right!</p></div>