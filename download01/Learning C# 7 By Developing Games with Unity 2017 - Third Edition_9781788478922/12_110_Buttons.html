<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch12lvl1sec106"></a>Buttons</h2></div></div><hr /></div><p>One of the most common UI elements is a simple button. Pretty much all UI interfaces on the most commonly available Unity platforms contain buttons. The simplest interaction with a button is a click. You will now learn how to construct a button in Unity UI and call a certain method in the code when the button is clicked on.</p><p>To speed up your learning process, I have prepared ready–to–use UI elements.</p><p>Download and import <code class="literal">MenuViewUIElements.unitypackage</code> into your Unity project.</p><p>Unity will import a few useful assets with this package. In the <strong class="userinput"><code>Project</code></strong> view, find <code class="literal">Prefabs/UI/PlayButton.prefab</code> and drag it directly on top of the Menu Canvas, as shown here:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/7caaf7e3-5ebe-4eb3-8104-ed350212edf6.png" /></div><p>Also, do the same for <code class="literal">Prefabs/UI/QuitButton.prefab</code>. After dropping the prefabs, the <strong class="userinput"><code>PLAY</code></strong> and <strong class="userinput"><code>Quit</code></strong> buttons should appear on the canvas, like this:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/15055a1d-65ae-4d9d-a3c1-1e11bb3dd9c3.png" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch12lvl2sec67"></a>Basic button</h3></div></div></div><p>Even a basic button contains a few components, and for that reason it is important to learn about all the main functionalities of a button before creating one. First, we will talk about the visual parts that make up the simple labeled button, the <span class="strong"><strong>image</strong></span>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch12lvl3sec4"></a>The image</h4></div></div></div><p>Unity can draw 2D images on the UI canvas. Select your button and take a look at the <strong class="userinput"><code>Inspector</code></strong> window:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/b09748e2-6b34-4dda-a2b9-8751b7c61bb5.png" /></div><p>We are using the <strong class="userinput"><code>Image</code></strong> component on our button to give it a visual presence. In simple words, the <strong class="userinput"><code>Image</code></strong> component gives our button a background.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch12lvl3sec5"></a>The Button component</h4></div></div></div><p>The actual interaction with the button is controlled by the <strong class="userinput"><code>Button</code></strong> component:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/723bd776-2063-405d-a76a-d953b663fd8c.png" /></div><p>The <strong class="userinput"><code>Button</code></strong> control responds to a click from the user and is used to initiate or confirm an action. </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch12lvl3sec6"></a>Interaction</h4></div></div></div><p>This is our first button. Although it might not look very impressive, it's functional. To check how it works, click on <strong class="userinput"><code>Play</code></strong> in Unity and press the button in the game view.</p><p>At this stage, nothing will happen yet. But we can observe that the button is visually changing a little when you click on it:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/4bc175df-fc97-4d27-9edf-ff63dfe951a5.png" /></div><p>Now we need to assign an action to the button to call the part of code that we need.</p><p>All user interaction with Unity UI is driven by events. The button has one type of event already built into its component. It is the simple <code class="literal">OnClick</code> event:</p><div class="mediaobject"><img src="/graphics/9781788478922/graphics/9d1a6b52-77dc-4b8d-ab80-bcbbe4e599ae.png" /></div><p>The <code class="literal">OnClick</code> event is invoked when a user clicks on the button and releases it. At the moment, the list of methods that we want to invoke when the <code class="literal">OnClick</code> event happens is empty. That is why the button isn't doing anything useful. Let's hook it up with a method and see how it works.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch12lvl3sec7"></a>The Button action</h4></div></div></div><p>Unity's Event Systems are very flexible. The <code class="literal">OnClick</code> event allows you to call any public method in your code directly from the <strong class="userinput"><code>Button</code></strong> component. Follow the few simple steps given here to assign a specific method in the code that you want to call when the UI button is clicked on by the user:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Select the game object containing the <strong class="userinput"><code>Button</code></strong> component.</li><li>Press the <strong class="userinput"><code><strong class="userinput"><code>+</code></strong></code></strong> button in the <strong class="userinput"><code>Event</code></strong> section, as shown here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788478922/graphics/34939229-e3ae-4c5a-882a-bf68c6a11162.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Drag and drop the <code class="literal">GameObject</code> containing the script with the <code class="literal">public</code> method you want to call from the event. In this case, it is the <code class="literal">GameManager</code> game object. Drop <code class="literal">GameManager</code> into the <strong class="userinput"><code>Object</code></strong> field: </li></ol></div><div class="mediaobject"><img src="/graphics/9781788478922/graphics/51f8fceb-6dd8-40ea-83c6-26babfbb6366.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>From the function list, select the component name and then the method name of the function that you want to be called when the button is clicked on. Since we are creating the <strong class="userinput"><code>Play</code></strong> button, we will call the <code class="literal">StartGame()</code> function from <code class="literal">GameManager</code>, as shown here: </li></ol></div><div class="mediaobject"><img src="/graphics/9781788478922/graphics/ba27b6ce-54ac-4c30-ad95-012b3fac2afe.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note33"></a>Note</h3><p>If you cannot see your function on the function list, it probably means that <code class="literal">EventSystem</code> cannot access the function as it is private. Change the access modifier to <code class="literal">public</code>.</p></div><p>We now have all the bits and pieces we need for the button to work. We have set up the <strong class="userinput"><code>Canvas</code></strong> view to render UI elements. We have an <code class="literal">EventSystem</code> to process and trigger events caused by the user. And we also have the first event called when the user presses the <strong class="userinput"><code>Play</code></strong> button.</p><p>Let's test the <strong class="userinput"><code>Play</code></strong> button! Press <strong class="userinput"><code>Play</code></strong> in Unity and click on the green <strong class="userinput"><code>Play</code></strong> button in the Game view.</p><p>It's working! As soon as you press the <strong class="userinput"><code>Play</code></strong> button, the Event manager will invoke the <code class="literal">StartGame()</code> function, which is under <code class="literal">GameManager</code>, and the game will start.</p><p>The button is working great. However, something is not right. The user will expect the menu to disappear just after they've pressed the button. Let's get this sorted right away.</p></div></div></div>