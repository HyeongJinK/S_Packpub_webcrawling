<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec76"></a>Introduction to the program - Tiled and Tiled2Unity</h2></div></div><hr /></div><p>Essentially, tiled is a free 2D map editor that will save you a lot of time working on your levels and creating TileSets. It is a tool that makes it much easier to create a 2D level, instead of doing it within Unity by duplicating game objects. You can download Tiled by visiting the following link here: <a class="ulink" href="http://www.mapeditor.org/download.html" target="_blank">http://www.mapeditor.org/download.html</a>.</p><p>As the title suggests, we will also need to get another program called <code class="literal">Tiled2Unity</code>, which allows us to import levels that are made with Tiled. You can download the program by visiting the following link:<a class="ulink" href="http://www.seanba.com/tiled2unity" target="_blank">http://www.seanba.com/tiled2unity</a></p><p>Overall, the workflow follows this path: <strong class="userinput"><code>Tiled</code></strong> | <strong class="userinput"><code>Tiled2Unity</code></strong> | <strong class="userinput"><code>Unity</code></strong>.
Therefore, once you have installed both programs, you can begin first by opening up <strong class="userinput"><code>Tiled</code></strong>. In doing so, you should be greeted by the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/641ac1e0-2a13-4d4e-8912-50a3ad79216d.png" /></div><p>As you can see, there are two options: <strong class="userinput"><code>New Map</code></strong> and <strong class="userinput"><code>New Tileset</code></strong>.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><strong class="userinput"><code>New Map</code></strong>: This will allow you to create a new space to create your game environment. This will be the space where we will be placing our tiles.</li><li style="list-style-type: disc"><strong class="userinput"><code>New Tileset</code></strong>: This will allow you to create a set of different tiles based on an image that has been made for use as a Tileset. What this means is that the tiles themselves have been placed in such a way that they conform to a grid. Therefore, when you import a Tileset into Tiled, the image will be automatically sliced based on a grid size that you specify. We will explore this in a little bit.</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note37"></a>Note</h3><p>As the name suggests, Tilesets could be described as a group of themed images, each one of them being a building block for a map. By using them all together, it's possible to easily create many maps based on the same theme, hence reducing the workload.</p></div><p>For now, we want to create a <strong class="userinput"><code>New Map</code></strong>. You will see a screen like the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/6ab70b1d-e6ef-4dbc-9b69-a66f2ac2f8eb.png" /></div><p>As you can see in this screenshot, there are a few different variables:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Orientation</strong></span>: This setting tells us the type of map we will use. In this case, an <strong class="userinput"><code>Orthogonal</code></strong> map means that it is straight and not skewed like other maps, such as an isometric map would be.</li><li style="list-style-type: disc"><strong class="userinput"><code>Tile render order</code></strong>: This is a setting for orthogonal maps only. What it does is it renders the tiles in a particular direction.</li><li style="list-style-type: disc"><span class="strong"><strong>Map size</strong></span>: This specifies how big the game map will be:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><strong class="userinput"><code>Width</code></strong> and <strong class="userinput"><code>Height</code></strong>: The size of the map will be dependent on the size that you set your Tiles to. The larger the tile size, typically, the larger your map will be.</li></ul></div></li><li style="list-style-type: disc"><span class="strong"><strong>Tile size</strong></span>: This is how large each tile is on the tileset. These are generally determined by the tileset, as they will already have a set dimension for each tile. Don't worry if you have parts of a tileset that are made up of more than one tile. You will be able to combine multiple tiles later, once we have created the tileset. This will be discussed later in this chapter.
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><strong class="userinput"><code>Width</code></strong> and <strong class="userinput"><code>Height</code></strong>: These values are set in pixels.</li></ul></div></li></ul></div><p>Make sure that you pay attention to the settings here. We will be using the following for our new map. Once you have changed the following values (<strong class="userinput"><code>Tile Layer Format</code></strong>, <strong class="userinput"><code>Map Size</code></strong>, and <strong class="userinput"><code>Tile Size</code></strong>), click <strong class="userinput"><code>Save As…</code></strong> and save it with your project files.</p><p>Now, you should see something like the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/b8998b32-1292-40ff-972f-a69beeb670c4.png" /></div><p>Looking at the bottom right-hand side of the window, you will see <strong class="userinput"><code>Tilesets</code></strong>. Here, we will need to create a new one. To do this, click on the new Tileset icon, as highlighted in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/c56d5199-42cc-41b5-a125-1bac12bf2a30.png" /></div><p>Once you have done this, you will see a pop-up like the one in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/29477b92-923a-4b66-af27-bf1fc4623ee1.png" /></div><p>Before we start adding values, we will have a quick overview of each of the settings so that you can understand what each of them does:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><strong class="userinput"><code>Tileset</code></strong><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><strong class="userinput"><code>Name</code></strong>: What you want your Tileset to be called. Remember to keep the naming conventions consistent with what you will or are using in Unity.</li><li style="list-style-type: disc"><strong class="userinput"><code>Type</code></strong>: The number of images that are used to create your Tileset, either a single image (Tileset Image) or a collection of images. For this tutorial, we will be using a single image.</li></ul></div></li><li style="list-style-type: disc"><strong class="userinput"><code>Image</code></strong><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><strong class="userinput"><code>Source</code></strong>: Location of the image on your computer.</li><li style="list-style-type: disc"><strong class="userinput"><code>Use transparent color</code></strong>: Specify a color that should always remain transparent. This is usually not an issue if your image is saved with a transparent (alpha) layer such as with a <code class="literal">.png</code> format. However, in some cases, it is also possible that an image will specify a transparent color that is highly contrasted to the colors within the Tileset as the key color for transparency.</li><li style="list-style-type: disc"><strong class="userinput"><code>Tile width</code></strong> and <strong class="userinput"><code>Tile height</code></strong>: As specified before, this is how large each tile will be, and is usually determined already by the Tileset.</li><li style="list-style-type: disc"><strong class="userinput"><code>Margin</code></strong>: This is any spacing that is around the tile.</li><li style="list-style-type: disc"><strong class="userinput"><code>Spacing</code></strong>: If there is space between the tiles, this is where you would specify it.</li></ul></div></li></ul></div><p>
Here, we will need to give our Tileset a name and link it to the source image (where you saved the asset pack). Once you have named your Tileset and provided the Source, click <strong class="userinput"><code>Save As…</code></strong> to continue.</p><p>Now, you should see something like the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/8d9263df-e777-4d52-822a-77a85bcb43ab.png" /></div><p></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note38"></a>Note</h3><p>Just like you would when you're renovating your bathroom, you will want a guide or grid that will make sure each tile that is placed will align and be distributed evenly in conjunction with the other ones. To have such luxury within Tiled, go to <strong class="userinput"><code>View</code></strong> in the top navigation menu and in the drop-down list, make sure that <strong class="userinput"><code>Snap to Grid</code></strong> and <strong class="userinput"><code>Snap to Fine Grid</code></strong> are selected, like in the following screenshot: </p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/f5646844-706f-4981-b871-c2bd26e5c380.png" /></div></div><p>With this done, now comes the fun part... level construction!</p><p>The limitations of this process are only that of your imagination. Now, in the main screen in Tiled, you can begin to construct your level by selecting the tiles within the Tileset. To do this, simply:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Select which tile you wish to use from the <strong class="userinput"><code>Tilesets</code></strong> panel.</li><li>Inside the <strong class="userinput"><code>TileMap</code></strong> space, hold or click with the left mouse button where you want to position them within the map. You can think of this process like using a brush, and by selecting a specific tile it can be painted onto the level canvas.</li></ol></div><p>After doing this, you can end up with something like the following screenshot. For now, just experiment:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/204f6f5d-d028-469f-b3b8-0be67b650757.png" /></div><p>Above in an example of the level within Tiled using Sprites from the RETROformer Sprite Sheet.</p><p>If some objects are larger than a single tile, you can select multiple tiles at one time by holding down <span class="emphasis"><em>Ctrl</em></span> and clicking on the tiles. They will be highlighted, like in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/be421aa3-8dce-49b3-93cb-f3b3187aa34a.png" /></div><p><span>You can experiment with what you have just learned so that you can get used to the way Tiled works. Place them anywhere and everywhere as you please. Once you've got a feel for Tiled, let's move on to creating our first level.</span></p><p><span>If you have placed a tile(s) and wish to remove it, you can do so by clicking the eraser icon as highlighted in the following screenshot, or pressing</span><span class="emphasis"><em>E</em></span><span>on the keyboard:</span></p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/5277ef69-ec8b-4084-ad26-3a1fb2307227.png" /></div><p>Once you are done, simply click the stamp icon, as highlighted in the following screenshot, or by pressing <span class="emphasis"><em>B</em></span> on the keyboard:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/b8f2ec39-886b-4287-9c5e-604c366b8f45.png" /></div><p><span>Once you feel comfortable with using Tiled, we are ready to begin creating the level that we will use within our game. To begin, we will create a simple path with very few terrain features (</span><span><span>hills</span></span><span>, bottomless pits, for example</span><span>). For now, this level will be simple so that we can learn how to implement it into Unity. Once we have this process down, you're more than welcome to spend a lot more time on refining your level and making it as detailed or complex as you wish.</span></p><p><span>In our game, we will have two different kinds of materials: Terrain and Water. At this stage, it is important to learn that we can separate the two types by placing them on different layers. If you look towards the top-right corner of Tiled, you will see the</span><strong class="userinput"><code>Layers</code></strong> panel, like in t<span>he following screenshot:</span></p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/593d8169-f0d2-4246-9b9b-b84f3252f59e.png" /></div><p>We will need to create a layer of both the water and the terrain. Since we already have one layer, let's create a second layer. We can do this by selecting the <span class="strong"><strong>New Layer</strong></span> icon, and selecting <strong class="userinput"><code>Tile Layer,</code></strong> like in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/9d29cfa5-6f1a-4379-a560-607dfd5f7668.png" /></div><p>Now, we should have two layers, like the following screenshot. It is important to remember that the order of each layer plays a role in terms of rendering, which will also be the reason that the bottom layer <strong class="userinput"><code>Tile Layer 1</code></strong> will be the layer containing the water tiles:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/f3990df8-9d6b-4dea-9a2c-0e1009c87c05.png" /></div><p>We need to rename them so that one is <code class="literal">Terrain</code> and one is <code class="literal">Water</code>. To do this:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Right-click on <strong class="userinput"><code>Tile Layer 1</code></strong> and select <strong class="userinput"><code>Layer Properties</code></strong>.</li><li style="list-style-type: disc">The <strong class="userinput"><code>Layer Properties</code></strong> panel should appear on the left-hand side of the screen (as seen in the following screenshot). Here, you can change the layer name. In this case, we will call it <code class="literal">Terrain</code>. Follow the same process for <strong class="userinput"><code>Tile Layer 2</code></strong>, and rename it <code class="literal">Water</code>:</li></ul></div><div class="mediaobject"><img src="/graphics/9781786460271/graphics/8962deff-69cc-4141-a9c5-45f5cc042eba.png" /></div><p>Once you're done, you will need to swap the layers so that the <code class="literal">Water</code><span class="emphasis"><em> </em></span>layer is under the <code class="literal">Terrain</code> one. You can do this by simply clicking on the layer that you want to move, and then dragging it above or below the others within the <strong class="userinput"><code>Layers</code></strong> panel. Once you have moved the <code class="literal">Water</code> layer to the bottom, your <strong class="userinput"><code>Layers</code></strong> panel should look like the following:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/dda01193-9728-445f-807d-a354bbd960e6.png" /></div><p>As you can see, there are also two other features in the <strong class="userinput"><code>Layers</code></strong> panel:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><strong class="userinput"><code>Opacity</code></strong>: This changes the level of transparency for the entire level. This is particularly helpful when you want to focus on a single layer, but want to know where the tiles are of another.</li><li><strong class="userinput"><code>Visible</code></strong>: Next to the layer name, you will see an eye icon. Toggle this on and off to change the visibility of the layer.</li></ol></div><p>Now, it's time to create our level. It is important to remember that when you drag any <strong class="userinput"><code>Terrain</code></strong> tiles, they are put onto the <strong class="userinput"><code>Terrain</code></strong> layer, and any <strong class="userinput"><code>Water</code></strong> tiles onto the <strong class="userinput"><code>Wate</code></strong>r layer. This will be important for later when we need to import it into Unity. The reason why it is important is that each layer has its own properties, which we can modify. That way, when we will use <code class="literal">Tiled2Unity</code> to import our maps into Unity, each layer's properties will then be applied to the game objects that will be automatically created. Essentially, this will save us a lot of time later from having to change each thing individually inside Unity. With this in mind, let's build our level. For our game, we will have a level that looks like the following screenshot. Feel free, though, to create something of your own as well:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/05726953-99fd-4e8c-83ea-09680c6a9307.png" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec104"></a>Mini-map</h3></div></div></div><p>A useful feature of Tiled to remember is the Mini-map. When your levels begin to get larger, it can be difficult to navigate around them. If you click on the <strong class="userinput"><code>Mini-map</code></strong> panel, you can pan around your map to navigate to other areas quickly. You can also do this by holding down the Spacebar + right-click to pan around the environment:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/f306666e-b4a2-47cb-ad78-0f8709458fc1.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note39"></a>Note</h3><p>One thing to keep in mind, especially if you have found some issues with a tile map while building your maps, is editing it. In fact, if you make even some minor tweaks (for example, changing colors, image details, and so on) to the original image, it won't cause any issues. However, be very cautious if you move the location of tiles. This is because when you re-import the image after you have modified it, the image will update while maintaining the positions of the tiles. So, for instance, if you have used a tile then moved it within the Tilemap source image, when you update the Tilemap, whatever is in the original location will replace all instances of the tile that was in the map before you reimported it.</p></div></div></div>