<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch11lvl1sec92"></a>Jump pads</h2></div></div><hr /></div><p>Up, up, and away with jump pads. These beautiful things give you that extra lift in precarious situations or when you can’t quite reach that ledge with the golden key. But how can we implement them?</p><p>If you are trying to simulate a material that has a lot of bounciness, such as the trampolines that you went on when you were a kid, then just create a material with a lot of bounciness. However, often in games, jump pads are more platforms in which if you jump from them, your jumping boost is enhanced. So, let's implement the possibility to place Jump Pads in our level.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch11lvl2sec111"></a>Creating the Jump Pad</h3></div></div></div><p>First of all, we need to create the Jump Pad. Our Graphical package comes with a very nice jump pad sprite:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/9cf38c01-b0d3-4edb-9d13-a60e5a8e9a55.png" /></div><p>First, drag one of them into the map. We need to add a collider in order to prevent the player from going on the Jump Pad. Then, create a child <span class="strong"><strong>gameobject </strong></span>and name it <strong class="userinput"><code>Jump Pad  Trigger Collider</code></strong>. Next, set as a <strong class="userinput"><code>Tag</code></strong> for this second game object <strong class="userinput"><code>Jump Pad</code></strong>. Add a collider as well, and adjust the <strong class="userinput"><code>Size</code></strong> and <strong class="userinput"><code>Offset</code></strong> in such a way that the collider is just above the Jump Pad. Also, check the <strong class="userinput"><code>isTrigger</code></strong> variable, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/6d18f358-4de8-4dfc-8e75-e494cba95d3c.png" /></div><p>This is how it should look in the game:</p><div class="mediaobject"><img src="/graphics/9781786460271/graphics/ed23f0f8-757a-4187-81f3-76558e8372cc.png" /></div><p>If you remember from the <span class="emphasis"><em>Angel Cakes</em></span> collecting system, when the player comes in contact with a cake, it is collected. This was done using a special Unity function named <strong class="userinput"><code>OnTriggerEnter2D</code></strong>, which detects when the player entered the collider of the cake. Here, we are going to do something similar.</p><p>Open the <strong class="userinput"><code>Movement Component</code></strong> script, and let's add a variable called <code class="literal">onJumpPad</code> of type bool:</p><pre class="programlisting">   private bool onJumpPad = false;</pre><p>Another variable is needed to determine how much the Jump Pad should push our hero up in the sky. A <span class="strong"><strong>serialized private float variable</strong></span> will do the trick:</p><pre class="programlisting">    [SerializeField]
    private float jumpPadMultiplier = 2;</pre><p>Then, we create the <code class="literal">OnTriggerEnter2D()</code>  function, in which we check whether the new collider has the tag <span class="strong"><strong>JumpPad</strong></span>, and if so, we set <code class="literal">onJumpPad</code> to true:</p><pre class="programlisting">   public void OnTriggerEnter2D(Collider2D collision) {
        if (collision.gameObject.CompareTag("JumpPad")) {
            onJumpPad = true;
        }
    }</pre><p>Similarly, we need a <code class="literal">OnTriggerExit2D()</code> function to disable the <code class="literal">onJumpPad</code> variable by setting it to <code class="literal">false</code>:</p><pre class="programlisting">   public void OnTriggerExit2D(Collider2D collision) {
        if (collision.gameObject.CompareTag("JumpPad")) {
            onJumpPad = false;
        }
    }</pre><p>Finally, in the <code class="literal">Jump()</code> function, we need to modify the code. If the <code class="literal">onJumpPad</code> variable is <code class="literal">true</code>, then the <code class="literal">JumpForce</code> is multiplied by the <code class="literal">JumpPadMultiplier</code> variable. As a result, if <code class="literal">onJumpPad</code> is true, then the force of the jump will be much more:</p><pre class="programlisting">   public void Jump() {
        //Check if the character can jump
        Debug.Log(Physics2D.Linecast(transform.position, 
        groundCheck.position, 1 
        &lt;&lt; LayerMask.NameToLayer("Ground")).collider);
        if (Physics2D.Linecast(transform.position, groundCheck.position, 1 
        &lt;&lt; LayerMask.NameToLayer("Ground"))) {
            if (rb2d.velocity.y &lt;= 0) {
<span class="strong"><strong>                //Perform the jump (multiply by jumpPadMultiplier if 
                   onJumpPad is true)
                   rb2d.AddForce(new Vector2
           (0f, onJumpPad ? jumpForce*jumpPadMultiplier : jumpForce));</strong></span>
            }
        }
    }</pre><p>Of course, the function will look a bit different if in the previous chapter you used the alternative version. In any case, it's not a problem, since you just need to substitute the highlighted code from the function you wrote. However, the way that we have written the modified <code class="literal">AddForce()</code> function above might still be confusing, due to the ternary operator <code class="literal">?</code>. Again, below is shown a simplified version, which does not use the ternary operator. Feel free to choose whatever version makes more sense to you:</p><pre class="programlisting">  public void Jump() {
        //Check if the character can jump
        Debug.Log(Physics2D.Linecast(transform.position, 
        groundCheck.position, 1 
        &lt;&lt; LayerMask.NameToLayer("Ground")).collider);
        if (Physics2D.Linecast(transform.position, groundCheck.position, 1 
        &lt;&lt; LayerMask.NameToLayer("Ground"))) {
            if (rb2d.velocity.y &lt;= 0) {
<span class="strong"><strong>                //Set the finalJumpForce to the current one
                float finalJumpForce = jumpForce;

                // Multiply the final jump force by jumpPadMultiplier
                // if player is on a jump pad.
                if (onJumpPad) finalJumpForce *= jumpPadMultiplier;

                //Perform the jump
                rb2d.AddForce(new Vector2(0f, finalJumpForce));</strong></span>
            }
        }
    }</pre><p>Save the script, and create a prefab of the Jump Pad you have just created. Place them in your level, and test that everything works as it should. Lastly, pat yourself on the back for your hard work.</p></div></div>