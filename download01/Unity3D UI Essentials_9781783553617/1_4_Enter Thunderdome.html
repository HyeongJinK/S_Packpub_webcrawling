<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec10"></a>Enter Thunderdome</h2></div></div><hr /></div><p>Now that <a id="id129" class="indexterm"></a>you've seen what Unity has had available for so long with the legacy GUI (and if you have experienced it you will undoubtedly shudder at this point), it is a very welcome relief that the UI system has received such an overhaul in Unity 4.6. It has been a long time coming and very much anticipated!</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note30"></a>Note</h3><p>Note that this section is just a preliminary overview so you know what's coming.  Each section will be described in depth in the following chapters. </p></div><p>Recognizing the need for change, Unity set upon the path of redesigning the GUI system from the ground up. They have looked at what games have needed, what the community has built (even with the limitations and restrictions of not having access to Unity's core) and then sprinkled some fairy dust and hey presto, the new <span class="strong"><strong>Unity UI</strong></span> system was born.</p><p>It has been <a id="id130" class="indexterm"></a>a long, hard road with many bumps in the way, but the journey has begun (I say begun because the <span class="strong"><strong>Unity UI</strong></span> journey does not end with Unity 4.6; it will continue to evolve into Unity 5 and beyond like many other components).</p><p>With a keen eye on the future, the new <span class="strong"><strong>Unity UI</strong></span> system delivers on several core points, namely:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Extensibility</strong></span>: Each and every control is a script and you can create new scripts to derive<a id="id131" class="indexterm"></a> from them and create your own controls.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Uses sprites</strong></span>: The new Unity UI system is predominately built on top of the new sprite system introduced in Unity 4.3. It has also however extended the sprite system with some new features as well.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Tight integration with GameObjects</strong></span>: Each control is a GameObject in its own right with the same capabilities as any other game object including the ability to add further components and/or scripts.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Exposed events</strong></span>: Each control has its own events which you can attach to and extend upon.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Tight integration with rendering and update loops</strong></span>: Because they are GameObjects, you can even override the default rendering and updating of a control.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Animation</strong></span>: Each control can be fully animated using the new Animator dope sheet and Mecanim. Some controls (such as the button) leverage Mecanim to do state-driven control. There are even animation specific events.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Screenspace AND WorldSpace</strong></span>: Finally UI can be drawn in 3D in a performant way that doesn't involve hacking the project together or having to use PRO-only features.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>FREE</strong></span>: Unity UI comes as standard as part of the free license version of Unity (indie developers rejoice).</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Open source</strong></span>: Unity <a id="id132" class="indexterm"></a>has made the source for the UI system open source and available for anyone to look at and even offer fixes / new suggestions, to coders delight.</p></li></ul></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec13"></a>New layouts</h3></div></div></div><p>The layout <a id="id133" class="indexterm"></a>features begin the story of the new <span class="strong"><strong>Unity UI</strong></span>; they set the <a id="id134" class="indexterm"></a>stage and ultimately define where controls will be drawn, in which direction they will be drawn, and also how they fit within a certain area.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec18"></a>Rect Transform</h4></div></div></div><p>Introduced<a id="id135" class="indexterm"></a> in 4.3 with the new Sprite functionality, the <span class="strong"><strong>Rect Transform</strong></span> component provides <a id="id136" class="indexterm"></a>a defining region for any 2D element within the Unity system. However, like most things in 4.6, it has received significant updates allowing more control over the area it manages as shown here:</p><div class="mediaobject"><img src="/graphics/9781783553617/graphics/3617OS_01_15.jpg" /></div><p>It also sports a new button in the editor (called the <span class="strong"><strong>Rect Tool</strong></span>) to edit and manage <span class="strong"><strong>Rect Transform</strong></span> from the scene view, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553617/graphics/3617OS_01_16.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec19"></a>The Canvas</h4></div></div></div><p>At the core of all <span class="strong"><strong>Unity UI</strong></span> drawings, is the new <span class="strong"><strong>Canvas</strong></span> control. It acts as the paint board for your <span class="strong"><strong>Unity UI</strong></span> controls (and even other canvases), once rendered the canvas is drawn to the relative point in your scene.</p><p>Thanks<a id="id137" class="indexterm"></a> to<a id="id138" class="indexterm"></a> vast improvements this canvas can be drawn in basic 2D overlay mode (same as the legacy GUI system), in 2D camera space (adding perspective), or even directly in 3D world space like as any other traditional 3D object (such as a rendertarget for UI) as shown here:</p><div class="mediaobject"><img src="/graphics/9781783553617/graphics/3617OS_01_17.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec20"></a>Groups</h4></div></div></div><a id="id139" class="indexterm"></a><p>In the legacy GUI, groups were defined by the controls themselves; if you<a id="id140" class="indexterm"></a> wanted to orientate multiple controls together in a particular fashion, you simply couldn't.</p><p>With the new <span class="strong"><strong>Unity UI</strong></span> system, you can define several layout groups.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch01lvl4sec10"></a>Horizontal Layout Group</h5></div></div></div><p>A <span class="strong"><strong>Horizontal Layout Group</strong></span> displays<a id="id141" class="indexterm"></a> items in a horizontal line:</p><div class="mediaobject"><img src="/graphics/9781783553617/graphics/3617OS_01_18.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch01lvl4sec11"></a>Vertical Layout Group</h5></div></div></div><p>A <span class="strong"><strong>Vertical Layout Group</strong></span> displays <a id="id142" class="indexterm"></a>controls in a vertical line:</p><div class="mediaobject"><img src="/graphics/9781783553617/graphics/3617OS_01_19.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch01lvl4sec12"></a>Grid Layout Group</h5></div></div></div><p>A <span class="strong"><strong>Grid Layout Group</strong></span> lays<a id="id143" class="indexterm"></a> out controls according to a grid-based pattern of rows and columns:</p><div class="mediaobject"><img src="/graphics/9781783553617/graphics/3617OS_01_20.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch01lvl4sec13"></a>Toggle Group</h5></div></div></div><p>A Toggle Group <a id="id144" class="indexterm"></a>manages arranges toggle controls in to a group where only one can be active at a time (Like a Multiple choice selection where only one option can be chosen).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch01lvl4sec14"></a>Canvas Group</h5></div></div></div><p>A <span class="strong"><strong>Canvas Group</strong></span> allows you to generically group child UI controls together and affect several common properties from the group, for example, the <span class="strong"><strong>Alpha</strong></span> value of all child items:</p><div class="mediaobject"><img src="/graphics/9781783553617/graphics/3617OS_01_21.jpg" /></div><p>We'll cover these in more detail in <a class="link" href="#" linkend="ch02">Chapter 2</a>, <span class="emphasis"><em>Building Layouts</em></span>.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec21"></a>Masking</h4></div></div></div><p>Recognizing <a id="id145" class="indexterm"></a>the need for generic masking capabilities within the new<a id="id146" class="indexterm"></a> Unity UI system (the ability to hide portions of UI within a certain region), they created a new Mask component. This can be added to any GameObject and any child objects outside the bounds of the parent GameObject would not be drawn, either partially or fully.</p><p>The <span class="strong"><strong>Image</strong></span> control (highlighted later in the chapter) also includes an additional masking feature, when the <code class="literal">Image Type</code> property of an image is set to <span class="strong"><strong>Filled</strong></span>; it gives several additional masking options to gradually bring the image into view. Just for reference now, we'll go into this in a lot more detail later.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec14"></a>New controls</h3></div></div></div><p>Something<a id="id147" class="indexterm"></a> old, something new, something borrowed, <a id="id148" class="indexterm"></a>something blue.</p><p>Obviously when we look at a GUI, there is only so much that is really needed and Unity has recognized this. Starting with a fresh slate, they have looked at what it means to create a stunning UI and what you need to build one.</p><p>So with this fresh start, here are the new <span class="strong"><strong>Unity UI</strong></span> controls:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col align="left" /><col align="left" /></colgroup><thead><tr><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">
<p>Control</p>
</th><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="" align="left" valign="top">
<p>Selectable</p>
<p>(only available in the component list)</p>
</td><td style="" align="left" valign="top">
<p>The <a id="id149" class="indexterm"></a>selectable component is the base object for anything that needs interaction, and it basically turns any other component<a id="id150" class="indexterm"></a> into a button. Note that it cannot be used on the same GameObject with something that is already selectable (button, toggle, and sliderbar).</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>Panel</p>
</td><td style="" align="left" valign="top">
<p>This<a id="id151" class="indexterm"></a> is a highlighted region, similar to the old <span class="strong"><strong>Box</strong></span> control, mainly used to define groups when additional components are added. When <span class="strong"><strong>Rect Transform</strong></span> alone is not enough. (Actually it’s an Image control with a preset image and set to full screen)</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>Text</p>
</td><td style="" align="left" valign="top">
<p>If <a id="id152" class="indexterm"></a>text is your aim, then this control is for you. It gives you text options like font, color, font style, and overflow. Can also be set to resize text to fit the container it is in.</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>Image</p>
</td><td style="" align="left" valign="top">
<p>This is<a id="id153" class="indexterm"></a> a basic image that can either use a sprite or material to display to the screen along with an optional color tint.</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>Raw Image</p>
</td><td style="" align="left" valign="top">
<p>This is<a id="id154" class="indexterm"></a> an alternate image display component that takes a texture instead of a sprite or a material and can define a color tint. Additionally has options to set the UV coordinates for the displayed image.</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>Button</p>
</td><td style="" align="left" valign="top">
<p>If you <a id="id155" class="indexterm"></a>need a big red (color optional) button to press, then this control is for you. The button has received the biggest overhaul by far with so many options it will likely take a chapter on its own to explain.</p>
<p>It also includes a new <span class="strong"><strong>UnityEven</strong></span>
<span class="strong"><strong>t</strong></span> framework that allows you to create behaviors that can affect other objects or scripts directly from the editor.</p>
<p>You can even set different colors for different states of the button, swap out images, or if you wish, use Mecanim and the new animation system to animate the button between states.</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>Toggle</p>
</td><td style="" align="left" valign="top">
<p>Switch it<a id="id156" class="indexterm"></a> on, switch it off. The toggle takes the button behavior and extends it as a prime example of what extensibility features are in the new UI framework. It adds additional properties to the button framework to identify the checkbox graphic and a grouping option should you want to group checkboxes (using a Toggle group).</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>Scrollbar</p>
</td><td style="" align="left" valign="top">
<p>It slices, it <a id="id157" class="indexterm"></a>dices, it even slides as well. Your typical scroll bar with a handle, fully customizable with options to control the direction, minimum and maximum values, step size, and number of steps to slide between. Also includes the event system used for buttons for when the value changes.</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>Slider</p>
</td><td style="" align="left" valign="top">
<p>This is<a id="id158" class="indexterm"></a> a more advanced version of <span class="strong"><strong>Scrollbar</strong></span> with fill options (for a filling cereal bar) so you can build the fanciest health bar with ease.</p>
</td></tr></tbody></table></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec15"></a>New UnityEvent system</h3></div></div></div><p>Unity has <a id="id159" class="indexterm"></a>always lacked a good and robust event system. Sure <a id="id160" class="indexterm"></a>there are the <code class="literal">SendMessage</code> and <code class="literal">BroadcastMessage</code> functions, but these are really slow and can be expensive.</p><p>The new <span class="strong"><strong>UnityEvent</strong></span> System is built around providing and handling all events with a scene, primarily for the new UI system; but like everything else in Unity 4.x, it is built to be extensible, and you can enhance your own components and scripts to expose themselves automatically to the event system and derive new events when things happen.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note31"></a>Note</h3><p>A note about UI events in the new Unity UI system: the interaction events all rely on raycasting to detect clicks, touches, hovering, and so on. It is very fast and efficient. However, if you build a new UI component that cannot react to raycasting, then it won't be recognized or respond to such interaction events.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec16"></a>Control extensibility</h3></div></div></div><p>One <a id="id161" class="indexterm"></a>very cool feature of the new UI system is that <a id="id162" class="indexterm"></a>practically every component is a script, meaning it can be used as the base for any new scripts you create. You can either use them as is or even extend them further.</p><p>In <a class="link" href="#" linkend="ch06">Chapter 6</a>, <span class="emphasis"><em>Working with the UI Source</em></span>, we will cover the coding behind all these components including a walk through the open source library. I'll even throw in a load of examples and reusable components from the community and myself.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec17"></a>Animation</h3></div></div></div><p>A core<a id="id163" class="indexterm"></a> tenant of the new UI system (since it is built upon the <a id="id164" class="indexterm"></a>core of the new 2D sprite system) was animation. Every single control or component of the new Unity UI system is able to be fully animated.</p><p>Not only that, but it also gives different modes for how properties can be animated, from static fixed values to dynamic values that will alter and update with the controls behavior.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec18"></a>Even the Asset Store has you covered</h3></div></div></div><p>Through<a id="id165" class="indexterm"></a> the dark of the <span class="emphasis"><em>beta</em></span> process, which many developers participated in. Several worthy asset creators worked feverishly to update their craft to make use of the new UI system ready for release. Some existing projects were greatly enhanced and even some new toolkits.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip13"></a>Tip</h3><p>Note that these recommendations are from my own experiences through the beta evolution of the new UI system. I've worked with (and against at times) a lot of things described in this section.</p><p>I most certainly am not being paid to highlight these, they are just the best out there solving very unique gaps or limitations of the new UI system to date (however, Unity isn't sitting still, so these teams better keep up!).</p><p>No doubt I'll mention more of them on my blog as I find them.</p></div><p>I'll point these out again in some of the chapters where you will get the most use out of them or where they are relevant.</p><p>The most notable assets at the time of writing are the following.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec22"></a>TextMeshPro ($65)</h4></div></div></div><p>This is a fantastic text management system that helps to bridge the gaps and the limitations in Unity's aging text rendering system. Unity themselves have noted on several occasions they <a id="id166" class="indexterm"></a>want to rip out the text system and replace it with something better, until that happens, the best asset to help with text generation from within Unity (not just getting an artist to build lots of text assets) is <span class="strong"><strong>TextMeshPro</strong></span>.</p><p>TextMeshPro has been around for quite a while now and has run with the leaders to get it updated for the new UI system but the author didn't stop there. TextMeshPro has gone far and beyond its humble text rendering beginnings to add such features as improved alignment/indentation and rich text support, even adding vertex animation for the generated text! (Just check out <a class="ulink" href="http://bit.ly/TextMeshProAnimation" target="_blank">http://bit.ly/TextMeshProAnimation</a>.)</p><p>You can<a id="id167" class="indexterm"></a> find TextMeshPro on the asset store here: <a class="ulink" href="http://bit.ly/UnityUITextMeshPro" target="_blank">http://bit.ly/UnityUITextMeshPro</a>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec23"></a>GUI Generator ($40)</h4></div></div></div><p>Building <a id="id168" class="indexterm"></a>clean and efficient UIs in Unity have always been a strain (just look at this chapter!), this is where GUI Generator comes in, starting with the old GUI, then adapting to also handle NGUI and now the new Unity UI system. It's a quick and advanced tool to clean up the look and feel of your UI (no, it doesn't build your UI for you, it styles it!).</p><p>It also has many built-in effects you can add to your UI to make it stunning. Like TextMeshPro, the author has been working hard through the <span class="emphasis"><em>beta</em></span> to get this great tool updated to handle the new UI elements and skin them to great effect.</p><p>You can find <a id="id169" class="indexterm"></a>GUI Generator on the asset store here: <a class="ulink" href="http://bit.ly/UnityUIGUIGenerator" target="_blank">http://bit.ly/UnityUIGUIGenerator</a>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec24"></a>MenuPage ($10)</h4></div></div></div><p>Not every<a id="id170" class="indexterm"></a> asset for the new UI has to be a big beast of a tool meant to<a id="id171" class="indexterm"></a> save you hours, sometimes you just need something to get you off the ground and using the new UI with great effect. This is where MenuPage comes in.</p><p>Put simply it's a new asset on the store aimed at building menu systems using the new UI system automatically. They are fully configured, laid out effectively and offer some advanced features such as fading, transitions, and much more.</p><p>What's even better is that all the source code is there and is fully documented/commented, so you can learn from some of the best coders out there purveying their wares.</p><p>You can find MenuPage on the asset store here: <a class="ulink" href="http://bit.ly/UnityUIMenuPage" target="_blank">http://bit.ly/UnityUIMenuPage</a>.</p></div></div></div>