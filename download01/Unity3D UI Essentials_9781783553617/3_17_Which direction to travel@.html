<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec22"></a>Which direction to travel?</h2></div></div><hr /></div><p>There are times in <a id="id438" class="indexterm"></a>life when you reach a fork in the road and need to decide which way to turn; here's where the Toggle control comes in, making a binary decision much more fun and snazzy (ok, maybe not).</p><p>There's not much one can actually say about a <span class="strong"><strong>Toggle</strong></span> control, it's on or it's off, job done. Well almost.</p><p>The <span class="strong"><strong>Toggle</strong></span>, like the <span class="strong"><strong>Button</strong></span> control, is built from several other controls and components, as shown here when it's added to the <span class="strong"><strong>Scene</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781783553617/graphics/3617OS_03_22.jpg" /></div><p>As you can see the <span class="strong"><strong>Toggle</strong></span> is a slightly more complex setup, comprising several parts:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The parent <span class="strong"><strong>Toggle</strong></span> GameObject</p></li><li style="list-style-type: disc"><p>A child <span class="strong"><strong>Background</strong></span> image for the <span class="strong"><strong>Toggle</strong></span> box (a Unity base image)</p></li><li style="list-style-type: disc"><p>A child <span class="strong"><strong>Image</strong></span> of the <span class="strong"><strong>Background</strong></span> containing a <span class="strong"><strong>Checkmark</strong></span> sprite overlaying the toggle box</p></li><li style="list-style-type: disc"><p>A <span class="strong"><strong>Label</strong></span> offset to the right of the toggle box as a child of the <span class="strong"><strong>Background</strong></span>
</p></li></ul></div><p>This system is completely flexible and you can modify it to your needs as you wish, the default Unity version is basically just a quick example.</p><p>Looking at the <span class="strong"><strong>Toggle</strong></span> <a id="id439" class="indexterm"></a>component that was added to the parent object, we can glean what is actually needed for the Toggle to function:</p><div class="mediaobject"><img src="/graphics/9781783553617/graphics/3617OS_03_23.jpg" /></div><p>As we can see, the <span class="strong"><strong>Toggle</strong></span> has the same <span class="strong"><strong>Selectable</strong></span> component base as the <span class="strong"><strong>Button</strong></span> control and an event handler; this time however, it is using the <span class="strong"><strong>On Value Changed</strong></span> event instead of <span class="strong"><strong>Clicked</strong></span>.</p><p>The <span class="strong"><strong>Toggle</strong></span> specific options that are exposed (in the middle) give us a few capabilities:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Is On</strong></span>: This <a id="id440" class="indexterm"></a>determines the initial state of the <span class="strong"><strong>Toggle</strong></span>, active/checked</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Toggle Transition</strong></span>: This <a id="id441" class="indexterm"></a>controls how the toggle graphic enters and exits the view, blinkered on/off or fades in/out (default)</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note104"></a>Note</h3><p>There are only two options at present for the transition, I would have liked to see more or at least a Mecanim hook-in here. Hopefully, it'll be extended in future updates. If not, then you can always do it yourself.</p></div></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Graphic</strong></span>: This is <a id="id442" class="indexterm"></a>the sprite to use for the check image (<span class="emphasis"><em>not</em></span> the checkmark GameObject as shown previously, which is the checkmark background), this is the image that is turned on/off by the <span class="strong"><strong>Toggle</strong></span>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Group</strong></span>: We'll <a id="id443" class="indexterm"></a>cover this later, essentially, it allows for grouping of <span class="strong"><strong>Toggle</strong></span> options together, only allowing a single item in a group to be checked at a time</p></li></ul></div><p>So from the default setup that Unity gives you, all that is needed is a Toggle graphic and you're done, but as Unity shows, you should really think beyond that for a good UX.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec45"></a>Grouping toggles</h3></div></div></div><p>As described <a id="id444" class="indexterm"></a>earlier, in the <span class="strong"><strong>Toggle</strong></span> control's properties, multiple toggles can be grouped together under a single group. The net effect of a toggle group means that only one <span class="strong"><strong>Toggle</strong></span> within the group can be active (checked true) at a time. This is great for those multiple choice situations where there can only be one right answer.</p><p>Groups can be placed anywhere on the scene, the best option however, is to create a parent empty GameObject, add the <span class="strong"><strong>Toggle Group</strong></span> component to it, and then place each toggle that is part of the group as a child of this parent GameObject. For example:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In a new scene, create a <span class="strong"><strong>Canvas</strong></span> and add an empty <span class="strong"><strong>Empty</strong></span> <span class="strong"><strong>GameObject</strong></span> as its child. Name this new GameObject <span class="strong"><strong>Toggle Group</strong></span> <span class="strong"><strong>Parent</strong></span>.</p></li><li><p>Add the <span class="strong"><strong>Toggle Group</strong></span> component to the <span class="strong"><strong>Toggle Group</strong></span> <span class="strong"><strong>Parent</strong></span> GameObject.</p></li><li><p>Add a <span class="strong"><strong>Toggle</strong></span> control as a child of the <span class="strong"><strong>Toggle Group</strong></span> <span class="strong"><strong>Parent</strong></span> GameObject.</p></li><li><p>Select the <span class="strong"><strong>Toggle</strong></span> and drag the <span class="strong"><strong>Toggle Group</strong></span> <span class="strong"><strong>Parent</strong></span> to the <span class="strong"><strong>Group</strong></span> property of the <span class="strong"><strong>Toggle</strong></span> component.</p></li><li><p>Set the <span class="strong"><strong>Is On</strong></span> property to <span class="strong"><strong>False</strong></span> (unchecked).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note105"></a>Note</h3><p>The <span class="strong"><strong>Toggle Group</strong></span> script does <span class="emphasis"><em>not</em></span> check or manage the initial state of the Toggles it manages, only the selection logic is handled. So if all Toggles are <span class="strong"><strong>on/checked</strong></span> by default, then <span class="emphasis"><em>all</em></span> will be on when the scene starts. Only after all but one have been unselected by the user will the script control the selection.</p><p>If you want one set as the default, then just be sure that only that one is checked by default.</p></div></li><li><p>Duplicate the <span class="strong"><strong>Toggle</strong></span> GameObject a couple of times and reposition them in the scene.</p></li></ol></div><p>If you run the scene, you will see that by default all the <span class="strong"><strong>Toggles</strong></span> are unchecked, by clicking one <span class="strong"><strong>Toggle</strong></span> it will be selected. If you then select another <span class="strong"><strong>Toggle</strong></span>, then the previous <span class="strong"><strong>Toggle</strong></span> that <a id="id445" class="indexterm"></a>was selected is now unchecked as only one can be checked at a time.</p><p>You don't have to arrange the GameObjects this way, they can be anywhere in the scene. Just be sure to have your <span class="strong"><strong>Toggles</strong></span> in the scene that you want grouped together and set the same <span class="strong"><strong>Toggle Group</strong></span> GameObject as the <span class="strong"><strong>Group</strong></span> property of each <span class="strong"><strong>Toggle</strong></span>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec46"></a>Dynamic event properties</h3></div></div></div><p>In the <span class="strong"><strong>Button</strong></span> <a id="id446" class="indexterm"></a>control, you had an event that was a single actionâ€”click on this and do this; there was no additional information fed from the action to say anything about it.</p><p>With the <span class="strong"><strong>Toggle</strong></span> however, it has a <span class="strong"><strong>Boolean</strong></span> state, which means we have a potential input to use or pass to whatever action we wish to perform. These are referred to as <span class="strong"><strong>dynamic parameters </strong></span>and are exposed as separate options when we try to select an action on a <span class="strong"><strong>GameObject</strong></span>, as shown here:</p><div class="mediaobject"><img src="/graphics/9781783553617/graphics/3617OS_03_24.jpg" /><div class="caption"><p>The Event handler with a Toggle selected showing Dynamic (top) values and Fixed/Static (bottom) parameters</p></div></div><p>These additional <a id="id447" class="indexterm"></a>options are type specific to the value provided from the control, such as a <span class="strong"><strong>Boolean</strong></span> from a <span class="strong"><strong>Toggle</strong></span>. Other controls provide <code class="literal">floats</code> or <code class="literal">integers,</code> including the list of methods that accept the same data type as a parameter.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note106"></a>Note</h3><p>When you select these dynamic options, the Value field of the event action is disabled as the value comes from the control and not some user entered value.</p></div><p>This means it will use the current value or state of the control or property when calling a function or setting another property. For example, using the Boolean state of the checkbox to set the visibility of another GameObject on or off.</p></div></div>