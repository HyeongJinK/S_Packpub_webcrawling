<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec33"></a>The Canvas and Cameras</h2></div></div><hr /></div><p>So far, we have <a id="id513" class="indexterm"></a>purely dealt with the basic <span class="strong"><strong>Screen Space</strong></span> – <span class="strong"><strong>Overlay Canvas</strong></span>, working through the controls <a id="id514" class="indexterm"></a>and layout systems necessary to build our UI/UX. This is all crucial to understand the new UI and what it takes to paint your canvas.</p><p>The journey doesn't stop there, however. Once you have your painting (a nice, easy way to depict a complete Canvas with the new Unity UI), you can go further. You can opt to apply some camera perspective to how your fullscreen UI will be drawn or take your painting and simply hang it where you want it in your game world.</p><p>As with everything, there are tips and tricks to make the most out of this new system.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec52"></a>Screen Space and World Space</h3></div></div></div><p>Back in <a class="link" href="#" linkend="ch02">Chapter 2</a>, <span class="emphasis"><em>Building Layouts</em></span>, we walked over the canvas<a id="id515" class="indexterm"></a> options for <span class="strong"><strong>Screen Space – Camera</strong></span> and <span class="strong"><strong>World Space</strong></span> Canvases:</p><div class="mediaobject"><img src="/graphics/9781783553617/graphics/3617OS_05_01.jpg" /></div><p>Each has its own capabilities above and beyond what the basic flat screen drawing canvas offers us:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Screen Space – Camera</strong></span>: This <a id="id516" class="indexterm"></a>takes the flat-drawn canvas and applies camera effects, such as perspective, field of view, depth sorting, and culling, and then applies this through the rendering cycle to the Canvas. This results in a <span class="strong"><strong>3D</strong></span>-style-drawn <span class="strong"><strong>Canvas</strong></span> UI rather than a flat system.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note122"></a>Note</h3><p>Obviously, you could achieve the same effect by having your art assets created in a perspective view; however, this is time consuming and difficult to get right. It is far easier to have some high-fidelity flat images and then apply perspective while rendering (granted, there will likely be a lot of debate on the best <span class="emphasis"><em>Quality</em></span> path for this). </p></div></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>World Space</strong></span>: The <a id="id517" class="indexterm"></a>other (and much more anticipated) view is to take your <span class="strong"><strong>Canvas</strong></span> and embed it within <span class="strong"><strong>3D</strong></span> worlds. This could be a TV screen, a computer console, interactive conversation elements, or even an inventory UI attached to the player. These scenarios were possible in the Legacy GUI; however, they were difficult to manage and get the perspective <span class="emphasis"><em>just right</em></span>. Also, when text was used, scaling became a nightmare. All of this is so much easier now with <span class="strong"><strong>World Space</strong></span> Canvases.</p></li></ul></div><p>The Canvas, however, is<a id="id518" class="indexterm"></a> only part of the picture. To make these elements work in a 3D way, they need to work with Cameras in the scene, not just be a flat 2D surface drawn on top of the screen, as with <span class="strong"><strong>Screen Space – Overlay</strong></span> Canvases.</p><p>Cameras, when used with Canvases, fall into two categories:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Rendering cameras</p></li><li style="list-style-type: disc"><p>Event cameras</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec53"></a>Render cameras</h3></div></div></div><p>In canvases, such <a id="id519" class="indexterm"></a>as <span class="strong"><strong>Screen Space – Camera</strong></span>, a second camera is used to render the UI.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note124"></a>Note</h3><p>Actually, <span class="strong"><strong>Screen Space – Overlay</strong></span> Canvases do this under the hood but you don't get to control the camera settings; it is just another sprite layer drawn in the scene.</p></div><p>The camera is used to provide the rendering settings for the UI. This is independent of any other cameras in the scene, such as the <span class="strong"><strong>Main Camera</strong></span>.</p><p>As such, they can be placed <a id="id520" class="indexterm"></a>elsewhere in the scene (doesn't have to be in the same place or direction as <span class="strong"><strong>Main Camera</strong></span>) with their own settings, such as the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Clear flags</strong></span>: These <a id="id521" class="indexterm"></a>choose which part of the rendering path should be cleared (each frame)—this is set to <span class="emphasis"><em>Don't clear</em></span> by default so that the UI is drawn on top of the scene.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Culling Mask</strong></span>: This <a id="id522" class="indexterm"></a>chooses what elements to draw in the view of the camera—by default, this is set to UI only (it's recommended to keep it this way).</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Projection</strong></span>: Setting a <a id="id523" class="indexterm"></a>Perspective (3D) or Orthographic view (2D) – This should always be set to Perspective view, (which is the default) as an Orthographic will only give you the same as a <span class="strong"><strong>Screen Space – Overlay</strong></span> view.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Perspective Field of View</strong></span> (FOV): This<a id="id524" class="indexterm"></a> controls the amount of perspective viewing angle <a id="id525" class="indexterm"></a>in a camera's view, basically how bent the view appears.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note125"></a>Note</h3><p>You will likely tinker with this setting the most with <span class="strong"><strong>Screen Space – Overlay</strong></span> Canvases as it plays with the perspective depth drawing of the UI, either causing rotation angles to appear elongated or take elements laid on top of each other (with different Z transform value depths) to be drawn out of the screen.</p></div></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Viewport Rect</strong></span>: This<a id="id526" class="indexterm"></a> controls the size of the camera's viewport. Actually, playing with this is quite fun, but it will alter how the UI is presented and causes you a certain amount of rework. Set it and don't change it when building your UI.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Target Texture</strong></span>: This is <a id="id527" class="indexterm"></a>used to render this camera to a <span class="strong"><strong>RenderTexture</strong></span>. You can use this if you wish, but it would be far easier to use a <span class="strong"><strong>World Space</strong></span> Canvas. Only benefit is if you want the same UI painted all over the scene.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note126"></a>Note</h3><p>RenderTextures<a id="id528" class="indexterm"></a> are a Unity Pro license-only feature.</p></div></li><li style="list-style-type: disc"><p>Other rendering settings <span class="strong"><strong>(Depth</strong></span>, <span class="strong"><strong>Path</strong></span>, <span class="strong"><strong>Occlusion</strong></span> <span class="strong"><strong>Culling</strong></span>, and <span class="strong"><strong>HDR</strong></span>) can be set but do not provide any real value for UI systems. It's better to use the Canvas UI features.</p></li></ul></div><p>Basically, you will want to use the <span class="strong"><strong>Screen Space – Camera Canvas</strong></span> to liven up a flat UI or use it in conjunction with the Animation system to add an interactive 3D view to your UI.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip36"></a>Tip</h3><p>Remember, the entire UI system can be animated just like any other Sprite using the<a id="id529" class="indexterm"></a> Animation system. Play with it and you will have a lot of fun.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec54"></a>Event Cameras</h3></div></div></div><p>The <span class="strong"><strong>Event Camera</strong></span><a id="id530" class="indexterm"></a> is a lot simpler to explain. It is used by the UI system for <span class="strong"><strong>World Space</strong></span> canvases to determine which camera should be used by the <span class="strong"><strong>EventSystem</strong></span> for raycasting user input into the scene.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note127"></a>Note</h3><p>If you leave the <span class="strong"><strong>Event Camera</strong></span> blank (null), it will use the <span class="strong"><strong>Main Camera</strong></span> by default.</p></div><p>If you recall, in <a class="link" href="#" linkend="ch02">Chapter 2</a>, <span class="emphasis"><em>Building Layouts</em></span>, we determined where the mouse was and where the user clicked on or touched the screen by casting a ray (pointer) from the camera. It then passed through the scene in the direction the camera is facing until it hit either a UI element or passed straight through. This information was then passed back to the UI EventSystem for processing.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip37"></a>Tip</h3><p>In most cases, you may want to just use the default (<span class="strong"><strong>Main Camera</strong></span>). If, however, you are rendering your UI on a different camera, be sure to set it as the <span class="strong"><strong>Event Camera</strong></span> or none of your input will work.</p></div></div></div>