<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec43"></a>The animator controller</h2></div></div><hr /></div><p>Animation control is a <a id="id302" class="indexterm"></a>tedious and complicated process. Mandatory proficiency in programming for all developers who used the <span class="strong"><strong>Legacy</strong></span> animation system<a id="id303" class="indexterm"></a> pretty much resulted in animation control being fully delegated to programmers writing state machine codes. Well, that's not the case anymore. A little bit of coding is still required, however, it plays more of a support role since major work is now done in Visual Editor, which allows animators to take full control of how and when animations are played, setup transitions, limitations, and control them with conditions. This new system is known as Mecanim.</p><p>To avoid skepticism, I will stop singing the praises of the system itself and give you a hands-on experience of how it really works.</p><p>But before we do that, there are a<a id="id304" class="indexterm"></a> few things we need to take care of:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a prefab for the Robot and drag it into the scene.</p></li><li><p>Open <span class="strong"><strong>Asset Store</strong></span> by navigating to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Asset Store</strong></span> in the menu on top of the screen.</p></li><li><p>Type <span class="strong"><strong>Raw mocap data for Mecanim</strong></span> in the search field.</p></li><li><p>Select <span class="strong"><strong>Raw mocap data for Mecanim</strong></span> from the search result.</p></li><li><p>Click on the <span class="strong"><strong>Import</strong></span> button to download the package.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_06_01.jpg" /></div></li></ol></div><p>This package is provided for free by<a id="id305" class="indexterm"></a> <span class="strong"><strong>Unity Technologies</strong></span>.</p><p>If we click on our robot's<a id="id306" class="indexterm"></a> prefab right now we will see that it has a component attached to it called Animator. That's the Mecanim version of the Animation component for the Legacy system. However, unlike Animation, it doesn't store a list of clips; instead, it holds state machines in an Animator Controller object. In order to work with Mecanim, we need to create an object:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Click on <span class="strong"><strong>Create</strong></span> in the <span class="strong"><strong>Project</strong></span> window.</p></li><li><p>Select <span class="strong"><strong>Animator Controller</strong></span>.</p></li><li><p>Name it <span class="strong"><strong>CharacterController</strong></span>.</p></li><li><p>Assign it to the <span class="strong"><strong>Controller</strong></span> parameter of the <span class="strong"><strong>Animator</strong></span> component.</p></li><li><p>Make sure that <span class="strong"><strong>Apply Root Motion</strong></span> is checked.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_06_02.jpg" /></div></li></ol></div></div>