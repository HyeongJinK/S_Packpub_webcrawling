<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec56"></a>Lighting effects</h2></div></div><hr /></div><p>Unity lights support various<a id="id478" class="indexterm"></a> lighting effects, namely halos, cookies, and flares to simulate various tones or light types. Some of the standard packages contain additional materials that can be used to assist us in the upcoming examples.</p><p>We will use assets inside the <span class="strong"><strong>Effects</strong></span> folder to demonstrate the abilities of light cookies and flares.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec88"></a>Light cookies</h3></div></div></div><p>Default lighting doesn't <a id="id479" class="indexterm"></a>have any<a id="id480" class="indexterm"></a> texture; it simply emits the photons in specified directions with specified color. Getting a vivid effect of light shining through the mosaic surface can be achieved with light cookies.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_46.jpg" /></div><p>Light cookies, just <a id="id481" class="indexterm"></a>like projectors, are amazing at creating cheap light <a id="id482" class="indexterm"></a>effects, these grayscale textures will control your lighting and assist skillful artists at enhancing the level.</p><p>Assets from imported standard packages contain few very useful textures that can be applied to the light in order to create different effects:</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_47.jpg" /></div><p>
<span class="strong"><strong>Light Cookie</strong></span> is just <a id="id483" class="indexterm"></a>a grayscale texture with all the options to control it<a id="id484" class="indexterm"></a> assigned to the creation process and import settings. In the light options, you simply need to assign the texture to the <span class="strong"><strong>Cookie</strong></span> parameter in order for it to work.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_48.jpg" /></div><p>The <span class="strong"><strong>Cookie</strong></span> parameter will not show up if you have the <span class="strong"><strong>Baking</strong></span> parameter set to <span class="strong"><strong>Baked</strong></span>.</p><p>Despite its simplicity, there are few things that you need to keep in mind in order to get light cookies to work properly. To talk about that process, we will create a light cookie texture.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec32"></a>Creating light cookies</h4></div></div></div><p>The first thing to remember <a id="id485" class="indexterm"></a>is that all cookie textures need to be perfect squares. You will not be able to even assign a texture to the parameter if one side is bigger than the other.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_49.jpg" /></div><p>On the other hand, the size of the texture is completely up to you, although a power of 2 is strongly recommended.</p><p>As mentioned <a id="id486" class="indexterm"></a>earlier, the texture itself is a grayscale with <a id="id487" class="indexterm"></a>brighter color indicating the intensity of the light in that area. For this example, I will go with something impressionistic (or at least, I hope so):</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_50.jpg" /></div><p>One thing that you should watch out for is texture bleeding. That is a common problem for <span class="strong"><strong>Cookie</strong></span> textures that can be solved by leaving a black border around the edges of the image. If you see texture bleed, simply make that border thicker, which should solve the problem most of the time.</p><p>No alpha channel is required; we will simply ask Unity to generate one from grayscale.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_51.jpg" /></div><p>On texture <a id="id488" class="indexterm"></a>import, there are few options that we need to pay<a id="id489" class="indexterm"></a> extra attention to:</p><p>
<span class="strong"><strong>Texture Type</strong></span> should be set to <span class="strong"><strong>Cookie</strong></span>, needless to say, it's specifically created for that type of texture.</p><p>With the <span class="strong"><strong>Cookie</strong></span> texture type, we now get access to the <span class="strong"><strong>Light Type</strong></span> parameter, where we can make our texture adjust to a specific light type we are planning to use it on (otherwise we will not be able to use cookies with a Spot light).</p><p>Lastly, we need to check the <span class="strong"><strong>Alpha from Grayscale</strong></span> box to make sure that our alpha is set properly.</p><p>Now we can assign our texture to a <span class="strong"><strong>Cookie</strong></span> parameter of the <span class="strong"><strong>Light</strong></span> component and enjoy the effect.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_52.jpg" /></div><p>That is it! No <a id="id490" class="indexterm"></a>bleeding or other weird artifacts. Setting <span class="strong"><strong>Texture Type</strong></span> to <span class="strong"><strong>Cookie</strong></span> automatically sets it to <span class="strong"><strong>Clamp</strong></span> mode. Try to experiment with our own <a id="id491" class="indexterm"></a>textures and take a look at those available in the imported standard package.</p><p>One might wonder at this point as to whether they can achieve the same result with the projector and how they decide which one to use.</p><p>The short answer is that you can achieve a similar effect to a certain degree with a projector using the same texture. Although, the import setting will have to be changed by changing <span class="strong"><strong>Texture Type</strong></span> to <span class="strong"><strong>Texture</strong></span> or <span class="strong"><strong>Advanced</strong></span> and using <span class="strong"><strong>Projector/Light</strong></span> material; the proof of this is shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_53.jpg" /></div><p>However, there are some obvious limitations that you will not be able to workaround:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>
<span class="strong"><strong>Spot</strong></span> and <span class="strong"><strong>Point</strong></span> lights cannot be simulated this way.</p></li><li><p>
<span class="strong"><strong>Projector</strong></span> is not actually a light, it's just projecting a material; therefore, it has limited control over brightness and intensity.</p></li></ol></div><p>If you can live with these limitations and are simply in need of cheap dynamic (fake) light, then feel free to use a projector over a light cookie, otherwise, don't bother.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec89"></a>Flares and halos</h3></div></div></div><p>There are a couple of<a id="id492" class="indexterm"></a> interesting <a id="id493" class="indexterm"></a>effects that you can assign to lights.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec33"></a>Halo</h4></div></div></div><p>The most <a id="id494" class="indexterm"></a>simplistic is a <span class="strong"><strong>Halo</strong></span>.</p><p>To enable it, simply check the corresponding checkbox in the <span class="strong"><strong>Inspector</strong></span> window.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_54.jpg" /></div><p>This will draw a<a id="id495" class="indexterm"></a> spherical light<a id="id496" class="indexterm"></a> zone around the light source.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_55.jpg" /></div><p>This zone can be<a id="id497" class="indexterm"></a> controlled by the same parameters that control the light: radius, color and brightness are <a id="id498" class="indexterm"></a>tied to <span class="strong"><strong>Range</strong></span>, <span class="strong"><strong>Color</strong></span>, and <span class="strong"><strong>Intensity</strong></span>, respectively.</p><p>Halo is also not a light, just an effect; therefore, it can't replace a Point light.</p><p>The good news is that the Halo effect can be attached to other objects without light, but via the <span class="strong"><strong>Halo</strong></span> component (<span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Effects</strong></span> | <span class="strong"><strong>Halo</strong></span>).</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_56.jpg" /></div><p>The <span class="strong"><strong>Halo</strong></span> component options are fewer, but they serve a similar purpose and achieve similar results as the <span class="strong"><strong>Light</strong></span> component's counterparts.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec34"></a>Flare</h4></div></div></div><p>This one is a lot more <a id="id499" class="indexterm"></a>complicated to create; therefore, we will focus on those provided within the <a id="id500" class="indexterm"></a>standard package. The available flares have pretty amazing effects that can be used in various situations; here is how it enhances our level by applying <span class="strong"><strong>50mmZoom</strong></span> flare to a directional light representing the sun.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_57.jpg" /></div><p>Flare itself is a special asset of a type <span class="strong"><strong>Lens Flare</strong></span> and it can be created via the <span class="strong"><strong>Create</strong></span> menu of the <span class="strong"><strong>Project</strong></span> window or by going to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Lens Flare</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_58.jpg" /></div><p>In order to operate a flare, it requires a texture with image effects sliced in one of the six supported layouts (refer to the official documentation for more information about layouts). Here is a simple flare asset <span class="strong"><strong>Small Flare</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_59.jpg" /></div><p>The final result of <a id="id501" class="indexterm"></a>the flare is a composition of elements specified in the <span class="strong"><strong>Elements</strong></span> array. The<a id="id502" class="indexterm"></a> images for each element are specified by the <span class="strong"><strong>Image Index</strong></span> parameters. Image indexes are bound to the selected texture layout, with each layout storing pixel coordinates for each index. This is why you need to consider the texture layout whenever you are creating the texture for a flare and arrange images accordingly.</p><p>The following is an example of <span class="strong"><strong>1 Large 4 Small layout</strong></span> used for <span class="strong"><strong>Small Flare</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_60.jpg" /></div><p>Each individual <a id="id503" class="indexterm"></a>component can then be individually adjusted by element parameters. And<a id="id504" class="indexterm"></a> that is how flares work in a nutshell.</p><p>Just as with Halos, you can attach flares to any object with the <span class="strong"><strong>Lens Flare</strong></span> component (<span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Effects</strong></span> | <span class="strong"><strong>Lens Flare</strong></span>).</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_07_61.jpg" /></div><p>However, there<a id="id505" class="indexterm"></a> is one problem with that—flares are blocked by colliders, so make sure<a id="id506" class="indexterm"></a> you disable the collider on the object that has a lens component attached to it.</p><p>Another interesting effect is the one that flares have on directional light—flares will appear based on the camera position (in the case of the Sun, you need to look at the sun, with a <span class="strong"><strong>Main Camera</strong></span>, for a flare to appear). The <span class="strong"><strong>Lens Flare</strong></span> component can imitate that effect by checking the <span class="strong"><strong>Directional</strong></span> checkbox.</p></div></div></div>