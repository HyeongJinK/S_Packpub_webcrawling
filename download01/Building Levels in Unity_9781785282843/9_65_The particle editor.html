<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec63"></a>The particle editor</h2></div></div><hr /></div><p>Just like with most Unity <a id="id537" class="indexterm"></a>functionalities, you can create a particle system as a standalone GameObject by navigating to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Particle System</strong></span> or attach it to an existing GameObject as a component by navigating to <span class="strong"><strong>AddComponent</strong></span> | <span class="strong"><strong>Effects</strong></span> | <span class="strong"><strong>Particle System</strong></span>. It is quite a useful functionality for something like muzzle flashes from a gunfire. However, let's stick to the first option for now and take a look at how the particle system operates.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/04214_09_02.jpg" /></div><p>The <a id="id538" class="indexterm"></a>particle system control is an unfolded section at the top. This is where most basic and important controls are located that every particle system must have, so it makes sense to pause here and take a brief look at them:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Duration</strong></span>: This determines how long this <a id="id539" class="indexterm"></a>system will be emitting particles. This helps to control the length of one-shot effects, such as explosions.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Looping</strong></span>: As you might guess, this checkbox makes <span class="strong"><strong>Particle System</strong></span> emit over and over again. Apart from direct application, it's also useful to keep checked when testing particles for a continuous effect.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Prewarm</strong></span>: This allows you to start the particle system in the middle of a simulation. Whenever you activate a <span class="strong"><strong>Particle System</strong></span>, it will start emitting the particles from the source, and, if, let's say, you've created an explosion and want the dust cloud to rise up immediately, <span class="strong"><strong>Prewarm</strong></span> will allow you to achieve that. <span class="strong"><strong>Prewarm</strong></span> allows you to skip gradual emitting and start off right when the first particle gets to the end of its lifetime cycle. In order to activate <span class="strong"><strong>Prewarm</strong></span>, you need to have <span class="strong"><strong>Looping</strong></span> on. In the case of explosions, the code usually takes care of toggling <span class="strong"><strong>Looping</strong></span> to allow <span class="strong"><strong>Prewarm</strong></span> to be useable.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Start Delay</strong></span>: This is the opposite to <span class="strong"><strong>Prewarm</strong></span>. This parameter allows you to set a timed delay to emission of particles upon activation, useful if you have multiple particle types emitting by the same system and you want to set an offset for them (first explosion later on—dust cloud). This is disabled if you have <span class="strong"><strong>Prewarm</strong></span> checked.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Start Lifetime</strong></span>: This determines how long each emitted particle will exist in the scene before disappearing.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Start Speed</strong></span>: This is the initial speed of the particle upon emitting.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Start Size</strong></span>: This is the initial scale factor of the particle.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Start Rotation</strong></span>: This is the initial rotation.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Start Color</strong></span>: This allows you to add a diffuse color to particles.</p><p>One interesting thing to know about these <span class="strong"><strong>Start</strong></span> parameters is that they can be defined as a variable number, generated from a range or a constant.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/04214_09_03.jpg" /></div><p>By clicking on the triangle icon on the right side next to these parameters, you will open a drop-down menu with options to set these parameters:</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Constant</strong></span>: This is a<a id="id540" class="indexterm"></a> default option where you set a constant number</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Curve</strong></span>: This option will allow you to graph a relation between this number and a Duration parameter</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Random Between Two Constants</strong></span> and <span class="strong"><strong>Random Between Two Curves</strong></span>: These are the extensions of the previous two options that allow you to randomly pick a number from a certain range</p><p>A sound advice would be not to go too crazy with these numbers early on to avoid frustration given the number of options; it's easy to mess up.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Gravity Modifier</strong></span>: This sets the influence of the gravity on particles.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Inherit Velocity</strong></span>: This one is a little bit harder to explain, as it's only useful in very specific situations. Let's say we have a magical carriage on the move, perhaps it's taking Cinderella to the ball, and there are magical sparks emitting all around it and they form some kind of a trail as it moves. If we try to emit these particles right now, we will get a trail of them behind the carriage; however, if we tweak this parameter, the emitted particles will inherit part of the object's velocity and will start to get ahead of it. In order for it to work properly, you need to move the GameObject via a rigidbody and <span class="strong"><strong>Simulation Space</strong></span> needs to be set to <span class="strong"><strong>World</strong></span>. More about <span class="strong"><strong>rigidbody</strong></span> component in the next chapter.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Simulation Space</strong></span>: Will the particles be simulated in the <span class="strong"><strong>World</strong></span> or <span class="strong"><strong>Local</strong></span> space? A running and shooting soldier emitting muzzle fire effects should be simulated in Local space in order to move with the gun, but something like bullet shells should drop on the ground where they were emitted from, so they are better off being simulated in the world space.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Play On Awake</strong></span>: This starts the particle automatically upon object instantiation or entering the <span class="strong"><strong>Play</strong></span> mode.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Max Particles</strong></span>: This is<a id="id541" class="indexterm"></a> the maximum number of particles emitted from this source that can exist in the scene at any moment in time. Very useful for optimization—if the particle limit is met, the system will put emitting on a temporary halt.</p></li></ul></div><p>The rest of the options under <span class="strong"><strong>Particle System Control</strong></span> are optional modules that can be activated to add additional layers of control to the particle system. We will look into some of them in the next section of this chapter, but, ultimately, they are quite self-explanatory.</p><p>The latter part is a <span class="strong"><strong>Particle Editor</strong></span> that can be entered by pressing a corresponding button, <span class="strong"><strong>Open Editor…</strong></span>, in the top-right corner of the component. The <span class="strong"><strong>Particle Editor</strong></span> gives you control over multiple particle systems that are connected by the hierarchy; it's just a more comfortable way of dealing with particle systems.</p></div>