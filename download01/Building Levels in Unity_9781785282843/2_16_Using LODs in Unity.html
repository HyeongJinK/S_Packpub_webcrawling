<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec21"></a>Using LODs in Unity</h2></div></div><hr /></div><p>LOD stands for <span class="strong"><strong>Level of Details</strong></span>. This is an extremely useful <a id="id135" class="indexterm"></a>functionality<a id="id136" class="indexterm"></a> that allows you to optimize your game by switching highly detailed objects with those of a simpler geometry, based on their screen space.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note14"></a>Note</h3><p>LODs are toggled based on the percentage of game screen that is being occupied by the object, not just the camera distance, as is the case in many other programs.</p></div><p>In Unity, LOD is represented by an <span class="strong"><strong>LOD Group</strong></span> component.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec34"></a>How to prepare LODs</h3></div></div></div><p>In order to make <a id="id137" class="indexterm"></a>LODs work, you need to have the actual models—more precisely, multiple versions of the same model that scale down in polycount. Here are a few useful tips to follow when creating LOD models:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The number of versions is completely up to you as Unity will allow the creation of as many as you need.</p></li><li style="list-style-type: disc"><p>Keep object silhouettes relatively close so that players won't notice when models are being swapped.</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec35"></a>Setting up LODs in Unity</h3></div></div></div><p>To demonstrate <a id="id138" class="indexterm"></a>how LODs work, we are going to utilize meshes that<a id="id139" class="indexterm"></a> were imported with external package in the previous chapter. So make sure that you've successfully imported the package and have the <span class="strong"><strong>Chapter 2</strong></span> | <span class="strong"><strong>Ruin</strong></span> folder in the <span class="strong"><strong>Project</strong></span> window. To start up, let's do the following:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create an empty GameObject via <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Empty</strong></span> in the top menu.</p></li><li><p>Name it <span class="strong"><strong>LODParent</strong></span> (not mandatory).</p></li><li><p>Attach the <span class="strong"><strong>LOD Group</strong></span> component via <span class="strong"><strong>AddComponent</strong></span> | <span class="strong"><strong>Rendering</strong></span> | <span class="strong"><strong>LOD Group</strong></span>.</p></li></ol></div><p>As a rule of thumb, you don't attach the <span class="strong"><strong>LOD Group</strong></span> component to the actual GameObjects you will be using as LODs; instead, you attach it to the empty GameObject.</p><p>Let's take a look at the properties that are available for the LOD Group component in the <span class="strong"><strong>Inspector</strong></span> view.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_02_32.jpg" /></div><p>The LOD Groups at the top determine the number of LODs that this object has, and transition thresholds between them. As we've talked before, the switching is based on screen space and the percentages under the group names that represent the max point at which that particular LOD Group will be used.</p><p>You can create <a id="id140" class="indexterm"></a>more LOD Groups by:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Right-clicking on the <span class="strong"><strong>LOD Group</strong></span>.</p></li><li><p>Selecting <a id="id141" class="indexterm"></a>
<span class="strong"><strong>Insert before</strong></span>.</p></li></ol></div><p>Or, you can delete LOD Groups that you don't need by:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Right-clicking on the specific <span class="strong"><strong>LOD Group</strong></span>.</p></li><li><p>Selecting <span class="strong"><strong>Delete</strong></span>.</p></li></ol></div><p>Thresholds are not fixed, and you can adjust them by dragging the LOD Group border and adjusting it to your preferences.</p><p>The camera icon above LOD Groups is a slider that allows you to manually adjust your camera to see the transition between LOD Groups.</p><p>
<span class="strong"><strong>Renderers</strong></span> is a list of models that become visible when <span class="strong"><strong>LOD Group</strong></span> is active. To see them, select any LOD Group. You can add models there by clicking the <span class="strong"><strong>Add</strong></span> button, or just drag and drop the model you want in there. To remove models, simply click the minus icon at the bottom-left corner. Another way to assign models to LOD Groups is to drop them into the LOD Groups directly. Every time you add new models, you will get a message from Unity about parenting the selected object to the object with the LOD Group. This is not mandatory; however, it's recommended that you do so.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_02_33.jpg" /></div><p>
<span class="strong"><strong>Bounds</strong></span> allow you to recalculate the bound volume of the object after the addition of a new LOD level.</p><p>
<span class="strong"><strong>Lightmap Scale</strong></span> updates <span class="strong"><strong>Scale</strong></span> in the <span class="strong"><strong>Lightmap</strong></span> property of the lightmap whenever LOD bounds are recalculated.</p><p>Drag and drop <a id="id142" class="indexterm"></a>
<span class="strong"><strong>Ruin</strong></span> prefabs onto the respective <span class="strong"><strong>LOD Group</strong></span>—all except for the <a id="id143" class="indexterm"></a>
<span class="strong"><strong>Culled </strong></span>group. Culled is a point at which your model will be culled by the camera:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>
<span class="strong"><strong>Ruin_LOD1</strong></span> to <span class="strong"><strong>LOD0</strong></span>.</p></li><li><p>
<span class="strong"><strong>Ruin_LOD2</strong></span> to <span class="strong"><strong>LOD1</strong></span>.</p></li><li><p>
<span class="strong"><strong>Ruin_LOD3</strong></span> to <span class="strong"><strong>LOD2</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_02_34.jpg" /></div></li></ol></div><p>This will place the <span class="strong"><strong>Ruin</strong></span> GameObjects in place of <span class="strong"><strong>LODParent</strong></span> and indicate the <span class="strong"><strong>LOD</strong></span> Group that is currently being rendered. You can now test the LODs with the camera slider and see models toggle as you pass the threshold.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec36"></a>LODBias</h3></div></div></div><p>A lot of people are confused <a id="id144" class="indexterm"></a>when they use camera slider because models don't seem to change at their thresholds, but at random spots. If that's the case with you, don't panic; that only means that it's working as intended and is being affected by <span class="strong"><strong>LODBias</strong></span> parameter specified under <span class="strong"><strong>LOD</strong></span> Groups. LODBias is used to adjust LOD Group thresholds to the quality settings of the game: the higher number will scale the amount of screen space required for LOD Group to change.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>To adjust LODBias, go to <span class="strong"><strong>Edit</strong></span> | <span class="strong"><strong>Project settings</strong></span> | <span class="strong"><strong>Quality settings</strong></span>.</p></li><li><p>Now, select your <a id="id145" class="indexterm"></a>current quality level and change the <span class="strong"><strong>LODBias</strong></span> parameter to <code class="literal">1</code>.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_02_35.jpg" /></div></li></ol></div><p>Now you should be good to go, and your GameObject swapping models should be at their designated places.</p><p>That's it for the LODs in Unity. You don't have to use them in your game, but they will definitely help to improve performance when used properly.</p></div></div>