<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec59"></a>Introduction to audio mixer</h2></div></div><hr /></div><p>Creating rich audio <a id="id522" class="indexterm"></a>effects and making them work is a tough task. Earlier, control over complex sound systems at runtime required a lot of programming support; besides that, the pipeline itself felt disorganized as audio designers would have all those individual audio sources stationed around the level, turning the process of managing them into quite a headache. Thankfully, developers at <span class="strong"><strong>Unity Technologies</strong></span>
<a id="id523" class="indexterm"></a> realized this issue and managed to come up with a solution in the form of the audio mixer.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec94"></a>How does it work?</h3></div></div></div><p>Making its debut with the <a id="id524" class="indexterm"></a>release of Unity 5, the audio mixer came a long way in addressing most of the annoying issues associated with audio management. We will see the application of that in a following example; however, first, let's take a look at what it consists of:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open the window called <span class="strong"><strong>Audio Mixer</strong></span> from the <span class="strong"><strong>Window</strong></span> tab at the top menu.</p></li><li><p>Once you get there, click on the <span class="strong"><strong>+</strong></span> sign next to <span class="strong"><strong>Mixers</strong></span>.</p></li></ol></div><p>This will create our first audio mixer that we will use to explain the general functionality of this feature. Just like any other window in Unity, you can dock it wherever you feel comfortable with, and you can also switch between two layouts: <span class="strong"><strong>Vertical</strong></span> and <span class="strong"><strong>Horizontal</strong></span> by right-clicking on the window and selecting the option from the drop-down menu.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_08_12.jpg" /></div><p>You should be able to see four elements that are the core of the audio mixing system as discussed in the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Mixers</strong></span>: They are the assets that are holding all the elements of the <span class="strong"><strong>Audio Mixer</strong></span> system. Upon creation, they appear in the <span class="strong"><strong>Project</strong></span> window.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Snapshots</strong></span>: They capture presets for all parameters in the <span class="strong"><strong>Audio Mixer</strong></span>. They are very useful; however, they can only be swapped at runtime with code.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Groups</strong></span>: They are the bread and butter of audio mixing. This is where the majority of all the parameters and controls are housed. They can store references to the <span class="strong"><strong>Audio Sources</strong></span> or control other groups by assigning effects and building hierarchies with them.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Views</strong></span>: They are<a id="id525" class="indexterm"></a> filters that allow you to showcase any particular set of groups that you are currently interested in. To do that, simply create a new <span class="strong"><strong>View</strong></span> and hide all groups that you aren't interested in by clicking on the eye icon next to them.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_08_13.jpg" /></div></li></ul></div><p>Before you are able to mix your sounds, you first need to set a reference for <span class="strong"><strong>Audio Sources</strong></span> to a particular <span class="strong"><strong>Group</strong></span>. To do that, you need to assign or drag and drop the <span class="strong"><strong>Audio Group</strong></span> to the <span class="strong"><strong>Output</strong></span> parameter of the <span class="strong"><strong>Audio Source</strong></span> that you want to modify.</p><p>Naturally, you will need to create an <span class="strong"><strong>Audio Group</strong></span> for it first, in the same way you created a <span class="strong"><strong>Mixer</strong></span> (by hitting the plus sign).</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_08_14.jpg" /></div><p>Now, everything you do with the group will directly affect the connected audio source.</p><p>Let's start practicing<a id="id526" class="indexterm"></a> with the audio mixer from here by creating a mix of ambient sounds in our outdoor scene:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Find the audio files by navigating to <span class="strong"><strong>Chapter 8</strong></span> | <span class="strong"><strong>Sound Effects</strong></span> and add the following into the scene by dragging and dropping them into an empty area: <span class="strong"><strong>Wind</strong></span>, <span class="strong"><strong>Birds</strong></span>, <span class="strong"><strong>River</strong></span>, <span class="strong"><strong>Waterfall</strong></span> and <span class="strong"><strong>Background Music</strong></span>.</p></li><li><p>Create an audio group for each of them in the <span class="strong"><strong>Audio Mixer</strong></span>.</p></li><li><p>Assign audio groups to their respective <span class="strong"><strong>Audio Sources</strong></span>.</p></li><li><p>Check the <span class="strong"><strong>Loop</strong></span> box in all the created <span class="strong"><strong>Audio Sources</strong></span>.</p></li><li><p>Set <span class="strong"><strong>Spatial Blend</strong></span> of <span class="strong"><strong>Waterfall</strong></span> sound to full 3D and <span class="strong"><strong>River</strong></span> sound in the middle.</p></li></ol></div><p>You should have something similar to the following screenshot by the end of it:</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_08_15.jpg" /></div><p>Make sure that all the <a id="id527" class="indexterm"></a>created audio groups are children to the master group and not of each other. When adding a new audio group, you should have the master group selected, as the audio mixer will always add a new group as a child of the currently selected one.</p><p>Once you enter a <span class="strong"><strong>Play</strong></span> mode, you will regret not turning your speakers down because these sounds will start playing simultaneously creating a terrible noise that is yet to be properly tuned.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec95"></a>Modifying at runtime</h3></div></div></div><p>Imagine if all the changes done<a id="id528" class="indexterm"></a> during the runtime are reverted as soon as you go out of the <span class="strong"><strong>Play</strong></span> mode. It has its benefits when dealing with visual objects, but with sounds, all we can see are parameters, and we can only change them if we are aware of the final result or just trying to find the right values. For that purpose, in the <span class="strong"><strong>Play</strong></span> mode, you are allowed to edit <span class="strong"><strong>Audio Mixers</strong></span> at runtime and save changes after getting out of the <span class="strong"><strong>Play</strong></span> mode, with the <span class="strong"><strong>Edit</strong></span> in <span class="strong"><strong>Play</strong></span> mode button. It will appear in the <span class="strong"><strong>Audio Mixer</strong></span> window as soon as you enter the <span class="strong"><strong>Play</strong></span> mode.</p><div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_08_16.jpg" /></div><p>Now you can adjust all the <a id="id529" class="indexterm"></a>sounds in the mix according to your preferences. There are three other options that you can use at this stage to help you find the right settings for each individual sound and they can be accessed via three buttons at the bottom of the <span class="strong"><strong>Audio Group</strong></span>, which are listed in the following table:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col align="left" /><col align="left" /></colgroup><thead><tr><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">
<p>Buttons</p>
</th><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_08_17.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Solo</strong></span> will mute all other groups and play sounds of this group.</p>
</td></tr><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_08_18.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Mute</strong></span> will mute the selected group.</p>
</td></tr><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785282843/graphics/B04214_08_19.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Bypass</strong></span> will ignore the effects applied to this group</p>
</td></tr></tbody></table></div><p>Once you are finished with editing, you can place 3D sounds like <span class="strong"><strong>River</strong></span> and <span class="strong"><strong>Waterfall</strong></span> in their respected places in<a id="id530" class="indexterm"></a> the level.</p></div></div>