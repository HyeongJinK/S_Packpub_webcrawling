<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec23"></a>Finding uses for FSMs</h2></div></div><hr /></div><p>Although we will primarily focus on using FSMs to implement AI in our <span>game</span><a id="id288183608" class="indexterm"></a> to make it more fun and interesting, it is important to point out that FSMs are widely used throughout game and software design and programming. In fact, the system in Unity 2017 that we'll be using was first introduced in the <span>Mecanim</span><a id="id288319750" class="indexterm"></a> animation system.</p><p>We can categorize many things into states in our daily lives. The most effective patterns in programming are those that mimic the simplicity of real-life designs, and FSMs are no different. Take a look around and you'll most likely notice a number of things in one of any number of possible states. For example, is there a light bulb nearby? A light bulb can be in one of two states—on or off (so long as we're not talking about one of those fancy dimming lights). Let's go back to grade school for a moment and think about the time when we were learning about the different states matter can be in. Water, for example, can be solid, liquid, or gas. Just as in the FSM pattern in programming where variables can trigger a state change, water's transition from one state to another is caused by heat:</p><div class="mediaobject"><img src="/graphics/9781788477901/graphics/1a91583d-0fff-4f01-b9e3-77cfd6fc19eb.png" /></div><p>The three distinct states of water
</p><p>Though there are no hard rules beyond those of our own implementation in programming design patterns, it is a characteristic of FSMs to be in one, and only one, state at any given time. With that said, transitions allow for a "hand-off", of sorts, between two states, just like ice slowly melts into water. Additionally, an agent can have multiple FSMs, driving any number of behaviors, and states can even contain state machines of their own—think Christopher Nolan's <span class="emphasis"><em>Inception</em></span>, but with state machines instead of dreams.</p><p>There are many different implementations and variants of the <span>FSM</span><a id="id288560728" class="indexterm"></a> in C# and Unity, many of which can be found in the Unity Asset Store, but they share a few key features:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">They define the various states that an object can be in</li><li style="list-style-type: disc">They provide a mechanism for transitioning from one state to another</li><li style="list-style-type: disc">They provide a way to define the rules that govern transitions</li></ul></div><p>Unity's Mecanim system, though intended originally for driving animations in a state-based manner, fits the bill quite well as it provides a lesser-known, more generic set of FSM features.</p></div>