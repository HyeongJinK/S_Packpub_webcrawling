<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec35"></a>Touching is believing</h2></div></div><hr /></div><p>The next sense we'll be implementing is <code class="literal">Touch.cs</code>, which triggers when the player tank entity is within a <span>certain</span><a id="id288183611" class="indexterm"></a> area near the AI entity. Our AI character has a box collider component and its <code class="literal">IsTrigger</code> flag is on.</p><p>We need to implement the <code class="literal">OnTriggerEnter</code> event, which will be called whenever another collider enters the collision area of this game object's collider. Since our tank entity also has a collider and rigid body components, collision events will be raised as soon as the colliders of the AI character and player tank collide.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip10"></a>Note</h3><p>Unity provides two other trigger events besides <code class="literal">OnTriggerEnter</code>: <code class="literal">OnTriggerExit</code> and <code class="literal">OnTriggerStay</code>. Use these to detect when a collider leaves a trigger, and to fire off every frame that a collider is inside the trigger, respectively.</p></div><p>The <span>code</span><a id="id288560721" class="indexterm"></a> in the <code class="literal">Touch.cs</code> file is as follows:</p><pre class="programlisting">using UnityEngine;

public class Touch : Sense
{
    void OnTriggerEnter(Collider other)
    {
        Aspect aspect = other.GetComponent&lt;Aspect&gt;();
        if (aspect != null)
        {
            //Check the aspect
            if (aspect.aspectType != aspectName)
            {
                print("Enemy Touch Detected");
            }
        }
    }
}</pre><p>Our sample NPC and tank have  <code class="literal">BoxCollider</code> components on them already. The NPC has its sensor collider set to <code class="literal">IsTrigger = true</code> . If you're setting up the scene on your own, make sure you add the <code class="literal">BoxCollider</code> component yourself, and that it covers a wide enough area to trigger easily for testing purposes. Our trigger can be seen in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781788477901/graphics/760818a4-9660-4294-b0bf-02b033de96ad.png" /></div><p>The collider around our player
</p><p>The previous screenshot shows the box collider on our enemy AI that we'll use to trigger the <span>touch</span><a id="id288563755" class="indexterm"></a> sense event. In the following screenshot, we can see how our AI character is set up:</p><div class="mediaobject"><img src="/graphics/9781788477901/graphics/9555597f-bec0-40f9-bfe8-a396d86809c5.png" /></div><p>The properties of our NPC
</p><p>For demo purposes, we just print out that the enemy aspect has been detected by the touch sense, but in your own games, you can implement any events and logic that you want. This system ties in really nicely with other concepts covered in this book, such as states, which we learned about in <a class="link" href="#" linkend="ch02">Chapter 2</a><span class="emphasis"><em>, Finite State Machines and You</em></span>.</p></div>