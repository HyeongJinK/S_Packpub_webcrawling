<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec14"></a>Quick Path AI</h2></div></div><hr /></div><p>Quick Path is<a id="id35" class="indexterm"></a> back again, with built-in capabilities to handle patrol. With its simple approach to AI, only a few straightforward steps are needed to get a scene finished. Here is a breakdown of these steps:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Making the world ready for patrol</p></li><li style="list-style-type: disc"><p>Setting up the patrol script</p></li></ul></div><p>We'll start by expanding on our world from <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Pathfinding</em></span> the quick path demo. Stretch out a couple of the blocks to make a larger surface area. Then, click on the terrain object (the parent of all the cubes forming the terrain), and in the <span class="strong"><strong>Inspector</strong></span>, click on the <span class="strong"><strong>Bake</strong></span> button. You can see what happens next in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553556/graphics/3556OT_02_01.jpg" /></div><p>If the <span class="strong"><strong>Bake</strong></span> function isn't covering all the areas, you'll need to check its grid dimensions. <span class="emphasis"><em>X</em></span> remains the <a id="id36" class="indexterm"></a>same in the world space, but <span class="emphasis"><em>Y</em></span> is actually the <span class="emphasis"><em>Z</em></span> axis. You might need to increase or decrease these numbers to cover everything in the scene:</p><div class="mediaobject"><img src="/graphics/9781783553556/graphics/3556OT_02_02.jpg" /></div><p>Quick Path converts the values of the <span class="emphasis"><em>Y</em></span> or<span class="emphasis"><em> Z</em></span> axis values internally. By default, it is set to <span class="emphasis"><em>Y</em></span> as the <span class="emphasis"><em>Up/Down</em></span> axis, but you can change this with the <span class="strong"><strong>Up Direction</strong></span> parameter.</p><p>Now that we have a larger surface area to work with, we'll get the NPC object set up to patrol. If the object still has the following script, you will need to remove it, but then add the Quick Path patrol script. Then, the first thing to do in the <span class="strong"><strong>Inspector</strong></span> panel for the patrol script is change the speed to <code class="literal">2</code>, as its default of 10 was rather fast.</p><p>Next, set <span class="strong"><strong>Spill Distance</strong></span> to <code class="literal">0.1</code>. <span class="strong"><strong>Spill Distance</strong></span> is how close you have to be to a waypoint before it picks the next waypoint as your target. If <span class="strong"><strong>Ping Pong</strong></span> is checked, the NPC will stop at the end of its path and backtrack. If it is unchecked, at the end of its path, it will target the first position and start over.</p><p>
<span class="strong"><strong>Pathfinding Between Points</strong></span> is<a id="id37" class="indexterm"></a> an option that helps it navigate around obstacles between waypoints. If your path is already clear, then you can keep this option off and save extra processing.</p><p>Finally, we have <span class="strong"><strong>Patrol Path</strong></span>, which houses the waypoints for the NPC to travel on. Increase this to <code class="literal">3</code>, and then set the waypoints. A trick to figure out the values is to move your NPC in <a id="id38" class="indexterm"></a>the scene to the waypoint positions that you want and then copy its position to one of the waypoints. So, select three points for your NPC to travel on. You can refer to the following screenshot for the settings:</p><div class="mediaobject"><img src="/graphics/9781783553556/graphics/3556OT_02_03.jpg" /></div><p>Now, your game is ready to run, with your NPC navigating a course that you just set up.</p></div>