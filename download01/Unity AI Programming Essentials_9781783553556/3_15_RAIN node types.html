<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec19"></a>RAIN node types</h2></div></div><hr /></div><p>For the<a id="id51" class="indexterm"></a> RAIN implementation of behavior trees, the behavior nodes are split into two categories: decisions and actions. Actions tell the AI system to actually do something; it is where the actual <span class="emphasis"><em>work</em></span> of the AI is done. The most common action is the one we saw in the previous chapters, <span class="strong"><strong>move</strong></span>, which tells the AI system to move a character. Besides move, here is a list of the current actions RAIN supports:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>The Choose patrol path and Choose path waypoints</strong></span>: These <a id="id52" class="indexterm"></a>nodes help to move the AI through a network of waypoints.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Detect</strong></span>: This finds<a id="id53" class="indexterm"></a> other AI entities and areas marked in a scene. This node will be covered in <a class="link" href="#" linkend="ch06">Chapter 6</a>, <span class="emphasis"><em>Sensors and Activities</em></span>.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>The Evaluate expression</strong></span>: This node evaluates some logic, using RAIN's custom <a id="id54" class="indexterm"></a>logic system. We will be discussing this node more in this chapter.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Animate and Mechanism</strong></span>: These animation nodes manage different animations playing on the entity. We'll look at this node type more in <a class="link" href="#" linkend="ch10">Chapter 10</a>, <span class="emphasis"><em>Animation and AI</em></span>.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Play audio</strong></span>: Plays<a id="id55" class="indexterm"></a> an audio sound for the entity.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Wait for timer</strong></span>: A <a id="id56" class="indexterm"></a>timer that will pause for a given number of seconds.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Yield</strong></span>: This<a id="id57" class="indexterm"></a> node stops executing the behavior tree in the frame. This is useful for spreading expensive AI computation over several frames.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Custom action</strong></span>: This<a id="id58" class="indexterm"></a> is used to create an action that can't be defined with the other nodes.</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note05"></a>Note</h3><p>Custom actions and decisions nodes are very useful to define AI behaviors that are unavailable with the default node types. We will look at an example of a custom action later in this chapter. Although creating custom nodes is more work, don't hesitate to use one if needed; part of making good AI is customizing things specific for your game.</p></div><p>Decision <a id="id59" class="indexterm"></a>nodes, as the name suggests, are used to decide how we traverse the tree. Actions are the final things the AI does, and decisions are used to determine which child nodes should be run:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Sequential</strong></span>: This <a id="id60" class="indexterm"></a>is the most straightforward decision node; it updates its children in an order until one of them fails.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Priority</strong></span>: This is <a id="id61" class="indexterm"></a>an action node that lets you set a priority, both when it's running and before it starts. A priority node will choose a child to run based on the different priorities of its children.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Selector</strong></span>: This<a id="id62" class="indexterm"></a> node keeps running through child nodes until one of them returns <code class="literal">true</code>.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Parallel</strong></span>: This<a id="id63" class="indexterm"></a> states to have its children nodes run at the same time. This is a common and useful node, and for cases such as a character walking to a goal and moving and animating the walk cycle, the entity needs to have a move and animate decision node running at the same time.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Iterator</strong></span>: This <a id="id64" class="indexterm"></a>is a <span class="emphasis"><em>repeat</em></span> node; it lets you specify that you want its children updated, not just once in an update, but a specified number of times.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Constraint</strong></span>: This <a id="id65" class="indexterm"></a>node lets us define a logical expression, a statement that returns true or false, to control the tree flow.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Custom decision</strong></span>: Like<a id="id66" class="indexterm"></a> a custom action, this lets you define a decision node specific to your game.</p></li></ul></div></div>