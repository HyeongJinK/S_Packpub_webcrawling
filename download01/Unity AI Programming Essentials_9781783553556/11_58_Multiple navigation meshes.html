<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch11lvl1sec54"></a>Multiple navigation meshes</h2></div></div><hr /></div><p>So far, we <a id="id354" class="indexterm"></a>have only looked at setting up a single navigation mesh in a scene, but navigation meshes are designed to be per character and not just one for the entire scene. We need multiple navigation meshes, but there is no field to directly set which navigation mesh to use for a character. Instead, RAIN uses a field <a id="id355" class="indexterm"></a>called <span class="strong"><strong>graph tags</strong></span> to correlate meshes with characters. To see how this works, let's add a second bridge to our scene that is larger and a second ship with double the scale. Here is an example setup:</p><div class="mediaobject"><img src="/graphics/9781783553556/graphics/3556OT_11_12.jpg" /></div><p>This is a demo scene setup with an additional larger ship and larger bridge. Regenerating the mesh gives us a path over both bridges:</p><div class="mediaobject"><img src="/graphics/9781783553556/graphics/3556OT_11_13.jpg" /></div><p>This is <a id="id356" class="indexterm"></a>a navigation mesh with a smaller walkable radius that can cross both bridges.</p><p>Any character using this mesh will be able to go across either bridge. For our larger character to not be able to cross the smaller bridge, we need to generate another mesh with a smaller <span class="strong"><strong>Walkable Radius</strong></span>. Create a second navigation mesh in the scene (<span class="strong"><strong>RAIN</strong></span> | <span class="strong"><strong>Create NavMesh</strong></span>). Rename the first navigation mesh to <code class="literal">Navigation Mesh Small</code> and the new one to <code class="literal">Navigation Mesh Large</code>. In the large one, set the <span class="strong"><strong>Walkable Radius</strong></span> parameter to <span class="strong"><strong>1.75</strong></span>. Generate this mesh and see how it goes over the second bridge but not the first:</p><div class="mediaobject"><img src="/graphics/9781783553556/graphics/3556OT_11_14.jpg" /></div><p>It is a <a id="id357" class="indexterm"></a>navigation mesh with a larger walkable radius that can cross one bridge.</p><p>Then, to match the meshes with the characters for <code class="literal">Navigation Mesh Small</code>, make sure that you are in <span class="strong"><strong>Advanced Settings</strong></span> and in <span class="strong"><strong>Graph Tags</strong></span>, add an element called <code class="literal">Small Ship</code>.</p><p>The following is a screenshot of a navigation mesh with a graph tag:</p><div class="mediaobject"><img src="/graphics/9781783553556/graphics/3556OT_11_15.jpg" /></div><p>Do the <a id="id358" class="indexterm"></a>same for <code class="literal">Navigation Mesh Large</code> with the <span class="strong"><strong>Graph Tags</strong></span> field set to <code class="literal">Large Ship</code>. Then, for the smaller ship character AI, go to the <span class="strong"><strong>Navigator</strong></span> tab and set its <span class="strong"><strong>Graph Tags</strong></span> field to <code class="literal">Small Ship</code>:</p><div class="mediaobject"><img src="/graphics/9781783553556/graphics/3556OT_11_16.jpg" /></div><p>This is <a id="id359" class="indexterm"></a>a ship navigator with a graph tag setup.</p><p>Do the same with <span class="strong"><strong>Graph Tags</strong></span> for larger ships. With the graph tags matched, if you run the demo now, the larger ship will not take the smaller bridge and go through the smaller one:</p><div class="mediaobject"><img src="/graphics/9781783553556/graphics/3556OT_11_17.jpg" /></div><p>This is<a id="id360" class="indexterm"></a> a demo with two ships. Only the larger ship can cross the larger bridge.</p></div>