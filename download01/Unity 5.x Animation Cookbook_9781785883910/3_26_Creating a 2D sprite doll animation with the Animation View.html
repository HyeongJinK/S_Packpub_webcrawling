<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec31"></a>Creating a 2D sprite doll animation with the Animation View</h2></div></div><hr /></div><p>In this recipe, we will use a different approach: a 2D sprite doll animation. It is based on creating a 2D doll character with all its limbs as separate sprites and then animating those sprites using Unity's <strong class="userinput"><code>Hierarchy</code></strong> and the <strong class="userinput"><code>Animation</code></strong> View.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec84"></a>Getting ready</h3></div></div></div><p>To create a 2D doll animation, first you need to prepare your character sprite sheet with all the limbs as separate sprites. See the following screenshot for reference:</p><div class="mediaobject"><img src="/graphics/9781785883910/graphics/c3aca3e1-e54d-4160-8831-be071d96d8a8.png" /></div><p>You can also use the example project, and go to the <code class="literal">Chapter 03 2D and user interface animation\Recipe 03 Creating a 2d sprite doll animation with the animation view</code> directory. You can find the <code class="literal">Example.unity</code> scene there, with a <strong class="userinput"><code>Warrior</code></strong> character already animated in the scene's <strong class="userinput"><code>Hierarchy</code></strong>. In the <code class="literal">Animation</code> directory, you can find a <code class="literal">Warrior.png</code> sprite sheet with all the body parts of the character.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec85"></a>How to do it...</h3></div></div></div><p>To create a 2D sprite doll style animation, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Import your character sprite sheet with all the body parts into Unity.</li><li>Select the sprite sheet and go to its <strong class="userinput"><code>Inspector</code></strong>.</li><li>Set the <strong class="userinput"><code>Sprite Mode</code></strong> to <strong class="userinput"><code>Multiple</code></strong> and click on the <strong class="userinput"><code>Apply</code></strong> button.</li><li>Click on the <strong class="userinput"><code>Sprite Editor</code></strong> button to open the <strong class="userinput"><code>Sprite Editor</code></strong>.</li><li>Click on the <strong class="userinput"><code>Slice</code></strong> button in the <strong class="userinput"><code>Sprite Editor</code></strong>. The <strong class="userinput"><code>Slice</code></strong> dialog will appear.</li><li>Set the <strong class="userinput"><code>Type</code></strong> do <strong class="userinput"><code>Automatic</code></strong>.</li><li>Click on the <strong class="userinput"><code>Slice</code></strong> button in the bottom of the <strong class="userinput"><code>Slice</code></strong> dialog.</li><li>In the <strong class="userinput"><code>Sprite Editor</code></strong>, adjust all the pivot points of the character's body parts. Body parts will be rotated around those pivot points in our animation. Try to have the pivot points in the joints of the limbs, as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781785883910/graphics/5e775110-ac30-4299-b8c2-7ed0b5385eea.png" /></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="9" type="1"><li>Click on the <strong class="userinput"><code>Apply</code></strong> button in the <strong class="userinput"><code>Sprite Editor</code></strong>.</li><li>Create an empty game object in the scene's <strong class="userinput"><code>Hierarchy</code></strong> and give it a descriptive name (<code class="literal">Warrior</code> in our example).</li><li>Drag and drop all the body parts from your character sprite sheet onto <strong class="userinput"><code>Warrior</code></strong> game object (you have to drag and drop one body part at a time because dragging multiple sprites will create an Animation Clip).</li><li>Rename the body parts for better clarity. In our example, we have <code class="literal">Hips</code>, <code class="literal">Chest</code>, <code class="literal">Head</code>, <code class="literal">FrontUpperArm</code>, <code class="literal">FrontLowerArm</code>, <code class="literal">Front Hand</code>, <code class="literal">BackUpperArm</code>, <code class="literal">BackLowerArm</code>, <code class="literal">BackHand</code>, <code class="literal">FrontUpperLeg</code>, <code class="literal">FrontLowerLeg</code>, <code class="literal">FrontFoot</code>, <code class="literal">BackUpperLeg</code>, <code class="literal">BackLowerLeg</code>, and <code class="literal">BackFoot</code>.</li><li>Build a humanoid hierarchy from all the body parts in the scene's <strong class="userinput"><code>Hierarchy</code></strong>, with the <strong class="userinput"><code>Warrior</code></strong> game object as the root. In our example, the hierarchy looks like the following:</li></ol></div><pre class="programlisting">        Warrior | Hips | Chest | Head 
        Chest | FrontUpperArm | FrontLowerArm | FrontHand 
        Chest | BackUpperArm | BackLowerArm | BackHand 
        Hips | FrontUpperLeg | FrontLowerLeg | FrontFoot 
        Hips | BackUpperLeg | BackLowerLeg | BackFoot </pre><div class="orderedlist"><ol class="orderedlist arabic" start="14" type="1"><li>Adjust the <strong class="userinput"><code>Order in Layer</code></strong> field for every <strong class="userinput"><code>Sprite Renderer</code></strong> component in every body part. In our example, body parts have this order:</li></ol></div><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col /><col /></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p></p></td><td class="auto-generated" style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>0</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">BackUpperArm</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>1</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">BackLowerArm</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>2</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">BackHand</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>3</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">BackUpperLeg</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>4</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">BackLowerLeg</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>5</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">BackFoot</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>6</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">FrontUpperLeg</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>7</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">FrontLowerLeg</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>8</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">FrontFoot</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>9</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">Head</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>10</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">Chest</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>11</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">Hips</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>12</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">FrontUpperArm</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>13</p></td><td style="border-bottom: 0.5pt solid ; "><p><code class="literal">FrontLowerArm</code></p></td></tr><tr><td style="border-right: 0.5pt solid ; "><p>14</p></td><td style=""><p><code class="literal">FrontHand</code></p></td></tr></tbody></table></div><div class="orderedlist"><ol class="orderedlist arabic" start="15" type="1"><li>Move the body parts to their "anatomical" positions to form the character, as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781785883910/graphics/ebccfbed-5593-4b43-a6eb-0a5d92d09876.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="16" type="1"><li>Select the <strong class="userinput"><code>Warrior</code></strong> game object (the root game object containing all the body parts).</li><li>Go to <strong class="userinput"><code>Window</code></strong> | <strong class="userinput"><code>Animation</code></strong>.</li><li>Create a new Animation Clip by clicking on the <strong class="userinput"><code>Create</code></strong> button in the <strong class="userinput"><code>Animation</code></strong> View.</li><li>Make sure the record button is pressed (upper left corner of the <strong class="userinput"><code>Animation</code></strong> View).</li><li>Animate the character by rotating its individual body parts.</li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec86"></a>How it works...</h3></div></div></div><p>Creating a 2D doll animation uses the same concept as shown in the <span class="emphasis"><em>Using the Hierarchy to animate local rotation - creating an orbiting planet</em></span> recipe in <span><a class="link" href="#" linkend="ch02">Chapter 2</a></span>, <span class="emphasis"><em>Working with the Animation View</em></span>. The key element of this recipe is the <strong class="userinput"><code>Warrior</code></strong> root game object containing all the body parts of our character as children game objects. When we select this object and open the <strong class="userinput"><code>Animation</code></strong> View, we can animate all its children game objects. The saved Animation Clip will be used by the <strong class="userinput"><code>Warrior</code></strong> game object's Animator Controller. That allows us to create complex hierarchical animations (such as this one) and save them as single Animation Clips.</p></div></div>