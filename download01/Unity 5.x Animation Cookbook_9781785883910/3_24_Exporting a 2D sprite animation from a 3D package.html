<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec29"></a>Exporting a 2D sprite animation from a 3D package</h2></div></div><hr /></div><p>Drawing animated <span>2D sprites</span><a id="id325289202" class="indexterm"></a> can be a challenge. Some artists create their characters in a 3D package and <span>export</span><a id="id325540334" class="indexterm"></a> them as 2D sprites to make the animation process easier. In this first recipe, we will create such a character and export it's animation as a sprite sheet.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec76"></a>Getting ready</h3></div></div></div><p>Before we start, you need to have an animated model in your chosen 3D package (we are using Blender). You can also download the provided example; open the project in Unity; go to the <code class="literal">Chapter 03 2D and user interface animation\Recipe 01 Exporting a 2d sprite animation from a 3d package</code> folder. You will find a scene called <code class="literal">Example.unity</code> there, with an animated coin sprite. In the <code class="literal">Animation</code> directory, you can find exported frames and a sprite sheet containing them. You can also find a <code class="literal">*.blend</code> file with the coin model; set to render out the animation.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec77"></a>How to do it...</h3></div></div></div><p>To export a 2D sprite animation from a 3D package and import it into Unity, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create an animated object in your chosen 3D package.</li><li>Set the camera to render out the animated object. The camera can be perspective or orthographic, depending on what you would like to achieve. In this example (a rotating coin), it is set to perspective to better show the animation. Try to have the center of your object in the center of the frame.</li><li>Render the animation into separate frames with a transparent background (often 12 frames per second is enough for a good quality sprite animation). Use a logical naming convention (for example, <code class="literal">frame_01.png</code>, <code class="literal">frame_02.png</code>, and so on). All the frames should have the same size in pixels.</li><li>Create a new image in a chosen image editing software (we are using GIMP in this recipe). The image should have a transparent background.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Count all your rendered frames and set the size of the newly created image to be big enough to contain all the rendered frames, one next to another (in columns and rows). For example, an image of 512 × 512 pixels size can contain up to 8 frames of 256 × 256 size, 16 frames of 128 × 128 size, or 32 frames of 64 × 64 size.</li><li><p>Place all the <span>frames</span><a id="id325550867" class="indexterm"></a> next to each <span>other</span><a id="id325550875" class="indexterm"></a> on the newly created image (in columns and rows), starting from the first frame, as shown in the following screenshot:</p></li></ol></div><div class="mediaobject"><img src="/graphics/9781785883910/graphics/b76d388c-2485-4b95-b7be-e25b91d375e2.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Export the image as a <code class="literal">*.png</code> file with transparent background.</li><li>Import the image to Unity (drag and drop it to the <strong class="userinput"><code>Project</code></strong> View or go to <strong class="userinput"><code>Assets</code></strong> | <strong class="userinput"><code>Import New Asset</code></strong> and choose the image file in the explorer).</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="9" type="1"><li>Select the imported file in the <strong class="userinput"><code>Project</code></strong> View and go to the <strong class="userinput"><code>Inspector</code></strong>. Set the <strong class="userinput"><code>Texture Type</code></strong> to <strong class="userinput"><code>Sprite (2d and UI)</code></strong>, as shown in the following screenshot:<div class="mediaobject"><img src="/graphics/9781785883910/graphics/528011e5-cc04-4216-b8e7-5342f32820e3.png" /></div></li><li>Set the <strong class="userinput"><code>Sprite <span>Mode</span><a id="id325289296" class="indexterm"></a></code></strong> to <strong class="userinput"><code>Multiple</code></strong>, click on the <strong class="userinput"><code>Apply</code></strong> button (to save the settings), and then click on the <strong class="userinput"><code>Sprite Editor</code></strong> button.</li><li>The <strong class="userinput"><code>Sprite Editor</code></strong><span>window</span><a id="id325289318" class="indexterm"></a> will open, as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781785883910/graphics/a3e1d039-f12a-4c49-922c-12e80f60c0e0.png" /></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="12" type="1"><li>Click on the <strong class="userinput"><code>Slice</code></strong> button, a dialog with additional settings will appear.</li><li>Set the <strong class="userinput"><code>Type</code></strong> to <strong class="userinput"><code>Automatic</code></strong>, <strong class="userinput"><code>Pivot</code></strong> to <strong class="userinput"><code>Center</code></strong>, and click on the <strong class="userinput"><code>Slice</code></strong> button.</li><li>To finish the editing, click on the <strong class="userinput"><code>Apply</code></strong> button and close the <strong class="userinput"><code>Sprite Editor</code></strong> window.</li><li>The texture asset <span>will</span><a id="id325289378" class="indexterm"></a> be turned into a sprite asset with all the frames as separate children: sprites with numbers added to their names, as shown in the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781785883910/graphics/462857d4-72f4-4aa7-94f3-e7522f4c5ce8.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="16" type="1"><li>You can use those children sprites as static 2D graphics or create an animation in the <strong class="userinput"><code>Animation</code></strong> View.</li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec78"></a>How it works...</h3></div></div></div><p>You can use animation frames rendered from a 3D package to create 2D sprites in Unity as long as those frames have transparent background. Combining those frames into a sprite sheet saves precious draw calls (sprites are treated as one texture) and makes your game run smoother on lower end devices. It is also easier to organize your project files if you combine sprites into sprite sheets. Unity can automatically split a sprite sheet with transparency into multiple sprites. It recognizes <span class="emphasis"><em>empty pixels</em></span> (transparent pixels) and isolates individual objects (or animation frames) quite effectively.</p><p>Unity can also automatically <span>pack</span><a id="id325289420" class="indexterm"></a> the sprites into a sprite sheet using the sprite packing feature. To pack sprites into an atlas, first make sure that packing is enabled. To do so, go to <strong class="userinput"><code>Edit</code></strong> | <strong class="userinput"><code>Project Settings</code></strong> | <strong class="userinput"><code>Editor</code></strong> and check the <strong class="userinput"><code>Sprite Packer Mode</code></strong>. You should change it to <strong class="userinput"><code>Always Enabled</code></strong>. Then select the sprites you want to pack into one atlas and give them the same <strong class="userinput"><code>Packing Tag</code></strong>. Finally, open the <strong class="userinput"><code>Sprite Packer</code></strong> (go to <strong class="userinput"><code>Window</code></strong> | <strong class="userinput"><code>Sprite Packer</code></strong>) and click on the <strong class="userinput"><code>Pack</code></strong> button. All sprites with the same <strong class="userinput"><code>Packing Tag</code></strong> will be packed together.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec79"></a>There's more...</h3></div></div></div><p>There are a few other, interesting options in the <strong class="userinput"><code>Sprite Editor</code></strong>:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong> </strong></span>In the <strong class="userinput"><code>Slice</code></strong> dialog, you can set the <strong class="userinput"><code>Type</code></strong> to:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><strong class="userinput"><code>Automatic</code></strong>: Unity will try to automatically slice the sprite sheet into individual sprites.</li><li style="list-style-type: disc"><strong class="userinput"><code>Grid By Cell Size</code></strong>: Unity will slice the sprite sheet into a grid with defined size of every cell in pixels. You can slice the sprite sheet into 64 × 64 pixel cells for instance</li><li style="list-style-type: disc"><strong class="userinput"><code>Grid By Cell Count</code></strong>: Unity will slice the sprite sheet into a grid of sprites with the given number of cells and rows</li></ul></div></li><li style="list-style-type: disc">You can also set the <strong class="userinput"><code>Pivot</code></strong> of each sprite in the <strong class="userinput"><code>Slice</code></strong> dialog. There are multiple options available for setting the pivot of each created sprite to the center of the sprite, right corner, left corner, and so on.</li><li style="list-style-type: disc">You can also trim each sprite manually when you select it. To do so, click on the border of the sprite and drag it.</li><li style="list-style-type: disc">You can adjust the pivot of each sprite in a similar way. Select the sprite in the <strong class="userinput"><code>Sprite Editor</code></strong>, click on its pivot (the blue circle), and drag it to change its position.</li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec80"></a>See also</h3></div></div></div><p>To create a sprite animation, see the next recipe.</p></div></div>