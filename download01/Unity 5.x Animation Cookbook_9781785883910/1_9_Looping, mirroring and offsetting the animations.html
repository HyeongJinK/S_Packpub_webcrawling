<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec16"></a>Looping, mirroring and offsetting the animations</h2></div></div><hr /></div><p>Unity allows editing the <span>animations</span><a id="id325289100" class="indexterm"></a> to some extent after they're imported. It can save a lot of work and greatly speed up your workflow.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec35"></a>Getting ready</h3></div></div></div><p>Before we start, you should prepare and import a <strong class="userinput"><code>Humanoid</code></strong> rig with at least one animation. You can also use the provided example Unity project and go to the <code class="literal">Chapter 01 Working with animations\Recipe 07 Looping mirroring and offsetting animations</code> directory. There is a scene called <code class="literal">Example.file</code> there. In the scene <strong class="userinput"><code>Hierarchy</code></strong>, you can find a <strong class="userinput"><code>Mirror</code></strong> game object. It has an attached <strong class="userinput"><code>Animator Controller</code></strong> in which you can find two <span>animations</span><a id="id325532116" class="indexterm"></a>: <strong class="userinput"><code>Wave</code></strong> and <strong class="userinput"><code>WaveMirror</code></strong>. In the <strong class="userinput"><code>Rigs</code></strong> directory, you will find the <code class="literal">Mirror.fbx</code> asset. If you select it and go to the <strong class="userinput"><code>Inspector</code></strong>, and to the <strong class="userinput"><code>Animations</code></strong> tab, you can find normal and mirrored animation examples, as well as looped animation examples (<strong class="userinput"><code>Idle</code></strong> and <strong class="userinput"><code>IdleMirror</code></strong>).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec36"></a>How to do it...</h3></div></div></div><p>To set an <span>animation</span><a id="id325532156" class="indexterm"></a> to <span class="emphasis"><em>loop</em></span>, you need to go through the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Select the animated asset and go to the <strong class="userinput"><code>Animations</code></strong> tab.</li><li>Check the <strong class="userinput"><code>Loop Time</code></strong> checkbox and click on the <strong class="userinput"><code>Apply</code></strong> button. The animation is looped.</li><li>If your animation's first and last frames don't match perfectly, you can force them to match with the <strong class="userinput"><code>Loop Pose</code></strong> checkbox. It is not recommended to use this option for animations that have matching first and last frames.</li></ol></div><p>To <span class="emphasis"><em>offset</em></span> an <span>animation</span><a id="id325535989" class="indexterm"></a>, you need to go through the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Select the animated asset and go to the <strong class="userinput"><code>Animations</code></strong> tab.</li><li>Select your animation and make it loop (<strong class="userinput"><code>Loop Time</code></strong> checkbox).</li><li>Enter a value in the <strong class="userinput"><code>Cycle Offset</code></strong> field, below the <strong class="userinput"><code>Loop Pose</code></strong> checkbox.</li><li>Click on the <strong class="userinput"><code>Apply</code></strong> button.</li></ol></div><p>To <span class="emphasis"><em>mirror</em></span> an <span>animation</span><a id="id325540340" class="indexterm"></a>, you need to go through the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Select the animated <strong class="userinput"><code>Humanoid</code></strong> asset and go to the <strong class="userinput"><code>Animations</code></strong> tab.</li><li>Find the <strong class="userinput"><code>Mirror</code></strong> checkbox on the bottom of the animation settings.</li><li>Check the <strong class="userinput"><code>Mirror</code></strong> checkbox and click on the <strong class="userinput"><code>Apply</code></strong> button. The animation is mirrored.</li><li>Mirroring animations works only for <strong class="userinput"><code>Humanoid</code></strong> rigs.</li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec37"></a>How it works...</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Looping animations</strong></span>: This is a common technique used for all cyclic movements (walk and run cycles, idle <span>animation</span><a id="id325549051" class="indexterm"></a>s, and so on). If you don't set an animation to loop, it will play once and freeze on the last frame.</li><li style="list-style-type: disc"><span class="strong"><strong>Offsetting <span>animation</span><a id="id325550874" class="indexterm"></a>s</strong></span>: Sometimes it is convenient to offset the cycle of a looped animation. It is often used with the <strong class="userinput"><code>Mirror</code></strong> option for steering animations (clips used to turn the character while moving). We will be showing that in the <span class="emphasis"><em>Using root motion to steer a character</em></span> recipe in <span><a class="link" href="#" linkend="ch04">Chapter 4</a></span>, <span class="emphasis"><em>Character Movement</em></span>.</li><li style="list-style-type: disc"><span class="strong"><strong>Mirroring <span>animation</span><a id="id325550904" class="indexterm"></a>s</strong></span>: This option works only with <strong class="userinput"><code>Humanoid</code></strong> rigs. It is used to flip the animation left to right and can save up to 50 percent of steering animations when combined with the <strong class="userinput"><code>Offset Cycle</code></strong> option.</li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec38"></a>There's more...</h3></div></div></div><p>You can also mirror and offset animation states in the <strong class="userinput"><code>Animator Controller</code></strong>. If you select an animation state and go to the <strong class="userinput"><code>Inspector</code></strong> tab, you can find the <strong class="userinput"><code>Mirror</code></strong> and <strong class="userinput"><code>Cycle Offset</code></strong> options. There is also an option to use <strong class="userinput"><code>Animator Controller</code></strong> parameters to switch the <strong class="userinput"><code>Mirror</code></strong> option on and off and set the <strong class="userinput"><code>Cycle Offset</code></strong>. You need to have a Boolean parameter defined for the <strong class="userinput"><code>Mirror</code></strong> option and a float parameter for the <strong class="userinput"><code>Cycle Offset</code></strong>. Those settings will be automatically synchronized with the parameters. Whenever you change a parameter value, the setting will also be changed.</p></div></div>