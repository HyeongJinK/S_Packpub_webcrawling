<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec12"></a>Finite State Machines</h2></div></div><hr /></div><p>
<span class="strong"><strong>Finite </strong></span>
<a id="id9" class="indexterm"></a>
<span class="strong"><strong>State Machines</strong></span> (<span class="strong"><strong>FSM</strong></span>) can be considered as one of the simplest AI models, and they are commonly used in games. A state machine basically consists of a set number of states that are connected in a graph by the transitions between them. A game entity starts with an initial state and then looks out for the events and rules that will trigger a transition to another state. A game entity can only be in exactly one state at any given time.</p><p>For example, let's take a look at an AI guard character in a typical shooting game. Its states could be as simple as patrolling, chasing, and shooting:</p><div class="mediaobject"><img src="/graphics/9781785288272/graphics/4204_01_01.jpg" /></div><p>There are basically <a id="id10" class="indexterm"></a>four components in a simple FSM:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>States</strong></span>: This <a id="id11" class="indexterm"></a>component defines a set of distinct states that a game entity or an NPC can choose from (patrol, chase, and shoot)</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Transitions</strong></span>: This <a id="id12" class="indexterm"></a>component defines relations between different states</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Rules</strong></span>: This <a id="id13" class="indexterm"></a>component is used to trigger a state transition (player on sight, close enough to attack, and lost/killed player)</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Events</strong></span>: This is <a id="id14" class="indexterm"></a>the component that will trigger to check the rules (guard's visible area, distance with the player, and so on)</p></li></ul></div><p>FSMs are a commonly used go-to AI pattern in game development because they are relatively easy to implement, visualize, and understand. Using simple if/else statements or switch statements, we can easily implement an FSM. It can get messy as we start to have more states and more transitions. We'll look at how to manage a simple FSM more in depth in <a class="link" href="#" linkend="ch02">Chapter 2</a>, <span class="emphasis"><em>Finite State Machines and You</em></span>.</p></div>