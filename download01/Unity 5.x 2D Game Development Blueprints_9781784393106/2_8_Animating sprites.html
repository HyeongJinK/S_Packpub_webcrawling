<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec12"></a>Animating sprites</h2></div></div><hr /></div><p>Creating and using animations for sprites is a bit easier than other parts of the development stage. By using animations and tools to animate our game, we have the ability to breathe some life into it. Let's start by creating a running animation for our player. There are two ways of creating animations in Unity: automatic clip creation and manual clip creation.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec10"></a>Automatic clip creation</h3></div></div></div><p>This is the recommended method for creating 2D animations. Here, Unity is able to create the entire animation for you with a single click.</p><p>If you navigate in the <span class="strong"><strong>Project Panel</strong></span> to <span class="strong"><strong>Platformer Pack</strong></span> | <span class="strong"><strong>Player</strong></span> | <span class="strong"><strong>p1_walk</strong></span>, you can find an animation sheet as a single file <code class="literal">p1_walk.png</code> and a folder of a PNG image for each frame of the animation. We will use the latter. The reason for this is because the single sprite sheet will not work perfectly as it is not optimized for Unity.</p><p>In the <span class="strong"><strong>Project Panel</strong></span>, create a new folder and rename it as <code class="literal">Animations</code>. Then, select all the JPG images in <span class="strong"><strong>Platformer Pack</strong></span> | <span class="strong"><strong>Player</strong></span> | <span class="strong"><strong>p1_walk</strong></span> | <span class="strong"><strong>PNG</strong></span> and drop them into the <span class="strong"><strong>Hierarchy</strong></span> Panel:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_02_001.jpg" /></div><p>
</p><p>A new window will appear that will give us the possibility to save them as a new animation in a folder that we choose. Let's save the animation in our new folder, titled <code class="literal">Animations</code>, as <code class="literal">WalkAnim</code>:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_02_002.jpg" /></div><p>
</p><p>After saving the animation, look in the <span class="strong"><strong>Project Panel</strong></span> next to the animation file. Now, there is another asset with the name of one of the dropped sprites. This is an <code class="literal">Animator Controller</code> and, as the name suggests, it is used to control the animation. Let's rename it to <code class="literal">PlayerAnimator</code> so that we can distinguish it later on.</p><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, a game object has been automatically created with the original name of our controller. If we select it, the <span class="strong"><strong>Inspector</strong></span> should look like the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_02_003.jpg" /></div><p>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note10"></a>Note</h3><p>You can always add an Animator component to a game object by clicking on <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Miscellaneous</strong></span> | <span class="strong"><strong>Animator</strong></span>.</p></div><p>As you can see, below the <span class="strong"><strong>Sprite Renderer</strong></span> component there is an <span class="strong"><strong>Animator</strong></span> component. This component will control the animation for the player and is usually accessed through a custom script to change the animations. We will do this later on. So, for now, delete this new object that we have created, since we will use our character from the previous chapter.</p><p>For now, drag and drop the new controller <code class="literal">PlayerAnimator</code> on to our <code class="literal">Player</code> object.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec11"></a>Manual clip creation</h3></div></div></div><p>Now, we also need a jump animation for our character. However, since we only have one sprite for the player jumping, we will manually create the animation clip for it.</p><p>To achieve this, select the <code class="literal">Player</code> object in the <span class="strong"><strong>Hierarchy</strong></span> panel and open the <span class="strong"><strong>Animation</strong></span> window from <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Animation</strong></span>. The <span class="strong"><strong>Animation</strong></span> window will appear, as shown in the following image:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_02_004.jpg" /></div><p>
</p><p>As you can see, our animation <code class="literal">WalkAnim</code> is already selected. To create a new animation clip, click on where you see the text <code class="literal">WalkAnim</code>. As a result, a drop-down menu appears and here you can select <span class="strong"><strong>Create New Clip</strong></span>. Save the new animation in the <code class="literal">Animations</code> folder as <code class="literal">JumpAnim</code>.</p><p>On the right, you can find the animation timeline. Select from the <span class="strong"><strong>Project Panel</strong></span> the folder <code class="literal">Platformer Pack/Player</code>. Drag and drop the sprite <code class="literal">p1_jump</code> on the timeline. You can see that the timeline for the animation has changed. In fact, now it contains the jumping animation, even if it is made out of only one sprite. Finally, save what we have done so far.</p><p>The <span class="strong"><strong>Animation</strong></span> window's features are best used to make fine tunes for the animation or even merging two or more animations into one.</p><p>Now the <code class="literal">Animations</code> folder should look like this in the <span class="strong"><strong>Project</strong></span> panel:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_02_005.jpg" /></div><p>
</p><p>By selecting the <code class="literal">WalkAnim</code> file, you will be able to see the <span class="strong"><strong>Preview</strong></span> panel, which is collocated at the bottom of the <span class="strong"><strong>Inspector</strong></span> when an object that may containÂ  animation is selected. To test the animation, drag the <code class="literal">Player</code> object and drop it in the <span class="strong"><strong>Preview</strong></span> panel and hit play:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_02_006.jpg" /></div><p>
</p><p>In the <span class="strong"><strong>Preview</strong></span> panel, you can check out your animations without having to test them directly from code. In addition, you can easily select the desired animation and then drag the animation into a game object with the corresponding <code class="literal">Animator Controller</code> and drop it into the <span class="strong"><strong>Preview</strong></span> panel.</p></div></div>