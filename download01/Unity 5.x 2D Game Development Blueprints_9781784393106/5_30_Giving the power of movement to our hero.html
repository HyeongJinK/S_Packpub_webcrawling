<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec31"></a>Giving the power of movement to our hero</h2></div></div><hr /></div><p>Our hero won't move unless we do something about it. We can start by adding a <span class="strong"><strong>Circle Collider 2D</strong></span> to the player object and then a <span class="strong"><strong>Rigid Body 2D</strong></span> too.</p><p>There are two main things that we are going to change in the rigid body. The first is setting the <span class="strong"><strong>Gravity Scale</strong></span> to 0. As a result, our hero will not go downward in the map. Then, we will set the <span class="strong"><strong>Fixed Angle</strong></span> variable to <code class="literal">true</code>. By doing this, our hero won't rotate when he or she collides with something. You can see the properties set in the following image:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_05_019.jpg" /></div><p>
</p><p>Our hero is now ready to deal with the physics engine of Unity. However, some extra custom code is still needed to move him or her according to the player's input. Let's create a new C# script and call it <code class="literal">HeroMovement</code> inside the folder <code class="literal">Scripts</code>. Then, attach the script to our hero. As usual, double-click on the script to open it.</p><p>The first thing that we need to do is to add two variables. One is needed to store the speed of our hero and another one to get the reference to his <code class="literal">RigidBody2D</code>:</p><pre class="programlisting">    public float speed = 4.0f; &#13;
    Rigidbody2D playerRigidBody2D; &#13;
</pre><p>In the <code class="literal">Start()</code> function, we can get the reference to the <code class="literal">RigidBody2D</code> by calling the <code class="literal">GetComponent()</code> function, as follows:</p><pre class="programlisting">    void Start() { &#13;
        // Get the RigidBody component &#13;
        playerRigidBody2D = GetComponent&lt;Rigidbody2D&gt;(); &#13;
    } &#13;
</pre><p>Finally, in the <code class="literal">Update()</code> function, similar to what we did in <span class="emphasis"><em><a class="link" href="#" linkend="ch01">Chapter 1</a></em></span>, <span class="emphasis"><em>Sprites</em></span>, we need to give a velocity to his <code class="literal">RigidBody</code> based on the player input. However, in this case, we are going to use both axes, the vertical and the horizontal:</p><pre class="programlisting">    void Update() { &#13;
        float movePlayerX = Input.GetAxis("Horizontal"); &#13;
        float movePlayerY = Input.GetAxis("Vertical"); &#13;
        playerRigidBody2D.velocity = new Vector2(movePlayerX * speed, movePlayerY * speed); &#13;
    } &#13;
</pre><p>Save the changes and head back to Unity.</p><p>We can test the scene and see what we have accomplished so far by pressing the play button:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_05_020.jpg" /></div><p>
</p><p>Once we have pressed play, we can move our hero:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_05_021.jpg" /></div><p>
</p><p>Take your time to explore the map with your hero, to test that all the colliders are properly set.</p><p>As you can see, now we can move the player while it is reacting to the level physics. However, our hero looks a little static, since it doesn't animate, and we would like to change that. In the next section, we can give him or her a little bit of life from inside the script itself.</p></div>