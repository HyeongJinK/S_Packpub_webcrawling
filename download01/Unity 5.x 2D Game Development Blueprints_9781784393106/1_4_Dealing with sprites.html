<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec9"></a>Dealing with sprites</h2></div></div><hr /></div><p>When working on our 2D game, we need sprites to fill in our environment, and also to display characters. Several sprites can be used to create an animation, like a walking character: each sprite represents a certain frame in the animation.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_01_005.jpg" /></div><p>
</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec7"></a>Importing sprites</h3></div></div></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip4"></a>Tip</h3><p>If we don't import the package when we have created the project, we can do it at any moment by clicking on <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import Package</strong></span>.</p></div><p>In the <span class="strong"><strong>Project</strong></span> panel, click on <span class="strong"><strong>p1_front</strong></span> to see its setting in the <span class="strong"><strong>Inspector</strong></span>. It can be found under <span class="strong"><strong>Platformer Pack</strong></span> | <span class="strong"><strong>Player</strong></span>, or can be searched by using the small search box in the right upper corner of the <span class="strong"><strong>Project</strong></span> panel. Once selected, the <span class="strong"><strong>Inspector</strong></span> looks like the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_01_006.jpg" /></div><p>
</p><p>You can control the properties of the sprites by changing the values in the <span class="strong"><strong>Inspector</strong></span>. In order to understand them, let's break them down:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Sprite Mode</strong></span>: This mode consists of two options <code class="literal">Single</code> and <code class="literal">Multiple</code>. <code class="literal">Single</code> should be selected when the image contains only a single object or character that will be used as a single sprite. <code class="literal">Multiple</code>, instead, it should be selected when multiple elements are contained within the same image .These may include different variations of the same object or its animation sheet.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Packing Tag</strong></span>: This is an optional variable used to specify the name of the <code class="literal">Sprite Sheet</code> in which this texture will be packed. This is useful when we need to optimize our game.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Pixels Per Unit</strong></span>: This controls the scale of the sprite. This variable defines how many pixels correspond to one world space unit. The default value for this is <code class="literal">100</code>.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Pivot</strong></span>: This allows us to change the pivot point for our sprite, which, by default, is set to <code class="literal">Center</code>. When required, you can change it to one of the other predefined points or place it in a custom position by selecting <code class="literal">Custom</code>.</p></li></ul></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip5"></a>Tip</h3><p>Choosing <code class="literal">Multiple</code> instead of <code class="literal">Single</code> in the sprite mode will remove the pivot option. In fact, the pivot point for each sprite in the image can be selected by using the <span class="strong"><strong>Sprite Editor</strong></span>.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec8"></a>The Sprite Renderer component</h3></div></div></div><p>Since we already have the <code class="literal">p1_front</code> sprite selected, let's drag it into the <span class="strong"><strong>Hierarchy</strong></span> panel.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip6"></a>Tip</h3><p>You can place it in the scene by dragging it directly inside the <span class="strong"><strong>Scene </strong></span>view.</p></div><p>When we add a sprite in our scene, a game object is created with a Sprite Renderer component attached to it. This component is responsible for rendering a <code class="literal">Sprite</code> in the game; without it, the game object would be empty.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_01_007.jpg" /></div><p>
</p><p>Let's explore the options in this component. First, <span class="strong"><strong>Sprite</strong></span> is the variable that will store the sprite to render on screen. In this case, it is automatically with the sprite we have dragged in. The <span class="strong"><strong>Color</strong></span> variable controls the color of the <span class="strong"><strong>Sprite</strong></span> along with its alpha channel. If we click on it, a color picker shows up; we can see the effect of our change immediately in the <span class="strong"><strong>Scene</strong></span> view:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_01_008.jpg" /></div><p>
</p><p>The <span class="strong"><strong>Material</strong></span> variable stores information about the material of the sprite. By default, it is set to <code class="literal">Default Sprite Material</code>. Usually, we don't want to change this during 2D game development; however, it may be necessary in particular cases, for instance when the sprite needs to be affected by lights.</p><p>Then, the <span class="strong"><strong>Sorting Layer</strong></span> and <span class="strong"><strong>Order In Layer</strong></span> variables are used to define the order of visualization of the sprites in the scene. In fact, not all the sprites are on the same level. Think about a background, a cloud, and our character. The cloud should be located on top of the background and the character should be on top of both of them. By default, the <span class="strong"><strong>Sorting Layer</strong></span> is set to <code class="literal">Default</code> and <span class="strong"><strong>Order In Layer</strong></span> to 0. So far, <code class="literal">Default</code> is the only layer available. Since we want to order our sprites later, let's create a few more layers. Click on <span class="strong"><strong>Add Sorting Layer</strong></span> under <span class="strong"><strong>Sorting Layer</strong></span>. As a result, the <span class="strong"><strong>Inspector</strong></span> shows us the <span class="strong"><strong>Tags &amp; Layers</strong></span> settings. By clicking on the <span class="strong"><strong>+</strong></span> button in the right bottom corner, we are able to add other sorting layers. Let's add two more layers, and name them respectively <code class="literal">Background</code> and <code class="literal">Foreground</code>, as shown in the following image:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_01_009.jpg" /></div><p>
</p><p>The order of these layers is important. We can easily change it by clicking on the designated layer and dragging it above or below another one.</p><p>Now, select the game object we have created in the <span class="strong"><strong>Hierarchy</strong></span> panel again. In the <span class="strong"><strong>Inspector</strong></span>, we are able to change its sorting layer to <code class="literal">Foreground</code>.</p><p>Before going forward, create a new folder in the <span class="strong"><strong>Project</strong></span> panel named <code class="literal">Scenes</code> and save the scene inside it as <code class="literal">Scene1</code>. We can do this by clicking on <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Save Scene</strong></span>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec9"></a>The Sprite Editor</h3></div></div></div><p>In the importing settings, we can find the <span class="strong"><strong>Sprite Editor</strong></span> button. After we have selected <code class="literal">p1_spritesheet</code> again from <span class="strong"><strong>Platformer Pack</strong></span> | <span class="strong"><strong>Player</strong></span>, we can now click on the button. As a result, the <span class="strong"><strong>Sprite Editor</strong></span> window shows up.</p><p>The <span class="strong"><strong>Sprite Editor</strong></span> should be used when dealing with a sprite that contains multiple elements (If this is the case, don't forget to set <code class="literal">Multiple</code> in the <span class="strong"><strong>Sprite Mode</strong></span>). So, we should see something like the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_01_010.jpg" /></div><p>
</p><p>Our goal is to slice all the single positions of the character in the image, so that we can use them as an individual sprites in our scene. There are different ways to achieve this. Let's discuss some of them:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Click and drag</strong></span>: This allows you to simply click and drag over the desired elements to create rectangular selections that will define each sprite. You can change each selection as preferred. You are able to change the position by dragging the rectangle, its size by clicking on the corners of each rectangle, and the <span class="strong"><strong>Pivot</strong></span> point by clicking and dragging it. Furthermore, clicking on the trim button in the sprite window will change the size of the rectangle to fit the selected sprite.</p><p>By clicking on the slice button in the top left of the <span class="strong"><strong>Sprite Editor</strong></span>, a new window appears. This allows you to select other ways to slice your <code class="literal">Sprite Sheets</code>. The default slicing type is set to <code class="literal">Automatic</code>, but you can also choose different kinds of grids too.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Automatic</strong></span>: When using the automatic method, Unity will detect each sprite and draw a trimmed rectangle around it. With <code class="literal">Automatic</code> selected, you can also change the <span class="strong"><strong>Pivot</strong></span> position for each sprite. We can also select a <span class="strong"><strong>Method</strong></span> to tell Unity what should happen to the sprites that are already defined. The <code class="literal">Delete Existing</code> method deletes all the previous selections and creates new ones from scratch. The <code class="literal">Smart</code> method attempts to create new selections for undefined sprites, while adjusting them to fit with the older selections. Finally, the <code class="literal">Safe</code> method adds new selections over the previous ones without changing them.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Grid</strong></span>: This allows you to create equal size selections for all the sprites in the image. Once we have set <code class="literal">Grid</code> as slicing type, then we will be able to change the size used for the slicing, and eventually adjust the position of the <span class="strong"><strong>Pivot</strong></span> point for each sprite.</p></li></ul></div><p>In particular, for our project, we can just use the <code class="literal">Automatic</code> method - it will work fine.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note7"></a>Note</h3><p>By clicking on the <span class="strong"><strong>Revert</strong></span> button, we can restart from scratch, removing all the previous selections.</p></div><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_01_011.jpg" /></div><p>
</p><p>After closing the <span class="strong"><strong>Sprite Editor</strong></span>, let's check the image file in the <span class="strong"><strong>Project</strong></span> panel. As you can see, a little icon appeared and it allows us to expand the file and see all the single <code class="literal">Sprites</code> we have created in the <span class="strong"><strong>Sprite Editor</strong></span>. Now, these can be used as normal <code class="literal">Sprites</code> in our game and can be placed in our scenes and scripts.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note8"></a>Note</h3><p>Having a single image with different Sprites is a technique called Sprite sheets. When importing sprites to your game project, it is preferred to group them into one image. This is because Unity can send a single file in the graphic card, and, as a result, enhance the performance by saving both memory and computational time.</p><p>Furthermore, sprite sheets are useful for creating 2D animations (such as walking, jumping, breathing, and explosions). In fact, it allows us to keep everything organized and easy to use. In the next chapter, we will discuss the process of animation in more detail.</p></div></div></div>