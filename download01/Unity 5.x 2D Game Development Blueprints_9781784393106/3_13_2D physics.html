<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec16"></a>2D physics</h2></div></div><hr /></div><p>Unity's 2D physics engine is very similar to its 3D one. Almost all of the physics components have been integrated into the 2D engine with a slight difference in names (Box Collider 2D, Circle Collider 2D, Rigidbody 2D, and so on...).</p><p>It is important to understand that 2D physics components will not interact with 3D physics components if both exist within the same scene. Even though they both share a lot of similarities, 2D physics only occur on the <span class="emphasis"><em>X</em></span> and <span class="emphasis"><em>Y</em></span> axis, and rotating an object using physics will only occur on the <span class="emphasis"><em>X</em></span> axis.</p><p>If you wish to change any of the settings of the 2D physics engine, you can find all of its properties by navigating to <span class="strong"><strong>Edit</strong></span> | <span class="strong"><strong>Project Settings</strong></span> | <span class="strong"><strong>Physics 2D</strong></span>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec12"></a>Rigid bodies</h3></div></div></div><p>Just like the 3D engine, the <code class="literal">Rigidbody2D</code> component controls the physical behavior of any game object it is attached to inside the scene. It also defines its physical properties, such as mass, and how gravity should affect an object.</p><p>To begin with rigid bodies, let's add this component to our <code class="literal">Player</code> object by clicking on <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Physics 2D</strong></span> | <span class="strong"><strong>Rigidbody 2D</strong></span>. The <span class="strong"><strong>Inspector</strong></span> should look like the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_03_001.jpg" /></div><p>
</p><p>Let's see the main features of this component:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Mass</strong></span>: Mass of the rigid body; the greater the value the greater the force that will be required to move the object.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Liner Drag</strong></span>: This is the amount of friction that a force has to work against to make an object move.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Angular Drag</strong></span>: This is the amount of rotational friction that a force has to work against to make an object rotate.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Gravity Scale</strong></span>: This is the amount of gravity that affects a game object. The greater the value, the stronger the gravitational force.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Fixed Angle</strong></span>: When marked <code class="literal">true</code>, the rigid body will continue to respond normally to the physics forces, but without rotating.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Is Kinematic</strong></span>: When marked true, the object will not respond to any physics forces around it. This is typically used when an object needs a special type of physics behavior that can be created by a custom script.</p></li></ul></div><p>In order to test the effects of the component, let's press the play button. At the moment, our player keeps falling down passing through every object on its way, as we can see in the following image:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_03_002.jpg" /></div><p>
</p><p>To prevent this from happening, we need to start using Unity's 2D colliders!</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec13"></a>Colliders 2D</h3></div></div></div><p>In order to define the dimension of an object in the scene, we need to add a collider component that defines its shape and that reacts if a rigid body is attached to it.</p><p>There are four types of 2D colliders in Unity:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Box Collider 2D: This type of collider works better with rectangular objects</p></li><li style="list-style-type: disc"><p>Circle Collider 2D: As given by its name, this collider works better with circular objects</p></li><li style="list-style-type: disc"><p>Polygon Collider 2D: Its shape is defined by a freeform edge made by line segments that surround the sprite</p></li><li style="list-style-type: disc"><p>Edge Collider 2D: It is used to define a surface without using a series of other colliders</p></li></ul></div><p>When the first three colliders are added to a game object, they are automatically adjusted to best fit the sprite attached to the object.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch03lvl3sec0"></a>Box Collider 2D</h4></div></div></div><p>Let's try to add a box collider to the objects in our scene and see what happens. Similar to adding a rigid body, we can add a collider by clicking on <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Physics 2D</strong></span> | <span class="strong"><strong>BoxCollider2D</strong></span>. We can start to add this component to the <code class="literal">Player</code> object. The <span class="strong"><strong>Inspector</strong></span> should now look as follows:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_03_003.jpg" /></div><p>
</p><p>Let's explore the main features of this component:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Edit Collider</strong></span>: This is a button that allows us to manually adjust the shape of the collider. This can also be done in the <span class="strong"><strong>Scene</strong></span> view.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Material</strong></span>: This is a reference to the 2D physics material that will define the object's behavior when colliding with other objects.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Is Trigger</strong></span>: When checked, the collider will act as a trigger to fire events from the code.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Used By Effector</strong></span>: If marked true, this collider will be used by an attached effector to define it. We will see them later in the chapter.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Offset</strong></span>: This allows us to change the center or pivot point of the collider.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Size</strong></span>: This allows us to change the size of the collider for each axis.</p></li></ul></div><p>Now that the <code class="literal">player</code> object is physically defined, we should do the same for the floor tiles. We can avoid repeating this operation for each of them, by multi-editing them. We just need to select all the floor objects and then add the <code class="literal">BoxCollider2D</code> as we did before in the <span class="strong"><strong>Inspector</strong></span>:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_03_004.jpg" /></div><p>
</p><p>As a result, all of the objects in our game can interact using the Unity Physics engine. In fact, now, our player will not fall through the floor when walking on it. In the <span class="strong"><strong>Scene</strong></span> view, the colliders look like green boxes surrounding the objects, as seen in the following image:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_03_005.jpg" /></div><p>
</p><p>If we press the play button, we can see that our player doesn't fall through the floor anymore. However, he stands still in the middle of the scene without the possibility for us to control his movement. So, let's change that!</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_03_006.jpg" /></div><p>
</p></div></div></div>