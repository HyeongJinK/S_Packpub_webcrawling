<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec32"></a>Animating the hero</h2></div></div><hr /></div><p>We are now going to create a script that moves the weapon and the shield items upward then in a downward fashion to simulate a simple breathing look. Let's create another C# script and name it <code class="literal">Breather</code> inside the <code class="literal">Scripts</code> folder. Next, attach the script to both the <code class="literal">weapon</code> and <code class="literal">shield</code> object under the player. Double-click on the script to open it.</p><p>First we need to add a couple of variables to store the local position to make our hero breath:</p><pre class="programlisting">    public Vector2 position1; &#13;
    public Vector2 position2; &#13;
</pre><p>Then, a third variable stores the time between the two positions defined before:</p><pre class="programlisting">    public float waitTime; &#13;
</pre><p>In the <code class="literal">Start()</code> function, we start the <code class="literal">coroutine</code> we are going to implement:</p><pre class="programlisting">    void Start() { &#13;
        StartCoroutine(Mover()); &#13;
    } &#13;
</pre><p>Finally, in our <code class="literal">coroutine</code>, we start at a random moment and then there is a main loop that changes between the two positions:</p><pre class="programlisting">    IEnumerator Mover() { &#13;
        yield return new WaitForSeconds(Random.Range(0, 10) / 10); &#13;
        while (true) { &#13;
            transform.localPosition = position1; &#13;
            yield return new WaitForSeconds(waitTime); &#13;
            transform.localPosition = position2; &#13;
            yield return new WaitForSeconds(waitTime); &#13;
        } &#13;
    } &#13;
</pre><p>Save the changes and head back to the scene. Modify the <code class="literal">breather</code> component in both objects, <code class="literal">Weapon</code> and <code class="literal">Shield</code>, to look as shown in the following image:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_05_022-e1474614894897.jpg" /></div><p>
</p><p>We can now test the scene and see how the character looks as it simulates a simple breathing animation:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_05_023.jpg" /></div><p>
</p><p>Once we have pressed play, we can see our hero breathing:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781784393106/graphics/image_05_024.jpg" /></div><p>
</p><p>The effect of breathing is achieved by moving the Weapon and the Shield.</p></div>