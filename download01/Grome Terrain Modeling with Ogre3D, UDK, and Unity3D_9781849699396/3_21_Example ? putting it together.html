<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec25"></a>Example â€“ putting it together</h2></div></div><hr /></div><p>Now we've looked at all the pieces we need to create the terrain for our Dr. Yes game project. There's many ways we could approach this but as game developers are keen to say, "There are many ways to skin a cat, but you only get to pick one".</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec24"></a>Our initial work plan</h3></div></div></div><p>Let's draw up a work plan for our proposed map:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>The island positioned around the map center, the terrain resolution is set to 1,024 (for a production map we might increase this to 2,048 or even 4,096 but this will take longer to work with).</p></li><li><p>Create a mask for the island.</p></li><li><p>Apply heightmap fractals to one layer, then use a brush to bring out island features we want to enhance.</p></li><li><p>Create masks for rivers and elevated areas.</p></li><li><p>Finally, we'll add natural features such as flowmaps and ground noise to the top of the layer stack. We do this in case we make changes lower down.</p></li></ol></div><p>Let's start by creating two mask layers on our workspace panel. We'll call one "Island" and the other "Rivers". To aid drawing we'll change the color of the River mask to blue by clicking on the colored square and using the color picker.</p><div class="mediaobject"><img src="/graphics/9781849699396/graphics/9182_03_23.jpg" /></div><p>Select and assign four center zones of our map to <span class="emphasis"><em>both</em></span> layers. Arm the "Island" layer and using the <a id="id178" class="indexterm"></a>Lasso tool trace out an island shape. Arm the River mask and with the brush tool draw a couple of rivers. Arm the Island mask again as we're going to modify it.</p><div class="mediaobject"><img src="/graphics/9781849699396/graphics/9182_03_24.jpg" /></div><p>We'll want a smooth transition from ocean to shoreline, using the Blur tool in SelectionFilters repeatedly until we smooth out the coastline enough will do.</p><p>Now we're going to add several heightmaps and assign them names:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>RiverMap</p></li><li style="list-style-type: disc"><p>FractalMountains</p></li><li style="list-style-type: disc"><p>IslandBase</p></li></ul></div><p>Assign the four center zones to each of these layers (as usual; right-click on each layer and click on <span class="strong"><strong>Assign to selection</strong></span>).</p><p>Starting with IslandBase, this is our beach and foundation area. Making sure our Island selection mask is active we'll use the Heightmap Elevation tool to set the height to 100 units. The blur on the mask should create a sloped beach as in the following screenshot.</p><div class="mediaobject"><img src="/graphics/9781849699396/graphics/9182_03_25.jpg" /></div><p>Arm the FractalMountains <a id="id179" class="indexterm"></a>layer. Now comes a fiddly bit, because we want to use some erosion on the map, GROMEs Fluid Erosion filter doesn't work too well with a lot of flat terrain (for example the sea-bed). So we're going to disarm the mask and fill the entire area with fractal topology then apply Fluid Erosion.</p><div class="mediaobject"><img src="/graphics/9781849699396/graphics/9182_03_26.jpg" /></div><p>We're using just two fractal pre-sets on this layer, but we'll adjust a couple of the parameters to match our terrain scale:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Strange Hills</strong></span>: Max: 2000, World Transform Size: 10,000</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Eroded Mountain Noise</strong></span>: Max: 2000, World Transform Size: 12000</p></li></ul></div><p>The result might look like the following figure. Feel free to experiment. Because this is supposedly a volcanic island an uneven base (magma pillows) with added mountain topology seemed like a reasonable choice. Jagged rocks are quite young geologically not having time to be weathered.</p><div class="mediaobject"><img src="/graphics/9781849699396/graphics/9182_03_27.jpg" /></div><p>We'll add some soft soil erosion with FLErosion (Heightmap tool), starting with the Power Flow pre-set we'll modify the Smooth rate to 0.1 and Iterations to 5. This might take a few minutes to process. You might want to try and add more weathering effects at this point.</p><p>Now to turn it back into an island; arm the Island mask and using SelectionFilters' Invert tool fix the mask so only the ocean is selected. Set the elevation of the sea bed to zero using the Heightmap tool.</p><p>In the following screenshot we invert the Island mask (on the left-hand side) then set the ocean area to zero (right-hand side).</p><div class="mediaobject"><img src="/graphics/9781849699396/graphics/9182_03_28.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec25"></a>Now to apply the River feature</h3></div></div></div><p>With only the River mask and the <a id="id180" class="indexterm"></a>heightmap named "RiverMap" armed, we'll use the Elevation tool to set the height level to zero. Before you do this however we must make sure to check <span class="strong"><strong>Surface</strong></span> in <span class="strong"><strong>SurfaceOptions</strong></span> (Elevation tool). That tells the tool to use the combined surface result for the calculation and not its own layer. </p><div class="mediaobject"><img src="/graphics/9781849699396/graphics/9182_03_29.jpg" /></div><p>Because the river is applied to the map as a modifier, if you use a brush on the River to set the elevation to zero, you have in effect a history brush tool as writing zero to the River layer erases the modifier and restores the original terrain. Use a smooth brush to even out areas of the river.</p><div class="mediaobject"><img src="/graphics/9781849699396/graphics/9182_03_30.jpg" /></div><p>We can use a similar process to add elevation features and our Volcano centerpiece. It's possible the art department might want to create the volcano as a 3D model so we can leave it off the map, but add a place-holder heightmap <a id="id181" class="indexterm"></a>for it which doesn't disturb our sculpted terrain.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec26"></a>Brushing the shoreline</h3></div></div></div><p>To finish off our island, we should use a Brush tool with a low strength and high smoothing value to set the level to zero around the shoreline, rounding off cliffs and forming beach areas. </p><p>Since we will need to edit the river areas too it's a good idea to arm both the RiverMap and <span class="strong"><strong>FractalMountain</strong></span> <a id="id182" class="indexterm"></a>layer (and again check the <span class="strong"><strong>Surface Options</strong></span> is set to <span class="strong"><strong>Surface</strong></span>).</p></div></div>