<div class="chapter" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="ch05"></a>Chapter 5. Bring Me a Shrubbery</h2></div></div></div><p>Vegetation has a huge impact on scene quality. Significant coverage was once difficult to achieve without making compromises for memory and rendering power. Early computer games would use single pixels to sell the impression of movement (and sometimes even that was a stretch). Thanks to current <span class="strong"><strong>Graphics Processing Unit</strong></span> (<span class="strong"><strong>GPU</strong></span>) <a id="id249" class="indexterm"></a>technology it's realistic to have lush scenes consisting of 2,50,000 vegetation objects on mid-range gaming PCs.</p><p>GROME, Unity, and other game engines all have their own unique vegetation system but broadly speaking they do the same thing; take a <a id="id250" class="indexterm"></a>single object (such as a tree or grass billboard) and draw thousands of copies at different locations within the scene.</p><p>Games commonly use smoke and mirror techniques to fool the eye into thinking a scene is more complex than it is, even using old cinema tricks like forced perspective. The amount of detail we want to include is impacted by the altitude of the camera in our game; a flying game would require us to have a more distant view. In a first-person walking game we expect to see grasses and plants.</p><p>Our goal is to present a reasonably detailed scene from a first person viewpoint which means filling screen real estate (pixels) with enough detail to keep the eye interested. </p><p>Some of the tricks used include doubling the scale of vegetation objects to fill more screen area. A shrubbery that's two meters wide becomes four meters wide. Obviously an object twice as large fills twice as much screen area (perspective not withstanding). The more screen you can fill like this means you don't need as many objects. The net result is increased coverage. Games can make use of exaggerated tree scales, larger trunks on smaller numbers of trees will appear denser. By tweaking the scale of an individual object replicated thousands of times, the impression of a dense forest can be had with some simple visual trickery. Quite often the most subtle tweaks for improving the visual footprint of a tree model is thickening up the transparent portions of the textures used on the branches.</p><p>As an exercise for the reader, play through a variety of 3D games on a console or PC and see if you can pick out vegetation that doesn't seem to match the scale of the surrounding objects. These visual tricks are not obvious unless you're looking for them, which is true of all the best trickery. </p><p>It takes a keen eye and a good deal of experimentation to create suitable assets that greatly contribute to filling an outdoor scene while at the same time keeping rendering performance high.</p><p>The genre of the game is an important factor. As touched upon earlier, first person games have a short horizon; it's easy to spot discontinuity of scale but the maximum culling range (the distance at which you stop rendering ground detail from the camera) is quite short. For vehicle games or flying games the problem is one of rendering enough ground cover to represent entire patches of woodland out to long distances down to blades of grass when landing.</p><p>For flying-based games, <a id="id251" class="indexterm"></a>distant ground shadows baked under areas of vegetation really sell the density. Up close, the 3D detail models of trees and grass will cover up any baked shadows and generated shadows will blend in perfectly. This works for first-person games too but can be considered optional. A shadowmap based on vegetation coverage is a good idea anyways, since it can be used to modify the intensity of objects outside of any real-time shadow rendering range.</p></div>