<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec51"></a>Custom editors/menus tips</h2></div></div><hr /></div><p>We can set custom hotkeys<a id="id659" class="indexterm"></a> for MenuItems. For example, we can make the <span class="emphasis"><em>K</em></span> key trigger our Menu item method, by defining the <code class="literal">MenuItem</code> attribute as follows:</p><div class="informalexample"><pre class="programlisting">[MenuItem("My Menu/Menu Item _k")]</pre></div><p>We can also include modifier keys such as <span class="emphasis"><em>Ctrl</em></span> (Cmd), <span class="emphasis"><em>Shift</em></span>, and <span class="emphasis"><em>Alt</em></span> using the <span class="emphasis"><em>%</em></span>, <span class="emphasis"><em>#</em></span>, and <span class="emphasis"><em>&amp;</em></span> characters, respectively.</p><p>MenuItems also have two overloads, which allows us to set two additional parameters: a Boolean that determines whether the menu item requires a validation method, and an integer that determines the menu item's priority in the hierarchy.</p><p>Check the documentation for MenuItems for a complete list of available hotkey modifiers, special keys, and how to create validation methods:</p><p>
<a class="ulink" href="http://docs.unity3d.com/ScriptReference/MenuItem.html" target="_blank">http://docs.unity3d.com/ScriptReference/MenuItem.html</a>
</p><p>It is possible to "ping" an object in the Hierarchy, similar to what happens when we click on a GameObject reference in the <span class="strong"><strong>Inspector</strong></span> View, by calling <code class="literal">EditorGUIUtility.PingObject()</code>.</p><p>The original implementation of the Editor class, and the way that most people learned how to write Editor scripts, originally involved writing all logic and content drawing in the same class. However, <code class="literal">PropertyDrawers</code> are an effective way of delegating Inspector drawing to a different class from the main Editor class. This effectively separates input and validation behavior from display behavior, allowing more fine-tuned control of rendering on a per-field basis and more effective reuse of code. We can even use Property Drawers to override default Unity drawing for built-in objects, such as Vectors and Quaternions.</p><p>
<code class="literal">PropertyDrawers</code> make use of <code class="literal">SerializedProperties</code> to accomplish serialization of individual fields, and they should be preferred when writing editor scripts, since they make use of built-in undo, redo, and multiedit functionality. Data validation can be a little problematic, and the best solution is to use <code class="literal">OnValidate()</code> calls on setter properties for fields. A session at Unite 2013 by Unity Technologies developer Tim Cooper, which explains the benefits and pitfalls of various serialization and validation approaches in great detail at <a class="ulink" href="https://www.youtube.com/watch?v=Ozc_hXzp_KU" target="_blank">https://www.youtube.com/watch?v=Ozc_hXzp_KU</a>.</p><p>We can add entries to Component context menus and even the context menus of individual fields with the <code class="literal">[ContextMenu]</code> and <code class="literal">[ContextMenuItem]</code> attributes. This allows an easy way to customize Inspector behavior for our Components without needing to write broad Editor classes or custom Inspectors.</p><p>Advanced users may find it useful to store custom data within Unity metadata files through the <code class="literal">AssetImporter.userData</code> variable. There are also a multitude of opportunities to make use of Reflection of the Unity codebase. Ryan Hipple's session at Unite 2014 outlines a huge number of neat little hacks and tricks one achieve with Reflection in the Unity Editor:</p><p>
<a class="ulink" href="https://www.youtube.com/watch?v=SyR4OYZpVqQ" target="_blank">https://www.youtube.com/watch?v=SyR4OYZpVqQ</a>
</p><p>An undocumented feature was introduced<a id="id660" class="indexterm"></a> in Unity v4.5, <span class="strong"><strong>Reorderable Lists</strong></span>. These allow <a id="id661" class="indexterm"></a>us to have an Inspector View of a generic <code class="literal">List&lt;T&gt;</code>, which can be easily reordered by dragging and dropping the elements around. However, this feature appears to be unfinished, as it requires a<a id="id662" class="indexterm"></a> custom Editor class to make use of them properly. The following post on Unity Answers explains <a id="id663" class="indexterm"></a>how to use Reorderable Lists fairly succinctly:</p><p>
<a class="ulink" href="http://answers.unity3d.com/questions/826062/re-orderable-object-lists-in-inspector.html" target="_blank">http://answers.unity3d.com/questions/826062/re-orderable-object-lists-in-inspector.html</a>
</p></div>