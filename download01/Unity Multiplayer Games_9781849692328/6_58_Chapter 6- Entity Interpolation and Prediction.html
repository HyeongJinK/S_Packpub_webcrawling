<div class="chapter" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="ch06"></a>Chapter 6. Entity Interpolation and Prediction</h2></div></div></div><p>In nearly all games that employ multiplayer networking, entities need to be interpolated to hide lag and jittery updates. While the updates for an entity only arrive relatively few times per second, and may even be dropped if using UDP, the interpolation needs to smooth these and make the final motion appear smooth, and close to the original player's movements.</p><p>Previously, we implemented a simple form of interpolation, by simply interpolating toward the current network position. This looks sluggish and artificial in many cases, especially in twitch-style action games where players move quickly and can change direction on a dime. In this chapter, we'll learn how to implement a form of entity interpolation inspired by the source game engine, employed in a wide variety of AAA games.</p><p>In many games, it's also very common to give the server full control over everything. We did this in the chapter on Photon Server, but notice that when the player moved, it took a while before the commands reached the player and movement felt sluggish as a result. In this chapter, we'll learn about a way to solve this using client-side prediction, using methods also inspired by the source game engine, the engine created by Valve to power games such as Left 4 Dead, Portal, and Team Fortress 2, and the upcoming Titanfall.</p></div>