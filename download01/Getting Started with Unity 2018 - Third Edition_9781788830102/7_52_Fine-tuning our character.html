<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec54"></a>Fine-tuning our character</h2></div></div><hr /></div><p>Now that the Cucumber Man is in our game, we can <span>start</span><a id="id288601232" class="indexterm"></a> experimenting with the character to ensure it looks and behaves the way we want. In this section, we will look at the following refinements to our Cucumber Man:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Motor controls</li><li style="list-style-type: disc">Scale</li><li style="list-style-type: disc">Capsule Collider</li><li style="list-style-type: disc">Input controls</li></ul></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec63"></a>Fine-tuning the motor controls</h3></div></div></div><p>You can put the game into game-mode and <span>use</span><a id="id288601259" class="indexterm"></a> the keyboard inputs detailed in the previous section to experiment with the Cucumber Man's movements. One of the things you might have noticed is that the player character does not seem to move very fast. Of course, this is relative to the size of our terrain and the character's size. Let's look at how to increase the speed of our character by reviewing the associated script.</p><p>The following code snippet is from the <code class="literal">PlayerMotor.cs</code> script that you imported with the Cucumber Man. This snippet is the first part of the script, not the entire script. As you can see, there are variables for <code class="literal">JumpPower</code>, <code class="literal">MoveSpeed</code>, and <code class="literal">RunSpeed</code>. Those variables are created in the code and their values can be controlled in the Unity editor:</p><pre class="programlisting">using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityStandardAssets.CrossPlatformInput;

[RequireComponent(typeof(Rigidbody))]
public class PlayerMotor : MonoBehaviour {

  float horizontal, vertical;
  Rigidbody m_Rigidbody;

  public float JumpPower;
  public float MoveSpeed, RunSpeed;

  private float currentJumpPower = 0;
  private float currentMoveSpeed = 0;

  // Use this for initialization
  void Start () 
  {
    m_Rigidbody = GetComponent&lt;Rigidbody&gt;();
    currentMoveSpeed = MoveSpeed;
  // m_Cam = Camera.main.transform;
    m_Animator = GetComponent&lt;Animator&gt;(); 
}
. . .</pre><p>The following screenshot is from the Cucumber Man's <strong class="userinput"><code>Inspector</code></strong> panel. Here, you can see that we have the ability to update the values for <strong class="userinput"><code>Jump Power</code></strong>, <strong class="userinput"><code>Move Speed</code></strong>, <strong class="userinput"><code>Run Speed</code></strong>, <strong class="userinput"><code>Stationary Turn Speed</code></strong>, and <strong class="userinput"><code>Moving Turn Speed</code></strong>:</p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/375afc8e-e5be-490b-882c-c70a480480bb.png" /></div><p>Using the <strong class="userinput"><code>Player Motor (Script)</code></strong> component of the Cucumber Man, you can experiment with the values to have the player character's movements <span>respond</span><a id="id288606792" class="indexterm"></a> the way you want them to. You can always refer back to the previous screenshot to reset your values.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip31"></a>Note</h3><p>You can experiment with the <strong class="userinput"><code>Player Motor (Script)</code></strong> parameters while in game-mode. Any changes made in game-mode are not retained when leaving game-mode. This is a great way of experimenting without impacting any saved settings.</p></div><p>Here is a typical set of parameters for the Cucumber Man's motor controls:</p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/e2577514-909c-4d01-b709-167463d39990.png" /></div><p>We also have the option of editing the <strong class="userinput"><code>Move Speed Multiplier</code></strong> variable to impact all of the motor speed values. You can set this manually in the <strong class="userinput"><code>Inspector</code></strong> panel as well as programmatically. To set the multiplier manually, simply edit the value in the <strong class="userinput"><code>Player Motor (Script)</code></strong> component of the <code class="literal">CucumberMan</code> in the <strong class="userinput"><code>Inspector</code></strong> panel. To change this value programmatically, you can edit the <code class="literal">PlayerMotor.cs</code> script. The following code snippet is from that script, and represents the later section of that script:</p><pre class="programlisting">. . . 
Animator m_Animator;
[SerializeField] float m_MoveSpeedMultiplier = 1f;
public void OnAnimatorMove()
{
   // we implement this function to override the default root motion.
   // this allows us to modify the positional speed before it's applied.
  if (m_IsGrounded &amp;&amp; Time.deltaTime &gt; 0)
  {
     Vector3 v = (m_Animator.deltaPosition * m_MoveSpeedMultiplier) / Time.deltaTime;

     // we preserve the existing y part of the current velocity.
     v.y = m_Rigidbody.velocity.y;
     m_Rigidbody.velocity = v;
  }
}
. . . </pre><p>As you can see in the previous code snippet, <code class="literal">m_MoveSpeedMultiplier</code> is set to <code class="literal">1</code>. You can change that value directly in the script as an alternative method to using the Unity editor.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec64"></a>Fine-tuning scale</h3></div></div></div><p>Our Cucumber Man has a <strong class="userinput"><code>Transform</code></strong><span>that</span><a id="id288608606" class="indexterm"></a> includes <strong class="userinput"><code>Scale</code></strong> values for <strong class="userinput"><code>X</code></strong>, <strong class="userinput"><code>Y</code></strong>, and <strong class="userinput"><code>Z</code></strong>. By default, these are all set to <strong class="userinput"><code>1</code></strong>. We can easily change the size of our Cucumber Man by decreasing or increasing the scale values. With this approach, you can create copies of the Cucumber Man that are cucumber babies or cucumber giants. </p><p>The following screenshot shows three copies of the Cucumber Man. Starting from the left and moving to the right, each Cucumber Man is larger than the last: </p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/c7b75957-6017-4cc6-b244-7431c3a30e96.png" /></div><p>Here is a look at the transform settings for each Cucumber Man in the preceding screenshot:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col /><col /><col /><col /></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Transform Scale setting</strong></span></p></td><td class="auto-generated" style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "> </td><td class="auto-generated" style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Cucumber Man version</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>X</strong></span></p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Y</strong></span></p></td><td style="border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Z</strong></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Cucumber Baby</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>0.5</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>.5</p></td><td style="border-bottom: 0.5pt solid ; "><p>.5</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Cucumber Man</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>1</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>1</p></td><td style="border-bottom: 0.5pt solid ; "><p>1</p></td></tr><tr><td style="border-right: 0.5pt solid ; "><p>Cucumber Giant</p></td><td style="border-right: 0.5pt solid ; "><p>2</p></td><td style="border-right: 0.5pt solid ; "><p>2</p></td><td style=""><p>2</p></td></tr></tbody></table></div><p> </p><p>For our game, we will only have one Cucumber Man, and we want him to be larger than the beetles and smaller than the cherry trees. The default <span>scale</span><a id="id288614914" class="indexterm"></a> of one results in the Cucumber Man's height being ideal. This is evident by his relative size compared to the cherry trees, as indicated in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/c66812a4-d064-46ad-a58e-295faf07b317.png" /></div><p>In <a class="link" href="#" linkend="ch08">Chapter 8</a>, <span class="emphasis"><em>Implementing our Non-Player Character</em></span>, we will inspect the scale of our Cucumber Beetles and ensure they are appropriately scaled in relation to the size of our Cucumber Man.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec65"></a>Fine-tuning the Capsule Collider</h3></div></div></div><p>Capsule Colliders have the shape of a pill—that is, a cylinder with rounded ends. We can view the Capsule Collider by selecting <span>our</span><a id="id288614198" class="indexterm"></a> character in the <strong class="userinput"><code>Hierarchy</code></strong> panel or the <strong class="userinput"><code>Scene</code></strong> view and then reviewing the <strong class="userinput"><code>Capsule Collider</code></strong> component in the <strong class="userinput"><code>Inspector</code></strong> panel. As shown in the following screenshot, we can edit the <strong class="userinput"><code>Capsule Collider</code></strong> by clicking the <strong class="userinput"><code>Edit Collider</code></strong> button:</p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/26f42ce9-3e22-4d97-bca1-b31e035c0c88.png" /></div><p>Here is a brief description of each of the <span>Capsule</span><a id="id288614237" class="indexterm"></a> Collider component parameters:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Is Trigger</strong></span>: When we enable this option, the physics engine will ignore the Capsule Collider</li><li style="list-style-type: disc"><span class="strong"><strong>Material</strong></span>: We can assign how the Capsule Collider interacts with other colliding game objects</li><li style="list-style-type: disc"><span class="strong"><strong>Center</strong></span>: There are <strong class="userinput"><code>X</code></strong>, <strong class="userinput"><code>Y</code></strong>, and <strong class="userinput"><code>Z</code></strong> fields to identify the center of the capsule relative to itself</li><li style="list-style-type: disc"><span class="strong"><strong>Radius</strong></span>: The radius of the collider's width
</li><li style="list-style-type: disc"><span class="strong"><strong>Height</strong></span>: The collider's height</li><li style="list-style-type: disc"><span class="strong"><strong>Direction</strong></span>: The orientation of the capsule lengthwise</li></ul></div><p>For greater precision, the Capsule Collider should receive a height adjustment so that the Cucumber Man fits within it, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/eac59583-ef4e-44e6-ae08-940bddc674e6.png" /></div><p>Make any refinements required to ensure that your Cucumber Man's Capsule Collider resembles the preceding screenshot. Once you complete your refinements, be sure to save your work.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip32"></a>Note</h3><p>All changes to the <span class="emphasis"><em>Cucumber Man</em></span> game detailed in this chapter will be incorporated in the <code class="literal">Starting-Chapter-08.zip</code> file available at the beginning of <a class="link" href="#" linkend="ch08">Chapter 8</a>, <span class="emphasis"><em>Implementing Our Non-Player Characters</em></span>. </p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec66"></a>Changing and refining input controls </h3></div></div></div><p>When we develop games using Unity, we have <span>several</span><a id="id288615050" class="indexterm"></a> options for <span>gathering</span><a id="id288615059" class="indexterm"></a> user input during gameplay. Here is a list of those input options:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Keyboard</li><li style="list-style-type: disc">Mouse</li><li style="list-style-type: disc">Joystick</li><li style="list-style-type: disc">Touchscreen</li><li style="list-style-type: disc">Mobile device movement sensors</li><li style="list-style-type: disc">Microphone</li><li style="list-style-type: disc">Camera</li></ul></div><p>As we stated previously in this chapter, we will be using the keyboard as our sole input device for the <span class="emphasis"><em>Cucumber Man</em></span> game. Let's take a look at where you can make changes to the input controls for your game if you want to experiment or simply want to change the way users interact with the game. We will use Unity's input manager for this.</p><p>The input manager for your game project is accessible, as illustrated in the following screenshot, by selecting the <strong class="userinput"><code>Edit</code></strong> | <strong class="userinput"><code>Project Settings</code></strong> | <strong class="userinput"><code>Input</code></strong> drop-down menu selection:</p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/3f67fcad-4812-4eaa-b7a3-5021f5e4e070.png" /></div><p>This results in the input manager being displayed in the <strong class="userinput"><code>Inspector</code></strong> panel. There, you will find the relevant virtual axes for the game. In the following screenshot, the horizontal virtual axis and vertical virtual axis are displayed side by side. You can see how the keyboard's <span class="emphasis"><em>W</em></span>, <span class="emphasis"><em>A</em></span>, <span class="emphasis"><em>S</em></span>, and <span class="emphasis"><em>D</em></span> keys are set for controlling horizontal <span>and</span><a id="id288615134" class="indexterm"></a> vertical movement. For example, the <span class="emphasis"><em>W</em></span> key is identified in the vertical virtual axis and is assigned to the <strong class="userinput"><code>Alt Positive</code></strong> Button, which means it is an alternative button for moving forward. While the primary <strong class="userinput"><code>Negative</code></strong><span>and</span><a id="id288615152" class="indexterm"></a><strong class="userinput"><code>Positive</code></strong> buttons are listed as using the left and right arrow keys for horizontal movement, and the down and up arrow keys are used for vertical navigation, we will implement the <span class="emphasis"><em>W</em></span>, <span class="emphasis"><em>A</em></span>, <span class="emphasis"><em>S</em></span>, and <span class="emphasis"><em>D</em></span> keys as our default method of moving the Cucumber Man character through the game world:</p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/6b7b8b14-eb21-439e-ac38-77a3da830a06.png" /></div><p>The input manager enables us to determine all of our input controls, and is where you can set your mouse, keyboard, and joystick inputs. An additional setting available in the input manager is for the jump functionality. As shown in the following screenshot, the jump functionality has the keyboard's space bar as the positive input device. You will note that there is no <strong class="userinput"><code>Negative</code></strong><strong class="userinput"><code> Button</code></strong> assigned as it is assumed that the character can only jump up, not down:</p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/2182c6c5-e5d3-4c0e-98cb-9e697c0bbb63.png" /></div></div></div>