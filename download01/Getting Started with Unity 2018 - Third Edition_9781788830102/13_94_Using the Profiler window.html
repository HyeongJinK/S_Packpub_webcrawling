<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch13lvl1sec90"></a>Using the Profiler window</h2></div></div><hr /></div><p>Unity has a native tool that <span>helps</span><a id="id288601227" class="indexterm"></a> us to examine how our game performs. This is a Profiler tool and is accessible via the <strong class="userinput"><code>Window</code></strong> | <strong class="userinput"><code>Profiler</code></strong> top menu option. As you can see in the following illustration, there <span>are 13 components available in the <strong class="userinput"><code>Profiler</code></strong></span> window:</p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/bc723ba4-d850-4d9d-9b85-423dac571045.png" /></div><p>Profiler Components</p><p>The individual Profiler names provide a clear indication of what performance measure is being analyzed. In order to fully explore the <strong class="userinput"><code>Profiler</code></strong> window, let's get it up and running with the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Open your Unity game project. Alternatively, you can download the<strong class="userinput"><code>Starting-Chapter-13</code></strong> Unity project available from the publisher's companion site.</li><li>Using the top menu, select <strong class="userinput"><code>Window</code></strong> | <strong class="userinput"><code>Profiler</code></strong>. Depending on your system, this can open the <strong class="userinput"><code>Profiler</code></strong> in a new window or as a tab. </li><li>In the <strong class="userinput"><code>Profiler</code></strong> window or tab, use the <strong class="userinput"><code>Add Profiler</code></strong> button to add any Profilers not loaded by default. The Profilers that are already loaded will appear in gray and the unloaded Profilers will appear in black.</li><li>Put your game in game mode.</li><li>Scroll through the Profilers and, using the <span class="emphasis"><em>x</em></span> in the top-right corner of the Profiler box, close the Profilers that provide little or no data on your game. For example, the <strong class="userinput"><code>Network Operations</code></strong> and <strong class="userinput"><code>Network Messages</code></strong> Profilers are not applicable to the Cucumber Man game. You might leave the following Profilers in your <strong class="userinput"><code>Profiler</code></strong> window:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><strong class="userinput"><code>CPU Usage</code></strong></li><li style="list-style-type: disc"><strong class="userinput"><code>GPU Usage</code></strong></li><li style="list-style-type: disc"><strong class="userinput"><code>Rendering</code></strong></li><li style="list-style-type: disc"><strong class="userinput"><code>Memory</code></strong></li><li style="list-style-type: disc"><strong class="userinput"><code>Audio</code></strong></li><li style="list-style-type: disc"><strong class="userinput"><code>Physics</code></strong></li><li style="list-style-type: disc"><strong class="userinput"><code>UI</code></strong></li><li style="list-style-type: disc"><strong class="userinput"><code>Global Illumination</code></strong></li></ul></div></li><li>Let your game run for at least a minute or more, then exit the game. It does not matter whether you play the game while it is running or just sit back and watch the cucumber beetles search for and eat cucumbers. You will have the Profiler data available to you even after the game stops.</li></ol></div><p>We can examine each Profiler to help determine how our game is performing and identify any performance problems. Let's look at the <strong class="userinput"><code>GPU Usage</code></strong> Profiler by clicking on it in the <strong class="userinput"><code>Profiler</code></strong> window. When we select a Profiler, detailed information is provided in the bottom section of the <strong class="userinput"><code>Profiler</code></strong> window. </p><p>By reviewing the detailed information provided, such as the GPU Usage information shown here, we can determine component-level performance. In the following example, we can see that our <code class="literal">Camera.Renderer</code> takes the greatest draw on the GPU. We can also drill down to greater fidelity by clicking the gray triangles to the left of each component:</p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/995481fe-2ddf-47d4-9a6e-f23d805739d4.png" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch13lvl2sec112"></a>Getting more out of the Profilers</h3></div></div></div><p>The <strong class="userinput"><code>Profiler</code></strong> window has several controls, segmented into left, center, and right sections of the interface. As you can see <span>from</span><a id="id288614171" class="indexterm"></a> the following screenshot, the <strong class="userinput"><code>Add Profiler</code></strong> drop-down button consumes the left-most section of the <strong class="userinput"><code>Profiler</code></strong> window's tool bar. We can use that button to add additional Profilers to the window:</p><div class="mediaobject"><img src="/graphics/9781788830102/graphics/7413ba58-b150-4e38-ab49-62c61a2024c4.png" /></div><p>Profiler Toolbar</p><p>The center section of the interface contains four functions, detailed here:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Record: This button is enabled by default and is used to record or not record the active game's Profile information. When troubleshooting a specific section of your game, this button makes it easy to start and stop recording.</li><li style="list-style-type: disc"><strong class="userinput"><code>Deep Profile</code></strong>: This function, when enabled, will Profile all script usage including function calls.
</li><li style="list-style-type: disc"><strong class="userinput"><code>Profile Editor</code></strong>: This function allows you to toggle the profiling of the Profiler.</li><li style="list-style-type: disc"><strong class="userinput"><code>Editor</code></strong>: You can use this function to designate an IP address for the Profiler and log data to be sent. The default is for it to be sent to the editor.</li></ul></div><p>The right-most section of the <strong class="userinput"><code>Profiler</code></strong> window's tool bar includes controls to <strong class="userinput"><code>Clear</code></strong>, <strong class="userinput"><code>Load</code></strong>, and <strong class="userinput"><code>Save</code></strong> the Profiler information. If you selected a frame, the frame information will be displayed. You also have the ability to step through the frames using navigational buttons in this section.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note47"></a>Note</h3><p>Don't be surprised if your game performance is noticeably impacted when using the profiling tools.</p></div></div></div>