<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec13"></a>Setting the scene with a skybox</h2></div></div><hr /></div><p>Our game environment should be dark, creepy, and suspenseful. However, every new Unity scene is created with a default, procedural skybox representing a cheery daytime exterior; this needs to be changed. A skybox is ultimately a cube <span>with</span> a flipped normal that surround and encompass the environment. Its faces contain an environment texture which, when mapped correctly, appears seamlessly across the model, creating the look of a vast skyline surrounding the scene. The primary purpose of our skybox should be to set a base and ambient lighting. The most appropriate skybox for our usage, then, is a night skybox or, at least, a dark, stormy (and perhaps slightly alien) skybox. There are many ways to create a skybox in Unity. One method is to create a cube-map texture (six separate textures) inside the image-editing software that maps to the faces of a cube. Another method, available in Unity 5, is a procedural skybox. Using this, Unity generates a skybox from some initial creation parameters that we can set through a material.</p><p>Let's use the latter, most customizable method. To do this, open the <code class="literal">Material</code> folder in the <strong class="userinput"><code>Project</code></strong> panel and create a new material. Assign it a meaningful name; I've used <code class="literal">matNight</code>:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/7346eb9f-a6c9-4748-8b2f-02f5de75d81b.png" /></div><p>Creating a new material</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note10"></a>Note</h3><p>Naming assets and objects appropriately is important for large projects, whether team-based or not. It's important to identify an object's type and purpose from its name, and to use a naming convention that'll alphabetically group together related assets in a useful way. For example, I prefixed all material assets with <code class="literal">mat_</code> (<code class="literal">mat_Skybox</code>, <code class="literal">mat_Marble</code>, and <code class="literal">mat_Leather</code>). Using this name, all materials are arranged together in the Project panel, and I can determine by the asset name that it's a material and not a texture (<code class="literal">_tex</code>), mesh (<code class="literal">_mesh</code>), sound effect (<code class="literal">_sfx</code>), and so on.
Some may question whether prefixes are needed if folders are used. After all, can't you just name your materials anything you wanted, and simply group them together in the same folder, as opposed to using prefixes? In short, use folders to organize and group textures, but name prefixes are still important because assets from different folders can still be viewed together in a consolidate display, when running searches and filters. Also, in these cases, you'll still want to arrange search results alphabetically.</p></div><p>Newly created materials are configured as a <strong class="userinput"><code>Standard</code></strong> shader (PBR material) using the metallic-roughness workflow. This isn't necessary for a skybox, as it doesn't cast light in the same way and isn't affected by shadows and other light sources. Change the material type to <strong class="userinput"><code>Skybox</code></strong> | <strong class="userinput"><code>Procedural</code></strong>. Multiple skyboxes are available, but <span>only</span> a procedural skybox gives you out-of-the-box runtime control over the colors and construction of the texture.</p><p>Â </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note11"></a>Note</h3><p><span class="strong"><strong>PBR</strong></span> stands for <span class="strong"><strong>Physically Based Rendering</strong></span>. In Unity, this corresponds to the Standard Shader. This is a special material configured to simulate real-world properties. By using the Standard Shader you can create materials within real-world limits and that react to light as you would expect. The primary purpose of PBR materials to simplify the creation of photo-realistic worlds.</p></div><div class="mediaobject"><img src="/graphics/9781788479837/graphics/37bc5eef-88ee-480f-9ae8-83d42f60707d.png" /></div><p>Creating a Procedural sky material</p><p>Now, let's configure the material properties. By default, the skybox is generated as a daytime sky. We'll need to change that; set the <strong class="userinput"><code>Sun</code></strong> field to <strong class="userinput"><code>None</code></strong>, as we won't need one, set the <strong class="userinput"><code>Sun Size</code></strong> to <code class="literal">0</code>, <strong class="userinput"><code>Atmospheric <strong class="userinput"><code>Thicknes</code></strong></code></strong> to <code class="literal">0.43</code>, and <strong class="userinput"><code>Exposure</code></strong> to <code class="literal">1.3</code>; this adds volume and a horizon glow to the environment. In addition, set the sky and ground colors; these should be dark values to express a nightscape. I've chosen <code class="literal">021643FF</code> for <strong class="userinput"><code>Sky Tint</code></strong> and <code class="literal">1D1A19FF</code> for <strong class="userinput"><code>Ground</code></strong>:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/8a78b5d3-9a2d-4dc7-91de-93d6566de8d7.png" /></div><p>Configuring night time skybox</p><p>The skybox can be applied to the scene in several ways. One way is to assign the skybox to a camera as a background. To do this, simply select a camera, and from the <strong class="userinput"><code>Component</code></strong> menu, add a <strong class="userinput"><code>Skybox</code></strong> component. Navigate to <strong class="userinput"><code>Component</code></strong> | <strong class="userinput"><code>Rendering</code></strong> | <strong class="userinput"><code>Skybox</code></strong>. However, for our purposes, we'll avoid this method. We want the background to apply to the scene, and all cameras, as opposed to a single camera:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/7328525a-84d1-4583-bc03-13928fd62f2d.png" /></div><p>Adding a Skybox component to a camera</p><p>Instead of applying a skybox to a camera, we'll apply it to the scene. To do that, open the <strong class="userinput"><code>Lighting</code></strong> window by navigating to <strong class="userinput"><code>Window</code></strong> | <strong class="userinput"><code>Lighting</code></strong> from the application menu. From the <strong class="userinput"><code>Lighting</code></strong> window, drag and drop the newly created skybox material to the <strong class="userinput"><code>Skybox</code></strong> field:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/8b982648-af02-46e5-abd2-cdf105c6ad63.png" /></div><p>Assigning a skybox to the scene</p><p>When the skybox is applied via the <strong class="userinput"><code>Lighting</code></strong> window, it should appear from the <strong class="userinput"><code>Scene</code></strong> tab as the world background. If it doesn't appear, ensure that you enable Effects Visibility from the <strong class="userinput"><code>Scene</code></strong> toolbar:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/e6a63992-5d12-4f2c-9bd0-e9f5e9ce7a82.png" /></div><p>Enabling skybox effect</p></div>