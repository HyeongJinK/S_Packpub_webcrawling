<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec85"></a>Stats and performance</h2></div></div><hr /></div><p>Many people think that game optimization <span>should</span> be an afterthought, that is, something that comes at the end of development. This line of reasoning stresses the importance of first making the game as a complete experience, and then recommends optimizing what has <span>been</span> made by tweaking the existing features. This approach, though common, is not recommended.</p><p>Instead, performance and optimization should factor into the design, which means that they should be early considerations. From the outset of development, you should be considering ways to optimize performance and your workload. Consider the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Target Platform</strong></span>: Decide the <span>target</span> hardware to be supported by your game early on. This should not be defined only in terms of the operating system, such as Android or Windows, but also in terms of versions, such as Windows 10 or Android 4.5. It is important to establish a minimum baseline version, below which the game is not supported, that is, not tested or assumed to work properly. After establishing this, you should get access to all target hardware and software so that you can test your game on the minimum systems. Do not rely on simulators or emulators; always test on the target hardware itself.</li><li style="list-style-type: disc"><span class="strong"><strong>Target Frame Rate/Performance</strong></span>: Next, decide on a minimum level of runtime performance acceptable for the <span>target</span> hardware. Typically, this can be defined in <span class="strong"><strong>Frames Per Second</strong></span> (<span class="strong"><strong>FPS</strong></span>), that is, the minimum FPS acceptable at <span>any</span> time for the target hardware, such as 40 fps or 50 fps. By deciding on a concrete minimum, you'll have a firm benchmark to make comparisons and judgments about how well your game is performing.</li></ul></div><p>After deciding on target hardware and target performance, you're ready to start testing your game and assess its performance. The best way to do this for desktop platforms is by playing your game directly from the <span class="strong"><strong>Unity editor</strong></span>, running it from <span>the</span><strong class="userinput"><code>Game</code></strong> tab with the <strong class="userinput"><code>Stats</code></strong> panel activated. You can activate the <strong class="userinput"><code>Stats</code></strong> panel by clicking on the <strong class="userinput"><code>Stats</code></strong> button from the <strong class="userinput"><code>Game</code></strong> tab. This displays an information panel in the top-right corner of the screen:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/a1a9bb4e-3e57-4aee-9ba5-74235d9b186d.png" /></div><p>Accessing the Stats panel</p><p>The <strong class="userinput"><code>Stats</code></strong> panel lists lots of critical information about the runtime performance of your game, but it always describes the performance on the current system, specifically, the system on which you are running the Unity editor. For this reason, if you're developing and testing on a system that's more powerful than your target hardware, you need to be cautious about the information provided by the <strong class="userinput"><code>Stats</code></strong> panel. Ideally, try testing on your target hardware for the most meaningful results:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/14e72a2d-1293-45b7-b40c-96eec1b7be72.png" /></div><p>Reading the Stats panel on the target hardware</p><p>The <strong class="userinput"><code>Tris</code></strong> and <strong class="userinput"><code>Verts</code></strong> stats list the total number of triangles and vertices processed by the graphics hardware for the current frame only, specifically, all triangles (<strong class="userinput"><code>Tris</code></strong>) and vertices (<strong class="userinput"><code>Verts</code></strong>) within the view of all active cameras. Thus, it is not a count of the total <strong class="userinput"><code>Tris</code></strong> and <strong class="userinput"><code>Verts</code></strong> in the scene. This hints at important opportunities for optimization; on the one hand, you can reduce the polycount of models, but on the other, you can cleverly hide objects from the viewing frustum if they are not needed:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/55e70430-e64e-43cd-b64a-e6db7476fc13.png" /></div><p>Viewing the total triangles and vertices for all active cameras</p><p><strong class="userinput"><code>SetPass calls</code></strong> refers to the number of distinct processing steps that the rendering engine must perform to successfully render the active frame. Fewer steps (lower <strong class="userinput"><code>SetPass calls</code></strong>) result in better performance. One quick technique to reduce <strong class="userinput"><code>SetPass calls</code></strong> is to use fewer unique materials for meshes and to share materials among meshes where possible. Try limiting each mesh to one material (as each unique material results in an additional <strong class="userinput"><code>SetPass</code></strong><strong class="userinput"><code>call</code></strong>):</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/5a4f89a6-dc35-47f4-851a-94e8689cb967.png" /></div><p>Lower SetPass calls result in faster performance</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note57"></a>Note</h3><p>The Stats panel is most valuable when your Unity project is running on the target hardware and is in Play mode. More information on the statistics panel can be found online atÂ <a class="ulink" href="https://docs.unity3d.com/Manual/RenderingStatistics.html" target="_blank">https://docs.unity3d.com/Manual/RenderingStatistics.html</a>.</p></div></div>