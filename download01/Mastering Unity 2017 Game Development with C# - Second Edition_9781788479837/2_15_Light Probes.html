<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec21"></a>Light Probes</h2></div></div><hr /></div><p><span>The</span> lightmap setup works well for the scene, but applies only to static objects, such as walls, floors, ceilings, and props. Animated and movable objects, such as NPCs, will continue to be illuminated by expensive dynamic lights, in contrast, unless additional steps are taken; let's take those now using Light Probes. They are special sampling objects, that should be positioned strategically around the scene to record an average of light color and intensity at <span>that</span> location. When multiple Light Probes exist, movable objects such as characters are illuminated by interpolated values taken from the nearest probes. Light Probes, therefore, record color and intensity, but they do not cast shadows. To get started with Light Probes, create a new game object to act as the parent of all probes. Navigate to <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>Create Empty</code></strong> from the application menu, and name this object as <code class="literal">LightProbes</code>:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/99abe79e-b232-4901-932b-401252c75bc8.png" /></div><p>Creating an empty object for Light Probes</p><p>Next, add a Light Probe group component to the newly created <span>Empty Object</span>. This can be added first by selecting the empty, and then by navigating to <strong class="userinput"><code>Component</code></strong> | <strong class="userinput"><code>Render</code></strong> | <strong class="userinput"><code>Light Probe Group</code></strong> from the application menu. Using a Light Probe group, you can add, move, and reposition Light Probes in the scene.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note16"></a>Note</h3><p>You can also create a <strong class="userinput"><code>Light Probe Group</code></strong> in one operation by navigating to <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>Light</code></strong> | <strong class="userinput"><code>Light Probe</code></strong><strong class="userinput"><code>Group</code></strong> from the applicatio<span>n menu.</span></p></div><div class="mediaobject"><img src="/graphics/9781788479837/graphics/12577727-eed5-4d92-974a-dececa3d0aa9.png" /></div><p>Creating a Light Probe Group</p><p>A scene usually has only one <strong class="userinput"><code>Light Probe Group</code></strong>, which is responsible for all Light Probes. Each Light Probe samples light color and intensity at a specific location. To add a new probe, select the <strong class="userinput"><code>Light Probe Group</code></strong> object, and from the object <strong class="userinput"><code>Inspector</code></strong>, click on the <strong class="userinput"><code>Edit Light Probes</code></strong> button, which is part of the <strong class="userinput"><code>Light Probe Group</code></strong> component. This unlocks a series of buttons for editing Light Probes:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/43bc3614-58eb-41ac-a867-14b1c782d6aa.png" /></div><p>Editing Light Probes from the object Inspector</p><p>Now, click on the <strong class="userinput"><code>Add Probe</code></strong> button. When you do this for the first time, a collection of probes is added to the scene. The probes may be positioned out of view (press <span class="emphasis"><em>F</em></span> to frame them, if needed). You can use the <strong class="userinput"><code>Transform</code></strong> tools to move <span>them</span> into position. The idea is to position them in areas where significant light changes occur, from dark to light, or from one color to the next. Ideally, the probes should record the state of lighting throughout the scene:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/6fed76b6-758d-4bee-802e-f4938684f261.png" /></div><p>Adding Light Probes</p><p>After adding the initial probes, select specific ones and click on <strong class="userinput"><code>Duplicate Selected</code></strong> to add more. Once duplicated, move the probes into position. Repeat this process to fill the scene with probes in light-significant locations:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/0ae2c5e3-1fdd-42ad-8896-a47847509796.png" /></div><p>Adding additional probes</p><p>A complete network of probes can effectively record scene lighting. In addition, Unity draws connections between probes in the <strong class="userinput"><code>Scene</code></strong> viewport, helping you visualize how lighting will be interpolated:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/67523013-be2a-4cb9-b65b-120e18e8f89e.png" /></div><p>Completing the probe network</p><p>If you don't see Light Probes in the <strong class="userinput"><code>Scene</code></strong> viewport, ensure that you have Light Probe gizmos enabled. To do that, click on the <strong class="userinput"><code>Gizmos</code></strong> icon <span>from</span> the <strong class="userinput"><code>Scene</code></strong> toolbar and enable <strong class="userinput"><code>LightProbeGroup</code></strong>:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/fb831bc4-de46-4888-b7f4-aa2cfd17acad.png" /></div><p>Enabling Light Probe Viewport Visibility</p><p>After adding all probes, you'll need to bake them from the <strong class="userinput"><code>Lighting</code></strong> window. This process effectively takes the snapshot for the probes, causing each probe to record scene light color and light intensity at the probe location. To achieve this, switch to the <strong class="userinput"><code>Lighting</code></strong> window (which can be docked in the object <strong class="userinput"><code>Inspector</code></strong>), and click on the <strong class="userinput"><code>Build</code></strong> button. That's it! You've now baked Light Probes, congratulations! Of course, for <strong class="userinput"><code><span>Light</span> Probes</code></strong> to actually affect dynamic meshes, such as characters, you should select each movable mesh, and examine its properties in the object <strong class="userinput"><code>Inspector</code></strong>. For the <strong class="userinput"><code>Mesh Renderer</code></strong> (non-character objects) and the <strong class="userinput"><code>Skinned Mesh Renderer</code></strong> components (for character meshes), you should specify <strong class="userinput"><code>Blend Probes</code></strong> for the <strong class="userinput"><code><span>Light</span> Probes</code></strong> field. This indicates that the selected object receives its lighting from the <strong class="userinput"><code>Light Probes</code></strong> scene, as opposed to dynamically from scene lights:</p><div class="mediaobject"><img src="/graphics/9781788479837/graphics/20c9e6bc-39d4-4515-9ae6-0a95651cb1ef.png" /></div><p>Configuring objects to use Light Probes</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note17"></a>Note</h3><p>More information on Light Probes can be found in the online Unity documentation at <a class="ulink" href="https://docs.unity3d.com/Manual/LightProbes.html" target="_blank">https://docs.unity3d.com/Manual/LightProbes.html</a>.</p></div></div>