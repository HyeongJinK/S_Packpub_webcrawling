<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec41"></a>Game navigation</h2></div></div><hr /></div><p>Many games start with a full-screen <a id="id277" class="indexterm"></a>game navigation menu when the game is first launched. Typical elements on these screens are text, images, and buttons. The text will normally display the game's title and the images will be related to the game. One or more buttons are also a normal UI element on main game screens. A very simple game might have a single <span class="strong"><strong>Play </strong></span>button, while more complex games can have several buttons such as play, mode, level, instructions, campaign, and more.</p><p>We do not need a fancy game menu screen to allow the user to navigate between scenes or levels. It is important to be able to create these types of screens for more complex games, so we'll dive into this a bit and add a functional button to our existing HUD canvas.</p><p>By performing the following steps, we will create a new scene to our game. This will be the main scene that shows a play button. When a user clicks on the play button, the farm scene will be loaded:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Save the current scene and the project.</p></li><li><p>Select <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New Scene</strong></span> to create a new scene.</p></li><li><p>Save the new scene as <code class="literal">_MainScene</code>. Let Unity store the scene in the <code class="literal">Assets</code> folder, which will be the default location.</p><div class="mediaobject"><img src="/graphics/9781784398316/graphics/3852_06_18.jpg" /></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip09"></a>Tip</h3><p>I begin the names of all my scenes with an underscore (_) so that they always show up at the top of the Project view. Alternatively, if you have a lot of scenes, you can create a <span class="strong"><strong>Scenes</strong></span> folder in <span class="strong"><strong>Project</strong></span> view. Keeping your project organized will save you a lot of time and frustration. For larger games, you'll probably want to name your scenes with sequential numbering, such as <code class="literal">01_Main</code>, <code class="literal">02_Jungle</code>, <code class="literal">03_Cave</code>, and so on.</p></div></li><li><p>You should now<a id="id278" class="indexterm"></a> be viewing the new <code class="literal">_MainScene</code> data with only a main camera and directional light in the <span class="strong"><strong>Hierarchy</strong></span> view. Do not worry, all your <code class="literal">_FarmScene</code> data is still intact.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip10"></a>Tip</h3><p>You can easily switch between scenes by double-clicking on the scene name in the <span class="strong"><strong>Project</strong></span> view. If you have any unsaved edits on the current scene, Unity will ask you if you want to save or abandon the edits.</p></div></li><li><p>Next, select the <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Build Settings</strong></span> menu choice to access the build settings dialog.</p></li><li><p>Drag both scenes from the <span class="strong"><strong>Project</strong></span> view to the <span class="strong"><strong>Scenes in Build</strong></span> box of the <span class="strong"><strong>Build Settings</strong></span> dialog.</p></li><li><p>Drag and drop the scenes so that the <code class="literal">_MainScene</code> scene is scene 0 and <code class="literal">_FarmScene</code> is scene 1.</p><div class="mediaobject"><img src="/graphics/9781784398316/graphics/3852_06_19.jpg" /></div></li><li><p>Close the <a id="id279" class="indexterm"></a>
<span class="strong"><strong>Build Settings</strong></span> dialog window.</p></li><li><p>Save your project.</p><p>Next, we'll add a button to the new scene that, when clicked, will load  <code class="literal">_FarmScene</code>.</p></li><li><p>Navigate and select the <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Button</strong></span> menu option. This adds a canvas with a child button, as well as an <span class="strong"><strong>EventSystem</strong></span> game object.</p></li><li><p>Expand the button UI element in the <span class="strong"><strong>Hierarchy</strong></span> view to reveal the text component. All buttons have a text component:</p><div class="mediaobject"><img src="/graphics/9781784398316/graphics/3852_06_20.jpg" /></div></li><li><p>Rename the button as <code class="literal">Play_Button</code> in the <span class="strong"><strong>Hierarchy</strong></span> view.</p></li><li><p>Change the text component's text to <code class="literal">Play</code> in the <span class="strong"><strong>Inspector</strong></span> view. You should now have a <span class="strong"><strong>Play</strong></span> button in the center of the canvas:</p><div class="mediaobject"><img src="/graphics/9781784398316/graphics/3852_06_21.jpg" /></div></li><li><p>Navigate and <a id="id280" class="indexterm"></a>select <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>C# Script</strong></span> to create a new script. This will be our script that is executed when the player clicks on the play button.</p></li><li><p>Rename the new script as <code class="literal">LoadSceneOnClick</code>.</p></li><li><p>Double-click on the new script to edit it in MonoDevelop.</p></li><li><p>Edit the script so that it matches the following script:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

public class LoadSceneOnClick : MonoBehaviour {

    public void LoadScene(int scene)
    {
        Application.LoadLevel (scene);
    }
}</pre></div></li><li><p>Save the script and return to Unity.</p></li><li><p>Drag the new script to the canvas.</p></li><li><p>Select the <span class="strong"><strong>Play_Button</strong></span> in the <span class="strong"><strong>Hierarchy</strong></span> view.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> view, you will see the <span class="strong"><strong>On Click()</strong></span> function at the bottom of the <span class="strong"><strong>Button (Script)</strong></span> component, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784398316/graphics/3852_06_22.jpg" /></div></li><li><p>Click on <a id="id281" class="indexterm"></a>the <span class="strong"><strong>+</strong></span> sign at the bottom of the <span class="strong"><strong>Button (Script)</strong></span> section to add a function to the <span class="strong"><strong>On Click ()</strong></span> list.</p></li><li><p>Drag the <span class="strong"><strong>Canvas</strong></span> section from the <span class="strong"><strong>Hierarchy</strong></span> view to the <span class="strong"><strong>None (Object)</strong></span> area of the <span class="strong"><strong>Inspector</strong></span> view, just below the <span class="strong"><strong>On Click ()</strong></span> label.</p></li><li><p>Using the <span class="strong"><strong>No Function</strong></span> pop-up menu in the <span class="strong"><strong>On Click ()</strong></span> area, navigate and select <span class="strong"><strong>LoadSceneOnClick</strong></span> | <span class="strong"><strong>LoadScene (int)</strong></span>.</p></li><li><p>Our last step is to change the parameter we are passing in to the <span class="strong"><strong>LoadScene (int)</strong></span> function. Change the parameter in the <span class="strong"><strong>On Click ()</strong></span> area from <code class="literal">0</code> to <code class="literal">1</code>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784398316/graphics/3852_06_23.jpg" /></div></li><li><p>Save the scene and save the project.</p></li></ol></div><p>Now, when you put the game in play mode, you'll note a couple of changes. First, the new scene we created with only a <span class="strong"><strong>Play</strong></span> button is displayed first. No user actions are possible except to click on the play button. This is our second change. When the user clicks the play button, the farm scene is loaded and the game can be played as usual.</p><p>This is arguably a <a id="id282" class="indexterm"></a>crude implementation of a full-screen game navigation system. Given a little effort, we could add an instructions button that displayed information on how to play the game. We could also add an exit or quit button. If we wanted to spruce things up a bit more, we could add a background image that represents the game. These are just some of the possibilities.</p></div>