<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec27"></a>Creating a simple 2D mini-game – SpaceGirl</h2></div></div><hr /></div><p>This recipe presents the steps to create the 2DSpaceGirl mini-game, on which all the recipes of this <a id="id173" class="indexterm"></a>chapter are based.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec65"></a>Getting ready</h3></div></div></div><p>For this recipe, we have prepared the images you need in a folder named <code class="literal">Sprites</code> in the <code class="literal">1362_02_01 </code>folder. We have also provided the completed game as a Unity package in this folder named <code class="literal">Simple2DGame_SpaceGirl</code>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec66"></a>How to do it...</h3></div></div></div><p>To create the simple 2D mini-game <span class="emphasis"><em>Space Girl</em></span> follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a<a id="id174" class="indexterm"></a> new, empty 2D project.</p></li><li><p>Import supplied folder <code class="literal">Sprites</code> into your project.</p></li><li><p>Convert each sprite image to be of type <span class="strong"><strong>Sprite (2D and UI)</strong></span>. To do this, select the sprite in the <span class="strong"><strong>Project</strong></span> panel, then, in the <span class="strong"><strong>Inspector</strong></span>, change choose <span class="strong"><strong>Sprite (2D and UI)</strong></span> from the drop-down menu <span class="strong"><strong>Texture Type</strong></span>, and click on the <span class="strong"><strong>Apply</strong></span> button, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_54.jpg" /></div></li><li><p>Set the Unity<a id="id175" class="indexterm"></a> Player screen size to 800 x 600: choose the <span class="strong"><strong>Edit</strong></span> | <span class="strong"><strong>Project Settings</strong></span> | <span class="strong"><strong>Player </strong></span>menu, then for option <span class="strong"><strong>Resolution and Presentation</strong></span> uncheck <code class="literal">Default is Full Screen,</code> and set the width to <code class="literal">800</code> and height to <code class="literal">600</code>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_03.jpg" /></div></li><li><p>Select the <span class="strong"><strong>Game</strong></span> panel; if not already chosen, then choose <span class="strong"><strong>Standalone (800 x 600)</strong></span> from the drop-down menu, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_02.jpg" /></div></li><li><p>Display the <span class="strong"><strong>Tags &amp; Layers</strong></span> properties for the current Unity project. Choose menu <span class="strong"><strong>Edit</strong></span> | <span class="strong"><strong>Project Settings</strong></span> | <span class="strong"><strong>Tags and Layers</strong></span>. Alternatively, if you are already editing a GameObject, then you can select the <span class="strong"><strong>Add Layer…</strong></span> menu from the<a id="id176" class="indexterm"></a> <span class="strong"><strong>Layer</strong></span> drop-down menu at the top of the <span class="strong"><strong>Inspector</strong></span> panel, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_51.jpg" /></div></li><li><p>The <span class="strong"><strong>Inspector</strong></span> should now being displaying the <span class="strong"><strong>Tags &amp; Layers</strong></span> properties for the current Unity project. Use the expand/contract triangle tools to contract <span class="strong"><strong>Tags</strong></span> and <span class="strong"><strong>Layers</strong></span>, and to expand <span class="strong"><strong>Sorting Layers</strong></span>.</p></li><li><p>Use the plus sign <span class="strong"><strong>+</strong></span> button to add two new sorting layers, as shown in the following screenshot: first, add one named <span class="strong"><strong>Background</strong></span>, and next, add one named <span class="strong"><strong>Foreground</strong></span>. The sequence is important, since Unity will draw items in layers further down this list on top of items earlier in the list.</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_52.jpg" /></div></li><li><p>Drag the sprite <code class="literal">background-blue </code>from the <span class="strong"><strong>Project </strong></span>panel (folder <code class="literal">Sprites</code>) into either the <span class="strong"><strong>Game</strong></span> or <span class="strong"><strong>Hierarchy</strong></span> panel to create a GameObject for the current scene.</p></li><li><p>Set the <span class="strong"><strong>Sorting Layer </strong></span>of GameObject <code class="literal">background-blue </code>to <span class="strong"><strong>Background</strong></span> (in the <span class="strong"><strong>Sprite Renderer</strong></span> component).</p></li><li><p>Drag sprite<a id="id177" class="indexterm"></a> <code class="literal">star</code> from the <span class="strong"><strong>Project</strong></span> panel (folder <code class="literal">Sprites</code>) into either the <span class="strong"><strong>Game</strong></span> or <span class="strong"><strong>Hierarchy</strong></span> panel to create a GameObject for the current scene.</p></li><li><p>In the <span class="strong"><strong>Inspector </strong></span>panel, add a new tag <span class="strong"><strong>Star</strong></span> by selecting the <span class="strong"><strong>Add Tag…</strong></span> option from the <span class="strong"><strong>Tag</strong></span> drop-down menu at the top of the <span class="strong"><strong>Inspector</strong></span> panel, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_04.jpg" /></div></li><li><p>Apply the <span class="strong"><strong>Star</strong></span> tag to GameObject <code class="literal">star</code> in the <span class="strong"><strong>Hierarchy</strong></span> scene.</p></li><li><p>Set the <span class="strong"><strong>Sorting Layer</strong></span> of GameObject <code class="literal">star</code> to <span class="strong"><strong>Foreground</strong></span> (in the <span class="strong"><strong>Sprite Renderer</strong></span> component).</p></li><li><p>Add to GameObject <code class="literal">star</code> a Box Collider 2D (<span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Physics 2D</strong></span> | <span class="strong"><strong>Box Collider 2D</strong></span>) and check its <code class="literal">Is Trigger</code>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_08.jpg" /></div></li><li><p>Drag sprite <code class="literal">girl1</code> from the <span class="strong"><strong>Project</strong></span> panel (folder <code class="literal">Sprites</code>) into either the <span class="strong"><strong>Game</strong></span> or <span class="strong"><strong>Hierarchy</strong></span> panel to create a GameObject for the player's character in the current scene. Rename this GameObject <code class="literal">player-SpaceGirl</code>.</p></li><li><p>Set the <span class="strong"><strong>Sorting Layer </strong></span>of GameObject <code class="literal">player-SpaceGirl</code> to <span class="strong"><strong>Foreground</strong></span> (in the <span class="strong"><strong>Sprite Renderer</strong></span> component).</p></li><li><p>Add to <a id="id178" class="indexterm"></a>GameObject <code class="literal">player-SpaceGirl</code> a Box Collider 2D (<span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Physics 2D</strong></span> | <span class="strong"><strong>Box Collider 2D</strong></span>).</p></li><li><p>Add to GameObject <code class="literal">player-SpaceGirl</code> a RigidBody 2D (<span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Physics 2D</strong></span> | <span class="strong"><strong>Rigid Body 2D</strong></span>). Set its <span class="strong"><strong>Gravity Scale</strong></span> to zero (so it isn't falling down the screen due to simulated gravity), as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_31.jpg" /></div></li><li><p>Create a new<a id="id179" class="indexterm"></a> folder for your scripts named <code class="literal">Scripts</code>.</p></li><li><p>Create the following C# Script <code class="literal">PlayerMove</code> (in folder <code class="literal">Scripts</code>) and add an instance as a component to GameObject <code class="literal">player-SpaceGirl</code> in the <span class="strong"><strong>Hierarchy</strong></span>:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

public class PlayerMove : MonoBehaviour {
  public float speed = 10;
  private Rigidbody2D rigidBody2D;

  void Awake(){
    rigidBody2D = GetComponent&lt;Rigidbody2D&gt;();
  }

  void FixedUpdate(){
    float xMove = Input.GetAxis("Horizontal");
    float yMove = Input.GetAxis("Vertical");

    float xSpeed = xMove * speed;
    float ySpeed = yMove * speed;
    
    Vector2 newVelocity = new Vector2(xSpeed, ySpeed);
    
    rigidBody2D.velocity = newVelocity;
  }
}</pre></div></li><li><p>Save the scene (name it <span class="strong"><strong>Main Scene</strong></span> and save it into a new folder named <code class="literal">Scenes</code>).</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec67"></a>How it works...</h3></div></div></div><p>You have created a player character in the scene, with its movement scripted component <code class="literal">PlayerMove</code>. You <a id="id180" class="indexterm"></a>have also created a star GameObject (a pickup), tagged <code class="literal">Star</code> and with a 2D box collider that will trigger a collision when the player's character hits it. When you run the game, the <code class="literal">player-SpaceGirl</code> character should move around using the <span class="emphasis"><em>W A S D</em></span>, arrow keys, or joystick. Currently, nothing will happen if the <code class="literal">player-SpaceGirl</code> character hits a star since that has yet to be scripted.</p><p>You have added a background (GameObject <code class="literal">background-blue</code>) to the scene, which will be behind everything since it is in the rearmost sorting layer <span class="strong"><strong>Background</strong></span>. Items you want to appear in front of this background (the player's character and the star so far) are placed on sorting layer <a id="id181" class="indexterm"></a><span class="strong"><strong>Foreground</strong></span>. Learn more about Unity tags and layers at <a class="ulink" href="http://docs.unity3d.com/Manual/class-TagManager.html" target="_blank">http://docs.unity3d.com/Manual/class-TagManager.html</a>.</p></div></div>