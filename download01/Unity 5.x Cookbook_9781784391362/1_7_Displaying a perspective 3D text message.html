<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec14"></a>Displaying a perspective 3D text message</h2></div></div><hr /></div><p>Unity provides <a id="id45" class="indexterm"></a>an alternative way to display text in 3D via the <code class="literal">TextMesh</code> component. While this is really suitable for a text-in-the-scene kind of situation (such as billboards, road signs, and generally wording on the side of 3D objects that might be seen close up), it is quick to create, and is another way of creating interesting menus or instructions scenes, and the like.</p><p>In this recipe, you'll learn how to create a scrolling 3D text, simulating the famous opening credits of the movie <span class="strong"><strong>Star Wars</strong></span>, which looks something like this:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_27.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec27"></a>Getting ready</h3></div></div></div><p>For this recipe, we have prepared the fonts that you need in a folder named <code class="literal">Fonts</code>, and the text file that you need in a folder named <code class="literal">Text</code>, in the <code class="literal">1362_01_04</code> folder.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec28"></a>How to do it...</h3></div></div></div><p>To display perspective 3D text, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create<a id="id46" class="indexterm"></a> a new Unity 3D project (this ensures that we start off with a <span class="strong"><strong>Perspective</strong></span> camera, suitable for the 3D effect that we want to create).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note05"></a>Note</h3><p>If you need to mix 2D and 3D scenes in your project, you can always manually set any camera's <span class="strong"><strong>Camera Projection</strong></span> property to <span class="strong"><strong>Perspective</strong></span> or <span class="strong"><strong>Orthographic</strong></span> via the <span class="strong"><strong>Inspector</strong></span> panel.</p></div></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, select the <span class="strong"><strong>Main Camera</strong></span> item, and, in the <span class="strong"><strong>Inspector</strong></span> panel, set its properties as follows: <span class="strong"><strong>Camera Clear Flags</strong></span> to <span class="strong"><strong>solid color</strong></span>, <span class="strong"><strong>Field of View</strong></span> to <span class="strong"><strong>150</strong></span>. Also set the <span class="strong"><strong>Background color</strong></span> to black.</p></li><li><p>Import the provided <code class="literal">Fonts</code> folder.</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, add a <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Text</strong></span> game object to the scene – choose menu: <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Text</strong></span>. Name this GameObject as <code class="literal">Text-star-wars</code>. Set its <span class="strong"><strong>Text Content </strong></span>as Star Wars (with each word on a new line). Then, set its <span class="strong"><strong>Font</strong></span> to <code class="literal">Xolonium Bold</code>, and its <span class="strong"><strong>Font Size</strong></span> to <code class="literal">50</code>. Use the anchor presets in <span class="strong"><strong>Rect Transform</strong></span> to position this UI <span class="strong"><strong>Text</strong></span> object at the top center of the screen.</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, add a <span class="strong"><strong>3D Text</strong></span> game object to the scene – choose menu: <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>3D Object</strong></span> | <span class="strong"><strong>3D Text</strong></span>. Name this GameObject <code class="literal">Text-crawler</code>.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> panel, set the <span class="strong"><strong>Transform</strong></span> properties for GameObject <span class="strong"><strong>Text-crawler</strong></span> as follows: <span class="strong"><strong>Position</strong></span> (<code class="literal">0</code>, <code class="literal">-300</code>, <code class="literal">-20</code>), <span class="strong"><strong>Rotation</strong></span> (<code class="literal">15</code>, <code class="literal">0</code>, <code class="literal">0</code>).</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> panel, set the <span class="strong"><strong>Text Mesh</strong></span> properties for GameObject <span class="strong"><strong>Text-crawler</strong></span> as follows:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Paste the content of the provided text file, <code class="literal">star_wars.txt,</code> into <span class="strong"><strong>Text</strong></span>.</p></li><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Offset Z</strong></span> = <code class="literal">20</code>, <span class="strong"><strong>Line Spacing</strong></span> = <code class="literal">0.8</code>, and <span class="strong"><strong>Anchor</strong></span> = Middle center</p></li><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Font Size</strong></span> = <code class="literal">200</code>, <span class="strong"><strong>Font</strong></span> = <code class="literal">SourceSansPro-BoldIt</code>
</p></li></ul></div></li><li><p>When the scene is made to run, the Star Wars story text will now appear nicely squashed in 3D perspective on the screen.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec29"></a>How it works...</h3></div></div></div><p>You have simulated the opening screen of the movie <span class="emphasis"><em>Star Wars</em></span>, with a flat UI <span class="strong"><strong>Text</strong></span> object title at the top of the screen, and 3D <span class="strong"><strong>Text Mesh</strong></span> with settings that appear to be disappearing<a id="id47" class="indexterm"></a> into the horizon with 3D perspective 'squashing'.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec30"></a>There's more...</h3></div></div></div><p>There are some details that you don't want to miss.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec03"></a>We have to make this text crawl like it does in the movie</h4></div></div></div><p>With a few<a id="id48" class="indexterm"></a> lines of code, we can make this text scroll in the horizon just as it does in the movie. Add the following C# script class, <code class="literal">ScrollZ,</code> as a component to GameObject <span class="strong"><strong>Text-crawler</strong></span>:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

public class ScrollZ : MonoBehaviour {
  public float scrollSpeed = 20;

  void Update () {
    Vector3 pos = transform.position;
    Vector3 localVectorUp = transform.TransformDirection(0,1,0);
    pos += localVectorUp * scrollSpeed * Time.deltaTime;
    transform.position = pos;
  }
}</pre></div><p>In each frame via the <code class="literal">Update()</code> method, the position of the 3D text object is moved in the direction of this GameObject's local up-direction.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec04"></a>Where to learn more</h4></div></div></div><p>Learn more about 3D<a id="id49" class="indexterm"></a> Text and Text Meshes in the Unity online manual at <a class="ulink" href="http://docs.unity3d.com/Manual/class-TextMesh.html" target="_blank">http://docs.unity3d.com/Manual/class-TextMesh.html</a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note06"></a>Note</h3><p>NOTE: An alternative way of achieving perspective text like this would be to use a Canvas with render mode World Space.</p></div></div></div></div>