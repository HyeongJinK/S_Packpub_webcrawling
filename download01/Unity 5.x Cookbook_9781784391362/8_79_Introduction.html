<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec79"></a>Introduction</h2></div></div><hr /></div><p>Many GameObjects in games move! Movement can be controlled by the player, by the (simulated) laws of physics in the environment, or by<a id="id840" class="indexterm"></a> the <span class="strong"><strong>Non-Player Character</strong></span> (<span class="strong"><strong>NPC</strong></span>) logic; for example, objects that follow a path of waypoints, or seek (move towards) or flee (away) from the current position of a character. Unity provides several controllers, for first and third-person characters, and for vehicles such as cars and airplanes. GameObject movement can also be controlled through the state machines of the Unity Mecanim animation system.</p><p>However, there maybe times when you wish to tweak the Player character controllers from Unity, or write your own. You might wish to write directional logic—simple or sophisticated <span class="strong"><strong>Artificial Intelligence</strong></span> (<span class="strong"><strong>AI</strong></span>) to control the game's NPC and enemy characters. Such AI might involve your computer program making objects orient and move towards or away from <a id="id841" class="indexterm"></a>characters or other game objects.</p><p>This chapter presents a range of such directional recipes, from which many games can benefit in terms of a richer and more exciting user experience.</p><p>Unity provides sophisticated classes and components including the Vector3 class and rigid body physics for modeling realistic movements, forces, and collisions in games. We make use of these game engine features to implement some sophisticated NPC and enemy character movements in the recipes of this chapter.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec227"></a>The big picture</h3></div></div></div><p>For 3D games (and to some extent, 2D games as well), a fundamental class of object is the Vector3 class—objects<a id="id842" class="indexterm"></a> that store and manipulate (x,y,z) values representing locations in 3D space. If we draw an imaginary arrow from the origin (0,0,0) to a point on space, then the direction and length of this arrow (vector) can represent a velocity or force (that is, a certain amount of magnitude in a certain direction).</p><p>If we ignore all the character controller components, colliders, and the physics system in Unity, we can write code that teleports objects directly to a particular (x, y, z) location in our scene. And sometimes this is just what we want to do; for example, we may wish to spawn an object at a location. However, in most cases, if we want objects to move in more physically realistic ways, then we either apply a force to the object, or change its velocity component. Or if it has a Character Controller component, then we can send it a <code class="literal">Move()</code> message. With the introduction of Unity NavMeshAgents (and associated Navigation Meshes), we can now set a destination for an object with a NavMeshAgent, and then the built-in pathfinding logic will do the work of moving our NPC object on a path towards the given (x, y, z) destination location.</p><p>As well as deciding which technique will be used to move an object, our game must also do the work of deciding how to choose the destination locations, or the direction and magnitude of changes to movement. This can involve logic to tell an NPC or enemy object the destination of the Player's character (to be moved towards, and then perhaps attacked when close enough). Or perhaps shy NPC objects will be given the direction to the Player's character, so that they can flee in the opposite direction, until they are a safe distance away.</p><p>Other core concepts in the NPC object movement and creation (instantiation) include:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Spawn points</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Specific locations in the scene where objects are to be created, or moved to</p></li></ul></div></li><li style="list-style-type: disc"><p>Waypoints</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The sequence of locations to define a path for NPCs or perhaps, the Player's character to follow</p></li></ul></div></li><li style="list-style-type: disc"><p>Checkpoints</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Locations (or colliders) that, once passed through, change what happens in the game (for example, extra time, or if a Player's character gets killed, they respawn to the last crossed checkpoint, and so on)</p></li></ul></div></li></ul></div></div></div>