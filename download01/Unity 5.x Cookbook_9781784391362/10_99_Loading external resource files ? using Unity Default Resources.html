<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch10lvl1sec97"></a>Loading external resource files – using Unity Default Resources</h2></div></div><hr /></div><p>In this recipe, we <a id="id1028" class="indexterm"></a>will load an external image<a id="id1029" class="indexterm"></a> file, and display it on the screen, using the <span class="strong"><strong>Unity Default Resources</strong></span> file (a library created at the time the game was compiled).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note45"></a>Note</h3><p>This method is perhaps the simplest way to store and read the external resource files. However, it is only appropriate when the contents of the resource files will not change after compilation, since the contents of these files are combined and compiled into the <code class="literal">resources.assets</code> file.</p><p>The <code class="literal">resources.assets</code> file can be found in the <code class="literal">Data</code> folder for a compiled game.</p></div><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_10_03.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec286"></a>Getting ready</h3></div></div></div><p>In the <code class="literal">1362_10_01</code> folder, we have provided an image file, a text file, and an audio file in the <code class="literal">.ogg</code> format for this recipe:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">externalTexture.jpg</code>
</p></li><li style="list-style-type: disc"><p>
<code class="literal">cities.txt</code>
</p></li><li style="list-style-type: disc"><p>
<code class="literal">soundtrack.ogg</code>
</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec287"></a>How to do it...</h3></div></div></div><p>To load the<a id="id1030" class="indexterm"></a> external resources by Unity Default Resources, do the following:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new <a id="id1031" class="indexterm"></a>3D Unity project.</p></li><li><p>In the <span class="strong"><strong>Project</strong></span> window, create a new folder and rename it <code class="literal">Resources</code>.</p></li><li><p>Import the <code class="literal">externalTexture.jpg</code> file and place it in the <code class="literal">Resources</code> folder.</p></li><li><p>Create a 3D cube.</p></li><li><p>Add the following C# Script to your cube:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

public class ReadDefaultResources : MonoBehaviour {
  public string fileName = "externalTexture";
  private Texture2D externalImage;

  void Start () {
    externalImage = (Texture2D)Resources.Load(fileName);
    Renderer myRenderer = GetComponent&lt;Renderer&gt;();
    myRenderer.material.SetTexture("_MainTex", externalImage);
  }
}</pre></div></li><li><p>Play the scene. The texture will be loaded and displayed on the screen.</p></li><li><p>If you have another image file, put a copy into the <code class="literal">Resources</code> folder. Then, in the <span class="strong"><strong>Inspector</strong></span> window, change the public file name to the name of your image file and play the scene again. The new image will now be displayed.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec288"></a>How it works...</h3></div></div></div><p>The <code class="literal">Resources.Load(fileName)</code> statement makes Unity look inside its compiled project data file called <code class="literal">resources.assets</code> for the contents of a file named <code class="literal">externalTexture</code>. The contents are returned as a texture image, which is stored into the <code class="literal">externalImage</code> variable. The last statement in the <code class="literal">Start() </code>method sets the texture of the GameObject the script has been attached to our <code class="literal">externalImage</code> variable.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note46"></a>Note</h3><p>Note: The filename string passed to <code class="literal">Resources.Load()</code> does <span class="emphasis"><em>not</em></span> include the file extension (such as <code class="literal">.jpg</code> or <code class="literal">.txt</code>).</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec289"></a>There's more...</h3></div></div></div><p>There are some<a id="id1032" class="indexterm"></a> details that you <a id="id1033" class="indexterm"></a>don't want to miss.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch10lvl3sec74"></a>Loading text files with this method</h4></div></div></div><p>You can load the <a id="id1034" class="indexterm"></a>external text files using the same approach. The private variable needs to be a string (to store the text file contents). The <code class="literal">Start()</code> method uses a temporary <code class="literal">TextAsset</code> object to receive the text file contents, and the text property of this object contains the string contents that are to be stored in the private variable <code class="literal">textFileContents</code>:</p><div class="informalexample"><pre class="programlisting">public class ReadDefaultResourcesText : MonoBehaviour {
  public string fileName = "textFileName";
  private string textFileContents;

  void Start () {
    TextAsset textAsset = (TextAsset)Resources.Load(fileName);
    textFileContents = textAsset.text;
    Debug.Log(textFileContents);
  }
}</pre></div><p>Finally, this string is displayed on the console.</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_10_04.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch10lvl3sec75"></a>Loading and playing audio files with this method</h4></div></div></div><p>You can load external <a id="id1035" class="indexterm"></a>audio files using the<a id="id1036" class="indexterm"></a> same approach. The private variable needs to be an <code class="literal">AudioClip</code>:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

[RequireComponent (typeof (AudioSource))]
public class ReadDefaultResourcesAudio : MonoBehaviour {
  public string fileName = "soundtrack";
  private AudioClip audioFile;

  void  Start (){
    AudioSource audioSource = GetComponent&lt;AudioSource&gt;();
    audioSource.clip = (AudioClip)Resources.Load(fileName);
    if(!audioSource.isPlaying &amp;&amp; audioSource.clip.isReadyToPlay)
      audioSource.Play();
  }
}</pre></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec290"></a>See also</h3></div></div></div><p>Refer to the following recipes in this chapter for more information:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="emphasis"><em>Loading external resource files – by manually storing files in Unity Resources folder</em></span>
</p></li><li style="list-style-type: disc"><p>
<span class="emphasis"><em>Loading external resource files – by downloading files from the Internet</em></span>
</p></li></ul></div></div></div>