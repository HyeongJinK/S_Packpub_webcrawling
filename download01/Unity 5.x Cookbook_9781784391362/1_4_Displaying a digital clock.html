<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec11"></a>Displaying a digital clock</h2></div></div><hr /></div><p>Whether it is the<a id="id32" class="indexterm"></a> real-world time, or perhaps an in-game countdown clock, many games are enhanced by some form of clock or timer display. The most straightforward type of clock to display is a string composed of the integers for hours, minutes, and seconds, which is what we'll create in this recipe.</p><p>The following screenshot shows the kind of clock we will be creating in this recipe:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_04.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec17"></a>Getting ready</h3></div></div></div><p>For this recipe, we have prepared the font that you need in a folder named <code class="literal">Fonts</code> in the <code class="literal">1362_01_01</code> folder.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec18"></a>How to do it...</h3></div></div></div><p>To create a digital clock, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new Unity 2D project.</p></li><li><p>Import the provided <code class="literal">Fonts</code> folder.</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, add a <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Text</strong></span> game object to the scene named <span class="strong"><strong>Text-clock</strong></span>.</p></li><li><p>Ensure that GameObject <span class="strong"><strong>Text-clock</strong></span> is selected in the <span class="strong"><strong>Hierarchy </strong></span>panel. Now, in <span class="strong"><strong>Inspector</strong></span>, ensure that the following properties are set:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Text</strong></span> set to read as <code class="literal">time goes here</code> (this placeholder text will be replaced by the time when the scene is running.)</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Font type</strong></span> set to <code class="literal">Xolonium Bold</code>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Font Size</strong></span> set to <code class="literal">20</code>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Alignment</strong></span> set to horizontal and vertical center</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Horizontal</strong></span> and <span class="strong"><strong>Vertical Overflow</strong></span> settings set to <span class="strong"><strong>Overflow</strong></span>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Color</strong></span> set to white</p></li></ul></div></li><li><p>Now, in the <span class="strong"><strong>Rect Transform</strong></span>, click on the <span class="strong"><strong>Anchor Presets</strong></span> square icon, which will<a id="id33" class="indexterm"></a> result in the appearance of several rows and columns of preset position squares. Hold down <span class="emphasis"><em>SHIFT</em></span> and <span class="emphasis"><em>ALT</em></span> and click on the <span class="strong"><strong>top</strong></span> and column <span class="strong"><strong>center</strong></span> rows.</p></li><li><p>Create a folder named <code class="literal">Scripts</code> and create a C# script class called <code class="literal">ClockDigital</code> in this new folder:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

using UnityEngine.UI;
using System;

public class ClockDigital : MonoBehaviour {
  private Text textClock;

  void Start (){
    textClock = GetComponent&lt;Text&gt;();
  }

  void Update (){
    DateTime time = DateTime.Now;
    string hour = LeadingZero( time.Hour );
    string minute = LeadingZero( time.Minute );
    string second = LeadingZero( time.Second );

    textClock.text = hour + ":" + minute + ":" + second;
  }

  string LeadingZero (int n){
    return n.ToString().PadLeft(2, '0');
  }
}</pre></div></li><li><p>With GameObject <span class="strong"><strong>Text-clock</strong></span> selected in the <span class="strong"><strong>Hierarchy </strong></span>panel, drag your <code class="literal">ClockDigital</code> script onto it to add an instance of this script class as a component to GameObject <span class="strong"><strong>Text-clock</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_05.jpg" /></div></li><li><p>When<a id="id34" class="indexterm"></a> you run the scene, you will now see a digital clock, showing hours, minutes, and seconds, at the top-center part of the screen.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec19"></a>How it works...</h3></div></div></div><p>You added a <span class="strong"><strong>Text</strong></span> GameObject to a scene. You have added an instance of the <code class="literal">ClockDigital</code>  C# script class to that GameObject.</p><p>Notice that as well as the standard two C# packages (<code class="literal">UnityEngine</code> and <code class="literal">System.Collections</code>) that are written by default for every new script, you have added the <code class="literal">using</code> statements for two more C# script packages, <code class="literal">UnityEngine.UI</code> and <code class="literal">System</code>. The UI package is needed, since our code uses UI <code class="literal">Text</code> object; and the <code class="literal">System</code> package is needed, since it contains the <code class="literal">DateTime</code> class that we need to access the clock on the computer where our game is running.</p><p>There is one variable, <code class="literal">textClock</code>, which will be a reference to the <code class="literal">Text</code> component, whose text content we wish to update in each frame with the current time in hours, minutes, and seconds.</p><p>The <code class="literal">Start()</code> method (executed when the scene begins) sets the <code class="literal">textClock</code> variable to be a reference to the <code class="literal">Text</code> component in the GameObject, to which our scripted object has been added.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note04"></a>Note</h3><p>Note that an alternative approach would be to make <code class="literal">textClock</code> a <code class="literal">public</code> variable. This will allow us to assign it via drag-and-drop in the <span class="strong"><strong>Inspector</strong></span> panel.</p></div><p>The <code class="literal">Update()</code>method is executed in every frame. The current time is stored in the <code class="literal">time </code>variable, and strings are created by adding leading zeros to the number values for the hours, minutes, and seconds properties of variable <code class="literal">time</code>.</p><p>This method<a id="id35" class="indexterm"></a> finally updates the <code class="literal">text</code> property (that is, the letters and numbers that the user sees) to be a string, concatenating the hours, minutes, and seconds with colon separator characters.</p><p>The <code class="literal">LeadingZero(â€¦)</code>method takes as input an integer and returns a string of this number with leading zeros added to the left, if the value was less than 10.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec20"></a>There's more...</h3></div></div></div><p>There are some details that you don't want to miss.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec02"></a>The Unity tutorial for animating an analogue clock</h4></div></div></div><p>Unity has<a id="id36" class="indexterm"></a> published a nice tutorial on how to create 3D objects, and animate them through C# script to display an <a id="id37" class="indexterm"></a>analogue clock at <a class="ulink" href="https://unity3d.com/learn/tutorials/modules/beginner/scripting/simple-clock" target="_blank">https://unity3d.com/learn/tutorials/modules/beginner/scripting/simple-clock</a>.</p></div></div></div>