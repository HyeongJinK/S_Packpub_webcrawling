<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec56"></a>Switching between multiple cameras</h2></div></div><hr /></div><p>Choosing from a variety of cameras is a common feature in many genres: racing, sports, tycoon/strategy, and many others. In this recipe, you will learn how to give players the ability to choose <a id="id444" class="indexterm"></a>from many cameras by using their keyboards.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec149"></a>Getting ready</h3></div></div></div><p>For this recipe, we have prepared the <code class="literal">BasicScene</code> Unity package containing a scene named <code class="literal">BasicScene</code>. The package is in the <code class="literal">1362_05_codes</code> folder.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec150"></a>How to do it...</h3></div></div></div><p>To implement switchable cameras, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Import the <code class="literal">BasicScene</code> package into a new <span class="strong"><strong>Project</strong></span>.</p></li><li><p>From the <span class="strong"><strong>Project</strong></span> view, open the <span class="strong"><strong>BasicScene</strong></span> level. This is a basic scene featuring an animated character and some extra geometry.</p></li><li><p>Add two more cameras to the scene through the <span class="strong"><strong>Create</strong></span> drop-down menu on top of the <span class="strong"><strong>Hierarchy</strong></span> view (<span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Camera</strong></span>). Rename them <code class="literal">cam1</code> and <code class="literal">cam2</code>.</p></li><li><p>Change the <code class="literal">cam2</code> camera's position and rotation so that it won't be identical to <code class="literal">cam1</code>.</p></li><li><p>Create an <span class="strong"><strong>Empty</strong></span> GameObject by navigating to the <span class="strong"><strong>Create</strong></span> drop-down menu on top of the<a id="id445" class="indexterm"></a> <span class="strong"><strong>Hierarchy</strong></span> view (<span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Create Empty</strong></span>). Then, rename it <code class="literal">Switchboard</code>.</p></li><li><p>From the <span class="strong"><strong>Inspector</strong></span> view, disable the <span class="strong"><strong>Camera</strong></span> and <span class="strong"><strong>Audio Listener</strong></span> components of both <code class="literal">cam1</code> and <code class="literal">cam2</code>. Also, set their <span class="strong"><strong>Tags</strong></span> as <span class="strong"><strong>MainCamera</strong></span>, as shown:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_05_04.jpg" /></div></li><li><p>From the <span class="strong"><strong>Project</strong></span> view, create a new <span class="strong"><strong>C# Script</strong></span> file. Rename it <code class="literal">CameraSwitch</code> and open it in your editor.</p></li><li><p>Open your script and replace everything with the following code:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;

public class CameraSwitch : MonoBehaviour {
  public GameObject[] cameras;
  public string[] shortcuts;
  public bool  changeAudioListener = true;
  void  Update (){
    if (Input.anyKeyDown) {
      for (int i=0; i&lt;cameras.Length; i++) {
        if (Input.GetKeyDown (shortcuts [i]))
          SwitchCamera (i);
      }
    }
  }

void  SwitchCamera (int indexToSelect){
  for (int i = 0; i&lt;cameras.Length; i++){
    // test whether current array index matches camera to make active
      bool cameraActive = (i == indexToSelect);
      cameras[i].GetComponent&lt;Camera&gt;().enabled = cameraActive;

    if (changeAudioListener)
          cameras[i].GetComponent&lt;AudioListener&gt;().enabled = cameraActive;
      }
    }
}</pre></div></li><li><p>Attach <code class="literal">CameraSwitch</code> to the <code class="literal">Switchboard</code> GameObject.</p></li><li><p>From the <span class="strong"><strong>Inspector</strong></span> <a id="id446" class="indexterm"></a>view, set both the <span class="strong"><strong>Cameras</strong></span> and <span class="strong"><strong>Shortcuts</strong></span> sizes to <code class="literal">3</code>. Then, drag and populate the <span class="strong"><strong>Cameras</strong></span> slots with the cameras from the scene (including the <span class="strong"><strong>Main Camera</strong></span>, within the <span class="strong"><strong>Multipurpose Camera Rig</strong></span> | <span class="strong"><strong>Pivot</strong></span> GameObject) Then, type <code class="literal">1</code>, <code class="literal">2</code>, and <code class="literal">3</code> into the <span class="strong"><strong>Shortcuts</strong></span> text fields, as shown in the next screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_05_05.jpg" /></div></li><li><p>Play your scene and test your cameras by pressing <span class="emphasis"><em>1</em></span>, <span class="emphasis"><em>2</em></span>, and <span class="emphasis"><em>3</em></span> on the keyboard.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec151"></a>How it works...</h3></div></div></div><p>The script is very straightforward. First, it compares the key being pressed to the list of shortcuts. If the key is indeed included on a list of shortcuts, it is passed on to the <code class="literal">SwitchCamera</code> function, which, in turn, goes through a list<a id="id447" class="indexterm"></a> of cameras, enables the one associated with the shortcut that was received, and also enables its <span class="strong"><strong>Audio Listener</strong></span>, in case the <span class="strong"><strong>Change Audio Listener</strong></span> option is checked.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec152"></a>There's more...</h3></div></div></div><p>Here are some ideas about how you could try twisting this recipe a bit.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec38"></a>Using a single-enabled camera</h4></div></div></div><p>A different <a id="id448" class="indexterm"></a>approach to the problem would be keeping all secondary cameras disabled and assigning their position and rotation to the main camera via a script (you would need to make a copy of the main camera and add it to the list, in case you wanted to save its <span class="strong"><strong>Transform</strong></span> settings).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec39"></a>Triggering the switch from other events</h4></div></div></div><p>Also, you can<a id="id449" class="indexterm"></a> change your camera from other GameObjects' scripts by using a line of code such as the one given here:</p><div class="informalexample"><pre class="programlisting">GameObject.Find("Switchboard").GetComponent("CameraSwitch").SwitchCamera(1);</pre></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec153"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Creating an in-game surveillance camera</em></span> recipe in this chapter</p></li></ul></div></div></div>