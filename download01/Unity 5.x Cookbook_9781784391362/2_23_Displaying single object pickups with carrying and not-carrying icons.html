<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec29"></a>Displaying single object pickups with carrying and not-carrying icons</h2></div></div><hr /></div><p>Graphic icons are an effective way to inform the player that they are carrying an item. In this recipe, if no star is being carried, a grey-filled icon in a blocked-off circle is displayed; then, after<a id="id200" class="indexterm"></a> the star has been picked up, a <a id="id201" class="indexterm"></a>yellow-filled icon is displayed, as shown in the following screenshot.</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_14.jpg" /></div><p>In many cases, icons are clearer (they don't require reading and thinking about) and can also be smaller onscreen than text messages for indicating player status and inventory items.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec72"></a>Getting ready</h3></div></div></div><p>This recipe assumes that you are starting with the project <code class="literal">Simple2Dgame_SpaceGirl</code> setup from the first recipe in this chapter.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec73"></a>How to do it...</h3></div></div></div><p>To toggle carrying and not-carrying icons for a single object pickup, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Start with a new copy of the mini-game <code class="literal">Simple2Dgame_SpaceGirl</code>.</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, add a new UI <span class="strong"><strong>Image</strong></span> object (<span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Image</strong></span>). Rename it <code class="literal">Image-star-icon</code>.</p></li><li><p>Select <code class="literal">Image-star-icon</code> in the <span class="strong"><strong>Hierarchy</strong></span> panel.</p></li><li><p>From the <span class="strong"><strong>Project</strong></span> panel, drag the sprite <span class="strong"><strong>icon_nostar_100</strong></span> (folder <code class="literal">Sprites</code>) into the <span class="strong"><strong>Source Image</strong></span> field in the <span class="strong"><strong>Inspector</strong></span> (in the <span class="strong"><strong>Image (Script)</strong></span> component).</p></li><li><p>Click on the <span class="strong"><strong>Set Native Size</strong></span> button for the <span class="strong"><strong>Image</strong></span> component. This will resize the UI <span class="strong"><strong>Image</strong></span> to fit the physical pixel width and height of sprite file <span class="strong"><strong>icon_nostar_100</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_11.jpg" /></div></li><li><p>Now, we <a id="id202" class="indexterm"></a>will position our icon at the <span class="strong"><strong>top </strong></span>and <span class="strong"><strong>left</strong></span> of the <span class="strong"><strong>Game</strong></span> panel. Edit the UI <span class="strong"><strong>Image's Rect Transform</strong></span> component, and while holding down <span class="emphasis"><em>SHIFT</em></span> and <span class="emphasis"><em>ALT</em></span> (to set pivot and position), choose the top-left box. The UI <span class="strong"><strong>Image</strong></span> should now be positioned at the<a id="id203" class="indexterm"></a> top left of the <span class="strong"><strong>Game</strong></span> panel, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_12.jpg" /></div></li><li><p>Add the following C# Script <code class="literal">Player</code> to GameObject <code class="literal">player-SpaceGirl</code> in the <span class="strong"><strong>Hierarchy</strong></span>:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;
using UnityEngine.UI;

public class Player : MonoBehaviour {
  public Image starImage;
  public Sprite iconStar;
  public Sprite iconNoStar;
  private bool carryingStar = false;

  void OnTriggerEnter2D(Collider2D hit){
    if(hit.CompareTag("Star")){
      carryingStar = true;
      UpdateStarImage();
      Destroy(hit.gameObject);
    }
  }

  private void UpdateStarImage(){
    if(carryingStar)
      starImage.sprite = iconStar;
    else
      starImage.sprite = iconNoStar;
  }
}</pre></div></li><li><p>From the <span class="strong"><strong>Hierarchy</strong></span> view, select the GameObject <code class="literal">player-SpaceGirl</code>. Then, from the <span class="strong"><strong>Inspector</strong></span>, access the <span class="strong"><strong>Player (Script)</strong></span> component and populate the <span class="strong"><strong>Star Image</strong></span><a id="id204" class="indexterm"></a> public field with UI <span class="strong"><strong>Image</strong></span> object <code class="literal">Image-star-icon</code>.</p></li><li><p>Now, populate the <a id="id205" class="indexterm"></a><span class="strong"><strong>Icon Star</strong></span> public field from the <span class="strong"><strong>Project</strong></span> panel with sprite <code class="literal">icon_star_100</code> and populate the <span class="strong"><strong>Icon No Star</strong></span> public field from the <span class="strong"><strong>Project</strong></span> panel with sprite <code class="literal">icon_nostar_100</code>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_13.jpg" /></div></li><li><p>Now when you play the scene, you should see the no star icon (a grey-filled icon in a blocked-off circle) at the top left until you pick up the star, at which point it will change to show the carrying star icon (yellow-filled star).</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec74"></a>How it works...</h3></div></div></div><p>The <code class="literal">Image</code> variable <a id="id206" class="indexterm"></a>
<code class="literal">starImage</code> is a reference to the UI <span class="strong"><strong>Image</strong></span> object <code class="literal">Image-star-icon</code>. <code class="literal">Sprite</code> variables <code class="literal">iconStar</code> and <code class="literal">iconNoStar</code> are references to the <code class="literal">Sprite</code> files in the <span class="strong"><strong>Project</strong></span> panelâ€”the sprites to tell the player whether or not a star is being carried. The <code class="literal">bool</code> variable <code class="literal">carryingStar</code> represents internally as program data whether or not the player is carrying the star at any point in time; it is<a id="id207" class="indexterm"></a> initialized to <code class="literal">false</code>.</p><p>Much of the logic for this recipe is the same as the previous one. Each time the <code class="literal">UpdateStarImage()</code>method is called, it sets the UI <span class="strong"><strong>Image</strong></span> to the sprite that corresponds to the value of bool variable <code class="literal">carryingsStar</code>.</p></div></div>