<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec45"></a>Creating a basic material with Standard Shader (Specular setup)</h2></div></div><hr /></div><p>In this recipe, we <a id="id336" class="indexterm"></a>will learn how to create a basic material using the new Standard Shader (Specular Setup), an Albedo map, and a Specular/Smoothness map. The material will feature both metallic and <a id="id337" class="indexterm"></a>non-metallic parts, with various smoothness levels.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec113"></a>Getting ready</h3></div></div></div><p>Two files have been prepared to support this recipe: a 3D model (in FBX format) of a battery, and an UVW template texture (in PNG format) to guide us when creating the diffuse texture map. 3D models and UVW templates can be made with 3D modeling software, such as 3DS MAX, Maya, or Blender. All necessary files are available in the <code class="literal">1362_04_01</code> folder.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec114"></a>How to do it...</h3></div></div></div><p>To create a basic material, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Import the <code class="literal">battery.FBX</code> and <code class="literal">uvw_template.png</code> files to your project.</p></li><li><p>Place<a id="id338" class="indexterm"></a> the <span class="strong"><strong>battery</strong></span> model in the scene by dragging it from the <span class="strong"><strong>Assets</strong></span> folder, in the <span class="strong"><strong>Project</strong></span> view, to the <span class="strong"><strong>Hierarchy</strong></span> view. Select it on the <span class="strong"><strong>Hierarchy</strong></span> view and make sure, via the <span class="strong"><strong>Transform</strong></span> component on the <span class="strong"><strong>Inspector</strong></span> view, that it is positioned at <span class="strong"><strong>X: 0</strong></span>, <span class="strong"><strong>Y: 0</strong></span>, <span class="strong"><strong>Z: 0</strong></span>.</p></li><li><p>Now, let's create a Specular/Smoothness map for our object. Open the image file called <code class="literal">uvw_template.png</code> in your image editor (we'll use Adobe Photoshop to<a id="id339" class="indexterm"></a> illustrate the next steps). Note that the image file has only a single layer, mostly transparent, containing the UVW mapping templates that we will use as guidelines for our specular map.</p></li><li><p>Create a new layer and place it beneath the one with the guidelines. Fill the new layer with dark gray (<span class="strong"><strong>R: 56</strong></span>, <span class="strong"><strong>G: 56</strong></span>, <span class="strong"><strong>B: 56</strong></span>). The guidelines will be visible at the top of the solid black fill:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_04_02.jpg" /></div></li><li><p>Create a new layer and select the upper section of the image (the one with the circles). Then, fill that area with a slightly hued light gray (<span class="strong"><strong>R: 196</strong></span>, <span class="strong"><strong>G: 199</strong></span>, <span class="strong"><strong>B: 199</strong></span>):</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note32"></a>Note</h3><p>The RGB values for our specular map are not arbitrary: Physically-Based Shading takes out most of the guesswork from the mapping process, replacing it with the research for references. In our case, we have used colors based on the reflectance values of iron (the slightly hued light gray) and plastic (the dark gray). Check out the chapter's conclusion for a list of references.</p></div></li><li><p>Use the text<a id="id340" class="indexterm"></a> elements in white to add a brand, size, and positive/negative indicators to the<a id="id341" class="indexterm"></a> battery body. Then, hide the guidelines layer.</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_04_41.jpg" /></div></li><li><p>Select all your layers and organize them into a group (in Photoshop, this can be done by clicking on the drop-down menu in the <span class="strong"><strong>Layers</strong></span> window and navigating to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>New Group from Layers…</strong></span>). Name the new group <code class="literal">Specular</code>:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_04_42.jpg" /></div></li><li><p>Duplicate the <code class="literal">Specular</code> group (in the <span class="strong"><strong>Layers</strong></span> window, right-click on the group's name<a id="id342" class="indexterm"></a> and select <span class="strong"><strong>Duplicate Group…</strong></span>). Name the duplicated group <code class="literal">Smoothness</code>.</p></li><li><p>Hide<a id="id343" class="indexterm"></a> the <code class="literal">Smoothness</code> group. Then, expand the <code class="literal">Specular</code> group and hide all text layers:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_04_43.jpg" /></div></li><li><p>Unhide the <code class="literal">Smoothness</code> group, and hide the <code class="literal">Specular</code> group. Select the dark gray layer. Then, make an area selection around the upper region of the battery body, and fill it with light gray (<span class="strong"><strong>R: 220</strong></span>, <span class="strong"><strong>G: 220</strong></span>, <span class="strong"><strong>B: 220</strong></span>). Rescale and rearrange the <span class="strong"><strong>Text</strong></span> layers if needed:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_04_44.jpg" /></div></li><li><p>Duplicate the<a id="id344" class="indexterm"></a> layer that contains the gray fill for the upper section of the image (the one that went over the circles).</p></li><li><p>To add a<a id="id345" class="indexterm"></a> brushed quality to this material, add a <span class="strong"><strong>Noise</strong></span> filter to the duplicated layer (in Photoshop, this can be done by navigating to <span class="strong"><strong>Filter</strong></span> | <span class="strong"><strong>Noise</strong></span> | <span class="strong"><strong>Add Noise...</strong></span>). Use <span class="strong"><strong>50%</strong></span> as the <span class="strong"><strong>Amount </strong></span>and set <span class="strong"><strong>Monochromatic</strong></span> to <code class="literal">true</code>. Then, apply a <span class="strong"><strong>Motion Blur</strong></span> filter (<span class="strong"><strong>Filter</strong></span> | <span class="strong"><strong>Blur</strong></span> | <span class="strong"><strong>Motion Blur...</strong></span>) using <span class="strong"><strong>30 Pixels</strong></span> as the <span class="strong"><strong>Distance</strong></span>.</p></li><li><p>Duplicate the <code class="literal">Smoothness</code> group. Then, select the duplicated group and merge it into a single layer (on the <span class="strong"><strong>Layers</strong></span> window, right-click on the group's name and select <span class="strong"><strong>Merge Group</strong></span>).</p></li><li><p>Select the merged layer, use the <span class="emphasis"><em>CTRL</em></span> + <span class="emphasis"><em>A</em></span> key combination to select the entire image, and copy it using the <span class="emphasis"><em>CTRL</em></span> + <span class="emphasis"><em>C</em></span> keys:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_04_45.jpg" /></div></li><li><p>Hide the<a id="id346" class="indexterm"></a> merged layer and the <code class="literal">Smoothness</code> group. Then, unhide the <code class="literal">Specular</code> group.</p></li><li><p>In your image<a id="id347" class="indexterm"></a> editor, access the image channels window (in Photoshop, this can be done by navigating to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Channels</strong></span>). Create a <span class="strong"><strong>New Channel</strong></span>. This will be our <span class="strong"><strong>Alpha</strong></span> Channel.</p></li><li><p>Paste the image that you previously copied (from the merged layer) in to the <span class="strong"><strong>Alpha</strong></span> Channel. Then, set all channels as <code class="literal">visible</code>:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_04_46.jpg" /></div></li><li><p>Save your image in the Project's <span class="strong"><strong>Assets</strong></span> folder as <code class="literal">Battery_specular</code>, either in Photoshop format (PSD) or TIF format.</p></li><li><p>Now, let's work on the Albedo map. Save a copy of <code class="literal">Battery_specular</code> as <code class="literal">Battery_albedo</code>. Then, from the <span class="strong"><strong>Channels</strong></span> window, delete the <span class="strong"><strong>Alpha</strong></span> Channel.</p></li><li><p>From the <span class="strong"><strong>Layers</strong></span><a id="id348" class="indexterm"></a> window, hide the <code class="literal">Smoothness copy</code> merged layer, and unhide the <code class="literal">Smoothness</code> group. Finally, expand the <code class="literal">Smoothness</code> group, and hide the layer where the <a id="id349" class="indexterm"></a><span class="strong"><strong>Noise</strong></span> filter was applied:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_04_47.jpg" /></div></li><li><p>Change the color of the upper rectangle to black. Then, change the light gray area to dark red (<span class="strong"><strong>R: 204</strong></span>, <span class="strong"><strong>G: 0</strong></span>, <span class="strong"><strong>B: 0</strong></span>), and the dark gray to red (<span class="strong"><strong>R: 255</strong></span>, <span class="strong"><strong>G: 0</strong></span>, <span class="strong"><strong>B: 0</strong></span>). Rename the group <code class="literal">Albedo</code> and save the file:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_04_48.jpg" /></div></li><li><p>Go back to Unity and make sure that both files were imported. Then, from the <a id="id350" class="indexterm"></a><span class="strong"><strong>Project</strong></span> view, create a new <span class="strong"><strong>Material</strong></span>. Name it <code class="literal">Battery_MAT</code>.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip05"></a>Tip</h3><p>An easy way to<a id="id351" class="indexterm"></a> create new materials is to access the <span class="strong"><strong>Project</strong></span> view, click on the <span class="strong"><strong>Create</strong></span> drop-down menu, and choose <span class="strong"><strong>Material</strong></span>.</p></div></li><li><p>Select <code class="literal">Battery_MAT</code>. From the <span class="strong"><strong>Inspector</strong></span> view, change the Shader to <span class="strong"><strong>Standard (Specular setup),</strong></span> and make sure that the rendering mode is set to <span class="strong"><strong>Opaque</strong></span>.</p></li><li><p>Set <code class="literal">Battery_specular</code> as the <span class="strong"><strong>Specular</strong></span> map, and <code class="literal">Battery_albedo</code> as the <span class="strong"><strong>Albedo</strong></span> map for <code class="literal">Battery_MAT</code>.</p></li><li><p>Drag the <code class="literal">Battery_MAT</code> material from the <span class="strong"><strong>Project</strong></span> view and drop it into the <span class="strong"><strong>battery</strong></span> object in the <span class="strong"><strong>Hierarchy</strong></span> view:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_04_49.jpg" /></div></li><li><p>Drag the<a id="id352" class="indexterm"></a> <code class="literal">Battery_MAT</code> material from the <span class="strong"><strong>Project</strong></span> view and, in the <span class="strong"><strong>Hierarchy</strong></span> view, drop it into the <span class="strong"><strong>battery</strong></span> object:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_04_50.jpg" /></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec115"></a>How it works...</h3></div></div></div><p>Ultimately, the <a id="id353" class="indexterm"></a>visual aspect of the battery is a combination of three properties of its material: Specular, Smoothness, and Albedo.</p><p>To compose the dark red part of the plastic body, for instance, we have mixed the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>The Specular</strong></span> map (RGB): Very dark grey specularity (for non-metallic appearance)</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>The Smoothness</strong></span> (the Alpha channel of the Specular map): Light gray (for a glossy aspect)</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>The Albedo</strong></span> map: Dark red (for a dark red color)</p></li></ul></div><p>The light red portion, on the other hand, combines the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>The Specular</strong></span> map (RGB): That same dark grey specular</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>The Smoothness</strong></span> (the Alpha Channel of the Specular map): Dark gray (for a matte aspect)</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>The Albedo</strong></span> map: Red (for a red color)</p></li></ul></div><p>Finally, the <a id="id354" class="indexterm"></a>brushed metal used for the<a id="id355" class="indexterm"></a> top and bottom covers combines the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>The Specular</strong></span> map (RGB): Light grey (for a metallic aspect)</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>The Smoothness</strong></span> (the Alpha Channel of the Specular map): A blurred grey noise pattern (for a brushed aspect)</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>The Albedo</strong></span> map: Black (for a red color)</p></li></ul></div><p>Regarding how the image layers are structured, it's good practice to organize your layers into groups named after the property that they are related to. As texture maps get more diversified, it can be a good idea to keep a file that contains all the maps for quick reference and consistency.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec116"></a>There's more...</h3></div></div></div><p>A few things you should have in mind when working with Albedo maps are as follows.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch04lvl3sec28"></a>Setting the texture type for an image file</h4></div></div></div><p>Since image<a id="id356" class="indexterm"></a> files can be used for several purposes within Unity (texture maps, GUI textures, cursors, and more), it's a good idea to check if the right <span class="strong"><strong>Texture Type</strong></span> is assigned to your file. This can be done by selecting the image file in the <span class="strong"><strong>Project</strong></span> view, and in the <span class="strong"><strong>Inspector</strong></span> view by using the drop-down menu to select the right <span class="strong"><strong>Texture Type</strong></span> (in this case, <code class="literal">Texture</code>). Please note that other settings can be adjusted, such as <span class="strong"><strong>Wrap Mode</strong></span>, <span class="strong"><strong>Filter Mode</strong></span>, and <span class="strong"><strong>Maximum Size</strong></span>. This last parameter is very useful if you want to keep your texture maps small in size for your game, while still being able to edit them in full size.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch04lvl3sec29"></a>Combining the map with color</h4></div></div></div><p>When<a id="id357" class="indexterm"></a> editing a material, the color picker to the right of the <span class="strong"><strong>Albedo</strong></span> map slot, on the <span class="strong"><strong>Inspector</strong></span> view, can be used to select the material's color, in case there is no texture map. If a texture map is being used, the selected color will be multiplied to the image, allowing variations on the material's color hue.</p></div></div></div>