<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec42"></a>Creating animation clips from sprite sheet sequences</h2></div></div><hr /></div><p>The traditional method of animation involved hand-drawing many images, each slightly different, which<a id="id296" class="indexterm"></a> displayed quickly frame-by-frame to<a id="id297" class="indexterm"></a> give the appearance of movement. For computer game animation, the term Sprite Sheet is given to the image file that contains one or more sequences of sprite frames. Unity provides tools to breakup individual sprite images in large sprite sheet files, so that individual frames, or sub-sequences of frames can be used to create Animation Clips that can become States in Animator Controller State Machines. In this recipe, we'll import and break up an open source monster sprite sheet into three animation clips for Idle, Attack, and Death that looks as shown:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_03_17.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec108"></a>Getting ready</h3></div></div></div><p>For all the<a id="id298" class="indexterm"></a> recipes in this chapter, we have<a id="id299" class="indexterm"></a> prepared the sprite images you need in folder <code class="literal">1362_03_05</code>. Many thanks to Rosswet Mobile for making these sprites available as Open Source at: <a class="ulink" href="http://www.rosswet.com/wp/?p=156" target="_blank">http://www.rosswet.com/wp/?p=156</a>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec109"></a>How to do it...</h3></div></div></div><p>To create an animation from a sprite sheet of frame-by-frame animation images, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new Unity 2D project.</p></li><li><p>Import the provided image <code class="literal">monster1</code>.</p></li><li><p>With image <code class="literal">monster1</code> selected in the <span class="strong"><strong>Project</strong></span> panel, change its <span class="strong"><strong>Sprite</strong></span> mode to <span class="strong"><strong>Multiple</strong></span> in the <span class="strong"><strong>Inspector</strong></span>, then open the <span class="strong"><strong>Sprite Editor</strong></span> panel by clicking button <span class="strong"><strong>Sprite Editor</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Sprite Editor</strong></span> open the <span class="strong"><strong>Slice</strong></span> dropdown dialog, set the <span class="strong"><strong>Type</strong></span> to <span class="strong"><strong>Grid</strong></span>, set the grid <span class="strong"><strong>Pixel Size</strong></span> to <span class="strong"><strong>64x64</strong></span>, and then click the <span class="strong"><strong>Slice</strong></span> button. Finally, click the <span class="strong"><strong>Apply</strong></span> button in the bar at the top right of the <span class="strong"><strong>Sprite Editor</strong></span> panel):</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_03_18.jpg" /></div></li><li><p>In the <span class="strong"><strong>Project</strong></span> panel you can now click the expand triangle button center-right on the<a id="id300" class="indexterm"></a> sprite, and you'll see all the different child frames for this sprite.</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_03_19.jpg" /></div></li><li><p>Create a folder named <code class="literal">Animations</code>.</p></li><li><p>In your new folder, create an <span class="strong"><strong>Animator Controller</strong></span> named <span class="strong"><strong>monster-animator</strong></span>.</p></li><li><p>In the <a id="id301" class="indexterm"></a>scene create a new <span class="strong"><strong>Empty</strong></span> GameObject named <span class="strong"><strong>monster1</strong></span> (at position <code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>), and drag your <span class="strong"><strong>monster-animator</strong></span> into this GameObject.</p></li><li><p>With GameObject <span class="strong"><strong>monster1</strong></span> selected in the <span class="strong"><strong>Hierarchy</strong></span>, open up the <span class="strong"><strong>Animation</strong></span> panel, and create a new <span class="strong"><strong>Animation Clip</strong></span> named <span class="strong"><strong>Idle</strong></span>.</p></li><li><p>Select image <code class="literal">monster1</code> in the <span class="strong"><strong>Project</strong></span> panel (in its expanded view), and select and drag the first 5 frames (frames 0-4) into the <span class="strong"><strong>Animation</strong></span> panel. Change the sample rate to 12 (since this animation was created to run at 12-frames per second).</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_03_20.jpg" /></div></li><li><p>If you look at the State Chart for <span class="strong"><strong>monster-animator</strong></span>, you'll see it has a default state (clip) named monster-idle.</p></li><li><p>When you run your scene you should now see the <span class="strong"><strong>monster1</strong></span> GameObject animating in its monster-idle state. You may wish to make the Main Camera size a bit smaller, since these are quite small sprites.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec110"></a>How it works...</h3></div></div></div><p>Unity's Sprite Editor knows about sprite sheets, and once the correct grid size has been entered it<a id="id302" class="indexterm"></a> treats the items in each grid square inside the sprite sheet image as an individual image, or frame, of the animation. You <a id="id303" class="indexterm"></a>selected sub-sequences of sprite animation frames and added them into several <span class="strong"><strong>Animation Clips</strong></span>. You had added an <span class="strong"><strong>Animation Controller</strong></span> to your GameObject, and so each <span class="strong"><strong>Animation Clip</strong></span> appears as a state in the <span class="strong"><strong>Animation Controller State Machine</strong></span>.</p><p>You can now repeat the process, creating an <span class="strong"><strong>Animation Clip</strong></span> monster-attack with frames 8-12, and a third clip monster-death with frames 15-21. You would then create Triggers and <span class="strong"><strong>Transitions</strong></span> to make the monster GameObject transition into the appropriate <span class="strong"><strong>states</strong></span> as the game is played.</p><p>Learn more about<a id="id304" class="indexterm"></a> the Unity Sprite Editor from the Unity video tutorials at <a class="ulink" href="https://unity3d.com/learn/tutorials/modules/beginner/2d/sprite-editor" target="_blank">https://unity3d.com/learn/tutorials/modules/beginner/2d/sprite-editor</a>.</p></div></div>