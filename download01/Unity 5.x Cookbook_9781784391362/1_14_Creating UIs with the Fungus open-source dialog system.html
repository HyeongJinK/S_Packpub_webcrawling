<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec21"></a>Creating UIs with the Fungus open-source dialog system</h2></div></div><hr /></div><p>Rather than <a id="id128" class="indexterm"></a>constructing your own UI and interactions from scratch each time, there are plenty of UI and dialogue systems available for Unity. One powerful, free, and open source dialog system is <a id="id129" class="indexterm"></a>called <span class="strong"><strong>Fungus</strong></span>, which uses a visual flowcharting approach to dialog design.</p><p>In this recipe, we'll <a id="id130" class="indexterm"></a>create a very simple, two-sentence dialogue, to illustrate the basics of Fungus. The following screenshot shows the Fungus-generated dialog for the first sentence ('<span class="strong"><strong>Hello, how are you</strong></span>') and the interactive button (a triangle inside a circle) the user clicks to progress to the next piece of dialog (in the bottom-right part of the rectangle).</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_23.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec51"></a>How to do it...</h3></div></div></div><p>To create a two-sentence<a id="id131" class="indexterm"></a> dialog using Fungus, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Download the latest version<a id="id132" class="indexterm"></a> of the Fungus <span class="strong"><strong>unitypackage</strong></span> from the FungusGames website <a class="ulink" href="http://www.fungusgames.com/" target="_blank">http://www.fungusgames.com/</a>.</p></li><li><p>Create a<a id="id133" class="indexterm"></a> new Unity 2D project.</p></li><li><p>Import the Fungus <span class="strong"><strong>unitypackage</strong></span> by navigating to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import Package</strong></span> | <span class="strong"><strong>Custom Package...</strong></span>, and then navigating to your downloaded file location.</p></li><li><p>Create a new Fungus <span class="strong"><strong>Flowchart</strong></span> GameObject by choosing menu: <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Fungus</strong></span> | <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Flowchart</strong></span>. </p></li><li><p>Display and dock the Fungus <span class="strong"><strong>Flowchart</strong></span> window panel by choosing menu: <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Fungus</strong></span> | <span class="strong"><strong>Flowchart Window</strong></span>.</p></li><li><p>There will be a block in the <span class="strong"><strong>Flowchart</strong></span> Window. Click on this block to select it (a green border appears around the block to indicate that it is selected), and then in the <span class="strong"><strong>Inspector</strong></span> panel, change the name of this block to <span class="strong"><strong>Start</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_24.jpg" /></div></li><li><p>Each <span class="strong"><strong>Block</strong></span> in a Flowchart<a id="id134" class="indexterm"></a> follows a sequence of commands. So, we are now going to create a sequence of commands to display two sentences to the user when the game runs.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note17"></a>Note</h3><p>The sequence of <span class="strong"><strong>Commands</strong></span> in a <span class="strong"><strong>Block</strong></span>
</p><p>Each <span class="strong"><strong>Block</strong></span> in a <span class="strong"><strong>Flowchart</strong></span> follows a sequence of <span class="strong"><strong>Commands</strong></span>, so to display two sentences to the user when the game runs, we need to create a sequence of two <span class="strong"><strong>Say</strong></span> commands in the <span class="strong"><strong>Inspector</strong></span> panel properties for our <span class="strong"><strong>Block</strong></span>.</p></div></li><li><p>Ensure that<a id="id135" class="indexterm"></a> the <span class="strong"><strong>Start</strong></span> block is still selected in the <span class="strong"><strong>Flowchart</strong></span> panel. Now, click on the plus <span class="strong"><strong>+</strong></span>' button at the bottom section of the <span class="strong"><strong>Inspector</strong></span> panel to display the menu of <span class="strong"><strong>Commands</strong></span>, and select the <span class="strong"><strong>Narrative</strong></span> | <span class="strong"><strong>Say</strong></span> command, as shown here:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_25.jpg" /></div></li><li><p>Since we only have one command for this block, that command will automatically be selected (highlighted green) in the top-half part of the <span class="strong"><strong>Inspector </strong></span>view. The bottom half of the <span class="strong"><strong>Inspector</strong></span> view presents the properties for the currently selected <span class="strong"><strong>Command</strong></span>, as shown in the following screenshot. In the bottom-half part of the <span class="strong"><strong>Inspector </strong></span>view, for the <span class="strong"><strong>Story Text</strong></span> property, enter the text of the question that you wish to be presented to the user: <code class="literal">How are you today?</code>
</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_26.jpg" /></div></li><li><p>Now, create another <span class="strong"><strong>Say Command</strong></span>, and type the following for its <span class="strong"><strong>Story Text</strong></span> property: <code class="literal">Very well thank you.</code>
</p></li><li><p>When you run the game, the user will first be presented with the <span class="strong"><strong>How are you today?</strong></span> text (hearing a clicking noise as each letter is <span class="emphasis"><em>typed</em></span> on screen). After the user clicks on the 'continue' triangle button (at the bottom-right part of the dialog window), they will then be presented with the second sentence: <span class="strong"><strong>Very well thank you.</strong></span>
</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec52"></a>How it works...</h3></div></div></div><p>You have created a<a id="id136" class="indexterm"></a> new Unity project, and imported the Fungus asset package, containing the Fungus Unity menus, windows and commands, and also the example projects.</p><p>You have added a <span class="strong"><strong>Fungus Flowchart</strong></span> to your scene with a single <span class="strong"><strong>Block</strong></span> that you have named <span class="strong"><strong>Start</strong></span>. Your block starts to execute when the game begins (since the default for the first block is to be executed upon receiving the <span class="strong"><strong>Game Started </strong></span>event).</p><p>In the <span class="strong"><strong>Start</strong></span> block, you<a id="id137" class="indexterm"></a> added a sequence of two <span class="strong"><strong>Say Commands</strong></span>. Each command presents a sentence to the user, and then waits for the continue button to be clicked before proceeding to the next <span class="strong"><strong>Command</strong></span>.</p><p>As can be seen, the<a id="id138" class="indexterm"></a> Fungus system handles the work of creating a nicely presented panel to the user, displaying the desired<a id="id139" class="indexterm"></a> text and continue button. Fungus offers many more features, including menus, animations, control of sounds and music, and so on, details of which can be found by<a id="id140" class="indexterm"></a> exploring their provided example projects, and their websites:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<a class="ulink" href="http://fungusgames.com/" target="_blank">http://fungusgames.com/</a>
</p></li><li style="list-style-type: disc"><p>
<a class="ulink" href="https://github.com/FungusGames/Fungus" target="_blank">https://github.com/FungusGames/Fungus</a>
</p></li></ul></div></div></div>