<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec38"></a>Flipping a sprite horizontally</h2></div></div><hr /></div><p>Perhaps the <a id="id270" class="indexterm"></a>simplest 2D animation is a simple flip, from facing left to facing right, or facing up to facing down, and so on. In this recipe we'll add a cute bug sprite to the scene, and write a short script to flip its horizontal direction when the <span class="emphasis"><em>Left</em></span> and <span class="emphasis"><em>Right</em></span> arrow keys are pressed.</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_03_04.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec96"></a>Getting ready</h3></div></div></div><p>For this recipe, we have prepared the image you need in a folder named <code class="literal">Sprites</code> in folder <code class="literal">1362_03_01</code>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec97"></a>How to do it...</h3></div></div></div><p>To flip an object horizontally with arrow key presses, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new Unity 2D project.</p></li><li><p>Import the provided image <code class="literal">EnemyBug.png</code>.</p></li><li><p>Drag an instance of the red <span class="strong"><strong>Enemy Bug</strong></span> image from the <span class="strong"><strong>Project | Sprites</strong></span> folder into the scene. Position this GameObject at (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>) and scale to (<code class="literal">2</code>, <code class="literal">2</code>, <code class="literal">2</code>).</p></li><li><p>Add an instance of C# script class <code class="literal">BugFlip</code> as a component to your <span class="strong"><strong>Enemy Bug</strong></span> GameObject:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

public class BugFlip : MonoBehaviour {
  private bool facingRight = true;

  void Update() {
    if (Input.GetKeyDown(KeyCode.LeftArrow) &amp;&amp; facingRight)
      Flip ();
    if (Input.GetKeyDown(KeyCode.RightArrow) &amp;&amp; !facingRight)
      Flip();
  }

  void Flip (){
    // Switch the way the player is labelled as facing.
    facingRight = !facingRight;

    // Multiply the player's x local scale by -1.
    Vector3 theScale = transform.localScale;
    theScale.x *= -1;
    transform.localScale = theScale;
  }
}</pre></div></li><li><p>When you run your scene, pressing the <span class="emphasis"><em>Left</em></span> and <span class="emphasis"><em>Right</em></span> arrow keys should make the bug face left or right correspondingly.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec98"></a>How it works...</h3></div></div></div><p>The C# class defines<a id="id271" class="indexterm"></a> a Boolean variable <code class="literal">facingRight</code>, which stores a <code class="literal">true</code>/<code class="literal">false</code> value corresponding to whether or not the bug is facing right or not. Since our bug sprite is initially facing right, then we set the initial value of <code class="literal">facingRight</code> to true to match this.</p><p>Method <code class="literal">Update()</code>, every frame, checks to see if the <span class="emphasis"><em>Left</em></span> or <span class="emphasis"><em>Right</em></span> arrow keys have been pressed. If the <span class="emphasis"><em>Left</em></span> arrow key is pressed and the bug is facing right, then method <code class="literal">Flip()</code> is called, likewise if the <span class="emphasis"><em>Right</em></span> arrow key is pressed and the bug is facing left (that is, facing right is false), again method <code class="literal">Flip()</code> is called.</p><p>Method <code class="literal">Flip()</code> performs two actions, the first simply reverses the true/false value in variable <code class="literal">facingRight</code>. The second action changes the <span class="strong"><strong>+</strong></span>/<span class="strong"><strong>-</strong></span> sign of the X-value of the <code class="literal">localScale</code> property of the transform. Reversing the sign of the <code class="literal">localScale</code> results in the 2D flip that we<a id="id272" class="indexterm"></a> desire. Look inside the <code class="literal">PlayerControl</code> script for the <span class="strong"><strong>BeanMan</strong></span> character in the next recipe â€“ you'll see exactly the same <code class="literal">Flip()</code> method being used.</p></div></div>