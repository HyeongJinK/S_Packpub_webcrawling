<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec30"></a>Displaying multiple pickups of the same object with text totals</h2></div></div><hr /></div><p>When several items<a id="id208" class="indexterm"></a> of the same type <a id="id209" class="indexterm"></a>have been picked up, often the simplest way to convey what is being carried to the user is to display a text message showing the numeric total of each item type being carried, as shown in the following screenshot. In this recipe, the total number of stars collected is displayed using a UI <span class="strong"><strong>Text</strong></span> object.</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_02_15.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec75"></a>Getting ready</h3></div></div></div><p>This recipe <a id="id210" class="indexterm"></a>assumes you are starting with project <code class="literal">Simple2Dgame_SpaceGirl</code> setup from the first recipe in this chapter. The font <a id="id211" class="indexterm"></a>you need can be found in folder <code class="literal">1362_02_02</code>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec76"></a>How to do it...</h3></div></div></div><p>To display inventory total text for multiple pickups of same type of object, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Start with a new copy of the mini-game <code class="literal">Simple2Dgame_SpaceGirl</code>.</p></li><li><p>Add a UI <span class="strong"><strong>Text</strong></span> object (<span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Text</strong></span>). Rename it <code class="literal">Text-carrying-star</code>. Change its text to <span class="strong"><strong>stars = 0</strong></span>.</p></li><li><p>Import the provided <code class="literal">Fonts</code> folder into your project.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> panel, set the font of <code class="literal">Text-carrying-star</code> to <span class="strong"><strong>Xolonium-Bold</strong></span> (folder <code class="literal">Fonts</code>) and set its color to yellow. Center the text horizontally and vertically, and set its <span class="strong"><strong>Font Size</strong></span> to <code class="literal">32</code>.</p></li><li><p>In its <span class="strong"><strong>Rect Transform</strong></span> component, set its <span class="strong"><strong>Height</strong></span> to <code class="literal">50</code>. Edit its <span class="strong"><strong>Rect Transform</strong></span>, and while holding down <span class="emphasis"><em>SHIFT</em></span> and <span class="emphasis"><em>ALT</em></span> (to set pivot and position), choose the top-stretch box. Your text should now be positioned at the middle top of the <span class="strong"><strong>Game</strong></span> panel, and its width should stretch to match that of the whole panel.</p></li><li><p>Add the following C# Script <code class="literal">Player</code> to GameObject <code class="literal">player-SpaceGirl</code> in the <span class="strong"><strong>Hierarchy</strong></span>:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;
using UnityEngine.UI;

public class Player : MonoBehaviour {
  public Text starText;
  private int totalStars = 0;

  void Start(){
    UpdateStarText();
  }

  void OnTriggerEnter2D(Collider2D hit){
    if(hit.CompareTag("Star")){
      totalStars++;
      UpdateStarText();
      Destroy(hit.gameObject);
    }
  }

  private void UpdateStarText(){
    string starMessage = "stars = " + totalStars;
    starText.text = starMessage;
  }
}</pre></div></li><li><p>From the<a id="id212" class="indexterm"></a> <span class="strong"><strong>Hierarchy</strong></span> view, select the GameObject <code class="literal">player-SpaceGirl</code>. Then, from the <span class="strong"><strong>Inspector</strong></span>, access the <span class="strong"><strong>Player (Script)</strong></span> component and populate the <span class="strong"><strong>Star Text</strong></span> public field with UI <span class="strong"><strong>Text</strong></span> object <code class="literal">Text-carrying-star</code>.</p></li><li><p>Select the GameObject <code class="literal">star</code> in the <span class="strong"><strong>Hierarchy</strong></span> panel and make three more copies of this GameObject.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note25"></a>Note</h3><p>Note: Use keyboard shortcut <span class="emphasis"><em>CTRL</em></span> + <span class="emphasis"><em>D</em></span> (Windows) or <span class="emphasis"><em>CMD</em></span> + <span class="emphasis"><em>D</em></span> (Mac) to quickly duplicate GameObjects.</p></div></li><li><p>Move these new GameObject to different parts of the screen.</p></li><li><p>Play the gameâ€”each time you pick up a star, the total should be displayed in the form <span class="strong"><strong>stars = 2</strong></span>.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec77"></a>How it works...</h3></div></div></div><p>The <code class="literal">Text</code> variable <code class="literal">starText</code> is a reference to the UI <span class="strong"><strong>Text</strong></span> object <code class="literal">Text-carrying-star</code>. The <code class="literal">int</code> variable <code class="literal">totalStars</code> represents how many stars have been collected so far; it is initialized to zero.</p><p>In the <code class="literal">OnTriggerEnter2D()</code> method, the<a id="id213" class="indexterm"></a> <code class="literal">totalStars</code> counter is incremented by 1 each time the player's character hits an object tagged <span class="strong"><strong>Star</strong></span>. The collided star GameObject is destroyed and a call is made to the <code class="literal">UpdateStarText()</code>method.</p><p>The <code class="literal">UpdateStarText()</code> method updates <a id="id214" class="indexterm"></a>the text content of UI <span class="strong"><strong>Text</strong></span> object <code class="literal">Text-carrying-star</code> with<a id="id215" class="indexterm"></a> text string <code class="literal">stars =</code> concatenated with the integer value inside variable <code class="literal">totalStars</code> to display the updated total number of stars to the user.</p></div></div>