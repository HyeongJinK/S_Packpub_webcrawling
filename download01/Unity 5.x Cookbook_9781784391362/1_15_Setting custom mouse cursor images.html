<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec22"></a>Setting custom mouse cursor images</h2></div></div><hr /></div><p>Cursor icons are<a id="id141" class="indexterm"></a> often used to indicate the nature of the interaction that can be done with the mouse. Zooming, for instance, might be illustrated by a magnifying glass. Shooting, on the other hand, is usually represented by a stylized target. In this recipe, we will learn how to implement custom mouse cursor icons to better illustrate your gameplay—or just to escape the Windows, OSX, and Linux default GUI. The following screenshot shows a custom magnifying glass mouse cursor when the use's mouse pointer hovers over a <span class="strong"><strong>Button</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_32.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec53"></a>Getting ready</h3></div></div></div><p>For this recipe, we have prepared the images that you'll need in a folder named <code class="literal">IconsCursors</code> in the <code class="literal">1362_01_13</code> folder.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec54"></a>How to do it...</h3></div></div></div><p>To make a custom cursor appear when the mouse is over a GameObject, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new <a id="id142" class="indexterm"></a>Unity 2D project.</p></li><li><p>Add a <span class="strong"><strong>Directional Light</strong></span> item to the scene by navigating to <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Light</strong></span> | <span class="strong"><strong>Directional light</strong></span>.</p></li><li><p>Add a 3D <span class="strong"><strong>Cube</strong></span> to the scene, scaled to (5, 5, 5). Because it was created as a 2D project the cube will appear as a grey square in the <span class="strong"><strong>Game</strong></span> panel (2D projects have an orthographic camera, so we won't see perspective effects).</p></li><li><p>Import the provided folder called <code class="literal">IconsCursors</code>.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip02"></a>Tip</h3><p>Ensure that each image in this folder has been imported as <span class="strong"><strong>Texture Type Cursor</strong></span>. If they are not, then select this type for each image and click on the <span class="strong"><strong>Apply</strong></span> button in the <span class="strong"><strong>Inspector </strong></span>view.</p></div></li><li><p>Create a C# script class called <code class="literal">CustomCursorPointer</code>, containing the following code, and add an instance as a scripted component to the <span class="strong"><strong>Cube</strong></span> GameObject:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

public class CustomCursorPointer : MonoBehaviour {
  public Texture2D cursorTexture2D;

  private CursorMode cursorMode = CursorMode.Auto;
  private Vector2 hotSpot = Vector2.zero;

  public void OnMouseEnter() {
    SetCustomCursor(cursorTexture2D);
  }

  public void OnMouseExit() {
    SetCustomCursor(null);
  }

  private void SetCustomCursor(Texture2D curText){
    Cursor.SetCursor(curText, hotSpot, cursorMode);
  }
}</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note18"></a>Note</h3><p>Event methods <code class="literal">OnMouseEnter()</code> and <code class="literal">OnMouseExit()</code> have been purposely declared as <code class="literal">public</code>. This will allow these methods to also be called from UI GameObjects when they receive the <code class="literal">OnPointerEnterExit</code> events.</p></div></li><li><p>With the <span class="strong"><strong>Cube</strong></span> item<a id="id143" class="indexterm"></a> selected in the <span class="strong"><strong>Hierarchy</strong></span> panel, drag the <code class="literal">CursorTarget</code> image into the public <span class="strong"><strong>Cursor Texture 2D</strong></span> variable slot in the <span class="strong"><strong>Inspector</strong></span> panel for the <span class="strong"><strong>Customer Cursor Pointer (Script) </strong></span>component.</p></li><li><p>Save the current scene, and add it to the <span class="strong"><strong>Build</strong></span>.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip03"></a>Tip</h3><p>You will not be able to see the custom cursors in the Unity Editor. You must build your game application, and you'll see the custom cursors when you run the build app.</p></div></li><li><p>Build your project. Now, run your built application, and when the mouse pointer moves over the grey square of the <span class="strong"><strong>Cube</strong></span>, it will change to the custom <code class="literal">CursorTarget</code> image that you chose.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec55"></a>How it works...</h3></div></div></div><p>You have added a scripted object to a cube that will tell Unity to change the mouse pointer when an <span class="strong"><strong>OnMouseEnter</strong></span> message is received—that is, when the user's mouse pointer moves over the part of the screen where the cube is being rendered. When an <span class="strong"><strong>OnMouseExit</strong></span> event is received (the users mouse pointer is no longer over the cube part of the screen), the system is told to go back to the operating system default cursor. This event should be received within a few milliseconds of the user's mouse exiting from the collider.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec56"></a>There's more...</h3></div></div></div><p>There are some details that <a id="id144" class="indexterm"></a>you don't want to miss.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec15"></a>Custom cursors for mouse over UI controls</h4></div></div></div><p>Unity 5 UI controls do not receive the <span class="strong"><strong>OnMouseEnter</strong></span> and <span class="strong"><strong>OnMouseExit</strong></span> events. They can respond to the <span class="strong"><strong>PointerEnter/Exit</strong></span> events, but this requires adding the <span class="strong"><strong>Event Trigger</strong></span> components. To<a id="id145" class="indexterm"></a> change the mouse pointer when the mouse moves over a UI element, do the following:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Add a UI <span class="strong"><strong>Button</strong></span> to the scene.</p></li><li><p>Add an instance of the C# script class called <code class="literal">CustomCursorPointer</code> to the button.</p></li><li><p>With <span class="strong"><strong>Button</strong></span> selected in the <span class="strong"><strong>Hierarchy panel</strong></span>, drag the <code class="literal">CursorZoom</code> image into the public <span class="strong"><strong>Cursor Texture 2D</strong></span> variable slot in the <span class="strong"><strong>Inspector</strong></span> panel for the <span class="strong"><strong>Customer Cursor Pointer (Script)</strong></span> component.</p></li><li><p>In the <span class="strong"><strong>Inspector </strong></span>view<span class="strong"><strong>,</strong></span> add an <span class="strong"><strong>Event Triggers</strong></span> component to the <span class="strong"><strong>Button</strong></span>. Choose menu: <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Event</strong></span> | <span class="strong"><strong>Event Trigger</strong></span>.</p></li><li><p>Add a <span class="strong"><strong>Pointer Enter</strong></span> event to your <span class="strong"><strong>Event Trigger</strong></span> component, click on the plus (<span class="strong"><strong>+</strong></span>) button to add an event handler slot, and drag the <span class="strong"><strong>Button</strong></span> GameObject into the <span class="strong"><strong>Object</strong></span> slot.</p></li><li><p>From the <span class="strong"><strong>Function</strong></span> drop-down menu, choose <span class="strong"><strong>CustomCursorPointer</strong></span> and then choose the <span class="strong"><strong>OnMouseEnter</strong></span> method.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note19"></a>Note</h3><p>We have added an Event Handler so that when the <span class="strong"><strong>Button</strong></span> receives a <span class="strong"><strong>Pointer Enter</strong></span> (mouse over) event, it will execute the <span class="strong"><strong>OnMouseEnter()</strong></span> method of the <span class="strong"><strong>CustomCursorPointer</strong></span> scripted object inside the <span class="strong"><strong>Button</strong></span>.</p></div></li><li><p>Add a <span class="strong"><strong>Pointer Exit</strong></span> event to<a id="id146" class="indexterm"></a> your <span class="strong"><strong>Event Trigger</strong></span> component, and make it call the <code class="literal">OnMouseExit()</code>method from <span class="strong"><strong>CustomCursorPointer</strong></span> when this event is received.</p></li><li><p>Save the current scene.</p></li><li><p>Build your project. Now, run your built application and when the mouse pointer moves over the <span class="strong"><strong>Button,</strong></span> it will change to the custom <code class="literal">CursorZoom</code> image that you chose.</p></li></ol></div></div></div></div>