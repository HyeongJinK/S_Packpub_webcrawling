<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec24"></a>Toggles and radio buttons via Toggle Groups</h2></div></div><hr /></div><p>Users make choices, and<a id="id153" class="indexterm"></a> often, these choices are either to have<a id="id154" class="indexterm"></a> one of two<a id="id155" class="indexterm"></a> available options (for example, sound on<a id="id156" class="indexterm"></a> or off), or sometimes to choose one of several possibilities (for example, difficulty level easy/medium/hard). Unity UI <span class="strong"><strong>Toggles</strong></span> allows users to turn options on and off; and when combined with <span class="strong"><strong>Toggle Groups</strong></span>, they restrict choices to one of the group of items. In this recipe, we'll first explore the basic <span class="strong"><strong>Toggle</strong></span>, and a script to respond to a change in values. Then in the <span class="emphasis"><em>There's More</em></span> section, we'll extend the example to illustrate <span class="strong"><strong>Toggle Groups</strong></span>, and styling these with round images to make them look more like traditional radio buttons.</p><p>The following screenshot<a id="id157" class="indexterm"></a> shows how the button's status changes are logged in the <span class="strong"><strong>Console</strong></span> panel when the scene is running:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_39.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec60"></a>Getting ready</h3></div></div></div><p>For this recipe, we have<a id="id158" class="indexterm"></a> prepared the images that you'll need in a folder named <code class="literal">UI Demo Textures</code> in the <code class="literal">1362_01_15</code> folder.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec61"></a>How to do it...</h3></div></div></div><p>To display an on/off UI Toggle<a id="id159" class="indexterm"></a> to the user, follow these<a id="id160" class="indexterm"></a> steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new Unity 2D project.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> panel, change the <span class="strong"><strong>Background</strong></span> color of the <span class="strong"><strong>Main Camera</strong></span> to white.</p></li><li><p>Add <span class="strong"><strong>UI Toggle</strong></span> to the scene.</p></li><li><p>Enter <code class="literal">First Class</code> as <span class="strong"><strong>Text</strong></span> for the <span class="strong"><strong>Label</strong></span> child GameObject of the <span class="strong"><strong>Toggle </strong></span>GameObject.</p></li><li><p>Add an instance of the C# script class called <code class="literal">ToggleChangeManager</code> to the <span class="strong"><strong>Toggle</strong></span> GameObject:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;
using UnityEngine.UI;

public class ToggleChangeManager : MonoBehaviour {
  private Toggle toggle;

  void Start () {
    toggle = GetComponent&lt;Toggle&gt;();	
  }

  public void PrintNewToggleValue(){
    bool status = toggle.isOn;
    print ("toggle status = " + status);
  }
}</pre></div></li><li><p>With the <span class="strong"><strong>Toggle</strong></span> GameObject selected, add an <span class="strong"><strong>On Value Changed </strong></span>event to the list of event handlers for the <span class="strong"><strong>Toggle (Script) </strong></span>component, click on the plus (+) button to add an event handler slot, and drag <span class="strong"><strong>Toggle</strong></span> into the <span class="strong"><strong>Object</strong></span> slot.</p></li><li><p>From the <span class="strong"><strong>Function</strong></span> drop-down menu, choose <span class="strong"><strong>ToggleChangeManager</strong></span> and then choose the <span class="strong"><strong>PrintNewToggleValue</strong></span> method.</p></li><li><p>Save and<a id="id161" class="indexterm"></a> run the scene. Each time you check or uncheck the <span class="strong"><strong>Toggle</strong></span> GameObject, the <span class="strong"><strong>On Value Changed</strong></span> event will fire, and you'll see a new text message printed into the Console window by our script, stating the new Boolean true/false value of the <span class="strong"><strong>Toggle</strong></span>.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec62"></a>How it works...</h3></div></div></div><p>When you create <a id="id162" class="indexterm"></a>a Unity UI <span class="strong"><strong>Toggle</strong></span> GameObject, it comes with several child GameObjects automatically—<span class="strong"><strong>Background</strong></span>, <span class="strong"><strong>Checkmark</strong></span>, and the text <span class="strong"><strong>Label</strong></span>. Unless we need to style the <a id="id163" class="indexterm"></a>look of a <span class="strong"><strong>Toggle</strong></span> in a special way, all that is needed is simply to edit the text <span class="strong"><strong>Label</strong></span> so that the user knows what option or feature that this <span class="strong"><strong>Toggle</strong></span> is going to turn on/off.</p><p>The C# scripted class called <code class="literal">ToggleChangeManager's</code> method called <code class="literal">Start()</code> gets a reference to the <span class="strong"><strong>Toggle</strong></span> component in the GameObject, where the script instance is located. When the game is running, each time the user clicks on the <span class="strong"><strong>Toggle</strong></span> to change its value, an <span class="strong"><strong>On Value Changed</strong></span> event is fired. We then register the <code class="literal">PrintNewToggleValue()</code>method, which is supposed to be executed when such an event occurs. This method retrieves, and then prints out to the <span class="strong"><strong>Console</strong></span> panel the new Boolean true/false value of the <span class="strong"><strong>Toggle</strong></span>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec63"></a>There's more...</h3></div></div></div><p>There are some details that you don't want to miss.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec17"></a>Adding more Toggles and a Toggle Group to implement mutually-exclusive radio buttons</h4></div></div></div><p>The Unity UI <span class="strong"><strong>Toggles</strong></span> are also the base components, if we wish to implement a group of mutually-exclusive options in the style <a id="id164" class="indexterm"></a>of radio buttons. To create such a group of related choices, do the following:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Import the <code class="literal">UI Demo Textures</code> folder into the project.</p></li><li><p>Remove the C# script class <code class="literal">ToggleChangeManager</code> component from the <span class="strong"><strong>Toggle</strong></span> GameObject.</p></li><li><p>Rename the <span class="strong"><strong>Toggle</strong></span> GameObject as <span class="strong"><strong>Toggle-easy</strong></span>.</p></li><li><p>Change the <span class="strong"><strong>Label</strong></span> text to <span class="strong"><strong>Easy</strong></span>, and tag this GameObject with a new tag called <span class="strong"><strong>Easy</strong></span>.</p></li><li><p>Select the <span class="strong"><strong>Background</strong></span> child GameObject of <span class="strong"><strong>Toggle-easy</strong></span>, and in the <span class="strong"><strong>Image (Script)</strong></span> component, drag the <code class="literal">UIToggleBG</code> image into the <span class="strong"><strong>Source Image</strong></span> property.</p></li><li><p>Ensure that the <span class="strong"><strong>Is On</strong></span> property of the <span class="strong"><strong>Toggle (Script)</strong></span> component is checked, and then select the <span class="strong"><strong>Checkmark</strong></span> child GameObject of <span class="strong"><strong>Toggle-easy</strong></span>. In the <span class="strong"><strong>Image (Script)</strong></span> component, drag the <code class="literal">UIToggleButton</code> image into the <span class="strong"><strong>Source Image</strong></span> property.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note21"></a>Note</h3><p>Of the three choices (easy, medium, and hard) that we'll offer to the user, we'll set the easy option to be the one that is supposed to be initially selected. Therefore, we need its <span class="strong"><strong>Is On</strong></span> property to be checked, which will lead to its 'checkmark' image being displayed.</p><p>To make these <span class="strong"><strong>Toggles</strong></span> look more like radio buttons, the background of each is set to the circle image of <code class="literal">UIToggleBG</code>, and the checkmark (which displays the <span class="strong"><strong>Toggles</strong></span> that are on) is filled with the circle image called <code class="literal">UIToggleButton</code>.</p></div></li><li><p>Duplicate the <span class="strong"><strong>Toggle-easy</strong></span> GameObject, naming the copy <span class="strong"><strong>Toggle-medium</strong></span>. Set its <span class="strong"><strong>Rect Transform</strong></span> property <span class="strong"><strong>Pos Y</strong></span> to <code class="literal">-25</code> (so, this copy is positioned below the easy option), and uncheck the <span class="strong"><strong>Is On</strong></span> property of the <span class="strong"><strong>Toggle (Script)</strong></span> component. Tag this copy with a new tag called <span class="strong"><strong>Medium</strong></span>.</p></li><li><p>Duplicate the <span class="strong"><strong>Toggle-medium</strong></span> GameObject, naming the copy <span class="strong"><strong>Toggle-hard</strong></span>. Set its <span class="strong"><strong>Rect Transform</strong></span> property <span class="strong"><strong>Pos Y</strong></span> to <code class="literal">-50</code> (so this copy is positioned below the medium option). Tag this copy with a new tag called <span class="strong"><strong>Hard</strong></span>.</p></li><li><p>Add an instance of the C# script class called <code class="literal">RadioButtonManager</code> to the <span class="strong"><strong>Canvas</strong></span> GameObject:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;
using UnityEngine.UI;

public class RadioButtonManager : MonoBehaviour {
  private string currentDifficulty = "Easy";

  public void PrintNewGroupValue(Toggle sender){
    // only take notice from Toggle just swtiched to On
    if(sender.isOn){
      currentDifficulty = sender.tag;
      print ("option changed to = " + currentDifficulty);
    }
  }
}</pre></div></li><li><p>With the <span class="strong"><strong>Toggle-easy</strong></span> GameObject selected, add an <span class="strong"><strong>On Value Changed</strong></span> event to the list of event handlers for the <span class="strong"><strong>Toggle (Script)</strong></span> component. Click on the plus (<span class="strong"><strong>+</strong></span>) button to add an event handler slot, and drag the <span class="strong"><strong>Canvas</strong></span> GameObject into the Object slot.</p></li><li><p>From the <span class="strong"><strong>Function</strong></span> drop-down menu, choose <span class="strong"><strong>RadioButtonManager</strong></span>, and then choose<a id="id165" class="indexterm"></a> the <span class="strong"><strong>PrintNewGroupValue</strong></span> method. In the <span class="strong"><strong>Toggle</strong></span> parameter slot, which is initially <code class="literal">None (Toggle)</code>, drag the <span class="strong"><strong>Toggle-easy</strong></span> GameObject.</p></li><li><p>Do the same for the <span class="strong"><strong>Toggle-medium</strong></span> and <span class="strong"><strong>Toggle-hard</strong></span> GameObjects—so each <span class="strong"><strong>Toggle</strong></span> object calls the <code class="literal">PrintNewGroupValue(…)</code>method of a C# scripted component called <code class="literal">RadioButtonManager</code> in the <span class="strong"><strong>Canvas</strong></span> GameObject, passing itself as a parameter.</p></li><li><p>Save and run the scene. Each time you check one of the three radio buttons, the <span class="strong"><strong>On Value Changed</strong></span> event will fire, and you'll see a new text message printed into the <span class="strong"><strong>Console</strong></span> window by our script, stating the tag of whichever <span class="strong"><strong>Toggle</strong></span> (radio button) was just set to true (<span class="strong"><strong>Is On</strong></span>).</p></li><li><p>The following screenshot shows how the value corresponding to the selected radio button is logged to the <span class="strong"><strong>Console</strong></span> panel when the scene is running:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_40.jpg" /></div></li></ol></div></div></div></div>