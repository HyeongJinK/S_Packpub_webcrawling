<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec18"></a>Displaying the value of an interactive UI Slider</h2></div></div><hr /></div><p>This recipe illustrates how<a id="id81" class="indexterm"></a> to create an interactive UI <span class="strong"><strong>Slider</strong></span>, and execute a C# method each time the user changes the <span class="strong"><strong>Slider value</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_08.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec43"></a>How to do it...</h3></div></div></div><p>To create a UI Slider and display its value on the screen, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new 2D project.</p></li><li><p>Add a UI Text GameObject to the scene with a Font size of <code class="literal">30</code> and placeholder text such as <code class="literal">slider value here</code> (this text will be replaced with the slider value when the scene starts).</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, add a <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Slider</strong></span> game object to the sceneâ€”choose the menu: <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Slider</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> tab, modify settings for the <span class="strong"><strong>Rect Transform</strong></span> to position the slider on the top-middle part of the screen and the text just below it.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> tab, set the <span class="strong"><strong>Min Value</strong></span> of the slider to <code class="literal">0</code>, the <span class="strong"><strong>Max Value</strong></span> to <code class="literal">20</code>, and check the <span class="strong"><strong>Whole Numbers</strong></span> checkbox, as shown here:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_09.jpg" /></div></li><li><p>Create a<a id="id82" class="indexterm"></a> C# script class called <code class="literal">SliderValueToText</code>, containing the following code, and add an instance as a scripted component to the GameObject called <span class="strong"><strong>Text</strong></span>:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;
using UnityEngine.UI;

public class SliderValueToText : MonoBehaviour {
  public Slider sliderUI;
  private Text textSliderValue;

  void Start (){
    textSliderValue = GetComponent&lt;Text&gt;();
    ShowSliderValue();
  }

  public void ShowSliderValue () {
    string sliderMessage = "Slider value = " + sliderUI.value;
    textSliderValue.text = sliderMessage;
  }
}</pre></div></li><li><p>Ensure that the <span class="strong"><strong>Text</strong></span> GameObject is selected in the <span class="strong"><strong>Hierarchy</strong></span>. Then, in the <span class="strong"><strong>Inspector </strong></span>view, drag the <span class="strong"><strong>Slider</strong></span> GameObject into the public <span class="strong"><strong>Slider UI</strong></span> variable slot for the <code class="literal">Slider Value To Text (Script)</code> scripted component, as shown here:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_12.jpg" /></div></li><li><p>Ensure that the<a id="id83" class="indexterm"></a> <span class="strong"><strong>Slider</strong></span> GameObject is selected in the <span class="strong"><strong>Hierarchy</strong></span>. Then, in the <span class="strong"><strong>Inspector </strong></span>view, drag the <span class="strong"><strong>Text</strong></span> GameObject into the public <span class="strong"><strong>None (Object)</strong></span> slot for the <span class="strong"><strong>Slider (Script)</strong></span> scripted component, in the section for <span class="strong"><strong>On Value Changed (Single)</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note11"></a>Note</h3><p>You have now told Unity to which object a message should be sent each time the slider is changed.</p></div><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_11.jpg" /></div></li><li><p>From the drop-down menu, select <span class="strong"><strong>SliderValueToText</strong></span> and the <code class="literal">ShowSliderValue()</code> method, as shown in the following screenshot. This means that each time the slider is updated, the <code class="literal">ShowSliderValue()</code>method, in the scripted<a id="id84" class="indexterm"></a> object, in GameObject <span class="strong"><strong>Text</strong></span> will be executed.</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_10.jpg" /></div></li><li><p>When you run the scene, you will now see a slider. Below it, you will see a text message in the <code class="literal">Slider value = &lt;n&gt;</code> form.</p></li><li><p>Each time the slider is moved, the text value shown will be (almost) instantly updated. The values should range from <code class="literal">0</code> (the leftmost of the slider) to <code class="literal">20</code> (the rightmost of the slider).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note12"></a>Note</h3><p>The update of the text value on the screen probably won't be instantaneous, as in happening in the same frame as the slider value is moved, since there is some computation involved in the slider deciding that an <span class="strong"><strong>On Value Changed</strong></span> event message needs to be triggered, and then looking up any methods of objects that are registered as event handlers for such an event. Then, the statements in the object's method need to be executed in sequence. However, this should all happen within a few milliseconds, and should be sufficiently fast enough to offer the user a satisifyingly responsive UI for interface actions such as changing and moving this slider.</p></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec44"></a>How it works...</h3></div></div></div><p>You have added to the <span class="strong"><strong>Text</strong></span> GameObject a scripted instance of the <code class="literal">SliderValueToText</code> class.</p><p>The <code class="literal">Start()</code> method, which is executed when the scene first runs, sets the variable to be a reference to the <span class="strong"><strong>Text</strong></span> component inside the <span class="strong"><strong>Slider</strong></span> item. Next, the <code class="literal">ShowSliderValue()</code> method is called, so that the display is correct when the scene begins (the initial slider value is displayed).</p><p>This contains the <code class="literal">ShowSliderValue()</code> method, which gets the value of the slider. It updates the text displayed to be a message in the form: <code class="literal">Slider value = &lt;n&gt;</code>.</p><p>You created a <span class="strong"><strong>UI Slider</strong></span> GameObject, and set it to be whole numbers in the 0-20 range.</p><p>You added to the <span class="strong"><strong>UI Slider</strong></span> GameObject's list of <span class="strong"><strong>On Value Changed</strong></span> event listeners the <code class="literal">ShowSliderValue()</code> method of the <code class="literal">SliderValueToText</code> scripted component. So, each time the slider <a id="id85" class="indexterm"></a>value changes, it sends a message to call the <code class="literal">ShowSliderValue()</code> method, and so the new value is updated on the screen.</p></div></div>