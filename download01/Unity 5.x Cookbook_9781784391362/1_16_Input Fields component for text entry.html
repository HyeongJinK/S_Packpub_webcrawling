<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec23"></a>Input Fields component for text entry</h2></div></div><hr /></div><p>While many times <a id="id147" class="indexterm"></a>we just wish to display non-interactive text messages to the user, there are times (such as name entry for high scores) where we wish that the user was able to enter text or numbers into our game. Unity provides the <span class="strong"><strong>Input Field</strong></span> UI component for this purpose. In this recipe, we'll create a simple text input UI by making use of the default Button image and text GameObjects, and we'll add a script to respond to each new value of the input field.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note20"></a>Note</h3><p>You can, of course, create a working text input quicker than this recipe's method by choosing menu: <span class="strong"><strong>Create | UI | Input Field</strong></span>, which creates a GameObject containing an Input Field component, child text, and placeholder GameObjects, as shown in the following screenshot. However, by following the steps in this recipe, you'll learn the interrelationships between the different interface elements, because you'll be creating these connections manually from the deconstructed parts of the UI Button GameObject.</p></div><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_37.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec57"></a>How to do it...</h3></div></div></div><p>To create a promoted text input box to the user with faint placeholder text, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new Unity <a id="id148" class="indexterm"></a>2D project.</p></li><li><p>In the <span class="strong"><strong>Inspector </strong></span>view, change the background of the <span class="strong"><strong>Main Camera</strong></span> to solid white.</p></li><li><p>Add a <span class="strong"><strong>UI Button</strong></span> to the scene. Delete the <span class="strong"><strong>Button (Script)</strong></span> component of the <span class="strong"><strong>Button</strong></span> GameObject (since it won't be a button, it will be an interactive text input by the time we are finished with it!).</p></li><li><p>Rename the <span class="strong"><strong>Text</strong></span> child GameObject of the <span class="strong"><strong>Button</strong></span> component to <span class="strong"><strong>Text-placeholder</strong></span>. Uncheck the <span class="strong"><strong>Rich Text</strong></span> option, change the text to <span class="strong"><strong>Enter name…</strong></span>, change the <span class="strong"><strong>Alignment</strong></span> in <span class="strong"><strong>Left</strong></span> and <span class="strong"><strong>Top</strong></span>, and in the <span class="strong"><strong>Rect Transform</strong></span>, set <span class="strong"><strong>Left</strong></span> to <code class="literal">4</code> and <span class="strong"><strong>Top</strong></span> to <code class="literal">7</code>.</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_38.jpg" /></div></li><li><p>Duplicate <span class="strong"><strong>Text-placeholder by</strong></span> naming the copy <span class="strong"><strong>Text-prompt</strong></span>. Change the <span class="strong"><strong>Text</strong></span> of this <a id="id149" class="indexterm"></a>GameObject to <span class="strong"><strong>Name:</strong></span>, and set its <span class="strong"><strong>Left</strong></span> position to <code class="literal">-50</code>.</p></li><li><p>Duplicate <span class="strong"><strong>Text-placeholder</strong></span> again, naming this new copy <span class="strong"><strong>Text-input</strong></span>. Delete all of the content of the <span class="strong"><strong>Text</strong></span> property of this new GameObject. </p></li><li><p>Select <span class="strong"><strong>Text-placeholder</strong></span> in the <span class="strong"><strong>Hierarchy,</strong></span> and we will now make the placeholder text mostly transparent. Set the <span class="strong"><strong>A</strong></span> (alpha) <span class="strong"><strong>Color</strong></span> value of the <span class="strong"><strong>Text (Script)</strong></span> component of this GameObject to a value that is about a quarter of its maximum value (e.g. 64).</p></li><li><p>Select <span class="strong"><strong>Text-input</strong></span> in the <span class="strong"><strong>Hierarchy,</strong></span> and add an <span class="strong"><strong>Input Field</strong></span> component by choosing menu: <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Input Field</strong></span>.</p></li><li><p>Drag the <span class="strong"><strong>Text-input</strong></span> GameObject into the <span class="strong"><strong>Text Component</strong></span> property of <span class="strong"><strong>Input Field</strong></span>, and drag the <span class="strong"><strong>Text-placeholder</strong></span> GameObject into the <span class="strong"><strong>Placeholder</strong></span> property.</p></li><li><p>Save and run your scene. You now have a working text input UI for your user. When there is no text content, the faint placeholder text will be displayed. As soon as any characters have been typed, the placeholder will be hidden and the characters typed will appear in black text. Then, if all the characters are deleted, the placeholder will appear again.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec58"></a>How it works...</h3></div></div></div><p>The core of interactive text input in Unity is the responsibility of the <span class="strong"><strong>Input Field</strong></span> component. This<a id="id150" class="indexterm"></a> needs a reference to a UI <span class="strong"><strong>Text</strong></span> GameObject. To make it easier to see where the text can be typed, we have made use of the default rounded rectangle image that Unity provides when a <span class="strong"><strong>Button</strong></span> GameObject is created. <span class="strong"><strong>Buttons</strong></span> have both an <span class="strong"><strong>Image</strong></span> component and a <span class="strong"><strong>Text</strong></span> child GameObject. So, two items that we need can be acquired very easily by creating a new <span class="strong"><strong>Button,</strong></span> and simply by removing the <span class="strong"><strong>Button (Script)</strong></span> component.</p><p>There are usually three <span class="strong"><strong>Text</strong></span> GameObjects involved with the user text input: the static prompt text (in our recipe, for example, the <span class="strong"><strong>Name: </strong></span>text); then the faint placeholder text, reminding users where and what they should type; and finally the text object (with the font and color settings and so on) that is actually displayed to the user, showing the characters as they type.</p><p>At runtime, a <span class="strong"><strong>Text-Input Input Caret</strong></span> GameObject is created—displaying the blinking vertical line to inform the user where their next letter will be typed. Note that the <span class="strong"><strong>Content Type</strong></span> of the <span class="strong"><strong>Input Field (Script)</strong></span>, in the <span class="strong"><strong>Inspector</strong></span>, can be set to several specific types of text input, including e-mail addresses, integer or decimal numbers only, or the password text (where an asterisk is displayed for each entered character).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec59"></a>There's more...</h3></div></div></div><p>There are some details that you don't want to miss.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec16"></a>Executing a C# method to respond each time the user changes the input text content</h4></div></div></div><p>Having interactive text <a id="id151" class="indexterm"></a>on the screen isn't of much use unless we can retrieve the text entered to use in our game logic, and we may need to know each time the user changes the text content and act accordingly.</p><p>To add code and events to respond each time the text content has been changed by the user, do the following:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Add an instance of the C# script class called <code class="literal">DisplayChangedTextContent</code> to the <span class="strong"><strong>Text-input</strong></span> GameObject:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;
using UnityEngine.UI;

public class DisplayChangedTextContent : MonoBehaviour {
  private InputField inputField;

  void Start(){
    inputField = GetComponent&lt;InputField&gt;();
  }

  public void PrintNewValue (){
    string msg = "new content = '" + inputField.text + "'";
    print (msg);
}
}</pre></div></li><li><p>Add an <span class="strong"><strong>End Edit (String)</strong></span> event to the list of event handlers for the <span class="strong"><strong>Input Field (Script)</strong></span> component. Click on the plus (<span class="strong"><strong>+</strong></span>) button to add an event handler slot, and drag the <span class="strong"><strong>Text-input</strong></span> GameObject into the <span class="strong"><strong>Object</strong></span> slot.</p></li><li><p>From the <span class="strong"><strong>Function</strong></span> drop-down menu, choose <span class="strong"><strong>DisplayChangedTextContent</strong></span> and then choose the <span class="strong"><strong>PrintNewValue</strong></span> method.</p></li><li><p>Save and run<a id="id152" class="indexterm"></a> the scene. Each time the user types in new text and then presses <span class="emphasis"><em>Tab</em></span> or <span class="emphasis"><em>Enter</em></span>, the <span class="strong"><strong>End Edit</strong></span> event will fire, and you'll see a new content text message printed in the <span class="strong"><strong>Console</strong></span> window by our script, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784391362/graphics/1362OT_01_36.jpg" /></div></li></ol></div></div></div></div>