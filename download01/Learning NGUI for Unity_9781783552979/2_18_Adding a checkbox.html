<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec23"></a>Adding a checkbox</h2></div></div><hr /></div><p>It would <a id="id239" class="indexterm"></a>be great to add a checkbox to enable or disable sound for the game. Before we continue, let's prepare a<a id="id240" class="indexterm"></a> container box for our future checkbox:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">UI Root</code> | <code class="literal">Options</code> GameObject.</p></li><li><p>Create a new child empty GameObject by pressing <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>N</em></span>.</p></li><li><p>Rename this new empty GameObject to <code class="literal">Sound</code>.</p></li></ol></div><p>We'll add the <code class="literal">UISprite</code> component to our new <code class="literal">Sound</code> holder GameObject to create the sound toggle's box background.</p><p>Select our <code class="literal">UI Root</code> | <code class="literal">Options</code> | <code class="literal">Sound</code> GameObject:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Click on the <span class="strong"><strong>Add Component</strong></span> button in the Inspector view.</p></li><li><p>Type in <code class="literal">sprite</code> with your keyboard.</p></li><li><p>Select <span class="strong"><strong>NGUI Sprite</strong></span> with your keyboard arrows and hit <span class="emphasis"><em>Enter</em></span>.</p></li></ol></div><p>Follow these steps to configure the new <code class="literal">UISprite</code> component on our <code class="literal">Sound</code> GameObject:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <span class="strong"><strong>Wooden Atlas</strong></span> for the <span class="strong"><strong>Atlas</strong></span> parameter.</p></li><li><p>Change <span class="strong"><strong>Sprite</strong></span> to <span class="strong"><strong>Highlight – Thin</strong></span>.</p></li><li><p>Change the sprite <span class="strong"><strong>Type</strong></span> parameter to <span class="strong"><strong>Sliced</strong></span>.</p></li><li><p>Change its <span class="strong"><strong>Color Tint</strong></span> parameter to <code class="literal">{R: 180, G: 125, B: 50, A: 255}</code>.</p></li><li><p>Set <span class="strong"><strong>Size</strong></span> to 460 x 280.</p></li><li><p>Set its <span class="strong"><strong>Transform</strong></span> position to <code class="literal">{550, 85, 0}</code>.</p></li></ol></div><p>Good, we<a id="id241" class="indexterm"></a> have our background sprite. We'll now add a title to this sound toggle box:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Options</code> | <code class="literal">Sound</code> GameObject.</p></li><li><p>Press <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>L</em></span> to create a new child label widget.</p></li><li><p>Select our new <code class="literal">Options</code> | <code class="literal">Sound</code> | <code class="literal">Label</code> GameObject:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Change its <span class="strong"><strong>Font</strong></span> parameter to <span class="strong"><strong>Coalition</strong></span>
</p></li><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Size</strong></span> to 460 x 100</p></li><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Font Size</strong></span> to <code class="literal">52</code>
</p></li><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Color Tint</strong></span> to <code class="literal">{R: 255, G: 190, B: 10, A: 255}</code>
</p></li><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Text</strong></span> to <code class="literal">Sound</code>
</p></li><li style="list-style-type: disc"><p>Set its <span class="strong"><strong>Transform</strong></span> position to <code class="literal">{0, 65, 0}</code>
</p></li></ul></div></li></ol></div><p>Great. We can now create our first checkbox.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec40"></a>Creating the checkbox</h3></div></div></div><p>Drag the <a id="id242" class="indexterm"></a>
<span class="strong"><strong>Colored Checkbox </strong></span>(<span class="strong"><strong>1</strong></span>) from our Prefab Toolbar inside our new <code class="literal">Sound</code> GameObject in the <span class="strong"><strong>Hierarchy</strong></span> view, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_28.jpg" /></div><p>A new checkbox appears on the scene. Hit Unity's <span class="strong"><strong>play</strong></span> button. The checkbox's title appears gradually<a id="id243" class="indexterm"></a> with a typewriter effect. The checkbox can be checked or unchecked, with a nice rotation transition animation and fading in/out of the checkmark. Here's how the new checkbox looks:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_29.jpg" /></div><p>The checkbox in the preceding screenshot is composed of four elements (ignoring the NGUI snapshot):</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>
<span class="strong"><strong>Control – Colored Checkbox</strong></span>: This is the main element, with these five components:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">UIWidget</code>: Basic NGUI component used to contain widgets</p></li><li style="list-style-type: disc"><p>
<code class="literal">UIToggle</code>: On/off switch used for checkboxes or radio buttons</p></li><li style="list-style-type: disc"><p>
<code class="literal">Box Collider</code>: Used to detect mouse and touch interactions</p></li><li style="list-style-type: disc"><p>
<code class="literal">UIButton</code>: Used to add hover/pressed color effects on checkbox</p></li><li style="list-style-type: disc"><p>
<code class="literal">UIButton Rotation</code>: Used to rotate the background on hover</p></li></ul></div></li><li><p>
<span class="strong"><strong>Background</strong></span>: This is <code class="literal">UISprite</code>, which displays the checkbox's empty rectangle.</p></li><li><p>
<span class="strong"><strong>Checkmark</strong></span>: This is the animated <code class="literal">UISprite</code> that displays the actual checkmark.</p></li><li><p>
<span class="strong"><strong>Label</strong></span>: This is <code class="literal">UILabel</code>, which displays the title with <code class="literal">Typewriter</code> <code class="literal">Effect</code>.</p></li></ol></div><p>Ok. Now, let's<a id="id244" class="indexterm"></a> review the checkbox's parameters.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec41"></a>Parameters of UIToggle</h3></div></div></div><p>Select <span class="strong"><strong>Control – Colored Checkbox</strong></span>. Its<a id="id245" class="indexterm"></a> attached <span class="strong"><strong>UIToggle </strong></span>has<a id="id246" class="indexterm"></a> 5 parameters, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_30.jpg" /></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>
<span class="strong"><strong>Group</strong></span>: All <code class="literal">UIToggle</code> components within the same group ID act as radio buttons; only<a id="id247" class="indexterm"></a> one of them can be checked at one time.</p></li><li><p>
<span class="strong"><strong>State of 'None'</strong></span>: Accessible when a <span class="strong"><strong>Group</strong></span> is defined (other than <code class="literal">0</code>). Enabling this option authorizes<a id="id248" class="indexterm"></a> you to have none of the <code class="literal">UIToggles</code> selected. Disabling it implies that one of them in the group is always selected.</p></li><li><p>
<span class="strong"><strong>Starting State</strong></span>: This is<a id="id249" class="indexterm"></a> the default state at runtime.</p></li><li><p>
<span class="strong"><strong>State Transition</strong></span>: Here, your can set which <code class="literal">UISprite</code> holds your checkmark icon and<a id="id250" class="indexterm"></a> animation. Drag them respectively in the <span class="strong"><strong>Sprite</strong></span> and <span class="strong"><strong>Animation</strong></span> fields. You can also choose a <code class="literal">Smooth</code> fade in/out or an <code class="literal">Instant</code> transition.</p></li><li><p>
<span class="strong"><strong>On Value Change</strong></span>: This lets <a id="id251" class="indexterm"></a>you choose methods to call each time <code class="literal">UIToggle</code> changes state.</p></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note21"></a>Note</h3><p>
<code class="literal">Simple</code> <code class="literal">Checkbox</code> in the Prefab Toolbar is just like <code class="literal">Colored Checkbox</code>, except that it has no rotation animation or typewriter effect.</p></div><p>Now that we have seen the parameters of <code class="literal">UIToggle</code>, we can create a <span class="strong"><strong>sound toggle</strong></span>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec42"></a>The sound toggle box</h3></div></div></div><p>We can<a id="id252" class="indexterm"></a> now create this sound toggle to switch the game's sound<a id="id253" class="indexterm"></a> on or off:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_31.jpg" /></div><p>The sound toggle box in the preceding screenshot is composed of three main elements:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>The sound box's background: This is <code class="literal">UISprite</code>, which is attached to the container.</p></li><li><p>The box's title: This is <code class="literal">UILabel</code>, which displays the word <code class="literal">Sound</code>.</p></li><li><p>The checkbox element: This has the <code class="literal">UIToggle</code> component attached.</p></li></ol></div><p>We already have the first two elements: the background and title. We only have to configure our checkbox (<span class="strong"><strong>3</strong></span>).</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec15"></a>The checkbox</h4></div></div></div><p>Select our <code class="literal">Control - Colored Checkbox</code> GameObject of <code class="literal">Sound</code>, and rename it <code class="literal">Checkbox</code>. Now, follow<a id="id254" class="indexterm"></a> these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Set its <span class="strong"><strong>Transform</strong></span> position parameter to <code class="literal">{-200, -50, 0}</code>.</p></li><li><p>For its attached <code class="literal">UIWidget</code> component:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Size</strong></span> to 400 x 120</p></li></ul></div></li><li><p>For its attached <code class="literal">UIButton</code> component:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Set the <span class="strong"><strong>Normal</strong></span> color to <code class="literal">{R: 255, G: 200, B: 120, A: 255}</code>
</p></li><li style="list-style-type: disc"><p>Set the <span class="strong"><strong>Hover</strong></span> color to <code class="literal">{R: 255, G: 230, B: 200, A: 255}</code>
</p></li><li style="list-style-type: disc"><p>Set the <span class="strong"><strong>Pressed</strong></span> color to <code class="literal">{R: 0, G: 0, B: 0, A: 255}</code>
</p></li></ul></div></li></ol></div><p>We have set the container widget to the correct size; <code class="literal">UIButton</code> will now change the checkbox's color depending on its state (hover, normal, or pressed).</p><p>Let's change the size of the checkbox and the actual checkmark:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Checkbox</code> | <code class="literal">Background</code> GameObject.</p></li><li><p>Set its widget <span class="strong"><strong>Size</strong></span> to 120 x 120.</p></li><li><p>Change its <span class="strong"><strong>Transform</strong></span> position to <code class="literal">{60, 0, 0}</code>.</p></li></ol></div><p>Good. Let's do the same for our checkmark icon:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Checkbox</code> | <code class="literal">Checkmark</code> GameObject.</p></li><li><p>Set <span class="strong"><strong>Color Tint</strong></span> to <code class="literal">{R: 255, G: 200, B: 120, A: 255}</code>.</p></li><li><p>Set widget <span class="strong"><strong>Size</strong></span> to 120 x 120.</p></li><li><p>Change its <span class="strong"><strong>Transform</strong></span> position to <code class="literal">{60, -8, 0}</code>.</p></li></ol></div><p>The checkbox looks good, but its associated label is neither positioned nor sized correctly:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_32.jpg" /></div><p>Let's take care <a id="id255" class="indexterm"></a>of this label. Select our <code class="literal">Checkbox</code> | <code class="literal">Label</code> child GameObject, and then:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Set its <span class="strong"><strong>Font</strong></span> parameter to <span class="strong"><strong>Arimo20</strong></span>.</p></li><li><p>Change <span class="strong"><strong>Font Size</strong></span> to <code class="literal">50</code>.</p></li><li><p>Change <span class="strong"><strong>Text</strong></span> to <code class="literal">Enabled</code>.</p></li><li><p>Set <span class="strong"><strong>Color Tint</strong></span> to <code class="literal">{R: 255, G: 200, B: 120, A: 255}</code>.</p></li><li><p>Set widget <span class="strong"><strong>Size</strong></span> to 250 x 120.</p></li></ol></div><p>We need to move this label to the right. Currently, this label uses <code class="literal">Anchors</code> to position itself relative to another object. Let's disable them to allow us to place it anywhere.</p><p>Select our <code class="literal">Checkbox</code> | <code class="literal">Label</code> GameObject. In the Inspector view, under its attached <code class="literal">UILabel</code>, you will find the <span class="strong"><strong>Anchors</strong></span> group, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_33.jpg" /></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Click on <span class="strong"><strong>Unified</strong></span> to open the anchor <span class="strong"><strong>Type</strong></span> selection.</p></li><li><p>Click on <span class="strong"><strong>None</strong></span> to disable <span class="strong"><strong>Anchors</strong></span> for this widget.</p></li></ol></div><p>Ok, we can now move it anywhere we want. Set its <span class="strong"><strong>Transform</strong></span> position to <code class="literal">{160, 0, 0}</code>. Great! We now have a sound toggle box. Your <span class="strong"><strong>Game</strong></span> view should look like this:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_34.jpg" /></div><p>Now, let's see<a id="id256" class="indexterm"></a> how we can create sliders to adjust the game's different volume levels.</p></div></div></div>