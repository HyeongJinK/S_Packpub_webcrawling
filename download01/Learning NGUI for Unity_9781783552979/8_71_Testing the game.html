<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec70"></a>Testing the game</h2></div></div><hr /></div><p>Even though we now are on<a id="id836" class="indexterm"></a> the Android platform for this project, everything works perfectly. We do not have to change anything for the game to work while running in the editor. Let's build the game and try it on a mobile device to see whether it's still the same.</p><p>We'll see how to configure <span class="strong"><strong>Bundle Identifier</strong></span> and then explore two different ways to build and run our game on an Android device.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec128"></a>Bundle Identifier</h3></div></div></div><p>Before we start<a id="id837" class="indexterm"></a> building the game, we need to define Bundle Identifier. Bundle<a id="id838" class="indexterm"></a> Identifier is a unique ID for all Android apps. When your game is uploaded to the Google Play Store, it is identified and published using this unique ID. Perform the following steps to define Bundle Identifier:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Navigate to <span class="strong"><strong>Edit</strong></span> | <span class="strong"><strong>Project Settings</strong></span> | <span class="strong"><strong>Player</strong></span>.</p></li><li><p>The <span class="strong"><strong>Player Settings</strong></span> menu is now displayed in the <span class="strong"><strong>Inspector</strong></span> panel.</p></li><li><p>Click on the <span class="strong"><strong>Other Settings</strong></span> submenu to display them.</p></li><li><p>Under the <span class="strong"><strong>Identification</strong></span> group, you'll see the <span class="strong"><strong>Bundle Identifier</strong></span> field.</p></li><li><p>Enter <code class="literal">com.Aze.LearnNGUI</code> in the <span class="strong"><strong>Bundle Identifier</strong></span> field.</p></li></ol></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip18"></a>Tip</h3><p>You can put your company name instead of <code class="literal">Aze</code>.</p></div><p>Once Bundle Identifier has<a id="id839" class="indexterm"></a> been set up, we can move on to building the package.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec129"></a>Building the package</h3></div></div></div><p>We have<a id="id840" class="indexterm"></a> two different ways<a id="id841" class="indexterm"></a> of building a package with Unity: a <span class="strong"><strong>manual build</strong></span> and a <span class="strong"><strong>build and run</strong></span> option. We'll explain and try both now.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch08lvl3sec84"></a>Manual build</h4></div></div></div><p>In the <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Build Settings</strong></span> window, click<a id="id842" class="indexterm"></a> on the <span class="strong"><strong>Build</strong></span> button. Leave the default name <a id="id843" class="indexterm"></a>for the <code class="literal">.apk</code> package, select the current project's root folder (default location), and then click on <span class="strong"><strong>Save</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_08_03.jpg" /></div><p>Unity will build the Android package. Once it's finished, connect your Android device to your computer with an USB cable, and copy the <code class="literal">.apk</code> file on itâ€”in your folder of choice. Use any Android file<a id="id844" class="indexterm"></a> explorer (<span class="strong"><strong>File Expert</strong></span> for example) to browse and install it. It will then be added to your home<a id="id845" class="indexterm"></a> screen and you will be able to launch it like any other Android app.</p><p>Now that we've seen the manual build, let's talk about the <span class="strong"><strong>Build And Run</strong></span> feature.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch08lvl3sec85"></a>Build and run</h4></div></div></div><p>We've seen that we can<a id="id846" class="indexterm"></a> build an <code class="literal">.apk</code> package file on the computer's hard disk, copy it to your Android device, install it <a id="id847" class="indexterm"></a>manually, and launch it.</p><p>With Unity, in<a id="id848" class="indexterm"></a> the <span class="strong"><strong>Build Settings</strong></span> window, a <span class="strong"><strong>Build And Run</strong></span> option exists. This will build the package and install and launch it automatically. A good time-saver!</p><p>For the <span class="strong"><strong>Build and Run</strong></span> option to work, you must<a id="id849" class="indexterm"></a> enable <span class="strong"><strong>USB debugging</strong></span> on your Android device.</p><p>If you have an Android version lower <a id="id850" class="indexterm"></a>than 4.2, you should see <span class="strong"><strong>Developer Options</strong></span> in the system parameters. From Android 4.2, you must request to be shown the following elements:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Access the system parameters.</p></li><li><p>Go to the <span class="strong"><strong>About</strong></span> submenu.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note45"></a>Note</h3><p>Depending on the device's manufacturer, the <span class="strong"><strong>About</strong></span> submenu can be under <span class="strong"><strong>More</strong></span> | <span class="strong"><strong>General</strong></span>, or <span class="strong"><strong>Software Information</strong></span> | <span class="strong"><strong>More</strong></span>.</p></div></li><li><p>Scroll<a id="id851" class="indexterm"></a> to <span class="strong"><strong>Build Number</strong></span>.</p></li><li><p>Tap <span class="strong"><strong>Build Number</strong></span> seven times.</p></li><li><p>A notification saying <span class="strong"><strong>You are now a developer</strong></span> appears.</p></li><li><p>Go back to the system settings.</p></li><li><p>Enter <span class="strong"><strong>Developer Options</strong></span>.</p></li><li><p>Enable the <span class="strong"><strong>USB Debugging</strong></span> option.</p></li></ol></div><p>Now that the USB debugging feature is enabled, you can either navigate to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Build Settings</strong></span> and click on the <span class="strong"><strong>Build And Run</strong></span> button, or simply hit <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>B</em></span> to build and run the game on your device!</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec130"></a>Testing</h3></div></div></div><p>Now, run the <span class="emphasis"><em>Learning NGUI</em></span> app on your mobile device. If you've used the build and run option, it should launch<a id="id852" class="indexterm"></a> automatically.</p><p>You can see that the menu works well, and if you rotate your device, it auto-adjusts the UI to fit:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_08_04.jpg" /></div><p>Even though we will lock the game in landscape orientation, it's good to know that by enabling both content width and height's <code class="literal">Fit</code> options make sure that the UI scales up or down to fit the current screen's size, even when it's flipped during runtime.</p><p>Click on the <span class="strong"><strong>Options</strong></span> button. You'll see that all the interface works correctly; we do not have any issues here.</p><p>Return to the main<a id="id853" class="indexterm"></a> menu and click on the <span class="strong"><strong>Play</strong></span> button. You can easily drag the power sources. That's great.</p><p>Unfortunately, the character doesn't move when the player clicks on the ground. Also, it is impossible to display the power source's elemental switch UI since we do not have a right-click button on mobile devices.</p><p>Finally, hitting Android's back button (same as the <span class="emphasis"><em>Esc</em></span> key on computers) directly exits the game instead of simply pausing it.</p><p>Ok, those are the three main issues. Let's start working on them!</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip19"></a>Tip</h3><p>Using dynamic lights on mobile platforms with Unity greatly reduces performance. If you have trouble running the game smoothly on your device, disabling those attached to the player and power sources might help.</p></div></div></div>