<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec51"></a>Adding sprites to the atlas</h2></div></div><hr /></div><p>Let's add more sprites to <a id="id601" class="indexterm"></a>our new <code class="literal">Game</code> atlas. We'll add these three types <a id="id602" class="indexterm"></a>of sprites:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">Simple</code>: A simple<a id="id603" class="indexterm"></a> image is displayed<a id="id604" class="indexterm"></a> onscreen, such as our play icon.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Sliced</code>: The image is sliced<a id="id605" class="indexterm"></a> in nine parts; the image is resizable without stretching corners.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Tiled</code>: The tiling pattern<a id="id606" class="indexterm"></a> is repeatable indefinitely.</p></li></ul></div><p>Let's start with <code class="literal">Simple</code> sprites.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec95"></a>Simple sprites</h3></div></div></div><p>It is time to add icons <a id="id607" class="indexterm"></a>for our <code class="literal">Options</code> and <code class="literal">Exit</code> buttons. They are simple sprites used as icons that look like this:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_09.jpg" /></div><p>Let's start by updating our <code class="literal">Game</code> atlas with these new sprites.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec57"></a>Updating the atlas</h4></div></div></div><p>Ok, add our new <a id="id608" class="indexterm"></a>sprites to our <code class="literal">Game</code> atlas by following these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Navigate to <span class="strong"><strong>NGUI</strong></span> | <span class="strong"><strong>Open</strong></span> | <span class="strong"><strong>Atlas Maker</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note34"></a>Note</h3><p>You can also open it with a right-click in the <span class="strong"><strong>Project</strong></span> view.</p></div></li><li><p>Make sure that our new <code class="literal">Game</code> atlas is selected, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_10.jpg" /></div></li></ol></div><p>Now, within the <span class="strong"><strong>Project</strong></span> view, select both our <code class="literal">Icon_Options</code> and <code class="literal">Icon_Exit</code> files located in <code class="literal">Assets/Resources/Textures</code>.</p><p>With our<a id="id609" class="indexterm"></a> texture files selected in the <span class="strong"><strong>Project</strong></span> view, you can see that the <span class="strong"><strong>Atlas Maker</strong></span> now has an <span class="strong"><strong>Add/Update</strong></span> button, as follows:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_11.jpg" /></div><p>Click on the <span class="strong"><strong>Add/Update </strong></span>button, and that's it—we've added the selected texture files to the <code class="literal">Game</code> atlas! Now that it's done, we can add them to the scene.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec58"></a>The options icon</h4></div></div></div><p>Similar to what we did with our <code class="literal">Play</code> button, we need to create a new sprite widget as a child of the <code class="literal">Options</code> button to hold this<a id="id610" class="indexterm"></a> new icon. Let's create it and<a id="id611" class="indexterm"></a> configure it now:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <code class="literal">UI Root</code> | <code class="literal">Main</code> | <code class="literal">Buttons</code> | <code class="literal">Options</code> GameObject.</p></li><li><p>Create a new sprite with <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>S</em></span>.</p></li><li><p>Rename the new <code class="literal">Sprite</code> GameObject to <code class="literal">Icon</code>.</p></li><li><p>Change its sprite to the <code class="literal">Icon_Options</code> sprite from our <code class="literal">Game</code> atlas.</p></li><li><p>Make sure <span class="strong"><strong>Size</strong></span> is set to 384 x 384 (you can use the <span class="strong"><strong>Snap</strong></span> button).</p></li><li><p>Change <span class="strong"><strong>Color Tint</strong></span> to {R: <code class="literal">255</code>, G: <code class="literal">255</code>, B: <code class="literal">180</code>, A: <code class="literal">255</code>}.</p></li></ol></div><p>Great. Now, the <span class="strong"><strong>Options</strong></span> button should look like this in the Game view:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_12.jpg" /></div><p>Ok. We can now do this for the <code class="literal">Exit</code> button's icon.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec59"></a>The exit icon</h4></div></div></div><p>Here, we also<a id="id612" class="indexterm"></a> need to create a child<a id="id613" class="indexterm"></a> sprite widget for the <code class="literal">Exit</code> button:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <code class="literal">UI Root</code> | <code class="literal">Main</code> | <code class="literal">Buttons</code> | <code class="literal">Exit</code> GameObject.</p></li><li><p>Create a new sprite with <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>S</em></span>.</p></li><li><p>Rename the new <code class="literal">Sprite</code> GameObject to <code class="literal">Icon</code>.</p></li><li><p>Change its sprite to the <code class="literal">Icon_Exit</code> sprite from our <code class="literal">Game</code> atlas.</p></li><li><p>Click its <code class="literal">UISprite</code> component's <span class="strong"><strong>Snap</strong></span> button to make sure <span class="strong"><strong>Size</strong></span> is set to <code class="literal">256 x 256</code>.</p></li><li><p>Change <span class="strong"><strong>Aspect</strong></span> to <span class="strong"><strong>BasedOnHeight</strong></span>.</p></li><li><p>Set <span class="strong"><strong>Height</strong></span> to <code class="literal">118</code>. The width will be automatically set to the same value.</p></li><li><p>Set <span class="strong"><strong>Transform</strong></span>'s position to {<code class="literal">-288</code>, <code class="literal">0</code>, <code class="literal">0</code>}.</p></li><li><p>Change <span class="strong"><strong>Color Tint</strong></span> to {R: <code class="literal">255</code>, G: <code class="literal">190</code>, B: <code class="literal">190</code>, A: <code class="literal">255</code>}.</p></li></ol></div><p>Let's duplicate this <a id="id614" class="indexterm"></a>
<code class="literal">Icon</code> and move it to the right-hand side<a id="id615" class="indexterm"></a> of the button:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Duplicate the <code class="literal">Icon</code> GameObject with <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span>.</p></li><li><p>Set <span class="strong"><strong>Transform</strong></span>'s position to {<code class="literal">288</code>, <code class="literal">0</code>, <code class="literal">0</code>}.</p></li><li><p>Change its <code class="literal">UISprite</code> component's <span class="strong"><strong>Flip</strong></span> to <span class="strong"><strong>Horizontally</strong></span>.</p></li></ol></div><p>Ok good. Your <span class="strong"><strong>Exit</strong></span> button should now look like this:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_13.jpg" /></div><p>Great. We have updated the atlas with new simple sprites, and we've added them to the scene. Now, let's see how to add and configure a <code class="literal">Sliced</code> sprite.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec96"></a>Sliced sprites</h3></div></div></div><p>We can now learn how to<a id="id616" class="indexterm"></a> add a <code class="literal">Sliced</code> sprite to our <code class="literal">Game</code> atlas. We'll <a id="id617" class="indexterm"></a>first add it to the <code class="literal">Game</code> atlas and then configure its slicing parameters.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec60"></a>Updating the Atlas</h4></div></div></div><p>Let's update the atlas <a id="id618" class="indexterm"></a>with two new sliced sprites:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open <span class="strong"><strong>Atlas Maker</strong></span> by accessing <span class="strong"><strong>NGUI</strong></span> | <span class="strong"><strong>Open</strong></span> | <span class="strong"><strong>Atlas Maker</strong></span>.</p></li><li><p>Within the <span class="strong"><strong>Project</strong></span> view, select both our <code class="literal">Assets/Resources/Textures/ Background_Window</code> and <code class="literal">Background_Button </code>texture files.</p></li><li><p>Click on the <span class="strong"><strong>Add/Update</strong></span> button in our <span class="strong"><strong>Atlas Maker</strong></span> window.</p></li></ol></div><p>Ok, good. We now have two new sprites in the <code class="literal">Game</code> atlas. Let's see how to configure their slicing parameters.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec61"></a>The button background</h4></div></div></div><p>We'll first change<a id="id619" class="indexterm"></a> our <code class="literal">Play</code> button's background to the <code class="literal">Background_Button</code> sprite<a id="id620" class="indexterm"></a> and see how it is displayed:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <code class="literal">UI Root</code> | <code class="literal">Main</code> | <code class="literal">Buttons</code> | <code class="literal">Play</code> GameObject.</p></li><li><p>Change its <code class="literal">UISprite </code>component's <span class="strong"><strong>Atlas</strong></span> to the <code class="literal">Game</code> atlas.</p></li><li><p>Change the <span class="strong"><strong>Sprite</strong></span> to our new <span class="strong"><strong>Background_Button</strong></span> sprite.</p></li></ol></div><p>Let's see. Even with the <code class="literal">UISprite</code> component's <span class="strong"><strong>Type</strong></span> set to <span class="strong"><strong>Sliced</strong></span>, our button's background is stretched, as if it was a <code class="literal">Simple</code> sprite, and it doesn't look good:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_14.jpg" /></div><p>That's because the sprite's slicing parameters aren't set up. Let's correct this now. Select our <span class="strong"><strong>Play</strong></span> button, and click on the <span class="strong"><strong>Edit</strong></span> button (<span class="strong"><strong>1</strong></span>) next to the <span class="strong"><strong>Sprite</strong></span> field:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_15.jpg" /></div><p>In the <span class="strong"><strong>Inspector</strong></span> view, we now have the sprite's parameters displayed.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch05lvl4sec11"></a>Sprite parameters</h5></div></div></div><p>The <span class="strong"><strong>Inspector</strong></span> view now<a id="id621" class="indexterm"></a> shows these sprite <a id="id622" class="indexterm"></a>parameters:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_16.jpg" /></div><p>Before we change anything, let's see what these<a id="id623" class="indexterm"></a> parameters are:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>
<span class="strong"><strong>Atlas Type</strong></span>: Select here the atlas type.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">Normal</code>: This acts simply as an atlas—default value.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Reference</code>: A reference atlas points to another atlas and can thus be replaced by another one during runtime.</p></li></ul></div></li><li><p>
<span class="strong"><strong>Material</strong></span>: Drag here<a id="id624" class="indexterm"></a> the material you want to use to render the assets.</p></li><li><p>
<span class="strong"><strong>TP Import</strong></span>: This is useful if you use an external program to create your atlas, such as <a id="id625" class="indexterm"></a>
<span class="strong"><strong>Texture Packer</strong></span>. Drag-and-drop the <code class="literal">.txt</code> file that contains your sprite list here, and all your sprites will be automatically added for you.</p></li><li><p>
<span class="strong"><strong>Pixel Size</strong></span>: A multiplier is applied to widget dimensions when <code class="literal">MakePixelPerfect()</code> is executed. For example, with a <code class="literal">Pixel Size</code> of 0.5, a 512 x 512 sprite would take a space of 256 x 256.</p></li><li><p>
<span class="strong"><strong>Sprite Details</strong></span>: This lets you specify parameters for the currently selected sprite.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">Dimensions</code>: This is the sprite's position and size within the atlas.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Border</code>: This is used for nine-sliced sprites. This defines where the parts are that should not be scaled up or down, or only in one direction.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Padding</code>: This is the pixel offset for each side. This is used to adjust the pivot.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Duplicate</code>: This creates a copy of the sprite in the atlas.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Save As…</code>: This extracts the current sprite and saves it as a <code class="literal">.png</code> file.</p></li></ul></div></li><li><p>
<span class="strong"><strong>Modify</strong></span>: Here, you can directly add effects to the sprite itself.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">Background</code>: This is the background color for the available effects.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Effects</code> <code class="literal">buttons</code>: These buttons allow you to add effects to the sprite, such as a shadow, border or outline. These effects will use the <code class="literal">Background</code> color. Since these effects cannot be undone, I recommend that you <code class="literal">Duplicate</code> your sprite beforehand.</p></li></ul></div></li><li><p>
<span class="strong"><strong>Return to Play</strong></span>: This button lets you go back to the object you were working on before accessing this sprite parameter display. In this case, clicking on it will return to our <code class="literal">Play</code> button.</p></li></ol></div><p>Ok, now that we've seen what the <a id="id626" class="indexterm"></a>sprite's parameters are, let's configure them to have a nice nine-sliced sprite.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch05lvl4sec12"></a>Nine-sliced configuration</h5></div></div></div><p>The parameter we need to<a id="id627" class="indexterm"></a> tweak for a nine-sliced sprite is <span class="strong"><strong>Border</strong></span>. Set all four <span class="strong"><strong>Border</strong></span> parameters <span class="strong"><strong>Left</strong></span>, <span class="strong"><strong>Right</strong></span>, <span class="strong"><strong>Bottom</strong></span> and <span class="strong"><strong>Top</strong></span> to a value of <code class="literal">10</code>, as follows:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_17.jpg" /></div><p>As you might see in the screenshot, the Preview window now displays dotted lines representing the slicing at 10 pixels from each side. Our <code class="literal">Play</code> button now looks better:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_18.jpg" /></div><p>We can now change the background for all other buttons in the scene:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In the hierarchy <a id="id628" class="indexterm"></a>search bar, type <code class="literal">t:uibutton</code> to display all <code class="literal">UIButtons</code>.</p></li><li><p>Select all GameObjects resulting from the search except <code class="literal">Checkbox</code>.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> view, click on the <span class="strong"><strong>Atlas</strong></span> button of their attached <code class="literal">UISprite</code> component and select our <code class="literal">Game</code> atlas.</p></li><li><p>Click on the <span class="strong"><strong>Sprite</strong></span> button to show the sprite selection window.</p></li><li><p>Double-click on our <span class="strong"><strong>Background_Button</strong></span> sprite to assign it.</p></li></ol></div><p>We'll also assign our new sprite to the sound checkbox and nickname the input background:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select <code class="literal">UI Root</code> | <code class="literal">Options</code> | <code class="literal">Sound</code> | <code class="literal">Checkbox</code> | <code class="literal">Background</code>.</p></li><li><p>By holding <span class="emphasis"><em>Ctrl</em></span>, click on <code class="literal">Options</code> | <code class="literal">Nickname</code> | <code class="literal">Input</code> to add to the selection.</p></li><li><p>Change their <code class="literal">UISprite</code> component's <span class="strong"><strong>Atlas</strong></span> to the <span class="strong"><strong>Game</strong></span> atlas.</p></li><li><p>Change <span class="strong"><strong>Sprite</strong></span> to our <span class="strong"><strong>Background_Button</strong></span> sprite.</p></li></ol></div><p>That's it—all our buttons now use our new <code class="literal">Background_Button</code> sprite and have the same appearance. Ok, now let's see how we can add tiled sprites.</p></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec97"></a>Tiled sprites</h3></div></div></div><p>Tiled sprites are like patterns that <a id="id629" class="indexterm"></a>can be repeated indefinitely. They can be useful to imitate different materials, such as wood, for example. First, we'll add the<a id="id630" class="indexterm"></a> texture file to the atlas, and then we'll assign it to widgets in the scene.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec62"></a>Updating the atlas</h4></div></div></div><p>We'll use an overlay texture<a id="id631" class="indexterm"></a> to give a wooden feel to our main menu's background. Perform the following steps to get a wooden feel to the background:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open <span class="strong"><strong>Atlas Maker</strong></span> by navigating to <span class="strong"><strong>NGUI</strong></span> | <span class="strong"><strong>Open</strong></span> | <span class="strong"><strong>Atlas Maker</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Project</strong></span> view, select <code class="literal">Assets/Resources/Textures/Overlay_Wood</code>.</p></li><li><p>Click the <span class="strong"><strong>Add/Update</strong></span> button from <span class="strong"><strong>Atlas Maker</strong></span>.</p></li></ol></div><p>Ok. We've added our new tiled sprite to the <code class="literal">Game</code> atlas. We can now move on to use it in the scene and add a wooden effect to our main windows.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec63"></a>Wood texture</h4></div></div></div><p>Let's use the tiling texture<a id="id632" class="indexterm"></a> we've just added to create a wooden feel:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <code class="literal">UI Root</code> | <code class="literal">Main</code> | <code class="literal">Background </code>| <code class="literal">Stripes</code> GameObject.</p></li><li><p>Rename it to <code class="literal">Wood</code>.</p></li><li><p>Change its <code class="literal">UISprite</code> component's <span class="strong"><strong>Atlas</strong></span> to the <code class="literal">Game</code> atlas.</p></li><li><p>Change <span class="strong"><strong>Sprite</strong></span> to our <span class="strong"><strong>Overlay_Wood</strong></span> sprite.</p></li><li><p>Make sure <span class="strong"><strong>Depth</strong></span> is set to <code class="literal">-4</code>.</p></li><li><p>Set <span class="strong"><strong>Color Tint</strong></span> to {R: <code class="literal">255</code>, G: <code class="literal">190</code>, B: <code class="literal">150</code>, A: <code class="literal">210</code>}.</p></li></ol></div><p>That's it, we now have a<a id="id633" class="indexterm"></a> wooden overlay texture for our main menu, as follows:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_19.jpg" /></div><p>Good. Now, we'll apply this new look to the <code class="literal">Options</code> page background too, using the copy and paste component values:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <code class="literal">UI Root</code> | <code class="literal">Main</code> | <code class="literal">Background</code> | <code class="literal">Wood</code> GameObject.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Right-click on its attached <code class="literal">UISprite</code> component (on its name)</p></li><li style="list-style-type: disc"><p>Left- or right-click on the <span class="strong"><strong>Copy Component</strong></span> option</p></li></ul></div></li><li><p>Select the <code class="literal">UI Root</code> | <code class="literal">Options</code> | <code class="literal">Background</code> | <code class="literal">Stripes</code> GameObject.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Rename it to <code class="literal">Wood</code>
</p></li><li style="list-style-type: disc"><p>Right-click on its attached <code class="literal">UISprite</code> component (on its name)</p></li><li style="list-style-type: disc"><p>Left- or right-click on the <span class="strong"><strong>Paste Component Values</strong></span> option</p></li></ul></div></li></ol></div><p>The <span class="strong"><strong>Paste Component Values</strong></span> option also pasted the <span class="strong"><strong>Anchors</strong></span>, which means that our <code class="literal">Options</code> page background is <a id="id634" class="indexterm"></a>anchored to the main menu background. We can correct this now:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <code class="literal">UI Root</code> | <code class="literal">Options</code> | <code class="literal">Background</code> | <code class="literal">Wood</code> GameObject.</p></li><li><p>Drag <code class="literal">UI Root</code> | <code class="literal">Options</code> | <code class="literal">Background</code> in the <span class="strong"><strong>Anchors</strong></span>' <span class="strong"><strong>Target</strong></span> field.</p></li></ol></div><p>You might notice a small black line each time the sprite is repeated, creating a (slightly) visible black grid in our background; if we want this to disappear, we need to set a <span class="strong"><strong>Border</strong></span> of 1 for each side of tiled sprites:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <code class="literal">UI Root</code> | <code class="literal">Main</code> | <code class="literal">Background</code> | <code class="literal">Wood</code> GameObject.</p></li><li><p>Click on the <span class="strong"><strong>Edit</strong></span> button next to its attached <code class="literal">UISprite</code> component's <span class="strong"><strong>Sprite</strong></span> field.</p></li><li><p>Set all four <span class="strong"><strong>Border</strong></span> parameters to <code class="literal">1</code>.</p></li></ol></div><p>That's it; the wood texture now tiles perfectly! Now that we've seen how to add simple, sliced, and tiled sprites to the atlas, it's time to talk about fonts.</p></div></div></div>