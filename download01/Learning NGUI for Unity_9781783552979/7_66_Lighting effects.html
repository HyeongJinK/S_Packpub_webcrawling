<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec66"></a>Lighting effects</h2></div></div><hr /></div><p>Now, let's see<a id="id825" class="indexterm"></a> how we can add 3D lighting effects to our pause menu so that it looks like this:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_07_11.jpg" /></div><p>In order to have refraction effects on widgets, you need to have a normal map for your atlas. A default refractive atlas with normal maps is available with NGUI:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In your Project view, type <code class="literal">refract</code> in the search bar.</p></li><li><p>Select the <span class="strong"><strong>Refractive Atlas</strong></span> material.</p></li></ol></div><p>In the inspector, you can see that the <span class="strong"><strong>Refractive Atlas</strong></span> material has both <span class="strong"><strong>Normal</strong></span> and <span class="strong"><strong>Specular</strong></span> maps, in addition to the <span class="strong"><strong>Base</strong></span> texture containing the sprites:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_07_12.jpg" /></div><p>We can now use<a id="id826" class="indexterm"></a> this refractive atlas to make sure our level name on the ground reacts to lights present on the scene. We'll need to change the sprites from <code class="literal">Wooden Atlas</code> to <code class="literal">Refractive Atlas</code>:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Ground</code> | <code class="literal">LevelName</code> | <code class="literal">Background</code> GameObject:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Click on the <span class="strong"><strong>UISprite Atlas</strong></span> button.</p></li><li style="list-style-type: disc"><p>Click on the <span class="strong"><strong>Show All</strong></span> button to display all atlases.</p></li><li style="list-style-type: disc"><p>Select <span class="strong"><strong>Refractive Atlas</strong></span>.</p></li><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Sprite</strong></span> to the <span class="strong"><strong>Dark</strong></span> sprite.</p></li></ul></div></li></ol></div><p>Ok! We can now do the same for the label and border so that they become refractive:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Ground</code> | <code class="literal">LevelName</code> | <code class="literal">Border</code> GameObject:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Atlas</strong></span> to the <span class="strong"><strong>Refractive</strong></span> Atlas.</p></li><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Sprite</strong></span> to the <span class="strong"><strong>Highlight</strong></span> sprite.</p></li></ul></div></li><li><p>Select our <code class="literal">Ground</code> | <code class="literal">LevelName</code> | <code class="literal">Label</code> GameObject.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Set the font type to <span class="strong"><strong>NGUI</strong></span>.</p></li><li style="list-style-type: disc"><p>Click on the <span class="strong"><strong>Font</strong></span> button.</p></li><li style="list-style-type: disc"><p>Click on the <span class="strong"><strong>Show All</strong></span> button to display all fonts.</p></li><li style="list-style-type: disc"><p>Select <span class="strong"><strong>Refractive Font - Header</strong></span>.</p></li></ul></div></li></ol></div><p>You will notice<a id="id827" class="indexterm"></a> that our level name is no longer displayed correctly, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_07_13.jpg" /></div><p>This problem is due to two reasons:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <code class="literal">LevelName</code>'s <code class="literal">Tranform</code>  <code class="literal">Y</code> position is currently at 0, which means it's overlapped by the ground's mesh. We must move it above the ground.</p></li><li style="list-style-type: disc"><p>The attached <code class="literal">UIPanel</code> of <code class="literal">LevelName</code> does not have normals enabled. This option is needed for the refractive shader to work properly.</p></li></ul></div><p>We can correct these two issues by executing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Ground</code> | <code class="literal">LevelName</code> GameObject.</p></li><li><p>Check the <span class="strong"><strong>Normals</strong></span> option in the attached <code class="literal">UIPanel</code>.</p></li><li><p>Change the <span class="strong"><strong>Transform</strong></span> position to {0, 0.05, -3.8}.</p></li></ol></div><p>That's it! Hit Unity's play button. When you drag the power sources next to the level name widget, it reacts to its light source and also works with the player!</p><p>Now that we have seen how to create 3D widgets and nice lighting effects, let's summarize what we worked on in the course of this chapter.</p></div>