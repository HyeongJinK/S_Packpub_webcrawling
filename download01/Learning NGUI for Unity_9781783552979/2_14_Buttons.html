<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec19"></a>Buttons</h2></div></div><hr /></div><p>Let's fill up this main <a id="id169" class="indexterm"></a>menu with three buttons: Play, Options, and Exit. First, let's create <a id="id170" class="indexterm"></a>an empty GameObject that will hold the three buttons:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Main</code> GameObject in the <span class="strong"><strong>Hierarchy</strong></span> view.</p></li><li><p>Create a new empty child by pressing <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>N</em></span>.</p></li><li><p>Rename the new child to <code class="literal">Buttons</code>.</p></li></ol></div><p>Ok. We can now create our first button.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec29"></a>Creating a button</h3></div></div></div><p>Drag <span class="strong"><strong>Simple Button</strong></span> (<span class="strong"><strong>1</strong></span>) from <a id="id171" class="indexterm"></a>our Prefab Toolbar inside our <code class="literal">Buttons</code> GameObject in the <span class="strong"><strong>Hierarchy</strong></span> view, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_06.jpg" /></div><p>A new button <a id="id172" class="indexterm"></a>appears in the <span class="strong"><strong>Game</strong></span> view, as follows:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_07.jpg" /></div><p>Select <code class="literal">UI Root</code> | <code class="literal">Buttons</code> | <code class="literal">Control – Simple Button</code>. Your <span class="strong"><strong>Hierarchy</strong></span> view should look like this:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_08.jpg" /></div><p>As shown in the preceding screenshot, our new button is composed of two GameObjects:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Control – Simple Button</strong></span> (<span class="strong"><strong>1</strong></span>): The main object, with these components attached:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>UISprite</strong></span>: This renders the button's sprite, set to the <code class="literal">Button</code> sprite</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>UIButton</strong></span>: This handles different button states, colors, and events</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Box Collider</strong></span>: This is required to detect mouse and touch interactions</p></li></ul></div></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Label</strong></span> (<span class="strong"><strong>2</strong></span>): This is the GameObject with <code class="literal">UILabel</code> to display the button's text</p></li></ul></div><p>That's how NGUI widgets work; they are composed of one or more GameObjects, each of them with different <a id="id173" class="indexterm"></a>components attached. If you want to, you can build a button from scratch using the same components on empty GameObjects. There is no button widget; it's an assembly of basic elements.</p><p>Click on Unity's <span class="strong"><strong>play</strong></span> button. You can see that the hover and the press states already work!</p><p>Interactive widgets have a <span class="strong"><strong>Box Collider</strong></span> component attached to them, and that is the case with this button. The collider is used to detect collisions with the cursor. They need to be within both the camera's bounding box and the far and near limits.</p><p>Now that we have our first button, we can see what its parameters are.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note17"></a>Note</h3><p>Since <code class="literal">Box</code> <code class="literal">Collider</code> is attached to the button, the <code class="literal">UISprite</code> component has a new checkbox parameter: <span class="strong"><strong>Collider auto-adjust to match</strong></span>. It lets you choose if you want the collider resized automatically, depending on the sprite's <span class="strong"><strong>Size</strong></span> parameter. Leave this option activated for now.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec30"></a>The UIButton parameters</h3></div></div></div><p>A button has<a id="id174" class="indexterm"></a> four different states:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Normal</strong></span>: This is<a id="id175" class="indexterm"></a> the button's default state</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Hover</strong></span>: This is the state<a id="id176" class="indexterm"></a> when the mouse is over the button</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Pressed</strong></span>: This is<a id="id177" class="indexterm"></a> the state while the button is pressed</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Disabled</strong></span>: This<a id="id178" class="indexterm"></a> is the state in which the button is non-interactive</p></li></ul></div><p>The <span class="strong"><strong>UIButton</strong></span> component lets you configure colors and transitions between these states using the six parameters flagged in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_09.jpg" /></div><p>The parameters are<a id="id179" class="indexterm"></a> as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>
<span class="strong"><strong>Tween Target</strong></span>: Drag the<a id="id180" class="indexterm"></a> widget you want to be colored on state change here. By default, this field is set to the button itself: it changes the sprite color.</p></li><li><p>
<span class="strong"><strong>Drag Over:</strong></span> This<a id="id181" class="indexterm"></a> defines what happens if the player drags another of his widgets over this button:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">Do Nothing</code>: Nothing happens</p></li><li style="list-style-type: disc"><p>
<code class="literal">Press</code>: This button is pressed when a widget is dragged over it</p></li></ul></div></li><li><p>
<span class="strong"><strong>Transition</strong></span>: This is<a id="id182" class="indexterm"></a> the color tween's duration from one state to another.</p></li><li><p>
<span class="strong"><strong>Colors</strong></span>: Select an alpha-enabled <a id="id183" class="indexterm"></a>color for each state:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Normal</strong></span>: This is the color tint when nothing is happening</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Hover</strong></span>: This is the color tint when the user's cursor is over the button</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Pressed</strong></span>: This is the color tint when the user clicks on the button</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Disabled</strong></span>: This is the color tint when the button is disabled (it can't be clicked)</p></li></ul></div></li><li><p>
<span class="strong"><strong>Sprites</strong></span>: Define here which<a id="id184" class="indexterm"></a> sprite should be displayed for each state:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Normal</strong></span>: This is the sprite used when nothing is happening</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Hover</strong></span>: This is the sprite displayed when the cursor is over the button</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Pressed</strong></span>: This is the sprite displayed when the user clicks on the button</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Disabled</strong></span>: This is the sprite displayed when the button is disabled (it can't be clicked)</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Pixel Snap</strong></span>: If you use a <code class="literal">Normal</code> sprite (an icon, for example) with this option enabled, it will always be displayed at its original file size, making it pixel-perfect</p></li></ul></div></li><li><p>
<span class="strong"><strong>On Click</strong></span>: This is the<a id="id185" class="indexterm"></a> parameter that lets you choose a method to call when the button is clicked. You must first drag a GameObject into the <span class="strong"><strong>Notify</strong></span> (<span class="strong"><strong>1</strong></span>) field, as seen in the following screenshot. A <span class="strong"><strong>Method</strong></span> (<span class="strong"><strong>2</strong></span>) field will then appear, listing the GameObject's attached scripts' public methods (<span class="strong"><strong>3</strong></span>):</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_10.jpg" /></div></li></ol></div><p>Ok, now that we have seen the button's parameters, let's transform it into a <code class="literal">Play</code> button.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note18"></a>Note</h3><p>The <span class="strong"><strong>Control - Colored Button</strong></span> in the Prefab Toolbar is simply a button with different sprites for normal and hover states.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec31"></a>The Play button</h3></div></div></div><p>Let's turn our simple button<a id="id186" class="indexterm"></a> into a large <code class="literal">Play</code> button. Select our <code class="literal">Control – Simple Button</code>, and rename it <code class="literal">Play</code>. With our <code class="literal">Play</code> button selected, follow<a id="id187" class="indexterm"></a> these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>For the attached <code class="literal">UISprite</code> component:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Size</strong></span> to 700 x 500</p></li></ul></div></li><li><p>For its attached <code class="literal">UIButton</code> component:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Change the <span class="strong"><strong>Normal</strong></span> sprite to <span class="strong"><strong>Highlight – Thin</strong></span>
</p></li><li style="list-style-type: disc"><p>Change the <span class="strong"><strong>Normal</strong></span> color to <code class="literal">{R: 180, G: 255, B: 120, A: 255}</code>
</p></li><li style="list-style-type: disc"><p>Change the <span class="strong"><strong>Hover</strong></span> color to <code class="literal">{R: 100, G: 255, B: 130, A: 255}</code>
</p></li><li style="list-style-type: disc"><p>Change the <span class="strong"><strong>Pressed</strong></span> color to <code class="literal">{R: 0, G: 0, B: 0, A: 255}</code>
</p></li></ul></div></li><li><p>Finally, set <span class="strong"><strong>Transform</strong></span> position to <code class="literal">{-400, 50, 0}</code>.</p></li></ol></div><p>Ok. Now, let's customize the button's label:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">UI Root</code> | <code class="literal">Main</code> | <code class="literal">Buttons</code> | <code class="literal">Play</code> | <code class="literal">Label</code> child GameObject:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Font</strong></span> to <span class="strong"><strong>Coalition</strong></span>
</p></li><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Font Size</strong></span> to <code class="literal">40</code>
</p></li><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Text</strong></span> to <code class="literal">Play</code>
</p></li><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Color Tint</strong></span> to <code class="literal">{R: 130, G: 255, B: 130, A: 255}</code>
</p></li></ul></div></li></ol></div><p>Great, our <code class="literal">Play</code> button<a id="id188" class="indexterm"></a> looks better! It should look like this with a green color tint:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_11.jpg" /></div><p>Hit Unity's <span class="strong"><strong>play</strong></span> button. You can see that the sprite's color changes depending on its state. Now, let's create the <code class="literal">Options</code> button.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec32"></a>The Options button</h3></div></div></div><p>In order to rapidly<a id="id189" class="indexterm"></a> create an <code class="literal">Options</code> button, we can simply duplicate<a id="id190" class="indexterm"></a> our <code class="literal">Play</code> button:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Play</code> GameObject and duplicate it by pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span>:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Rename this new duplicate to <code class="literal">Options</code>
</p></li><li style="list-style-type: disc"><p>Set its <span class="strong"><strong>Transform</strong></span> position to <code class="literal">{400, 50, 0}</code>
</p></li></ul></div></li><li><p>For its attached <code class="literal">UIButton</code> component:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Change the <span class="strong"><strong>Normal</strong></span> color to <code class="literal">{R: 250, G: 255, B: 165, A: 255}</code>
</p></li><li style="list-style-type: disc"><p>Change the <span class="strong"><strong>Hover</strong></span> color to <code class="literal">{R: 220, G: 255, B: 50, A: 255}</code>
</p></li></ul></div></li></ol></div><p>Ok. For now our button's label is still green and displays <span class="strong"><strong>Play</strong></span>. Let's change this:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Option</code>s | <code class="literal">Label</code> child GameObject:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Text</strong></span> to <code class="literal">Options</code>
</p></li><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Color Tint</strong></span> to <code class="literal">{R: 255, G: 255, B: 155, A: 255}</code>
</p></li></ul></div></li></ol></div><p>Ok. Both our <a id="id191" class="indexterm"></a>
<span class="strong"><strong>Options</strong></span> and <span class="strong"><strong>Play</strong></span> buttons are created. You should now have a second large, yellow button next to your <span class="strong"><strong>Play</strong></span> button, like this:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_12.jpg" /></div><p>Now, let's create an <code class="literal">Exit</code> button.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec33"></a>The Exit button</h3></div></div></div><p>We will also duplicate our <a id="id192" class="indexterm"></a>
<code class="literal">Options</code> button to easily create a red <code class="literal">Exit</code>
<a id="id193" class="indexterm"></a> button:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Buttons</code> | <code class="literal">Options</code> GameObject and duplicate it by pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span>:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Rename this new duplicate to <code class="literal">Exit</code>
</p></li><li style="list-style-type: disc"><p>Set its <span class="strong"><strong>Transform</strong></span> position to <code class="literal">{0, -320, 0}</code>
</p></li></ul></div></li><li><p>For its attached <code class="literal">UISprite</code> component:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Size</strong></span> to 700 x 130</p></li></ul></div></li><li><p>For its attached <code class="literal">UIButton</code> component:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Change the <span class="strong"><strong>Normal</strong></span> color to <code class="literal">{R: 255, G: 115, B: 115, A: 255}</code>
</p></li><li style="list-style-type: disc"><p>Change the <span class="strong"><strong>Hover</strong></span> color to <code class="literal">{R: 255, G: 65, B: 65, A: 255}</code>
</p></li></ul></div></li></ol></div><p>Ok. We can now <a id="id194" class="indexterm"></a>change our button's label to display <code class="literal">Exit</code> in red:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Label</code> child GameObject of <code class="literal">Exit</code>:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Text</strong></span> to <code class="literal">Exit</code>
</p></li><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Color Tint</strong></span> to <code class="literal">{R: 255, G: 180, B: 180, A: 255}</code>
</p></li></ul></div></li></ol></div><p>All three buttons are created and configured. Your <span class="strong"><strong>Game</strong></span> view should look like this:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_02_13.jpg" /></div><p>Before we continue creating more complex widgets, let's create our <code class="literal">Options</code> window.</p></div></div>