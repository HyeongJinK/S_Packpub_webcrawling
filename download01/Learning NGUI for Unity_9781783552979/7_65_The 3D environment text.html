<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec65"></a>The 3D environment text</h2></div></div><hr /></div><p>We can also <a id="id821" class="indexterm"></a>add 3D widgets directly within the environment, as shown:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_07_08.jpg" /></div><p>In order achieve this, we must create an empty GameObject as a child of the <code class="literal">Ground</code> GameObject, which has the <code class="literal">UIPanel</code> component attached to it for widget rendering.</p><p>After this, we<a id="id822" class="indexterm"></a> can create our widget, place it at the desired location, and make sure it lies in the default environment camera layer instead of the usual UI layer.</p><p>Let's try it now:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Ground</code> GameObject.</p></li><li><p>Create a new empty child GameObject pressing <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>N</em></span> and select it:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Rename this new child to <code class="literal">LevelName</code>.</p></li><li style="list-style-type: disc"><p>Set its <span class="strong"><strong>Transform</strong></span> position to {0, 0, -3.8}.</p></li></ul></div></li><li><p>Click on the <span class="strong"><strong>Add Component</strong></span> button in the inspector.</p></li><li><p>Type in <code class="literal">panel</code> to search for components with this name.</p></li><li><p>Select <span class="strong"><strong>NGUI Panel</strong></span> and hit <span class="emphasis"><em>Enter</em></span>.</p></li><li><p>Create a new child sprite by pressing <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>S</em></span>.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Rename this new sprite to <code class="literal">Background</code>.</p></li><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Atlas</strong></span> to <span class="strong"><strong>Wooden Atlas</strong></span>.</p></li><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Sprite</strong></span> to the <span class="strong"><strong>Flat</strong></span> sprite.</p></li><li style="list-style-type: disc"><p>Make sure <span class="strong"><strong>Type</strong></span> is set to <span class="strong"><strong>Sliced</strong></span>.</p></li><li style="list-style-type: disc"><p>Set <span class="strong"><strong>Size</strong></span> to 360 x 100.</p></li></ul></div></li></ol></div><p>As you can see in the following screenshot of the <span class="strong"><strong>Scene</strong></span> view, our 360 x 100 sprite is gigantic!</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_07_09.jpg" /></div><p>The large size of our sprite is simply due to the fact that the widget's scaling is handled by the <code class="literal">UI Root</code> component and our <code class="literal">Ground</code> does not have <code class="literal">UI Root</code>.</p><p>Instead of<a id="id823" class="indexterm"></a> increasing the number of UI roots in our scene, we can simply set the <code class="literal">LevelName</code> container's scale to a very small value; our widgets will then be displayed at a manageable size. Their <code class="literal">Size</code> values won't be pixel perfect, but that's not a problem here since we are simply displaying widgets in the 3D environment:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Ground</code> | <code class="literal">LevelName</code> GameObject.</p></li><li><p>Set the <span class="strong"><strong>Transform</strong></span> scale to {0.005, 0.005, 1}.</p></li><li><p>Change the <span class="strong"><strong>Transform</strong></span> rotation to {90, 0, 0}.</p></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note42"></a>Note</h3><p>The Z scale can be ignored and left to 1 because it doesn't have any effect on NGUI widgets.</p></div><p>Ok, you should now have a reasonably-sized <code class="literal">Background</code> sprite in the <span class="strong"><strong>Game</strong></span> view, with a rotation, as if it were painted on the ground:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_07_10.jpg" /></div><p>Good! We can now <a id="id824" class="indexterm"></a>add a border sprite and a label to display the level's name:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Ground</code> | <code class="literal">LevelName</code> GameObject.</p></li><li><p>Create a new label by pressing <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift </em></span>+ <span class="emphasis"><em>L</em></span>. For this new label:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Set the font type to <span class="strong"><strong>Unity</strong></span>, with the <span class="strong"><strong>Arial</strong></span> font to size 50.</p></li><li style="list-style-type: disc"><p>Change the <span class="strong"><strong>Text</strong></span> value to <code class="literal">Carhel Castle</code>.</p></li><li style="list-style-type: disc"><p>Change its <span class="strong"><strong>Overflow</strong></span> to <span class="strong"><strong>ResizeFreely</strong></span>.</p></li><li style="list-style-type: disc"><p>Set a black <span class="strong"><strong>Outline</strong></span> effect with the values of <span class="strong"><strong>X</strong></span> and <span class="strong"><strong>Y</strong></span> as 1.</p></li><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Color Tint</strong></span> to {R: 255, G: 220, B: 170, A: 255}.</p></li></ul></div></li><li><p>Select our <code class="literal">Ground</code> | <code class="literal">LevelName</code> | <code class="literal">Background</code> GameObject:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Color Tint</strong></span> to {R: 40, G: 20, B: 0, A: 200}.</p></li><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Anchor Type</strong></span> to <span class="strong"><strong>Unified</strong></span>.</p></li><li style="list-style-type: disc"><p>Drag our <code class="literal">Ground</code> | <code class="literal">LevelName</code> | <code class="literal">Label</code> in the <span class="strong"><strong>Target</strong></span> field.</p></li></ul></div></li><li><p>Duplicate our <code class="literal">Background</code> sprite pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span>.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Rename this new duplicate to <code class="literal">Border</code>.</p></li><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Depth</strong></span> to 1.</p></li><li style="list-style-type: disc"><p>Uncheck the <span class="strong"><strong>Fill Center</strong></span> option.</p></li><li style="list-style-type: disc"><p>Change <span class="strong"><strong>Color Tint</strong></span> to {R: 255, G: 200, B: 40, A: 255}.</p></li></ul></div></li></ol></div><p>Ok, great! We now have the level's name displayed in the 3D world, and the background and borders will adjust to always wrap the label. We can now move on to the lighting effects!</p></div>