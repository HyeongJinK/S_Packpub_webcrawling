<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec50"></a>Creating a new atlas</h2></div></div><hr /></div><p>Let's create our own atlas to <a id="id583" class="indexterm"></a>hold our new sprites and fonts. In order to do this, we will use the <span class="strong"><strong>Atlas Maker</strong></span> wizard.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec92"></a>Atlas maker</h3></div></div></div><p>First, we can <a id="id584" class="indexterm"></a>open <span class="strong"><strong>Atlas</strong></span>
<a id="id585" class="indexterm"></a>
<span class="strong"><strong> Maker</strong></span>:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Navigate to <span class="strong"><strong>NGUI</strong></span> | <span class="strong"><strong>Open</strong></span> | <span class="strong"><strong>Atlas Maker</strong></span>, as follows:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_01.jpg" /></div></li><li><p>The<a id="id586" class="indexterm"></a> following <a id="id587" class="indexterm"></a>window appears:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_02.jpg" /></div></li></ol></div><p>The preceding <span class="strong"><strong>Atlas Maker</strong></span> window<a id="id588" class="indexterm"></a> has the following parameters:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>
<span class="strong"><strong>Atlas</strong></span>: This is the currently selected atlas prefab. Click on this button to select the atlas you want to view and edit.</p></li><li><p>
<span class="strong"><strong>Edit</strong></span>: This button is only <a id="id589" class="indexterm"></a>displayed if the atlas is not selected in the <span class="strong"><strong>Project</strong></span> view. Clicking on this button will automatically select the atlas prefab and display its parameters in the <span class="strong"><strong>Inspector</strong></span> view.</p></li><li><p>
<span class="strong"><strong>New</strong></span>: This button deselects the current atlas prefab, resets parameters, and displays a new <code class="literal">Create</code> button. We'll use that to create a new atlas.</p></li><li><p>
<span class="strong"><strong>Material</strong></span>: By clicking on this button, the material used to draw all elements using this atlas will be selected. You will then be able to edit its parameters in the <span class="strong"><strong>Inspector</strong></span> view. Usually, an unlit shader does the trick. The default one is <code class="literal">Unlit â€“ Transparent Colored</code>.</p></li><li><p>
<span class="strong"><strong>Texture</strong></span>: Click on this button to select the atlas's texture and display its import parameters in the <span class="strong"><strong>Inspector</strong></span> view.</p></li><li><p>
<span class="strong"><strong>Padding</strong></span>: Enter here the distance in pixels that separates each sprite.</p></li><li><p>
<span class="strong"><strong>Trim Alpha</strong></span>: With this option checked, sprites that contain transparent pixels will be cropped to use less space.</p></li><li><p>
<span class="strong"><strong>Unity Packer</strong></span>: With<a id="id590" class="indexterm"></a> this option checked, the atlas will be handled using Unity's default <span class="strong"><strong>Texture Packer</strong></span>. Uncheck this option if you use an external <span class="strong"><strong>Texture Packer</strong></span>.</p></li><li><p>
<span class="strong"><strong>Truecolor</strong></span>: This forces <code class="literal">ARGB32</code> textures for both good quality and color fidelity.</p></li><li><p>
<span class="strong"><strong>View Sprites</strong></span>: Click on this button to show all the sprites in a separate window. From this sprite preview window, you can select any sprite by double-clicking on it. It will then display its parameters in the <span class="strong"><strong>Inspector</strong></span> view.</p></li><li><p>
<span class="strong"><strong>Sprites</strong></span>: This list represents all sprites contained within the atlas. You can select any sprite by clicking on it and delete it by clicking on its corresponding <span class="strong"><strong>X</strong></span> button.</p></li></ol></div><p>Now that we've seen <code class="literal">Atlas Maker</code>, let's use it to create our own atlas.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec93"></a>New atlas</h3></div></div></div><p>We will now create our new <code class="literal">Game</code> atlas, which will hold our custom sprites and fonts for our future game. We will still use some assets from the default <code class="literal">Wooden Atlas</code> in order to see how we can use <a id="id591" class="indexterm"></a>multiple atlases within the same scene. In order to create a new atlas, we need sprites to fill it up with.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec55"></a>Necessary assets</h4></div></div></div><p>You can <a id="id592" class="indexterm"></a>download the <code class="literal">Assets.zip</code> file from <a class="ulink" href="http://goo.gl/zbspHe" target="_blank">http://goo.gl/zbspHe</a></p><p>Once the aforementioned<a id="id593" class="indexterm"></a> file has finished downloading, extract its content directly in your project's folder. You will now have all the necessary assets for the book added to the <code class="literal">*YourProject*/Assets/Resources/Textures</code> and <code class="literal">Fonts</code> folders.</p><p>Ok, now that we have the necessary assets, let's create a new atlas.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec56"></a>The Game atlas</h4></div></div></div><p>First, if you <a id="id594" class="indexterm"></a>have an atlas currently selected in the <span class="strong"><strong>Atlas Maker</strong></span> window's <span class="strong"><strong>Input</strong></span> <a id="id595" class="indexterm"></a>group, you must click the <span class="strong"><strong>New</strong></span> button (<span class="strong"><strong>1</strong></span>), as follows:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_03.jpg" /></div><p>If no atlas was selected, the <span class="strong"><strong>New</strong></span> button isn't available, which means that you can safely move on.</p><p>We'll use the <code class="literal">Icon_Play</code> sprite to create our new atlas. In the <span class="strong"><strong>Project</strong></span> view, navigate to the <code class="literal">Assets/Resources</code> folder and select our <code class="literal">Icon_Play</code> file. With the play icon file selected, you'll notice that the <span class="strong"><strong>Atlas Maker</strong></span> window now has a <span class="strong"><strong>Create</strong></span> button available, and notifies that the <code class="literal">Icon_Play</code> sprite will be added, as follows:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_04.jpg" /></div><p>Click on the <span class="strong"><strong>Create</strong></span> button. A <span class="strong"><strong>Save As</strong></span> window appears, letting you choose where you want to save your future atlas prefab:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Navigate to the <code class="literal">Assets/Resources</code> folder.</p></li><li><p>Create a new <code class="literal">Atlas</code> folder and access it.</p></li><li><p>Enter <code class="literal">Game</code> for the prefab filename, and click on the <span class="strong"><strong>Save</strong></span> button.</p></li></ol></div><p>That's it. Our <code class="literal">Game</code> atlas has been created and is now selected automatically. In the <span class="strong"><strong>Project</strong></span> view, you can notice our <span class="strong"><strong>Game</strong></span> material, atlas prefab and texture:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_05.jpg" /></div><p>In the <span class="strong"><strong>Atlas Maker</strong></span> window, click on the <span class="strong"><strong>View Sprites</strong></span> button. The following sprite selection <a id="id596" class="indexterm"></a>window appears, with our new <span class="strong"><strong>Icon_Play</strong></span> sprite:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_06.jpg" /></div><p>Good. Before we move on to see how we can add more sprites to our new atlas, let's add this play icon to our <code class="literal">Play</code> button.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note33"></a>Note</h3><p>You may have as many atlases as you desire, but remember that rendering multiple atlases simultaneously increases the number of draw calls.</p></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec94"></a>The play icon</h3></div></div></div><p>Let's try out our <a id="id597" class="indexterm"></a>new play icon. We'll need to create a new sprite widget as a child of our <code class="literal">Play</code> button to display it:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">UI Root</code> | <code class="literal">Main</code> | <code class="literal">Buttons</code> | <code class="literal">Play</code> GameObject.</p></li><li><p>Hit <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>S</em></span> to create a new<a id="id598" class="indexterm"></a> sprite.</p></li><li><p>Rename this new <code class="literal">Sprite</code> GameObject to <code class="literal">Icon</code>.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> view, click<a id="id599" class="indexterm"></a> on the <span class="strong"><strong>Atlas</strong></span> button of its <code class="literal">UISprite</code> component.</p></li><li><p>In the <span class="strong"><strong>Select an Atlas</strong></span> pop-up window, select our <span class="strong"><strong>Game</strong></span> atlas.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> view, click on the <span class="strong"><strong>Sprite</strong></span> button of its attached <code class="literal">UISprite</code> component.</p></li><li><p>Double-click on our <span class="strong"><strong>Icon_Play</strong></span> sprite to select it.</p></li></ol></div><p>Ok, we now have our new play icon in our <span class="strong"><strong>Play</strong></span> button, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_07.jpg" /></div><p>As you might notice in the preceding screenshot, our play icon is rather small. Its display size is 100 x 100 pixels, whereas its original file size is 384 x 384.</p><p>That's where <a id="id600" class="indexterm"></a>the <span class="strong"><strong>Snap</strong></span> button (<span class="strong"><strong>1</strong></span>) comes in. Click on it, and it will snap it to its original size and look like this:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_05_08.jpg" /></div><p>Now, that's better. This icon is black and white so that NGUI's color tint remains effective on it. Let's make sure it has a green tint to match the button's background:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <code class="literal">Main</code> | <code class="literal">Buttons</code> | <code class="literal">Play</code> | <code class="literal">Icon</code> GameObject.</p></li><li><p>Set <span class="strong"><strong>Color Tint</strong></span> to {R: <code class="literal">175</code>, G: <code class="literal">255</code>, B: <code class="literal">190</code>, A: <code class="literal">255</code>}.</p></li></ol></div><p>Ok, we have finished integrating our first custom asset to our UI! Now, let's see how we can add more sprites to this new <code class="literal">Game</code> atlas.</p></div></div>