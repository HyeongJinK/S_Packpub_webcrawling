<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec56"></a>Draggable power sources</h2></div></div><hr /></div><p>The power sources are prefabs. There are two of them already instantiated in the scene. In order to make them draggable, we simply have to use the <code class="literal">UIDragObject</code> component.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec104"></a>UICamera</h3></div></div></div><p>First things first; we<a id="id673" class="indexterm"></a> need <code class="literal">GameCamera</code> to have the <a id="id674" class="indexterm"></a>
<code class="literal">UICamera</code> component attached to it in order to trigger events on 3D world objects like the ground or the power sources. To get the required results, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <span class="strong"><strong>GameCamera</strong></span> GameObject.</p></li><li><p>Click on the <span class="strong"><strong>Add Component</strong></span> button in the <span class="strong"><strong>Inspector</strong></span> view.</p></li><li><p>Type in <code class="literal">uicam</code> to search for components with that name.</p></li><li><p>Select <span class="strong"><strong>NGUI Event System </strong></span>(<code class="literal">UICamera</code>), and hit <span class="emphasis"><em>Enter</em></span> or click on it.</p></li><li><p>Set the newly attached <code class="literal">UICamera</code> component's <span class="strong"><strong>Event Type</strong></span> to <span class="strong"><strong>3D World</strong></span>.</p></li><li><p>Make sure <span class="strong"><strong>Event Mask</strong></span> is set to <span class="strong"><strong>Everything</strong></span> and not just <span class="strong"><strong>2DUI</strong></span>.</p></li></ol></div><p>OK. The <span class="strong"><strong>GameCamera</strong></span> GameObject is<a id="id675" class="indexterm"></a> now ready to<a id="id676" class="indexterm"></a> trigger events on 3D objects. We can now make our power sources draggable objects.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec105"></a>UIDragObject</h3></div></div></div><p>Let's use the <code class="literal">UIDragObject</code> component to<a id="id677" class="indexterm"></a> drag our power<a id="id678" class="indexterm"></a> sources in the 3D world:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In the <span class="strong"><strong>Project</strong></span> view, select <code class="literal">Assets/Resources/Prefabs/PowerSource</code>.</p></li><li><p>Click on the <span class="strong"><strong>Add Component</strong></span> button in the <span class="strong"><strong>Inspector</strong></span> view.</p></li><li><p>Type in <code class="literal">obj</code> to search for components with that name.</p></li><li><p>Select <span class="strong"><strong>Drag Object</strong></span>, and hit <span class="emphasis"><em>Enter</em></span> or click on it with your mouse.</p></li></ol></div><p>For the newly added <code class="literal">UIDrag Object</code> component on our <code class="literal">PowerSource</code> prefab:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Drag <code class="literal">Resources/Prefabs/PowerSource</code> (itself) in the <span class="strong"><strong>Target</strong></span> field.</p></li><li><p>Set the <span class="strong"><strong>Movement</strong></span> constraints to {<code class="literal">1</code>, <code class="literal">0</code>, <code class="literal">1</code>} to limit movement to the <span class="strong"><strong>X</strong></span> and <span class="strong"><strong>Z</strong></span> axes.</p></li><li><p>Set <span class="strong"><strong>Drag Effect</strong></span> to <span class="strong"><strong>None</strong></span> to make the drag more precise and responsive.</p></li></ol></div><p>OK. The <code class="literal">Drag Object</code> component is configured. But, as we have learned in previous chapters, NGUI components using events need <span class="strong"><strong>Box Collider</strong></span> attached to them.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec106"></a>Box Collider</h3></div></div></div><p>For the <code class="literal">UIDragObject</code> <a id="id679" class="indexterm"></a>component to work, it needs to have<a id="id680" class="indexterm"></a> <span class="strong"><strong>Box Collider</strong></span> attached to it in order to receive <code class="literal">UICamera</code> events:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In the <span class="strong"><strong>Project</strong></span> view, select <code class="literal">Resources/Prefabs/PowerSource</code>.</p></li><li><p>Click on the <span class="strong"><strong>Add Component</strong></span> button in the <span class="strong"><strong>Inspector</strong></span> view.</p></li><li><p>Type in <code class="literal">box</code> with your keyboard.</p></li><li><p>Select <span class="strong"><strong>Box Collider</strong></span> and hit <span class="emphasis"><em>Enter</em></span> or click on it with your mouse.</p></li><li><p>Set <span class="strong"><strong>Size</strong></span> to {<code class="literal">4</code>, <code class="literal">4</code>, <code class="literal">4</code>}.</p></li></ol></div><p>OK, now that we have the <span class="strong"><strong>Box Collider</strong></span> and the <code class="literal">UIDragObject</code> components, hit Unity's play button. You <a id="id681" class="indexterm"></a>can now drag-and-drop both our power sources on the scene!</p><p>Now, let's now see how<a id="id682" class="indexterm"></a> we can make the player move to a clicked position on the ground or an interactive element.</p></div></div>