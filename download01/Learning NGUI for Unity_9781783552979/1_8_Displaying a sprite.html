<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec14"></a>Displaying a sprite</h2></div></div><hr /></div><p>Now that we<a id="id74" class="indexterm"></a> have displayed text, let's display a <span class="strong"><strong>sprite</strong></span>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec21"></a>Creating the sprite widget</h3></div></div></div><p>Make sure<a id="id75" class="indexterm"></a> you have <a id="id76" class="indexterm"></a>nothing selected, and navigate to <span class="strong"><strong>NGUI</strong></span> | <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Sprite</strong></span>, as follows:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_14.jpg" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note08"></a>Note</h3><p>The newly created widget will be nested as a child of the current selection. To avoid having our new sprite as a child of our <code class="literal">Label</code>, make sure you have nothing selectedâ€”<code class="literal">UI Root</code> will be the default parent.</p></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip07"></a>Tip</h3><p>You can also use the shortcut <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>S</em></span> to create a new sprite.</p></div><p>Now, take a<a id="id77" class="indexterm"></a> look at the following <span class="strong"><strong>Hierarchy</strong></span> view; you'll see a new GameObject called <span class="strong"><strong>Sprite</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_15.jpg" /></div><p>Great, we have a sprite in the scene. Let's see its Inspector parameters.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec22"></a>UISprite parameters</h3></div></div></div><p>Let's define some<a id="id78" class="indexterm"></a> terms as we <a id="id79" class="indexterm"></a>review <span class="strong"><strong>UISprite</strong></span>'s parameters:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_16.jpg" /></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>
<span class="strong"><strong>Atlas</strong></span>: An atlas is an image file containing our sprites and bitmap fonts. Assembling them all together in one large texture enables NGUI to render an entire UI in only<a id="id80" class="indexterm"></a> one single draw call! That field determines which atlas is going to be used to display this sprite.</p></li><li><p>
<span class="strong"><strong>Sprite Type</strong></span>: Select one <a id="id81" class="indexterm"></a>of these five different behaviors:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">Simple</code>: This displays <a id="id82" class="indexterm"></a>a simple image.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Sliced</code>: This is used for<a id="id83" class="indexterm"></a> <span class="strong"><strong>nine-slice</strong></span> sprites, letting you<a id="id84" class="indexterm"></a> resize sprites without stretching the corners. We'll detail and try this shortly.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Tiled</code>: This is used for <span class="strong"><strong>tiled</strong></span> sprites for patterns that can<a id="id85" class="indexterm"></a> be repeated indefinitely.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Filled</code>: This is used <a id="id86" class="indexterm"></a>for progress bars. This hides the sprite partially, depending on a fill amount value and direction.</p></li><li style="list-style-type: disc"><p>
<code class="literal">Advanced</code>: This <a id="id87" class="indexterm"></a>allows you to choose a different sprite type for each border and center.</p></li></ul></div></li><li><p>
<span class="strong"><strong>Flip</strong></span>: This flips the<a id="id88" class="indexterm"></a> sprite in one of the following directions you define:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">Nothing</code>, <code class="literal">Horizontally</code>, <code class="literal">Vertically</code> or <code class="literal">Both</code>
</p></li></ul></div></li><li><p>
<span class="strong"><strong>Color Tint</strong></span>: This<a id="id89" class="indexterm"></a> is the sprite's color tint.</p></li></ol></div><p>Right now, nothing is displayed because we haven't chosen which atlas and sprite we want to use.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec23"></a>Configuring the sprite</h3></div></div></div><p>We have<a id="id90" class="indexterm"></a> reviewed the parameters of <code class="literal">UISprite</code>. Let's configure it to display <a id="id91" class="indexterm"></a>something.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec01"></a>Selecting an atlas</h4></div></div></div><p>We must select <a id="id92" class="indexterm"></a>an atlas. We'll use an example atlas that comes with NGUI.</p><p>Select our<a id="id93" class="indexterm"></a> <code class="literal">Sprite</code> GameObject, and click on the <span class="strong"><strong>Atlas</strong></span> (<span class="strong"><strong>1</strong></span>) button showed in the previous screenshot. The following window appears:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_17.jpg" /></div><p>Select <span class="strong"><strong>Fantasy Atlas (2)</strong></span>. If the<a id="id94" class="indexterm"></a> atlas is not listed, click on the <span class="strong"><strong>Show All (3)</strong></span> button of the atlas selection window, and it will appear along with other example atlases.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec02"></a>Selecting a sprite</h4></div></div></div><p>Now<a id="id95" class="indexterm"></a> that we<a id="id96" class="indexterm"></a> have selected an atlas, we can select which sprite to render, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_18.jpg" /></div><p>Perform the<a id="id97" class="indexterm"></a> following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Click on the <span class="strong"><strong>Sprite</strong></span> (<span class="strong"><strong>1</strong></span>) button to open the sprite selection window. Within this new window, select the <span class="strong"><strong>Dark</strong></span> sprite by double-clicking on it.</p></li><li><p>Change the sprite <span class="strong"><strong>Type</strong></span> (<span class="strong"><strong>2</strong></span>) to <span class="strong"><strong>Sliced</strong></span>.</p></li><li><p>Click on <span class="strong"><strong>Color Tint (3)</strong></span> and set: <code class="literal">{R: 255, G: 180, B: 0, A: 255}</code>.</p></li></ol></div><p>Your <span class="strong"><strong>Game</strong></span> view<a id="id98" class="indexterm"></a> should now look like this:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_19.jpg" /></div><p>Ok. We now have a square sprite. But we have a problem: it's rendered over our text label. That's because the sprite's <span class="strong"><strong>Depth</strong></span> value is higher than the label's.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note09"></a>Note</h3><p>The new sprite's <span class="strong"><strong>Depth</strong></span> value is higher than the label's because NGUI automatically sets a new widget's <span class="strong"><strong>Depth</strong></span> to the highest to make sure it is displayed over previous ones.</p></div><p>Set the following <a id="id99" class="indexterm"></a>widget parameters for our new sprite in order to have this result, as follows:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_20.jpg" /></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>
<span class="strong"><strong>Depth</strong></span>: The label's depth is at <code class="literal">0</code>. Set this one to <code class="literal">-1</code> so that it displays behind.</p></li><li><p>
<span class="strong"><strong>Size</strong></span>: Set it to 400 x 80 to create a box around our <span class="strong"><strong>Main Menu</strong></span> label.</p></li></ol></div><p>Great, our first <a id="id100" class="indexterm"></a>sprite is correctly configured! Before we move on, we can try out the different sprite types.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec24"></a>Sprite types</h3></div></div></div><p>With NGUI, we have four<a id="id101" class="indexterm"></a> basic types of sprites:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Sliced</p></li><li style="list-style-type: disc"><p>Simple</p></li><li style="list-style-type: disc"><p>Tiled</p></li><li style="list-style-type: disc"><p>Filled</p></li></ul></div><p>Now that we have a sprite onscreen, let's try them and see their parameters.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec03"></a>Sliced</h4></div></div></div><p>Let's start<a id="id102" class="indexterm"></a> with the <code class="literal">Sliced</code> type<a id="id103" class="indexterm"></a> of sprites, since our sprite is already configured like that.</p><p>Select our <code class="literal">UI Root</code> | <code class="literal">Sprite</code> GameObject in the Hierarchy view. Look at the <span class="strong"><strong>Preview</strong></span> window at the bottom of Inspector:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_21.jpg" /></div><p>You can see that the <code class="literal">Dark</code> sprite's size is only <span class="strong"><strong>17 x 17</strong></span> pixels. We have stretched it up to 400 x 80, and it still looks goodâ€”no pixelation or stretched corners!</p><p>That's because it is a<a id="id104" class="indexterm"></a> nine-slice sprite: the four dotted lines in the preceding screenshot represent the slicing lines. Corners always remain at the same size, while other parts of the sprite stretch to cover the demanded area. Sliced sprites are thus very useful to create windows, borders, title bars, and more.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec04"></a>Simple</h4></div></div></div><p>A <code class="literal">Simple</code> sprite is used to display <a id="id105" class="indexterm"></a>an icon or a specific image that does not require <a id="id106" class="indexterm"></a>slicing. In order to avoid pixelation, you shouldn't resize it too much over its original file size.</p><p>If you switch our sprite's <span class="strong"><strong>Type</strong></span> from <span class="strong"><strong>Sliced</strong></span> to <span class="strong"><strong>Simple</strong></span>, slicing parameters are ignored, and our 17 x 17 sprite is stretched and looks terrible, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_22.jpg" /></div><p>Ok. We can now <a id="id107" class="indexterm"></a>move on to tiled sprites.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec05"></a>Tiled</h4></div></div></div><p>A <code class="literal">Tiled</code> sprite is a pattern that can be repeated indefinitely. In order to illustrate it effectively, select <a id="id108" class="indexterm"></a>our <code class="literal">Sprite</code> <a id="id109" class="indexterm"></a>GameObject and follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Change its <span class="strong"><strong>Atlas</strong></span> to the <span class="strong"><strong>Wooden Atlas</strong></span>.</p></li><li><p>Set the <span class="strong"><strong>Type</strong></span> parameter of <code class="literal">UISprite</code> to <span class="strong"><strong>Tiled</strong></span>.</p></li><li><p>Change its <span class="strong"><strong>Sprite</strong></span> to the <span class="strong"><strong>Stripes 1</strong></span> sprite.</p></li></ol></div><p>Within the <span class="strong"><strong>Game</strong></span> view, you might notice that our background is now diagonal orange stripes. The pattern is repeated and it looks good compared to a simple stretched sprite.</p><p>Here's a comparison:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_23.jpg" /></div><p>In the preceding image, the same sprite is used. On the left-hand side, the sprite <span class="strong"><strong>Type</strong></span> is set to <span class="strong"><strong>Simple</strong></span>: the sprite is simply stretched and pixelated. On the right, the sprite <span class="strong"><strong>Type</strong></span> is set to <span class="strong"><strong>Tiled</strong></span>: the pattern is repeated and not stretched.</p><p>Now that we've seen how tiled sprites work, let's talk about <span class="strong"><strong>filled</strong></span> sprites.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec06"></a>Filled</h4></div></div></div><p>A <code class="literal">Filled</code> sprite is <a id="id110" class="indexterm"></a>displayed partially depending on a <span class="strong"><strong>FillAmount</strong></span> value<a id="id111" class="indexterm"></a> between <code class="literal">0</code> and <code class="literal">1</code>. Set the <span class="strong"><strong>Type</strong></span> parameter of our <span class="strong"><strong>UISprite</strong></span> to <span class="strong"><strong>Filled</strong></span>. Ok. Now, we can review the three new parameters, as follows:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_24.jpg" /></div><p>The following parameters<a id="id112" class="indexterm"></a> are specific to filled sprites:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>
<span class="strong"><strong>FillDir</strong></span>: Select one of<a id="id113" class="indexterm"></a> the following five fill directions:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Horizontal</strong></span>: The sprite is filled horizontally. This is usually used for progress bars and life gauges.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Vertical</strong></span>: The sprite is filled vertically.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Radial90</strong></span>: The sprite is filled around a 90-degree angle.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Radial180</strong></span>: The sprite is filled around a 180-degree angle, resulting in a car windshield wiper effect.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Radial360</strong></span>: The sprite is filled around a 360-degree angle, resulting in a clock or timer effect.</p></li></ul></div></li><li><p>
<span class="strong"><strong>FillAmount</strong></span>: This floats between <code class="literal">0</code> and <code class="literal">1</code> and defines how much of the sprite is visible. The mask's shape depends on the selected <span class="strong"><strong>FillDir</strong></span> (<span class="strong"><strong>1</strong></span>).</p></li><li><p>
<span class="strong"><strong>InvertFill</strong></span>: Check it to invert the sprite's fill direction.</p></li></ol></div><p>You can visualize the fill effect by modifying the value of <span class="strong"><strong>Fill Amount</strong></span>(<span class="strong"><strong>2</strong></span>). If <span class="strong"><strong>Fill Dir</strong></span> is set to <span class="strong"><strong>Radial360</strong></span> with <span class="strong"><strong>Fill Amount</strong></span> around <code class="literal">0.55</code>, the output will look like this:</p><div class="mediaobject"><img src="/graphics/9781783552979/graphics/2979OT_01_25.jpg" /></div><p>You can try out the<a id="id114" class="indexterm"></a> different fill directions before we explain how <code class="literal">UICamera</code> and <code class="literal">UIPanel</code> work.</p><p>Before we continue to the next section, please set back our sprite's <span class="strong"><strong>Type</strong></span> parameter to <span class="strong"><strong>Sliced</strong></span>, with the <span class="strong"><strong>Dark</strong></span> sprite from <span class="strong"><strong>Fantasy Atlas</strong></span>.</p></div></div></div>