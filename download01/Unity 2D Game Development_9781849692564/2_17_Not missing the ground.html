<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec22"></a>Not missing the ground</h2></div></div><hr /></div><p>What we are going to do now is make the player register whenever they have landed on a platform. To do this, we will work with colliders that allow us to be certain not only of when we land, but also what we land on.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip08"></a>Tip</h3><p>We could have checks that verify whether the player is moving vertically or not, and then automatically set the landing state based on the vertical movement state. However, this has a number of drawbacks including being less flexible than the method described on the following pages, and if the player slows down enough in mid-air to not be moving for a moment, the game could actually register that they landed! So instead, we will work with colliders, which allow us to be certain of when we land and what we land on; we will automatically set the landing state based on that information.</p></div><p>Now, let's perform<a id="id92" class="indexterm"></a> the following steps: </p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select a <span class="strong"><strong>Platform</strong></span> object.</p></li><li><p>Add a new tag called <code class="literal">Platform</code> to your game by selecting <span class="strong"><strong>Add Tag</strong></span> from the <span class="strong"><strong>Tag</strong></span> list located in <span class="strong"><strong>Tags and Layers,</strong></span> which you can reach through the <span class="strong"><strong>Project Settings</strong></span> option under the <span class="strong"><strong>Edit</strong></span> menu item, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849692564/graphics/2564OT_02_08.jpg" /></div><p>You can also<a id="id93" class="indexterm"></a> access the tags and layers by selecting <span class="strong"><strong>Add Layer</strong></span> when you select <span class="strong"><strong>Edit</strong></span> in the <span class="strong"><strong>Inspector</strong></span>, which you can see in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849692564/graphics/2564OT_02_07.jpg" /></div></li><li><p>Set the same new <a id="id94" class="indexterm"></a>
<span class="strong"><strong>Platform</strong></span> tag as the tag to the <span class="strong"><strong>Platform</strong></span> object.</p></li><li><p>Create a new empty GameObject and name it <code class="literal">SceneryToggler</code>.</p><p>On <code class="literal">Scenerytoggler</code>, add a <span class="strong"><strong>Box Collider 2D</strong></span> component and make the <span class="strong"><strong>SceneryToggler</strong></span> object a child of the <span class="strong"><strong>Player</strong></span> object. The <span class="strong"><strong>SceneryToggler</strong></span> object is going to be used for the player to know what it collided against in the scene.</p></li><li><p>Set the <span class="strong"><strong>Size</strong></span> property for the <span class="strong"><strong>Box Collider 2D</strong></span> component of <span class="strong"><strong>SceneryToggler</strong></span> to be about <code class="literal">X: 0.74</code>, <code class="literal">Y: 0.06</code>.</p></li><li><p>With the position of <code class="literal">SceneryToggler</code> at <code class="literal">X:0</code>, <code class="literal">Y:0</code> and the <code class="literal">Center</code> fields as <code class="literal">X: 0</code>, <code class="literal">Y: 0.03</code>, the collider should be at the bottom of the player. Make sure that the collider is below and completely covers the feet area of the player, and goes below the feet area as well.</p></li><li><p>Also, make sure that the <span class="strong"><strong>Is Trigger</strong></span> property in the <span class="strong"><strong>Box Collider 2D</strong></span> section is checked.</p></li></ol></div><p>What you should now have is<a id="id95" class="indexterm"></a> a rectangular collision box that stretches out below the player object's colliders, as shown in the following screenshot. Here, you can see the big collider around the player and the new <code class="literal">SceneryToggler</code> box at the base of the player sprite:</p><div class="mediaobject"><img src="/graphics/9781849692564/graphics/2564OT_02_01.jpg" /></div><p>We have created a unique collider mesh. The reason we use a second Box Collider 2D component to check what we're touching below the player is because the player's box collider is smart enough to not intersect with the platform's box collider. The result is that the <code class="literal">OnTriggerEnter2D</code> of the <code class="literal">SceneryToggler</code> object will never toggle if we rely on the player's box colliderâ€”which is a good thing, because we want those collisions to be accurate!</p></div>