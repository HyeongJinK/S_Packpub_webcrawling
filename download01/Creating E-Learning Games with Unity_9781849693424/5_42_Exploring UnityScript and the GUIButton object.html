<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec44"></a>Exploring UnityScript and the GUIButton object</h2></div></div><hr /></div><p>The Unity Editor<a id="id264" class="indexterm"></a> is laid out with an internal GUI-specification language called UnityGUI. This API is only accessible to Unity game programmers from within C# (and JavaScript) code, unlike the previous GUI elements that can be placed and adjusted within<a id="id265" class="indexterm"></a> the editor itself at design time. We can use this to place buttons, textures, pop-up windows, tooltips, and many other UI primitives. The difference in use from the previous examples is that the elements are instanced and placed entirely from the script rather than at design time in the editor. For our dialog pop-up Prefabs, we will explore the <code class="literal">GUI.Button</code> class.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec47"></a>Using UnityGUI</h3></div></div></div><p>To use<a id="id266" class="indexterm"></a> the UnityGUI <a id="id267" class="indexterm"></a>functionality, we must invoke the commands from within a special callback, <code class="literal">OnGUI()</code>. As this function is not created by default when you create a new C# script in Unity, you need to add it yourself. The Unity Engine will invoke this method automatically when GUI elements are to be redrawn; so, we put our <code class="literal">GUIButton</code> code and <code class="literal">GUITexture</code> and <code class="literal">GUIText</code> update code in here:</p><div class="informalexample"><pre class="programlisting">void OnGUI() { // insert code here } </pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec48"></a>Creating a clickable button</h3></div></div></div><p>To create a <a id="id268" class="indexterm"></a>button, use the GUI namespace and instantiate a button with parameters into the constructor. There are six different function signatures one can use to instantiate a GUI button, depending on which visuals or string you want to display on it. Each type, however, requires the <code class="literal">rect</code> class as the first parameter:</p><div class="informalexample"><pre class="programlisting">GUI.Button( new rect(x,y,width,height), string); </pre></div><p>Note that the new <code class="literal">rect</code> class instance takes the <code class="literal">x</code>, <code class="literal">y</code> (position of the rect's upper-left corner) as well as the <code class="literal">width</code> and <code class="literal">height</code> dimensions of the button as the input.</p><p>Congratulations! By adding this line of code to the <code class="literal">OnGUI()</code> method, you will display a button at the <code class="literal">x</code> and <code class="literal">y</code> position with the text "string" on the button.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec49"></a>Detecting a mouse click</h3></div></div></div><p>To detect a<a id="id269" class="indexterm"></a> mouse click on this button, we need to check that the <code class="literal">GUI.Button()</code> function returns a Boolean; namely, <code class="literal">true</code> when the button is clicked and <code class="literal">false</code> otherwise. This means that every time the <code class="literal">OnGUI()</code> method is called, we have the opportunity to respond to a mouse click, each time a button is potentially drawn to the screen:</p><div class="informalexample"><pre class="programlisting">if (GUI.Button( new rect(x,y,width,height), string))
{ 
  // handle button click here
} </pre></div></div></div>