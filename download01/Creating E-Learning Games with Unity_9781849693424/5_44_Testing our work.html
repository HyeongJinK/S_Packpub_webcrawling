<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec46"></a>Testing our work</h2></div></div><hr /></div><p>Let's<a id="id279" class="indexterm"></a> trace through how the pop-up system works. When the main scene first loads, the <code class="literal">popup_MainMenu</code> Prefab renders in front of the camera. It does this because it is parented to the main camera's transform as a child object. This means that no matter what position and orientation the camera has, the pop up will move relative to this and always be on the screen, effectively in screen coordinates. This is a common trick in game programming used to achieve quasi-2D screen space results with 3D objects.</p><p>When the <code class="literal">New</code> button is clicked, the <code class="literal">popupButtonScript</code> iterates over the action array, and based on the enumeration for the action, it dispatches an appropriate command. For now, we set the <code class="literal">GameState</code> to <code class="literal">loading level1</code> and let the <code class="literal">gameManager</code> script handle the loading of the new scene file. We then call <code class="literal">SelfDestruct</code> to delete the <code class="literal">MainMenu</code> object from the world (we won't need it anymore as we are in-game).</p><p>When the <span class="strong"><strong>Info</strong></span> button is<a id="id280" class="indexterm"></a> clicked, the <code class="literal">popupButtonScript</code> iterates over the action array, dispatching commands based on the value of the action enumeration. The first thing that happens is that <code class="literal">popup_Info</code> is instantiated and parented to the camera. Since this pop up has the same position and orientation as <code class="literal">popup_MainMenu</code>, the transition appears seamless! Then, <code class="literal">popup_MainMenu</code> is destroyed that leaves only the <span class="strong"><strong>Information</strong></span> dialog displayed.</p><p>If the <span class="strong"><strong>Return</strong></span> button on the <code class="literal">popup_Info</code> dialog is pressed, it iterates over its actions and invokes two commands. It instantiates <code class="literal">popup_MainMenu</code> again (from the Prefab in the <span class="strong"><strong>Project</strong></span> window so that it is a new instance of the menu and not the original), then it calls <code class="literal">selfDestructs</code> and deletes the <code class="literal">popup_Info</code> window, leaving only the main menu. Since they share the same transform, the transition appears seamless.</p><p>If the <span class="strong"><strong>Quit</strong></span> button is pressed, the application terminates. This is not readily apparent in the editor, but once we build to execute, this will terminate the program.</p></div>