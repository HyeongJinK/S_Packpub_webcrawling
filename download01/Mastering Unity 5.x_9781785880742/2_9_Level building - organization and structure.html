<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec13"></a>Level building - organization and structure</h2></div></div><hr /></div><p>Let's start the level construction process. There are many ways to begin here, but it's a good idea from the outset to develop with a clean workflow in mind. By <span class="emphasis"><em>clean</em></span> I mean an organized, structured, and easy-to-maintain workflow; one that remains maintainable for projects of many scales. First, delete any and all objects in the new scene, and then create a single empty <span class="strong"><strong>GameObject</strong></span> named <code class="literal">root</code> by navigating to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Empty</strong></span> from the application menu. This object will be the top-most object in the hierarchy, from which everything else will be a child directly or indirectly.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_015.jpg" /></div><p>
</p><p>Creating a root object for the scene</p><p>Next, create a new child object named <code class="literal">env</code>, which will contain all environment pieces. Make sure that both the <code class="literal">root</code> and <code class="literal">env</code> objects are positioned at the world origin at (<code class="literal">0</code>,<code class="literal">0</code>,<code class="literal">0</code>)<span class="strong"><strong>.</strong></span> I typically position the world floor at <code class="literal">0</code> on the <span class="emphasis"><em>
<span class="strong"><strong>y</strong></span>
</em></span> axis, making this the lowest point in the world. It is, of course, possible for objects to fall below this point, but by convention, we can set all negative <span class="strong"><strong>Y</strong></span> values as a kill zone. In this game, where camera paths are predetermined, however, we need not concern ourselves with this, but it's worth considering for free-roaming cameras.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_016.jpg" /></div><p>
</p><p>Structuring the scene hierarchy</p><p>Now, drag and drop the modular pieces from the <span class="strong"><strong>Project</strong></span> panel into the scene, building a maze-like interior. You can align mesh pieces together exactly at the edge vertices using <span class="strong"><strong>Vertex Snapping</strong></span>. To access Vertex Snapping, switch to the <span class="strong"><strong>Translate</strong></span> tool with <span class="emphasis"><em>
<span class="strong"><strong>T</strong></span>
</em></span> on the keyboard, then hold down the <span class="emphasis"><em>
<span class="strong"><strong>V</strong></span>
</em></span> key, and then click and drag your mouse from the source mesh to the destination, hovering your cursor over the vertices. When you do this, one mesh snaps to the other automatically. By repeating this process for each mesh module, you can easily align all mesh pieces together.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_017.jpg" /></div><p>
</p><p>Snapping mesh modules together</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip11"></a>Tip</h3><p>When building levels, start by dragging and dropping a single copy of every mesh into the level, to establish a palette of meshes. Then maximize the <span class="strong"><strong>Scene</strong></span> viewport with <span class="strong"><strong>
<span class="emphasis"><em>Shift</em></span> </strong></span>+ s<span class="strong"><strong>pacebar</strong></span>, and continue building the level by duplicating the extant pieces as needed in full screen. This saves you from jumping between a maximized and normal view, between the scene and <span class="strong"><strong>Project</strong></span> panel to access your meshes.</p></div><p>After arranging meshes, you'll get an initial level arrangement that should be tested for any obvious problems (such as holes) using a first person controller-or a third person controller, if your game is not first person. Remember to deactivate <span class="strong"><strong>Lighting Previews</strong></span> for the <span class="strong"><strong>Scene</strong></span> tab, for your initial level. This makes it easier to see and position mesh pieces. You can do this using the <span class="strong"><strong>Scene</strong></span> tool bar. Focus first on establishing the overall scene size, general layout and placement of objects, and the starting and end locations. The rest of the scene can be developed functionally and aesthetically alongside these ingredients.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_018.jpg" /></div><p>
</p><p>Building an initial level</p></div>