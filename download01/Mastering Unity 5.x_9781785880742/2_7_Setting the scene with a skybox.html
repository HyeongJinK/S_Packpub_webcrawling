<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec11"></a>Setting the scene with a skybox</h2></div></div><hr /></div><p>Our game environment should be dark, creepy, and suspenseful. But, every new Unity scene is created with a default, procedural skybox representing a cheery daytime, exterior. This needs to be changed. A skybox is ultimately a cube with flipped normals that surround and encompass the environment. Its faces contain an environment texture which, when mapped correctly, appears seamlessly across the model, creating the look of a vast skyline surrounding the scene. The primary purpose of our skybox should be to set a base and ambient lighting. The most appropriate skybox for our usage, then, is a night skybox or, at least, a dark, stormy (and perhaps slightly alien) skybox. There are many ways in Unity to create a skybox. One method is to create a cube-map texture (six separate textures) inside the image-editing software that maps to the faces of a cube. Another method, available in Unity 5, is a procedural skybox. Using this, Unity generates a skybox from some initial creation parameters that we can set through a material. </p><p>Let's use the latter, most customizable method. To do this, open the <span class="strong"><strong>Materials</strong></span> folder in the <span class="strong"><strong>Project</strong></span> panel and create a new <span class="strong"><strong>Material</strong></span>. Assign it a meaningful name; I've used <code class="literal">matNight</code>.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_002.jpg" /></div><p>
</p><p>Creating a new Material</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note9"></a>Note</h3><p>Naming assets and objects appropriately is important for large projects, whether team based or not. It's important to identify an object's type and purpose from its name, and to use a naming convention that'll alphabetically group together related assets in a useful way. For example, I prefixed all material assets with <code class="literal">mat_</code> (<code class="literal">mat_Skybox</code>, <code class="literal">mat_Marble</code>, and <code class="literal">mat_Leather</code>). Using this name, all materials are arranged together in the <span class="strong"><strong>Project</strong></span> panel, and I can determine by the asset name that it's a material and not a texture <span class="emphasis"><em>(</em></span>
<code class="literal">_tex</code>),  mesh <span class="emphasis"><em>(</em></span>
<code class="literal">_mesh</code>), sound effect <span class="emphasis"><em>(</em></span>
<code class="literal">_sfx</code>), and so on.</p><p>Some may question whether prefixes are needed if folders are used. After all, couldn't you just name your materials anything you wanted, and simply group them together in the same folder, as opposed to using prefixes? In short, use folders to organize and group textures, but name prefixes are still important because assets from different folders can still be viewed together in a consolidate display, when running searches and filters. And in these cases, you'll still want to arrange search results alphabetically.</p></div><p>Newly created materials are configured as a <span class="strong"><strong>Standard</strong></span> shader (PBR material) using the metallic-roughness workflow. This isn't necessary for a skybox, as it doesn't cast light in the same way and isn't affected by shadows and other light sources. Change the material type to <span class="strong"><strong>Skybox</strong></span> | <span class="strong"><strong>Procedural</strong></span>. Multiple skyboxes are available, but only a procedural skybox gives you out-of-the-box runtime control over the colors and construction of the texture.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_003.jpg" /></div><p>
</p><p>Creating a Procedural sky material</p><p>Now, let's configure material properties. By default, the skybox is generated as a daytime sky. We'll need to change that. Set the <span class="strong"><strong>Sun</strong></span> field to <span class="strong"><strong>None</strong></span>, as we won't need one. Set the <span class="strong"><strong>Sun Size</strong></span> to <code class="literal">0</code>, <span class="strong"><strong>Atmospheric Thicknes</strong></span> to <code class="literal">0.43</code>, and <span class="strong"><strong>Exposure</strong></span> to <code class="literal">1.3</code>; this adds volume and a horizon glow to the environment. In addition, set the sky and ground colors. These should be dark values, to express a nightscape. I've chosen <code class="literal">021643FF</code> for <span class="strong"><strong>Sky Tint</strong></span> and <code class="literal">1D1A19FF</code> for <span class="strong"><strong>Ground</strong></span>.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_004.jpg" /></div><p>
</p><p>Configuring night time skybox</p><p>The skybox can be applied to the scene in several ways. One way is to assign the skybox to a camera as a background. To do this, simply select a camera, and from the <span class="strong"><strong>Component</strong></span> menu, add a <span class="strong"><strong>Skybox</strong></span> component. Navigate to <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Rendering</strong></span> | <span class="strong"><strong>Skybox</strong></span>. However, for our purposes, we'll avoid this method. We want the background to apply to the scene, and all cameras, as opposed to a single camera:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_005.jpg" /></div><p>
</p><p>Adding a Skybox component to a camera</p><p>Instead of applying a skybox to a camera, we'll apply it to the scene. To do that, open the <span class="strong"><strong>Lighting</strong></span> window by navigating to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Lighting</strong></span> from the application menu. From the <span class="strong"><strong>Lighting</strong></span> window, drag and drop the newly created skybox material to the <span class="strong"><strong>Skybox</strong></span> field.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_006.jpg" /></div><p>
</p><p>Assigning a skybox to the scene</p><p>When the skybox is applied via the <span class="strong"><strong>Lighting</strong></span> window, it should appear from the <span class="strong"><strong>Scene</strong></span> tab, as the world background. If it doesn't appear, be sure to enable Effects Visibility from the <span class="strong"><strong>Scene</strong></span> toolbar.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_007.jpg" /></div><p>
</p><p>Enabling skybox effect</p></div>