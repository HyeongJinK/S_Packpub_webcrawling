<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec19"></a>Light Probes</h2></div></div><hr /></div><p>The lightmap setup works well for the scene, but applies only to static objects; such as walls, floors, ceilings, and props. Animated and movable objects, such as NPCs, will by contrast continue to be illuminated by expensive dynamic lights, unless additional steps are taken. Let's take those now using Light Probes. They are special sampling objects, which should be positioned strategically around the scene to record an average of light color and intensity at that location. When multiple Light Probes exist, movable objects such as characters are illuminated by interpolated values taken from the nearest probes. Light Probes, therefore, record color and intensity, but they do not cast shadows. To get started with Light Probes, create a new game object to act as the parent of all probes. Navigate to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Empty </strong></span>from the application menu. Name this object <code class="literal">LightProbes</code>.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_039.jpg" /></div><p>
</p><p>Creating an empty object for Light Probes</p><p>Next, add a Light Probe group component to the newly created Empty. This can be added first by selecting the empty, and then by navigating to <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Render</strong></span> | <span class="strong"><strong>Light Probe Group</strong></span> from the application menu. Using a Light Probe group, you can add, move, and reposition Light Probes in the scene.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note15"></a>Note</h3><p>You can also create a Light Probe Group in one operation by navigating to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Light</strong></span> | <span class="strong"><strong>Light Probe Group</strong></span> from the application menu.</p></div><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_040.jpg" /></div><p>
</p><p>Creating a Light Probe Group</p><p>A scene usually has only one Light Probe group, which is responsible for all Light Probes. Each Light Probe samples light color and intensity at a specific location. To add a new probe, select the Light Probe Group object, and from the object <span class="strong"><strong>Inspector,</strong></span> click on the <span class="strong"><strong>Edit Light Probes</strong></span> button, which is part of the <span class="strong"><strong>Light Probe Group</strong></span> component. This unlocks a series of buttons for editing Light Probes.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_041.jpg" /></div><p>
</p><p>Editing Light Probes from the object Inspector</p><p>Now, click on the <span class="strong"><strong>Add Probe</strong></span> button. When you do this for the first time, a collection of probes is added to the scene. The probes may be positioned out of view (press <span class="emphasis"><em>
<span class="strong"><strong>F</strong></span>
</em></span> to frame them, if needed). You can use the <span class="strong"><strong>Transform</strong></span> tools to move them into position. The idea is to position them in areas where significant light changes occur, from dark to light, or from one color to the next. Ideally, the probes should record the state of lighting throughout the scene.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_042.jpg" /></div><p>
</p><p>Adding Light Probes</p><p>After adding the initial probes, select specific ones and click <span class="strong"><strong>Duplicate Selected</strong></span> to add more. Once duplicated, move the probes into position. Repeat this process to fill the scene with probes in light significant locations.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_043.jpg" /></div><p>
</p><p>Adding additional probes</p><p>A complete network of probes can effectively record scene lighting. In addition, Unity draws connections between probes in the <span class="strong"><strong>Scene</strong></span> viewport, helping you to visualize how lighting will be interpolated.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_044.jpg" /></div><p>
</p><p>Completing the probe network</p><p>If you don't see Light Probes in the <span class="strong"><strong>Scene</strong></span> viewport, ensure you have Light Probe gizmos enabled. To do that, click on the <span class="strong"><strong>Gizmos</strong></span> icon from the <span class="strong"><strong>Scene</strong></span> toolbar and enable <span class="strong"><strong>LightProbeGroup</strong></span>.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_045.jpg" /></div><p>
</p><p>Enabling Light Probe Viewport Visibility</p><p>After adding all probes, you'll need to bake them from the <span class="strong"><strong>Lighting</strong></span> window. This process effectively takes the snapshot for the probes, causing each probe to record scene light color and light intensity at the probe location. To achieve this, switch to the <span class="strong"><strong>Lighting</strong></span> window (which can be docked in the object <span class="strong"><strong>Inspector</strong></span>), and click on the <span class="strong"><strong>Build</strong></span> button. That's it! You've now baked Light Probes. Congratulations. Of course, for Light Probes to actually affect dynamic meshes, such as characters, you should select each movable mesh, and examine its properties in the object <span class="strong"><strong>Inspector</strong></span>. For the <span class="strong"><strong>Mesh Renderer</strong></span>  (non-character objects) and the <span class="strong"><strong>Skinned Mesh Renderer</strong></span> components (for character meshes), you should specify <span class="strong"><strong>Blend Probes</strong></span> for the <span class="strong"><strong>Light Probes</strong></span> field. This indicates that the selected object receives its lighting from the Light Probes scene, as opposed to dynamically from scene lights.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_02_046.jpg" /></div><p>
</p><p>Configuring objects to use Light Probes</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note16"></a>Note</h3><p>More information on Light Probes can be found at the online Unity documentation at <a class="ulink" href="https://docs.unity3d.com/Manual/LightProbes.html" target="_blank">https://docs.unity3d.com/Manual/LightProbes.html</a>.</p></div></div>