<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec43"></a>Player score</h2></div></div><hr /></div><p>In many games, the player has a score to express their achievement and progress. <span class="emphasis"><em>Dead Keys</em></span> will be no different and we'll use a traditional scoring system. Specifically, the player will earn points for each zombie killed; we'll create the potential for assigning different scores (points) to different zombies, depending on difficulty and strength. To implement this, we'll work with UI elements and script, as before.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_04_052.jpg" /></div><p>
</p><p>Creating a score display</p><p>The score feature will essentially be a text object displaying a numerical score, representing the kill count for zombies. Most games complement a score with some animation and effects. Our score will feature two behaviors: firstly, it'll expand and contract in scale as the score changes; and secondly, the score will catch up and Lerp. That is, the numbers in the score text will animate upwards as the score changes to represent the latest value, as opposed to changing instantly. Creating the throb animation works much like the damage panel. We'll create a three-key-frame animation, with the start and end frames identical on a smaller scale, and the middle frame on a larger scale.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_04_053.jpg" /></div><p>
</p><p>Creating a score display</p><p>As with the <span class="strong"><strong>Damage Throb</strong></span> object, the score has an associated animator graph, featuring a trigger parameter to initiate the throb animation when the score changes.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785880742/graphics/image_04_054.jpg" /></div><p>
</p><p>Configuring the score animator</p><p>In addition to the score animator, we'll need to create a dedicated score UI class (<code class="literal">UIScore.cs</code>) to update the score and initiate any score animations. The following script is lightweight but contains important code worth considering, and is followed by comments:</p><pre class="programlisting">//------------------------------------ &#13;
using UnityEngine; &#13;
using System.Collections; &#13;
using UnityEngine.UI; &#13;
using UnityEngine.EventSystems; &#13;
using UnityEngine.Events; &#13;
//------------------------------------ &#13;
public class UIScore : MonoBehaviour &#13;
{ &#13;
    public float DisplayScore = 0; &#13;
    private Text ThisText = null; &#13;
    public float CatchUpSpeed = 1f; &#13;
 &#13;
    public UnityEvent OnScoreChange; &#13;
 &#13;
    // Use this for initialization &#13;
    void Awake ()  &#13;
    { &#13;
        ThisText = GetComponent&lt;Text&gt; (); &#13;
    } &#13;
     &#13;
    // Update is called once per frame &#13;
    void Update () &#13;
    { &#13;
        DisplayScore = Mathf.Lerp (DisplayScore, GameManager.ThisInstance.Score, CatchUpSpeed * Time.deltaTime); &#13;
        ThisText.text = "Score " + Mathf.CeilToInt (DisplayScore).ToString ("D6"); &#13;
    } &#13;
} &#13;
//------------------------------------  &#13;
</pre><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec52"></a>Comments</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <code class="literal">CatchUpSpeed</code> variable defines the speed at which the score text animates from its current value towards its destination value as the score changes.</p></li><li style="list-style-type: disc"><p>The <code class="literal">DisplayScore</code> variable represents the score actually shown for the GUI text element.</p></li><li style="list-style-type: disc"><p>The <code class="literal">Mathf.Lerp</code> function is used to <span class="strong"><strong>Linearly Interpolate</strong></span> (<span class="strong"><strong>Lerp</strong></span>) smoothly between two values, <code class="literal">a</code> and <code class="literal">b</code>. This function accepts a time value for controlling how quickly <code class="literal">a</code> changes to <code class="literal">b</code>.</p></li></ul></div><p>Excellent! We now have a score object added to the scene too. Of course, right now, we can't score any points as there are still no enemy zombies to kill. Nevertheless, the potential for scoring points exists. In the next chapter, we'll focus on creating zombie enemies that can both attack and be destroyed.</p></div></div>