<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec13"></a>Nonprimitive colliders</h2></div></div><hr /></div><p>Nonprimitive colliders<a id="id100" class="indexterm"></a> originated from primitive colliders. Especially for vehicles, Unity provides Wheel Collider, and for terrains, a Terrain Collider component. By combining various primitive colliders, we create compound colliders.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec13"></a>Types of nonprimitive colliders</h3></div></div></div><p>As shown in the following <a id="id101" class="indexterm"></a>figure, nonprimitive colliders are specific for wheel objects and terrains. Using a Wheel Collider, we can easily provide a collision shape for vehicles. Similarly, using Terrain Collider collision implementation for different shapes becomes easy.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_02_16.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec17"></a>Wheel Collider</h4></div></div></div><p>This is a nonprimitive collider <a id="id102" class="indexterm"></a>used for wheels of a vehicle. Wheel Colliders have <a id="id103" class="indexterm"></a>motorTorque, brakeTorque, radius, and steerAngle properties. Using a friction model, Wheel Colliders are able to give a realistic effect.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch02lvl4sec09"></a>Example – implementation of Wheel Colliders</h5></div></div></div><p>Here, we will see how we can<a id="id104" class="indexterm"></a> implement a compound collider in the scene using the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new scene.</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> pane, click on <span class="strong"><strong>Create</strong></span> and select the <span class="strong"><strong>Cylinder</strong></span> game object. Open the <span class="strong"><strong>Inspector</strong></span> panel.</p></li><li><p>Add <span class="strong"><strong>Wheel Collider</strong></span> from <span class="strong"><strong>Component</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_02_17.jpg" /></div></li><li><p>Play with the <a id="id105" class="indexterm"></a>properties to give a realistic effect.</p></li></ol></div><p>Let's open the <span class="strong"><strong>Inspector</strong></span> panel. We will see some different properties; here, using <span class="strong"><strong>Mass</strong></span>, we decide the mass of the wheel game object, which must be greater than 0. In this example, I have used <code class="literal">1</code>. We can set the radius by using the <span class="strong"><strong>Radius</strong></span> property that defines the radius of the wheel, measured in local space. Have a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_02_18.jpg" /></div><p>As shown in the<a id="id106" class="indexterm"></a> preceding screenshot, there are other properties that are also used to give a realistic wheel effect; for example, the wheel's collision detection is performed by<a id="id107" class="indexterm"></a> casting a ray from the center (<a class="ulink" href="http://docs.unity3d.com/ScriptReference/WheelCollider-center.html" target="_blank">http://docs.unity3d.com/ScriptReference/WheelCollider-center.html</a>) down the local <span class="emphasis"><em>y</em></span> axis for which we use the Center property. We can extend the wheel's radius downwards by the <code class="literal">suspensionDistance</code> (<a class="ulink" href="http://docs.unity3d.com/ScriptReference/WheelCollider-suspensionDistance.html" target="_blank">http://docs.unity3d.com/ScriptReference/WheelCollider-suspensionDistance.html</a>) amount. By changing <code class="literal">forwardFriction</code> (<a class="ulink" href="http://docs.unity3d.com/ScriptReference/WheelCollider-forwardFriction.html" target="_blank">http://docs.unity3d.com/ScriptReference/WheelCollider-forwardFriction.html</a>) and <code class="literal">sidewaysFriction</code> (<a class="ulink" href="http://docs.unity3d.com/ScriptReference/WheelCollider-sidewaysFriction.html" target="_blank">http://docs.unity3d.com/ScriptReference/WheelCollider-sidewaysFriction.html</a>) based on what material the wheel is hitting, we simulate different road materials.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec18"></a>Static collider</h4></div></div></div><p>Static collider<a id="id108" class="indexterm"></a> is used wherein a collision movement is not required. A static collider <a id="id109" class="indexterm"></a>contains a nontrigger collider without a Rigidbody. This type of game object that does not have any Rigidbody will not get affected by Physics. Static colliders are mostly used to create boundaries or blockages.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec19"></a>Rigidbody Collider</h4></div></div></div><p>The Rigidbody Collider<a id="id110" class="indexterm"></a> is exactly the opposite of a static collider; it is a collider with Rigidbody <a id="id111" class="indexterm"></a>components. Rigidbody Collider will collide with a static collider to create collision events and will get influenced by Physics.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec20"></a>Kinematic Rigidbody Collider</h4></div></div></div><p>A Kinematic Rigidbody Collider is<a id="id112" class="indexterm"></a> a collider that has the <span class="strong"><strong>Is Kinematic</strong></span> flag <code class="literal">true</code>. Mostly, it <a id="id113" class="indexterm"></a>is used where animation is required. Also, the Kinematic Rigidbody Collider is not influenced by the script.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec21"></a>Trigger Collider</h4></div></div></div><p>The Trigger Collider is <a id="id114" class="indexterm"></a>an invisible collider that fires events without any physical interaction. We<a id="id115" class="indexterm"></a> can define nonphysical area where Trigger Collider will fire event on interaction with game object.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note13"></a>Note</h3><p>Triggers should be used where a quick response is required. For games such as <span class="emphasis"><em>Tower Defense</em></span> where a quick response is required, Trigger Colliders are very useful.</p></div><p>The following events are called:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">OnTriggerEnter</code>: This <a id="id116" class="indexterm"></a>event is called when the object just enters</p></li><li style="list-style-type: disc"><p>
<code class="literal">OnTriggerStay</code>: This<a id="id117" class="indexterm"></a> event is called when the object is inside the trigger</p></li><li style="list-style-type: disc"><p>
<code class="literal">OnTriggerExit</code>: This <a id="id118" class="indexterm"></a>event is called when the object leaves the trigger</p></li></ul></div><p>When do we use Trigger Collider? As shown in the following figure, mainly, we use Trigger Collider for two scenarios:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_02_19.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch02lvl4sec10"></a>An example of proximity triggers</h5></div></div></div><p>During the development <a id="id119" class="indexterm"></a>of one of my games, I had to create a game play where when a player reaches the door, the door should open. In this case, I needed to put a Trigger Collider in front of the door. When the player reaches the door, it fires the <code class="literal">OnTriggerEnter</code> event where I was executing game logic accordingly:</p><div class="informalexample"><pre class="programlisting">    var  isInRange:Boolean = false;

function OnTriggerEnter(col:Collider)
{
  if(col.CompareTag("Player"))
  {
      // Write here logic for open the door.
   }
}</pre></div><p>Similarly, we can use <code class="literal">OnTriggerStay</code> and <code class="literal">OnTriggerExit</code>:</p><div class="informalexample"><pre class="programlisting">function OnTriggerStay(col:Collider)
{

  if(col.CompareTag("Player"))
  {
isInRange = true;
   }
}
function OnTriggerExit(col:Collider)
{
  if(col.CompareTag("Player"))
  {
isInRange = false;
   }
}</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch02lvl4sec11"></a>An example of radius triggers</h5></div></div></div><p>In some games such <a id="id120" class="indexterm"></a>as <span class="emphasis"><em>Tower Defense</em></span>, we are required to spawn troops or shoot enemies in a range; hence, we create a radius. When the game object enters within the defined radius, <code class="literal">OnTriggerEnter</code> events get fired:</p><div class="informalexample"><pre class="programlisting">    var  isInRange:Boolean = false;
function OnTriggerEnter(col:Collider)
{
  var spawn:SpawnPoint = col.GetComponent(SpawnPoint);
  if(spawn){
    spawn.shootBullets();
  }
}</pre></div><p>Similarly, we can use <code class="literal">OnTriggerStay</code> and <code class="literal">OnTriggerExit</code>:</p><div class="informalexample"><pre class="programlisting">function OnTriggerStay(col:Collider)
{
  isInRang = true;
}
function OnTriggerExit(col:Collider)
{
   isInRang = false;
}</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note15"></a>Note</h3><p><span class="strong"><strong>Warning</strong></span></p><p>Trigger Colliders respond to raycasts. Make sure your triggers are set to the Ignore Raycasts layer.</p></div></div></div></div></div>