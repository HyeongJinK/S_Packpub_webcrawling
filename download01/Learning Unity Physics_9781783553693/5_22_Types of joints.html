<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec24"></a>Types of joints</h2></div></div><hr /></div><p>Joints are one of the most important components of Unity3D. In this chapter, we will learn more about joints.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_01.jpg" /></div><p>Apart from<a id="id186" class="indexterm"></a> the previously mentioned joints in the preceding diagram, there is also a configurable joint that allows you to create complex joint configuration using different joints. Let's take a look at the different types of joints with examples.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec20"></a>Fixed joint</h3></div></div></div><p>The fixed joint<a id="id187" class="indexterm"></a> is used to group two Rigidbodies together in their bound<a id="id188" class="indexterm"></a> position. We use a fixed joint to parent the object in the hierarchy. By using this joint, we can lock the game object in the world. In this example, we <a id="id189" class="indexterm"></a>are going to learn how we can implement a fixed joint. Let's get started:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new scene and save it as <code class="literal">Fixed Joint Example</code>.</p></li><li><p>As shown in the following screenshot, create a <span class="strong"><strong>Sphere</strong></span> game object and assign a <span class="strong"><strong>Rigidbody</strong></span> component to it.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_02.jpg" /></div></li><li><p>As<a id="id190" class="indexterm"></a> you <a id="id191" class="indexterm"></a>can see in the following screenshot, apply the <span class="strong"><strong>green ball Material</strong></span> option and the <span class="strong"><strong>Use Gravity</strong></span> option from <span class="strong"><strong>Rigidbody</strong></span> for the sphere game object.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_03.jpg" /></div></li><li><p>To <a id="id192" class="indexterm"></a>apply a fixed joint as shown in the following screenshot, click <a id="id193" class="indexterm"></a>on <span class="strong"><strong>Component</strong></span> and select <span class="strong"><strong>Physics</strong></span>. From the <span class="strong"><strong>Physics</strong></span> menu, select <span class="strong"><strong>Fixed Joint</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_04.jpg" /></div></li><li><p>After <a id="id194" class="indexterm"></a>applying <span class="strong"><strong>Fixed Joint</strong></span>, look at the <span class="strong"><strong>Inspector</strong></span> panel; you<a id="id195" class="indexterm"></a> will see the options with the components, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_05.jpg" /></div></li><li><p>
<span class="strong"><strong>Connected Body</strong></span> refers to the other Rigidbody on which <span class="strong"><strong>Fixed Joint</strong></span> is dependent upon. Now we need to create a connector for it. Let's create a <span class="strong"><strong>Cylinder</strong></span> game object that will work as a connector to the sphere. As shown in the following screenshot, click on <span class="strong"><strong>GameObject</strong></span> and then select <span class="strong"><strong>Create Other</strong></span> to create the <span class="strong"><strong>Cylinder</strong></span> game object:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_06.jpg" /></div></li><li><p>Now<a id="id196" class="indexterm"></a> drag <span class="strong"><strong>Cylinder</strong></span> to <span class="strong"><strong>Connected Body</strong></span>. This will create the <a id="id197" class="indexterm"></a>connector for the <span class="strong"><strong>Sphere</strong></span> game object. The other options <span class="strong"><strong>Break Force</strong></span> and <span class="strong"><strong>Break Torque</strong></span> are required amount of force and torque which can break the joint. For now, we have set it to <span class="strong"><strong>Infinity</strong></span> to make it nonbreakable.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_07.jpg" /></div></li><li><p>Run the project and you will see that the sphere falls with the cylinder because it is fixed to the cylinder.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_08.jpg" /></div></li></ol></div><p>In the<a id="id198" class="indexterm"></a> preceding <a id="id199" class="indexterm"></a>example, we have learned how we can implement the fixed joints in development.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec21"></a>Spring joint</h3></div></div></div><p>Let's<a id="id200" class="indexterm"></a> move to the next joint, which is a spring joint. A spring joint makes<a id="id201" class="indexterm"></a> the Rigidbodies move like a spring. The applied game object gets pulled towards a particular position because of this joint. Spring joints, as their name implies, work on the principle of a spring where the specified game object tries to reach a target position, which we set in the scene view, while the attached Rigidbody will pull it away from the target position. As shown in the following diagram, if we apply a spring joint on a sphere, it will show the behavior of a spring and try to move toward the particular position. Here, <span class="strong"><strong>Min Distance</strong></span> will be the center of sphere while end of radius will work as <span class="strong"><strong>Max Distance</strong></span>. We<a id="id202" class="indexterm"></a> can modify the value of minimum <a id="id203" class="indexterm"></a>and maximum distance as per our requirements. The working of this joint is shown diagrammatically, as follows:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_09.jpg" /></div><p>In the following example, we are going to create a sphere that will have a spring joint:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>As shown in the following screenshot, let's create a sphere with a Rigidbody and apply <span class="strong"><strong>Spring Joint</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_10.jpg" /></div></li><li><p>As <a id="id204" class="indexterm"></a>shown in the following screenshot, we can set an <span class="strong"><strong>Anchor</strong></span> value. An <a id="id205" class="indexterm"></a>orange square above the sphere represents the anchor. Let's reset the <span class="strong"><strong>Y</strong></span> value and run the project. You will see the sphere's movement with the spring.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_11.jpg" /></div></li><li><p>We can set the number of springs by putting values for the <span class="strong"><strong>Spring</strong></span> option. We<a id="id206" class="indexterm"></a> have set it at <code class="literal">50</code> to increase the bounciness. Similar to <a id="id207" class="indexterm"></a>other joints, <span class="strong"><strong>Break Force</strong></span> and <span class="strong"><strong>Break Torque</strong></span> are the force and torque required to break the joint.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_12.jpg" /></div></li></ol></div><p>In the preceding example, we can see the different properties of a spring joint and their uses.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec22"></a>Hinge joint</h3></div></div></div><p>We <a id="id208" class="indexterm"></a>have <a id="id209" class="indexterm"></a>learned about a fixed joint and a spring joint. Now, let's learn about a hinge joint.</p><p>Normally, hinge joints are used to create a swinging door and a wrecking ball. The hinge joints<a id="id210" class="indexterm"></a> move along with the axis, as shown in the following diagram. If we apply a hinge joint on a door, it will move along with the axis.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_13.jpg" /></div><p>Let's<a id="id211" class="indexterm"></a> learn<a id="id212" class="indexterm"></a> to apply a hinge joint to a game object and also see which properties are associated with hinge joints:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new scene and save it as <code class="literal">Hinge Joint</code>.</p></li><li><p>Create a <span class="strong"><strong>Cube</strong></span> game object and apply a Rigidbody component to it. Scale it to give it the shape of a door.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_14.jpg" /></div></li><li><p>Now<a id="id213" class="indexterm"></a> apply<a id="id214" class="indexterm"></a> <span class="strong"><strong>Hinge Joint</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_15.jpg" /></div></li><li><p>After<a id="id215" class="indexterm"></a> applying material to it, give it a color, rotate it, and <a id="id216" class="indexterm"></a>run and test the movement of the door.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_16.jpg" /></div></li></ol></div><p>The hinge joint possesses several properties as options. We can use the properties of <span class="strong"><strong>Hinge Joint</strong></span> as per our requirements. Here, <span class="strong"><strong>Connected Body</strong></span> refers to the other Rigidbody with which the joint is dependent. <span class="strong"><strong>Anchor</strong></span> refers to the point at which the connected bodies can rotate. <span class="strong"><strong>Axis</strong></span> defines the axis of rotation. To apply spring force to a target angle, we apply <span class="strong"><strong>Spring</strong></span>. To slow the spring recoil, we set the <span class="strong"><strong>Damper</strong></span> value; <span class="strong"><strong>Motor</strong></span> to apply motor force; and <span class="strong"><strong>Limits</strong></span> to specify the angular limit.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_17.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec23"></a>Character joints</h3></div></div></div><p>The <a id="id217" class="indexterm"></a>character<a id="id218" class="indexterm"></a> joints work on the principle of a ball and socket movement with limit, which are normally used for Ragdoll effects. This consists of variables that handle the effects or movement.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note20"></a>Note</h3><p>Ragdoll Physics<a id="id219" class="indexterm"></a> is a type of procedural animation that is often used in video games and animated films. You can find details of using<a id="id220" class="indexterm"></a> Ragdoll Wizard of Unity3D at <a class="ulink" href="http://docs.unity3d.com/Manual/wizard-RagdollWizard.html" target="_blank">http://docs.unity3d.com/Manual/wizard-RagdollWizard.html</a>.</p></div><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_18.jpg" /></div><p>We are <a id="id221" class="indexterm"></a>going to create a character joint<a id="id222" class="indexterm"></a> for an arm. There are two types of movement, as shown in the previous diagram. We divide this arm in two parts—one is <span class="strong"><strong>Upper Arm</strong></span> and the second is <span class="strong"><strong>Lower Arm</strong></span>. We will see that there are two types of movement in this case—one is<a id="id223" class="indexterm"></a> movement with the axis and the other is movement in angle or we can say swinging movement.</p><p>Let's handle the arm animation with Unity Physics character joint:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a scene and name it <code class="literal">Character Joint example</code>.</p></li><li><p>Now <a id="id224" class="indexterm"></a>create an empty game object and name it <code class="literal">Arm</code>:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_19.jpg" /></div></li><li><p>Now, create<a id="id225" class="indexterm"></a> a <span class="strong"><strong>Cylinder</strong></span> object and apply <span class="strong"><strong>Rigidbody</strong></span> on it. Name it <code class="literal">Upper Arm</code>.</p></li><li><p>Click on <span class="strong"><strong>Component</strong></span> and apply <span class="strong"><strong>Character Joint</strong></span> on it.</p></li><li><p>Now, create another <span class="strong"><strong>Cylinder</strong></span> object and again apply Rigidbody on it. Name it <code class="literal">Lower arm</code>:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_20.jpg" /></div></li><li><p>Click <a id="id226" class="indexterm"></a>on <span class="strong"><strong>Component</strong></span> and then apply <span class="strong"><strong>Character Joint</strong></span>
<a id="id227" class="indexterm"></a> on it:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_21.jpg" /></div></li><li><p>Now let's play with the properties of character joints to get the required effect:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_22.jpg" /></div></li><li><p>By default, <span class="strong"><strong>Connected Body</strong></span> connects to the world. It represents the Rigidbody<a id="id228" class="indexterm"></a> on which the joint is dependent. Let's drag<a id="id229" class="indexterm"></a> the <span class="strong"><strong>Upper arm</strong></span> Rigidbody to the connected body option of <span class="strong"><strong>Lower arm</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_23.jpg" /></div><p>In the following screenshot, <span class="strong"><strong>Upper arm</strong></span> is <span class="strong"><strong>Connected Body</strong></span> for the lower arm:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_24.jpg" /></div><p>
<span class="strong"><strong>Anchor</strong></span> is where a joint rotates around. <span class="strong"><strong>Axis</strong></span> which have twist <a id="id230" class="indexterm"></a>axis and swing axis; using twist axis, we handle twisting while using swing axis, we handle swinging. <span class="strong"><strong>Low Twist Limit</strong></span> is for the lower limit of the joint and similarly, <span class="strong"><strong>High Twist Joint</strong></span> is <a id="id231" class="indexterm"></a>for the higher limit of the joint. Again, <span class="strong"><strong>Swing 1Limit</strong></span> is for the lower limit around the swing axis and <span class="strong"><strong>Swing 2Limit</strong></span> is for the upper limit around the swing axis.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note21"></a>Note</h3><p>The value for <span class="strong"><strong>Low Twist Limit</strong></span> is -30 and for <span class="strong"><strong>High Twist Limit</strong></span>, it is 60.</p><p>The <span class="strong"><strong>Swing 1Limit</strong></span> limits the rotation between -30 and 30.</p><p>The <span class="strong"><strong>Swing 2Limit</strong></span> will limit the rotation around that axis between -40 and 40 degrees.</p></div></li><li><p>Rotate the <span class="strong"><strong>Arm</strong></span> game object and test the scene.</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_25.jpg" /></div></li></ol></div><p>In the <a id="id232" class="indexterm"></a>previous example, we have learned how we can use the <a id="id233" class="indexterm"></a>character joint.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec24"></a>Configurable joints</h3></div></div></div><p>Configurable joint<a id="id234" class="indexterm"></a> possesses features of all the joints. It works on<a id="id235" class="indexterm"></a> the principle of two primary functions which are movement/rotation restriction and movement/rotation acceleration. We can see that there are multiple interdependent properties in the configurable joints. To get the required effect, we <a id="id236" class="indexterm"></a>will need to play with the values of its different <a id="id237" class="indexterm"></a>properties.</p><p>Let's see what do we mean by movement/rotation restriction. For this, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new scene and name it <code class="literal">Configurable Joints Example</code>.</p></li><li><p>As shown in the following screenshot, create a <span class="strong"><strong>Cube</strong></span> game object and apply <span class="strong"><strong>Configurable Joint</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_26.jpg" /></div></li><li><p>In<a id="id238" class="indexterm"></a> the <span class="strong"><strong>Inspector</strong></span> panel, we will see the following <a id="id239" class="indexterm"></a>properties:</p><div class="mediaobject"><img src="/graphics/9781783553693/graphics/3693OT_05_27.jpg" /></div></li></ol></div><p>Using <a id="id240" class="indexterm"></a>the previously shown different properties, we can achieve <a id="id241" class="indexterm"></a>the desired effect for your project. Now, let's see how we can handle the movement and rotation of different properties in the project.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec24"></a>Handling movement/rotation restriction</h4></div></div></div><p>We can <a id="id242" class="indexterm"></a>restrict movement as per the axis. <span class="strong"><strong>XMotion</strong></span>, <span class="strong"><strong>YMotion</strong></span>, and <span class="strong"><strong>ZMotion</strong></span> allow you to do that and while using <span class="strong"><strong>Angular XMotion</strong></span>, <span class="strong"><strong>Angular YMotion</strong></span>, and <span class="strong"><strong>Angular ZMotion</strong></span>, we can define the rotation. These properties can be set to <span class="strong"><strong>Free</strong></span> which means unrestricted, <span class="strong"><strong>Limited</strong></span> which means restricted based on limits, or <span class="strong"><strong>Locked</strong></span> which means restricted to zero movement.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch05lvl4sec12"></a>Limiting motions</h5></div></div></div><p>We can use the Limit properties to restrict the motion. Using <span class="strong"><strong>Linear Limit</strong></span>, we can define<a id="id243" class="indexterm"></a> the maximum distance from the origin point. Using <span class="strong"><strong>Bounciness</strong></span>, <span class="strong"><strong>Spring</strong></span>, and <span class="strong"><strong>Damper</strong></span>, we can define the behavior of the object when it reaches the limit on any of the limited motion axes. To stop the object's movement on the border, we set all these values to <code class="literal">0</code>. Using bounciness, we set the bounce back behavior of the object from the border similarly. <span class="strong"><strong>Spring</strong></span> and <span class="strong"><strong>Damper</strong></span> will create springing forces to apply the spring effect border.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch05lvl4sec13"></a>Limiting rotation</h5></div></div></div><p>We<a id="id244" class="indexterm"></a> can use the Limit properties to restrict the rotation. Limiting rotation works almost the same as limiting motion but the differences are the <span class="strong"><strong>Angular Limit</strong></span> properties. We can restrict translation along all three axes by defining the <span class="strong"><strong>Linear Limit</strong></span> property, and we can also restrict rotation along each of the three axes by defining the <span class="strong"><strong>Angular Limit</strong></span> property per axis.</p><p>Using the <span class="strong"><strong>Angular XMotion</strong></span> limitation, we can define a <span class="strong"><strong>Low Angular XLimit</strong></span> and a <span class="strong"><strong>High Angular XLimit</strong></span>. For the <span class="emphasis"><em>y</em></span> and <span class="emphasis"><em>z</em></span> axes, the low and high rotation limits will be the same, which we set using the Limit property of <span class="strong"><strong>Angular YLimit</strong></span> or <span class="strong"><strong>Angular ZLimit</strong></span>.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec25"></a>Handling movement/rotation acceleration</h4></div></div></div><p>Using <a id="id245" class="indexterm"></a>drive properties, we define the acceleration by defining the <span class="strong"><strong>Target</strong></span> value. To specify object movement or rotation in terms of moving the object toward a particular position or rotation, we need to define the <span class="strong"><strong>Target</strong></span> value to move toward, and using a drive to provide acceleration that will move the object toward that target.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch05lvl4sec14"></a>Handling translation acceleration</h5></div></div></div><p>Using<a id="id246" class="indexterm"></a> the <span class="strong"><strong>XDrive</strong></span>, <span class="strong"><strong>YDrive</strong></span>, and <span class="strong"><strong>ZDrive</strong></span> properties, we define movement along that axis. <span class="strong"><strong>Spring</strong></span> value defines the object's motion toward the <span class="strong"><strong>Target</strong></span> position. Similarly, if we are using velocity in its mode, its maximum force value defines acceleration toward the velocity.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch05lvl4sec15"></a>Handling rotation acceleration</h5></div></div></div><p>Rotation<a id="id247" class="indexterm"></a> acceleration properties contain the <span class="strong"><strong>Angular XDrive</strong></span>, <span class="strong"><strong>Angular YZDrive</strong></span>, and <span class="strong"><strong>Slerp Drive</strong></span> function similar to the translation <span class="strong"><strong>Drives</strong></span>. There is one small difference. <span class="strong"><strong>Slerp Drive</strong></span> behaves differently. It has different functionality than the <span class="strong"><strong>Angular Drive</strong></span> functionality so we cannot<a id="id248" class="indexterm"></a> use both together.</p></div></div></div></div>