<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec29"></a>Transforming Unity C# code into Unity JavaScript code and vice versa</h2></div></div><hr /></div><p>The following is an <a id="id348" class="indexterm"></a>example of how easy it is to convert your <a id="id349" class="indexterm"></a>Unity C# code to Unity JavaScript code and vice versa. You can find on the web a lot of different automatic tools that you can use for free in order get conversation between Unity Scripts done as early as possible. As an example, you can convert Unity JS to Unity C# on this <a class="ulink" href="http://www.m2h.nl/files/js_to_c.php" target="_blank">http://www.m2h.nl/files/js_to_c.php</a>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec62"></a>JavaScript variables and types</h3></div></div></div><p>By default, the Unity JS code <a id="id350" class="indexterm"></a>variables <a id="id351" class="indexterm"></a>are public and visible in Unity Inspector. In order to hide your variables from Unity inspector or from other classes, you should mark all those variables with a <code class="literal">private</code> keyword as shown in the following simple examples:</p><div class="informalexample"><pre class="programlisting">// private variables are invisible in Unity Inspector
private var length : float = 2.9;

// visible in Unity Inspector
var title : String = "Title";

// visible in Unity Inspector
var isLoop : boolean = false;</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec63"></a>C# variables and types</h3></div></div></div><p>Float values in C# must have a <a id="id352" class="indexterm"></a>lowercase <span class="strong"><strong>f</strong></span> or an uppercase <span class="strong"><strong>F</strong></span> at the end. Otherwise, it will be<a id="id353" class="indexterm"></a> treated as a double value. Also notice that in JS code, the string type should be written with the first letter uppercase. However, in C# code with lowercase letters you can see our simple examples here:</p><div class="informalexample"><pre class="programlisting">// public variables are visible in Unity Inspector
public float length = 2.9f;

// is invisible in Unity Inspector
string title = "Title";

// is invisible in Unity Inspector
private bool isLoop = false;</pre></div><p>By default, in Unity C# code, variables are private and invisible in the Unity inspector. In order to show your variables in the Unity inspector, you should mark all these variables with the <code class="literal">public</code> keyword as shown in our previous simple examples.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec64"></a>Converting types in Unity JS</h3></div></div></div><p>You can use the <a id="id354" class="indexterm"></a>following <a id="id355" class="indexterm"></a>code to convert types in Unity JS:</p><div class="informalexample"><pre class="programlisting">var length : float = 0.08; // variable with float type
var number : int = length; // converting float to integer
print(number); // prints "0" in Unity console</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec65"></a>Converting types in Unity C#</h3></div></div></div><p>You can use the following<a id="id356" class="indexterm"></a> code to <a id="id357" class="indexterm"></a>convert types in Unity C#:</p><div class="informalexample"><pre class="programlisting">float length = 0.08f; // variable with float type
int number = (int)length; // converting float to integer
Debug.Log(number); // prints "0" in Unity console</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec66"></a>Unity JS function versus Unity C# function</h3></div></div></div><p>The following code snippet shows the syntax of the code as written in Unity JS and Unity C#</p><div class="informalexample"><pre class="programlisting">// Unity JS Function
function YourFunctionName (yourStringVarName : String) {
    print(yourStringVarName);
}

// Unity C# Function
public void YourFunctionName (string yourStringVarName) {
    Debug.Log(yourStringVarName);
}</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec67"></a>Unity JS return versus Unity C# return</h3></div></div></div><p>In Unity JS, you don't <a id="id358" class="indexterm"></a>need to<a id="id359" class="indexterm"></a> declare return type as shown in a simple <a id="id360" class="indexterm"></a>function <a id="id361" class="indexterm"></a>example here:</p><div class="informalexample"><pre class="programlisting">function JSReturnString() {
    return "Hello World !";
}</pre></div><p>In Unity C#, you have to always declare a <code class="literal">return</code> type:</p><div class="informalexample"><pre class="programlisting">public string CSharpReturnString() {
    return "Hello World !";
}</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec68"></a>Unity JS yielding versus Unity C# yielding</h3></div></div></div><p>In JS yielding is quite simple, like<a id="id362" class="indexterm"></a> the <code class="literal">return</code> keyword. You can just use <a id="id363" class="indexterm"></a>yield statements without any declarations as shown in the simple example here:</p><div class="informalexample"><pre class="programlisting">function Start() {
    yield YourFunc();
    yield new WaitForSeconds(1.7);
    print("[Start] FINISH");
}

function YourFunc() {
    print("[YourFunc] START");
    yield new WaitForSeconds(0.8);
    print("[YourFunc] FINISH");
}

//Output will be similar as shown below:
// [YourFunc] START
// [YourFunc] FINISH
// [Start] FINISH</pre></div><p>In C# code, you should<a id="id364" class="indexterm"></a> declare the <code class="literal">IEnumerator</code> type in your <a id="id365" class="indexterm"></a>method declaration as shown in the following example:</p><div class="informalexample"><pre class="programlisting">IEnumerator Start() { 
    yield return StartCoroutine(YourMethod());
    yield return new WaitForSeconds(1.7f);
    Debug.Log("[Start] FINISH");
}

IEnumerator YourMethod() {
    Debug.Log("[YourMethod] START");
    yield return new WaitForSeconds(0.8f);
    Debug.Log("[YourMethod] FINISH");
}

//Output will be similar as shown below:
// [YourMethod] START
// [YourMethod] FINISH
// [Start] FINISH</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec69"></a>Unity JS directives versus Unity C# directives</h3></div></div></div><p>Unity has a number <a id="id366" class="indexterm"></a>of <span class="strong"><strong>script directives</strong></span>, for example, <code class="literal">AddComponentMenu</code>. The <a id="id367" class="indexterm"></a>difference in syntax is shown in the following code:</p><div class="informalexample"><pre class="programlisting">// Unity JS example
@script AddComponentMenu ("Your Company Name/Your Action Name")
class YourFunctionName extends MonoBehaviour {}

// Unity C# example
[AddComponentMenu("Your Scope Name/Your Action Name")]
public class YourMethodName : MonoBehaviour {}</pre></div></div></div>