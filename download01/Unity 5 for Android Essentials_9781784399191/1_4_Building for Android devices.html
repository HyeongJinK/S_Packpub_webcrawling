<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec10"></a>Building for Android devices</h2></div></div><hr /></div><p>After creating a new <a id="id21" class="indexterm"></a>project in Unity, it is a good idea to <a id="id22" class="indexterm"></a>adjust the global quality settings as shown in the following figure. Most of them affect your game performance. Let's look deeper at <span class="strong"><strong>QualitySettings</strong></span>, as it is a must before building applications for Android devices:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_01_03.jpg" /></div><p>Unity allows you to create a template for your quality settings; you can also select one of the templates available in Unity by default. These settings greatly affect the performance of your application and the quality of your graphics. It is especially important for mobile platforms, where resources are very limited. You will need to play around with the settings on your target platforms to find the best template settings for your quality and performance. To access these settings, you need to navigate to <span class="strong"><strong>Edit</strong></span> | <span class="strong"><strong>Project Settings</strong></span> | <span class="strong"><strong>Quality</strong></span>. You can select different templates separately for each platform supported by Unity. This setup window is divided into two main parts. The upper part, as shown in the preceding figure, is for managing templates, while the lower part, as shown in the following figure, is responsible for the settings themselves.</p><p>Each pattern (even Unity built-in templates) can be named as you wish. For all platforms supported by Unity, you can choose several accessible settings templates and also a default one. The default settings template is highlighted in green. Your settings should be as simple as possible, especially for mobile platforms. Unity allows you to create new settings templates and<a id="id23" class="indexterm"></a> delete them by clicking on the icon with <a id="id24" class="indexterm"></a>the basket.</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_01_04.jpg" /></div><p>The first part we intend to cover is <span class="strong"><strong>Rendering</strong></span> as shown in the preceding screenshot. It contains the <span class="strong"><strong>Pixel Light Count</strong></span> option that affects the upper limit pixel light only within <span class="strong"><strong>Forward Rendering</strong></span> mode. The <span class="strong"><strong>Forward Rendering</strong></span> path renders each object in one or more passes, depending on lights that affect the object. Lights themselves are also treated differently by <span class="strong"><strong>Forward Rendering</strong></span>, depending on their settings and intensity.</p><p>The <span class="strong"><strong>Rendering</strong></span> part contains the <span class="strong"><strong>Texture Quality</strong></span> property with four existing options: <span class="strong"><strong>Full Res</strong></span>, <span class="strong"><strong>Half Res</strong></span>, <span class="strong"><strong>Quarter Res</strong></span>, and <span class="strong"><strong>Eighth Res</strong></span>. This lets you choose whether to display textures at maximum resolution or at a fraction of this (lower resolution has less processing overhead). Always remember, in any project you need to find a golden balance between the next two characteristics: quality and performance. The following property is named <span class="strong"><strong>Anisotropic Textures</strong></span>, and it allows you to select just three values: <span class="strong"><strong>Disabled</strong></span>, <span class="strong"><strong>Per Texture</strong></span>, and <span class="strong"><strong>Forced On</strong></span>. This describes if and how anisotropic textures will be used. On Wikipedia (<a class="ulink" href="http://en.wikipedia.org/wiki/Anisotropic_filtering" target="_blank">http://en.wikipedia.org/wiki/Anisotropic_filtering</a>), we can read next about anisotropic <a id="id25" class="indexterm"></a>filtering: "In 3D computer <a id="id26" class="indexterm"></a>graphics, <span class="strong"><strong>anisotropic filtering</strong></span> (abbreviated <span class="strong"><strong>AF</strong></span>) is a method of enhancing the image quality of<a id="id27" class="indexterm"></a> textures on surfaces of computer graphics that are at oblique viewing angles with respect to the camera where the projection of the texture (not the polygon or other primitive on which it is rendered) appears to be non-orthogonal (thus the origin of the word: "an" for not, "iso" for same, and "tropic" from tropism, relating to direction; anisotropic filtering does not filter the same in every direction)".</p><p>The next property you learn about is <a id="id28" class="indexterm"></a>
<span class="strong"><strong>anti-aliasing</strong></span>. Anti-aliasing can be turned off by selecting the <span class="strong"><strong>Disabled</strong></span> option or it can be turned on by selecting <span class="strong"><strong>2x</strong></span>, <span class="strong"><strong>4x</strong></span>, and <span class="strong"><strong>8x Multi Sampling</strong></span> options. The next setting is just to toggle soft blending for particles, and its name is <span class="strong"><strong>Soft Particles</strong></span>. This was the last option for the <span class="strong"><strong>Rendering</strong></span> part.</p><p>The next part is <span class="strong"><strong>Shadows</strong></span>, and the name absolutely describes itself and its purpose. We can choose one value from three open values: <span class="strong"><strong>Hard and Soft Shadows</strong></span>, <span class="strong"><strong>Hard Shadows Only</strong></span>, and <span class="strong"><strong>Disable Shadows</strong></span>. A big processing overhead can result if you choose the highest resolution for the <span class="strong"><strong>Shadow Resolution</strong></span> option. Possible settings are the following: <span class="strong"><strong>Low</strong></span>, <span class="strong"><strong>Medium</strong></span>, <span class="strong"><strong>High</strong></span>, and <span class="strong"><strong>Very High</strong></span>. There are two separate routines for anticipating shadows from a directional light within the Shadow Projection option. If we choose <span class="strong"><strong>Close Fit</strong></span>, then it renders higher resolution shadows, which can in some cases wobble marginally if the camera moves. The next option, and the last one for <span class="strong"><strong>Shadow Projection</strong></span>, is the <span class="strong"><strong>Stable Fit</strong></span> value, which is the opposite of <span class="strong"><strong>Close Fit</strong></span>. This means that <span class="strong"><strong>Stable Fit</strong></span> renders a lower resolution but without any artifacts when the camera moves. Next is the <span class="strong"><strong>Shadow Cascades</strong></span> setting, which has an effect on processing overhead. A higher cycle of cascades can cope with more processing overhead. Do not forget about the golden balance. Obtainable options for <a id="id29" class="indexterm"></a>cascades are next: <span class="strong"><strong>No Cascades</strong></span>, <span class="strong"><strong>Two Cascades</strong></span>, and <span class="strong"><strong>Four Cascades</strong></span>.</p><p>
<a class="ulink" href="http://docs.unity3d.com/460/Documentation/Manual/DirectionalShadowDetails.html" target="_blank">http://docs.unity3d.com/460/Documentation/Manual/DirectionalShadowDetails.html</a>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note03"></a>Note</h3><p>On mobile platforms, real-time shadows for directional lights always use one shadow cascade and are <a id="id30" class="indexterm"></a>
<span class="strong"><strong>hard shadows</strong></span>.</p><p>Directional lights<a id="id31" class="indexterm"></a> are mostly used as a key light—sunlight or moonlight—in an outdoor game. Viewing distances can be huge, especially in first and third person games, and shadows often require some tuning to get the best quality versus performance balance for your situation.</p></div><p>The value of <span class="strong"><strong>Shadow Distance</strong></span> is responsible for how far we can see shadows. Shadows beyond this length are visible, others are not.</p><p>In the <a id="id32" class="indexterm"></a>following text, we are going to explore <a id="id33" class="indexterm"></a>what is known as <span class="strong"><strong>Other</strong></span> part. It contains five options for tuning any project. Let's start with the first option—<span class="strong"><strong>Blend Weights</strong></span>. We can choose just three values which are very important for performance within this setting. The lower the value, the higher the performance. This setting tells the number of bones that can affect a given vertex during an animation. We can select <span class="strong"><strong>1 Bone</strong></span>, <span class="strong"><strong>2 Bones</strong></span>, or <span class="strong"><strong>4 Bones</strong></span>; not more and not less. The next feature highly affects the performance and is not the first priority question about quality because of its hardly visible artifact. The name of this setting is <span class="strong"><strong>VSync Count</strong></span> and the name of this artifact is known as <a id="id34" class="indexterm"></a>
<span class="strong"><strong>tearing</strong></span>. If we want to avoid such artifacts then we need to synchronize rendering with the refresh rate of the display device, but do not forget about your performance. Synchronization can reduce a lot of your performance, so you should be ready for such kind of conditions. There are just three existing options for the <span class="strong"><strong>VSync Count</strong></span> parameter: the first option is for synchronization with every <a id="id35" class="indexterm"></a>
<span class="strong"><strong>vertical blank</strong></span> (<span class="strong"><strong>VBlank</strong></span>), the second value is for synchronization with every second vertical blank, and the third option allows us to disable all synchronizations, thereby speeding up your application. The next setting in our research is <span class="strong"><strong>LOD Bias</strong></span>. This value does its work only when Unity needs to decide which LOD level to choose. For example, when there is a choice between two LOD levels, <span class="strong"><strong>LOD Bias</strong></span> comes to help by selecting only one value. This is set in a range from zero to one as a fraction. The closer to zero, the less detailed a level will be chosen and vice versa. There are two remaining options that we will now consider. The first is <span class="strong"><strong>Maximum LOD Level</strong></span>, and its purpose is to remember the number for the highest LOD level that you can use in your project. The second is <span class="strong"><strong>Particle RayCast Budget</strong></span>, which needs particle system collisions with <span class="strong"><strong>Low</strong></span> and <span class="strong"><strong>Medium</strong></span> qualities, and this number describes the highest value of ray cast for physics approximation.</p><p>As for the <span class="strong"><strong>Maximum LOD level</strong></span> parameter, all models in which the value will be less than this number will not be included in the build; Unity will ignore them, which can significantly reduce the amount of spending memory for your application or your game. The initial default value for this parameter is zero, which means that every model will be included in your build regardless of its level of detail. For each platform, depending on its configuration, Unity will use the smallest possible LOD level.</p><p>If the Android SDK installation and Unity setup are successful, you can safely create a build of your project. To do this, you will need to navigate to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Build Settings</strong></span>, and in the opened window, you can create a build for various supported platforms as shown in the following figure. If you have properly installed the Android SDK and configured Android and have quality and player settings in Unity, you can safely click on the <span class="strong"><strong>Build</strong></span> button or on the <span class="strong"><strong>Build And Run</strong></span> button (if your Android device is properly configured and connected via USB) in the lower-right corner of the window.</p><p>Now, it's time <a id="id36" class="indexterm"></a>to build Glow Hockey (we will create this game in Unity 5 from scratch in the last chapter in this book). First of all, you should<a id="id37" class="indexterm"></a> create a new project in the Unity Editor. You can name it as you wish. To create a new project, you should click on the <span class="strong"><strong>Create Project</strong></span> button in the bottom-right corner of the window.</p><p>The Unity Editor will be shown after creating the new project.</p><p>Glow Hockey is a very good example for the deployment of the project on the various platforms supported by Unity. In this game, there are many different effects, animations, sound effects, physics, and many other aspects from Unity. After deploying this project on an Android platform, you can test the various functions that are supported by Unity.</p><p>After opening the main <span class="strong"><strong>Glow Hockey</strong></span> scene, you can make any changes or perform experiments as you wish. However, in this chapter, our goal is just to build this game on an Android device. We will not make any changes in the project in this chapter.</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_01_05.jpg" /></div><p>After opening<a id="id38" class="indexterm"></a> the <span class="strong"><strong>Build Settings</strong></span> window, you <a id="id39" class="indexterm"></a>should select the <span class="strong"><strong>Android</strong></span> platform, following which you can create an <code class="literal">.apk</code> file by clicking on the <span class="strong"><strong>Build </strong></span>button in the bottom-right corner in order to share it with your friends, for example. Also, you can press the <span class="strong"><strong>Build And Run</strong></span> button to export an <code class="literal">.apk</code> file as in the first case and to deploy this project right onto a connected device via the USB cable at the same time.</p><p>Now, let's discover more about Unity license comparison in the next section.</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_01_06.jpg" /></div></div>