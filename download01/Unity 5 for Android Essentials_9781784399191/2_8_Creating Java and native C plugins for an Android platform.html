<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec13"></a>Creating Java and native C plugins for an Android platform</h2></div></div><hr /></div><p>Before creating a <a id="id100" class="indexterm"></a>Java or native C plugin for an Android <a id="id101" class="indexterm"></a>platform inside Unity, you should<a id="id102" class="indexterm"></a> install the Android NDK. Also, if you <a id="id103" class="indexterm"></a>don't know how to build a shared library, then you should find out more about this process. A lot of information about Android NDK<a id="id104" class="indexterm"></a> can be found on the web, for example, the Android official documentation can be found at <a class="ulink" href="https://developer.android.com/tools/sdk/ndk/index.html" target="_blank">https://developer.android.com/tools/sdk/ndk/index.html</a> or in many different books by Packt Publishing; for example, see visit <a class="ulink" href="https://www.packtpub.com/application-development/android-ndk-beginner's-guide" target="_blank">https://www.packtpub.com/application-development/android-ndk-beginner's-guide</a>. Information about Android NDK is beyond the scope of this book.</p><p>Some parts of your game or app can be implemented using native-code languages, such as <span class="strong"><strong>C</strong></span> or <span class="strong"><strong>C++</strong></span>. The <span class="strong"><strong>Android NDK</strong></span>
<a id="id105" class="indexterm"></a> is a toolset with multiple features and possibilities. You will not need to use the Android NDK in every project, but in some games or applications, it will be very helpful to reuse some custom or third-party code libraries in native languages, such as <span class="strong"><strong>C</strong></span> or <span class="strong"><strong>C++</strong></span>. There are much more possible use cases.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note04"></a>Note</h3><p>Before using Android NDK, you should keep in mind that this approach is not always necessary and almost always increases the level of complexity of the code.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec33"></a>Creating plugins in C</h3></div></div></div><p>Let's explore a very simple<a id="id106" class="indexterm"></a> and basic plugin example that is written in C programming <a id="id107" class="indexterm"></a>language as shown in the following code:</p><div class="informalexample"><pre class="programlisting">extern "C" {
  float Unity5AndroidPluginNativeC() {
    return 5.5f;
  }
}</pre></div><p>After building our simple plugin example as a shared library, you should put it into the <code class="literal">Assets/Plugins/Android</code> directory. Now, let's discover how to use our native C plugin in Unity C# script as shown here:</p><div class="informalexample"><pre class="programlisting">[DLLImport ("NameOfYourPlugin")]
private static extern float Unity5AndroidPluginNativeC();</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note05"></a>Note</h3><p>Note that you cannot specify library extensions, such as <code class="literal">.lib</code> or <code class="literal">.so</code> in the name of your plugin. Also, you should wrap the entire native C code by Unity C# code, in order to check which platform your application is running on and if you can use this native C plugin.</p><p>You have an opportunity to use precompiled Android libraries in Unity.</p></div><p>Let's look at how we can empower Unity 5, using the Java programming language for our Android games and applications. In order to use this advanced functionality in Unity, you must export Java code into a JAR file. Advanced functionality is not needed for each project, but this knowledge will still be useful for you often enough.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note06"></a>Note</h3><p>The Unity library for Android plugins is located on <span class="strong"><strong>Windows</strong></span> at <code class="literal">C:\Program Files\Unity\Editor\Data\PlaybackEngines\androidplayer\development\bin\classes.jar</code> and <code class="literal">C:\Program Files\Unity\Editor\Data\PlaybackEngines\androidplayer\release\bin\classes.jar</code>.</p><p>The Unity library for Android plugins is located on <span class="strong"><strong>Mac OS X</strong></span> at <code class="literal">Unity/Contents/PlaybackEngines/AndroidPlayer/development/bin/classes.jar</code> and <code class="literal">Unity/Contents/PlaybackEngines/AndroidPlayer/release/bin/classes.jar</code>.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec34"></a>Creating plugins in Java (Eclipse IDE)</h3></div></div></div><p>Next, let's take a look at<a id="id108" class="indexterm"></a> how we can create our custom plugin by using <a id="id109" class="indexterm"></a>Java programming language in Eclipse IDE. You can also choose any other IDE which will be comfortable for you. First, you need to create a new project as shown in the following figure:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_01.jpg" /></div><p>Once you choose <span class="strong"><strong>Android Application Project</strong></span>, you should click on the <span class="strong"><strong>Next &gt;</strong></span> button at the bottom of the window. After that, you will see the window as shown in the screenshot here:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_02.jpg" /></div><p>You should set the values<a id="id110" class="indexterm"></a> for <span class="strong"><strong>Application Name</strong></span>, <a id="id111" class="indexterm"></a>
<span class="strong"><strong>Project Name</strong></span>, and <span class="strong"><strong>Package Name</strong></span> as you wish or as in the preceding figure for our simple plugin example. Also, you can set other settings such as <span class="strong"><strong>Minimum Required SDK</strong></span>, <span class="strong"><strong>Target SDK</strong></span>, <span class="strong"><strong>Compile With</strong></span>, and <span class="strong"><strong>Theme</strong></span>. After that, click on the <span class="strong"><strong>Next &gt;</strong></span> button at the bottom of the window, and you will see the following window:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_03.jpg" /></div><p>You can use the <a id="id112" class="indexterm"></a>settings as shown in the preceding <a id="id113" class="indexterm"></a>figure. After opening this window you should click on the <span class="strong"><strong>Next &gt;</strong></span> button at the bottom of this window, after which the following window will open:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_04.jpg" /></div><p>You can use the <a id="id114" class="indexterm"></a>default settings shown here. Further, you can click<a id="id115" class="indexterm"></a> on the <span class="strong"><strong>Next &gt;</strong></span> button at the bottom of this window, following which you will see the window shown here:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_05.jpg" /></div><p>Here, you should <a id="id116" class="indexterm"></a>set the <span class="strong"><strong>Activity name</strong></span>, <span class="strong"><strong>Layout Name</strong></span>, and<a id="id117" class="indexterm"></a> <span class="strong"><strong>Navigation Type</strong></span> fields as you wish or as seen in the earlier screenshot. Then, you can click on the <span class="strong"><strong>Finish</strong></span> button at the bottom-right corner as shown in preceding figure.</p><p>Next, let's copy the Unity <code class="literal">classes.jar</code> library into the <code class="literal">libs</code> folder as shown here:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_06.jpg" /></div><p>Now, open <a id="id118" class="indexterm"></a>the <code class="literal">UnityFlashlightActivity.java</code> file shown in the preceding screenshot. This file was generated automatically <a id="id119" class="indexterm"></a>by<a id="id120" class="indexterm"></a> <span class="strong"><strong>Android Development Tools</strong></span> (<span class="strong"><strong>ADT</strong></span>, plugin for Eclipse IDE).</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec01"></a>Writing Java code in plugin</h4></div></div></div><p>This is the time to <a id="id121" class="indexterm"></a>change <a id="id122" class="indexterm"></a>your <span class="strong"><strong>UnityFlashlightActivity</strong></span>
<a id="id123" class="indexterm"></a> code so that you can use this Android functionality in Unity scripts. For this, you should inherit the <code class="literal">UnityFlashlightActivity</code> class from<a id="id124" class="indexterm"></a> <span class="strong"><strong>UnityPlayerActivity</strong></span>, but not from the simple activity that is provided by Android SDK. The new code is shown here:</p><div class="informalexample"><pre class="programlisting">package com.packtpub.unityflashlight;
import com.unity3d.player.UnityPlayerActivity;
import android.os.Bundle;

public class UnityFlashlightActivity extends UnityPlayerActivity {

  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
  }
}</pre></div><p>The next step is to create new the <code class="literal">Flashlight.java</code> class as shown here:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_07.jpg" /></div><p>Firstly, we should declare<a id="id125" class="indexterm"></a> our package name and the classes we need to import as <a id="id126" class="indexterm"></a>shown in the code here:</p><div class="informalexample"><pre class="programlisting">package com.packtpub.unityflashlight;

import com.unity3d.player.UnityPlayerActivity;
import android.content.pm.PackageManager;
import android.hardware.Camera;
import android.hardware.Camera.Parameters;</pre></div><p>Then, let's declare our <code class="literal">Flashlight</code> class and its variables as shown here:</p><div class="informalexample"><pre class="programlisting">public class Flashlight {
public UnityPlayerActivity unityPlayerActivity;
   public boolean isActiveFlashlight;

private Camera _cameraHardware;</pre></div><p>The <code class="literal">cameraHardware</code> variable is the object of the <code class="literal">Camera</code> class that is provided by Android SDK, for using different features of the hardware camera. Now, it is time to write a constructor function for this class as shown here:</p><div class="informalexample"><pre class="programlisting">public Flashlight(UnityPlayerActivity upa) {
  // Unity Player Activity
unityPlayerActivity = upa;
   
  // Is Flashlight turned ON or OFF on the device
isActiveFlashlight = false;

// Receiving back hardware camera     
_cameraHardware = Camera.open();
}</pre></div><p>We will use the <code class="literal">unityPlayerActivity</code> variable for accessing the Android context and the <code class="literal">PackageManager</code> class <a id="id127" class="indexterm"></a>that is provided by Android SDK. We will also use<a id="id128" class="indexterm"></a> the <code class="literal">isActiveFlashlight</code> variable for turning the device's flashlight on and off. The last variable, <code class="literal">_cameraHardware</code>, will be used for accessing flashlight on a device. Now it is time to write a function that will check whether an Android device has the flashlight feature. The function code is shown in the following code:</p><div class="informalexample"><pre class="programlisting">public boolean HardwareHasFlashlight() { 
       return (
unityPlayerActivity.
getPackageManager().
hasSystemFeature(PackageManager.FEATURE_CAMERA_FLASH)
       );
}</pre></div><p>The next step is to describe the function that will turn on a flashlight on an Android device if it has this hardware feature:</p><div class="informalexample"><pre class="programlisting">public void ActivateFlashlight() {
if(HardwareHasFlashlight()) {
          isActiveFlashlight = true;
         
           _cameraHardware = Camera.open();     
             
           Parameters params = _cameraHardware.getParameters();

           params.setFlashMode(Parameters.FLASH_MODE_TORCH);
             
           _cameraHardware.setParameters(params);

      // Turn ON a flashlight
           _cameraHardware.startPreview();
       }
}</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec02"></a>Turning on and off a hardware flashlight</h4></div></div></div><p>Now let's write a function that will turn off a <a id="id129" class="indexterm"></a>flashlight on an <a id="id130" class="indexterm"></a>Android device, if it has this hardware feature:</p><div class="informalexample"><pre class="programlisting">public void DeactivateFlashlight() {
if(HardwareHasFlashlight()) {
       isActiveFlashlight = false;
             
    // Turn OFF a flashlight
        _cameraHardware.stopPreview();
      
        _cameraHardware.release();
}
}</pre></div><p>The simplest method in this class is shown in the following code. Next, we should close our <code class="literal">Flashlight</code> class using the following code:</p><div class="informalexample"><pre class="programlisting">public boolean IsActiveFlashlight() {
       return isActiveFlashlight;
}
}</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note07"></a>Note</h3><p>If you receive an error with the <code class="literal">unityPlayerActivity.getPackageManager()</code> function, then you will need to change your minimal Android SDK version in the <code class="literal">AndroidManifest.xml</code> file as shown in the line of code here:</p><div class="informalexample"><pre class="programlisting">&lt;uses-sdk android:minSdkVersion="9"/&gt;</pre></div></div><p>Now, let's change our UnityFlashlightActivity a little, as shown in the following code:</p><div class="informalexample"><pre class="programlisting">package com.packtpub.unityflashlight;

import com.unity3d.player.UnityPlayerActivity;

import android.os.Bundle;

public class UnityFlashlightActivity extends UnityPlayerActivity {
  public Flashlight flashlight = new Flashlight(this);
  
  @Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
  }
}</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec03"></a>On Unity side</h4></div></div></div><p>Here, we will create a new scene for our Android plugin test<a id="id131" class="indexterm"></a> in our<a id="id132" class="indexterm"></a> project:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_08.jpg" /></div><p>Name this new scene as you wish, following which you should create a new <code class="literal">Assets/Plugins/Android</code> folder. You can put in the <code class="literal">AndroidManifest.xml</code>, JAR files, and Android resources files in this folder.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec04"></a>Exporting and importing a JAR library from Eclipse into Unity</h4></div></div></div><p>Now, let's go back to the <a id="id133" class="indexterm"></a>Eclipse <a id="id134" class="indexterm"></a>editor and <a id="id135" class="indexterm"></a>right click on the mouse button on our <span class="strong"><strong>Flashlight</strong></span> <a id="id136" class="indexterm"></a>project. Click on the <span class="strong"><strong>Export…</strong></span> button as shown here:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_09.jpg" /></div><p>You will see the window as shown in the following screenshot. Select <span class="strong"><strong>JAR file</strong></span> and click on the <span class="strong"><strong>Next &gt;</strong></span> button at the bottom of the window.</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_10.jpg" /></div><p>In the following<a id="id137" class="indexterm"></a> window, select the options you wish or <a id="id138" class="indexterm"></a>just set <a id="id139" class="indexterm"></a>them up as <a id="id140" class="indexterm"></a>shown here:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_11.jpg" /></div><p>Choose the JAR file path that should be targeted as our new <code class="literal">Asset/Plugins/Android </code>folder in Unity.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec05"></a>Importing AndroidManifest</h4></div></div></div><p>The next step is to <a id="id141" class="indexterm"></a>create a new <code class="literal">AndroidManifest.xml</code> file in the <code class="literal">Asset/Plugins/Android</code> folder. The manifest declarations are shown as follows:</p><div class="informalexample"><pre class="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.packtpub.unityflashlight"
    android:versionCode="1"
    android:versionName="1.0" &gt;

    &lt;uses-sdk android:minSdkVersion="9"/&gt;

    &lt;application
        android:icon="@drawable/app_icon"
        android:label="@string/app_name"&gt;
        &lt;activity
            android:name="com.packtpub.unityflashlight.UnityFlashlightActivity"
            android:configChanges = "keyboardHidden|orientation"
            android:label="@string/app_name" &gt;
            &lt;intent-filter&gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;

                &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;

  &lt;uses-permission android:name="android.permission.CAMERA"/&gt;
    &lt;uses-permission android:name="android.permission.WRITE_SETTINGS"/&gt;
    &lt;uses-feature android:name="android.hardware.camera" /&gt;
    &lt;uses-feature android:name="android.hardware.camera.autofocus" /&gt;

&lt;/manifest&gt;</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec06"></a>Using Java plugins in Unity scripts</h4></div></div></div><p>Here, we will create a very <a id="id142" class="indexterm"></a>simple <code class="literal">FlashlightActivity.cs</code> script in <a id="id143" class="indexterm"></a>Unity as shown in the following code:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;

public static class FlashlightActivity
{
  #if UNITY_ANDROID &amp;&amp; !UNITY_EDITOR
    public static AndroidJavaClass activityClass = new AndroidJavaClass("com.packtpub.unityflashlight.UnityFlashlightActivity");
    public static AndroidJavaClass unityActivityClass = new AndroidJavaClass("com.unity3d.player.UnityPlayer");
    public static AndroidJavaObject activityObj = unityActivityClass.GetStatic&lt;AndroidJavaObject&gt;("currentActivity");
  #else
    public static AndroidJavaClass activityClass;
    public static AndroidJavaClass unityActivityClass;
    public static AndroidJavaObject activityObj;
  #endif
}</pre></div><p>Then, we will <a id="id144" class="indexterm"></a>implement<a id="id145" class="indexterm"></a> <code class="literal">Flashlight.cs</code> as shown here:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;

public static class Flashlight
{
  #if UNITY_ANDROID &amp;&amp; !UNITY_EDITOR
    private static AndroidJavaObject flashlight = FlashlightActivity.activityObj.Get&lt;AndroidJavaObject&gt;("flashlight");
  #else
    private static AndroidJavaObject flashlight;
  #endif
  
  public static bool HardwareHasFlashlight()
  {
    if (Application.platform == RuntimePlatform.Android)
      return flashlight.Call&lt;bool&gt;("HardwareHasFlashlight");
    else
      return false;
  }
  
  public static bool IsActiveFlashlight()
  {
    if (Application.platform == RuntimePlatform.Android)
      return flashlight.Call&lt;bool&gt;("IsActiveFlashlight");
    else
      return false;
  }
  
  public static void ActivateFlashlight()
  {
    if (Application.platform == RuntimePlatform.Android)
      flashlight.Call("ActivateFlashlight");
  }
  
  public static void DeactivateFlashlight()
  {
    if (Application.platform == RuntimePlatform.Android)
      flashlight.Call("DeactivateFlashlight");
  }
}</pre></div><p>This class is very <a id="id146" class="indexterm"></a>simple, and we will not explain it. This class <a id="id147" class="indexterm"></a>just recalls the Android Java methods. In the end, let's create one more very simple class that should be attached on <span class="strong"><strong>MainCamera</strong></span> in our new scene. The filename is <code class="literal">FlashlightTest.cs</code>, and its code is shown here:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;

public class FlashlightTest : MonoBehaviour {
  void Start () {
    Flashlight.ActivateFlashlight();
  }

  void OnApplicationQuit() {
    Flashlight.DeactivateFlashlight();
  }
}</pre></div><p>At the end, we can make a new build for Android devices with just one single scene as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784399191/graphics/9191OT_02_12.jpg" /></div><p>We can access many <a id="id148" class="indexterm"></a>different Android properties ready for use in <a id="id149" class="indexterm"></a>Unity 5. You should use the <code class="literal">UNITY_ANDROID</code> defined constant by Unity for conditionally, compiling the Android-specific C# code. Further, in this chapter you will learn how to use different Android features and the properties inside Unity scripts. Most of the Android features in Unity are presented by <span class="strong"><strong>Handheld</strong></span>
<a id="id150" class="indexterm"></a> and <span class="strong"><strong>Input</strong></span>
<a id="id151" class="indexterm"></a>
<span class="strong"><strong> </strong></span>classes. Let's look at the Android features you will explore next:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Anti-piracy check</p></li><li style="list-style-type: disc"><p>Vibration</p></li><li style="list-style-type: disc"><p>Activity indicator</p></li><li style="list-style-type: disc"><p>Screen orientation</p></li><li style="list-style-type: disc"><p>System information</p></li></ul></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec35"></a>Anti-piracy check</h3></div></div></div><p>Let's explore <span class="strong"><strong>anti-piracy</strong></span> checks <a id="id152" class="indexterm"></a>first. Very often, if not always, you should protect your Android game or application from pirates that hack games and applications in order to redistribute them for free. With the help of Unity, we can make an anti-piracy check that shows if our game or application was changed after it was built.</p><p>You should check the <code class="literal">Application.genuine</code> Boolean property, which is provided by the Unity library. If this property is <code class="literal">false</code>, then you can notify the user that it is a hacked version, or you can cut some functionality, and you can do any other actions or combinations of them. The <code class="literal">Application.genuine</code> check is a very expensive operation, so you it is best not to check this property so often, just when it is required.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec36"></a>Vibration</h3></div></div></div><p>In order to make an Android device <a id="id153" class="indexterm"></a>vibrate, you should call the <code class="literal">Handheld.Vibrate()</code> method, which is provided by the Unity library.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec37"></a>Activity Indicator</h3></div></div></div><p>You can use <span class="strong"><strong>Activity Indicator</strong></span>
<a id="id154" class="indexterm"></a> for slow operations. There is an Android built-in Activity Indicator. Let's explore a very simple code example which is shown here:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

public class ShowActivityIndicator : MonoBehaviour {
  IEnumerator ActivityIndicatorExample()
  {
    #if UNITY_ANDROID 
      Handheld.SetActivityIndicatorStyle(
        AndroidActivityIndicatorStyle.Small
      );
    #endif
    
    Handheld.StartActivityIndicator();
    yield return new WaitForSeconds(0);
    Application.LoadLevel(1);
  }
  
  void OnGUI()
  {
    if( GUI.Button(new Rect(50, 50, 300, 300), "Start") ) {
      StartCoroutine(ActivityIndicatorExample());
    }
  }
}</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec38"></a>Screen orientation</h3></div></div></div><p>Also, you can control the Android screen<a id="id155" class="indexterm"></a> orientation inside Unity scripts. You can detect a screen rotation or you can force a screen rotation to a specific orientation. In order to get the current device orientation, you should access the <code class="literal">Screen.orientation</code> property. Also, you can set this property to any desired screen orientation to force rotation. You can find more about different screen orientation properties and constants in the Unity manual.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec39"></a>System information</h3></div></div></div><p>If you need more information about <a id="id156" class="indexterm"></a>your system, you can use static variables from the <code class="literal">SystemInfo</code> class, which is provided by the Unity library. More information about these variables<a id="id157" class="indexterm"></a> can be found in the official Unity documentation located at <a class="ulink" href="http://docs.unity3d.com/ScriptReference/SystemInfo.html" target="_blank">http://docs.unity3d.com/ScriptReference/SystemInfo.html</a>.</p><p>You can attach the following script in any scene on any object in order to obtain information about your Android device. Let's look more closely at what happens inside this code. Firstly, we need to declare our class with its properties as shown here:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;

public class ShowSystemInfo : MonoBehaviour {
  public Vector2 scrollPosition;

  private Vector2 _v1, _v2;</pre></div><p>After that let's create our <code class="literal">OnGUI</code> function, which will show us information about any device. The code is shown here:</p><div class="informalexample"><pre class="programlisting">  void OnGUI()
  {
    GUILayout.BeginVertical();

    scrollPosition = GUILayout.BeginScrollView(
      scrollPosition, 
      GUILayout.Width(Screen.width), 
      GUILayout.Height(Screen.height)
    );

    GUILayout.Label("SystemInfo.deviceModel &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.deviceModel);
    GUILayout.Label("SystemInfo.deviceName &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.deviceName);
    GUILayout.Label("SystemInfo.deviceType &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.deviceType.ToString());
    GUILayout.Label("SystemInfo.deviceUniqueIdentifier &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.deviceUniqueIdentifier);
    GUILayout.Label("SystemInfo.graphicsDeviceID &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.graphicsDeviceID.ToString());
    GUILayout.Label("SystemInfo.graphicsDeviceName &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.graphicsDeviceName);
    GUILayout.Label("SystemInfo.graphicsDeviceVendor &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.graphicsDeviceVendor);
    GUILayout.Label("SystemInfo.graphicsDeviceVendorID &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.graphicsDeviceVendorID.ToString());
    GUILayout.Label("SystemInfo.graphicsDeviceVersion &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.graphicsDeviceVersion);
    GUILayout.Label("SystemInfo.graphicsMemorySize &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.graphicsMemorySize.ToString());
    GUILayout.Label("SystemInfo.graphicsPixelFillrate &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.graphicsPixelFillrate.ToString());
    GUILayout.Label("SystemInfo.graphicsShaderLevel &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.graphicsShaderLevel.ToString());
    GUILayout.Label("SystemInfo.npotSupport &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.npotSupport.ToString());
    GUILayout.Label("SystemInfo.operatingSystem &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.operatingSystem);
    GUILayout.Label("SystemInfo.processorCount &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.processorCount.ToString());
    GUILayout.Label("SystemInfo.processorType &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.processorType);
    GUILayout.Label("SystemInfo.supportedRenderTargetCount &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportedRenderTargetCount.ToString());
    GUILayout.Label("SystemInfo.supports3DTextures &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supports3DTextures.ToString());
    GUILayout.Label("SystemInfo.supportsAccelerometer &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsAccelerometer.ToString());
    GUILayout.Label("SystemInfo.supportsComputeShaders &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsComputeShaders.ToString());
    GUILayout.Label("SystemInfo.supportsGyroscope &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsGyroscope.ToString());
    GUILayout.Label("SystemInfo.supportsImageEffects &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsImageEffects.ToString());
    GUILayout.Label("SystemInfo.supportsInstancing &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsInstancing.ToString());
    GUILayout.Label("SystemInfo.supportsLocationService &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsLocationService.ToString());
    GUILayout.Label("SystemInfo.supportsRenderTextures &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsRenderTextures.ToString());
    GUILayout.Label("SystemInfo.supportsRenderToCubemap &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsRenderToCubemap.ToString());
    GUILayout.Label("SystemInfo.supportsShadows &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsShadows.ToString());
    GUILayout.Label("SystemInfo.supportsSparseTextures &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsSparseTextures.ToString());
    GUILayout.Label("SystemInfo.supportsStencil &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsStencil.ToString());
    GUILayout.Label("SystemInfo.supportsVibration &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.supportsVibration.ToString());
    GUILayout.Label("SystemInfo.systemMemorySize &lt;&lt;&lt;===&gt;&gt;&gt; " + SystemInfo.systemMemorySize.ToString());

    GUILayout.EndScrollView();
    GUILayout.EndVertical();
  }</pre></div><p>At the end, we should create the <code class="literal">Update</code> <a id="id158" class="indexterm"></a>function in order to change the scroll <code class="literal">position Y</code> value, in order to be able to scroll the list of information:</p><div class="informalexample"><pre class="programlisting">  void Update() {
    if (Input.touchCount &gt; 0) {
      if (TouchPhase.Began == Input.GetTouch(0).phase) {
        _v1 = _v2 = Input.GetTouch(0).position;
      } else if (TouchPhase.Moved == Input.GetTouch(0).phase) {
        _v2 = _v1;

        _v1 = Input.GetTouch(0).position;

        scrollPosition.y += (_v1.y &gt; _v2.y ? -1 : 1) * Vector2.Distance(_v1, _v2);
      }
    } else {
      if (Input.GetMouseButtonDown(0)) {
        _v1 = _v2 = new Vector2(Input.mousePosition.x, Input.mousePosition.y);
      } else if (Input.GetMouseButton(0)) {
        _v2 = _v1;

        _v1 = new Vector2(Input.mousePosition.x, Input.mousePosition.y);

        scrollPosition.y += (_v1.y &gt; _v2.y ? -1 : 1) * Vector2.Distance(_v1, _v2);
      }
    }
  }
}</pre></div></div></div>