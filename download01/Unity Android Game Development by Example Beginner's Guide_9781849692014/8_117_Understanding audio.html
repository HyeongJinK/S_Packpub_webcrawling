<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec116"></a>Understanding audio</h2></div></div><hr /></div><p>As with other<a id="id534" class="indexterm"></a> assets, the Unity team has worked hard to make working with audio easy and pain-free. Unity is capable of importing and utilizing a broad range of audio formats, allowing you to keep your files in a format that you can edit in another program.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec122"></a>Import settings</h3></div></div></div><p>Audio clips have a small assortment of important settings. They let you easily control the type and compression<a id="id535" class="indexterm"></a> of files.</p><div class="mediaobject"><img src="/graphics/9781849692014/graphics/2014OT_08_01.png.jpg" /></div><p>The following are the settings that we have to work with while importing audio clips:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Audio Format</strong></span>: This controls <a id="id536" class="indexterm"></a>whether the file is included in the <span class="strong"><strong>Native</strong></span> format or is <span class="strong"><strong>Compressed</strong></span> in the final game. <span class="strong"><strong>Native</strong></span>, though larger in file size, is best for short sound effects because they can be loaded and played quickly. <span class="strong"><strong>Compressed</strong></span> is better for longer sounds and music. They will have a smaller footprint in the final build.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>3D Sound</strong></span>: This checkbox controls whether the file will be played in 2D or 3D. 2D sounds will be played at a constant volume no matter where the player is located—perfect<a id="id537" class="indexterm"></a> for background music and voice overs. 3D sounds will be adjusted in volume based on their distance from the player—excellent for explosions and gun shots.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Force to mono</strong></span>: This checkbox will <a id="id538" class="indexterm"></a>cause Unity to change a stereo file to a mono file.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Load type</strong></span>: This controls <a id="id539" class="indexterm"></a>how the file is loaded when the game is being played.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Load into memory</strong></span>: This loads a <span class="strong"><strong>Native</strong></span> file directly to the memory to be played.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Stream from disc</strong></span>: This streams the audio as it is playing, such as streaming music or video from the Web.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Decompress on load</strong></span>: This removes compression on the file when it is first needed. The overhead for this option makes it a very poor choice for large files.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Compressed in memory</strong></span>: This only decompresses the file as it is being played. When it is just being held in memory, the file remains compressed.</p></li></ul></div></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Hardware decoding</strong></span>: This<a id="id540" class="indexterm"></a> is only used for iOS devices to reduce processing cost.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Gapless looping</strong></span>: This<a id="id541" class="indexterm"></a> adjusts the compression method to remove the small pop of silence that some methods can introduce to a file.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Compression</strong></span>: This is the <a id="id542" class="indexterm"></a>amount of data per second to compress the file to, resulting in a smaller-sized file. It is best to find a value that minimizes the file size while losing the least amount of quality.</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec123"></a>Audio Listener</h3></div></div></div><p>In order to actually hear anything in the game, every scene needs an <span class="strong"><strong>Audio Listener</strong></span> component in it. By default, the <code class="literal">Main Camera</code> object (included first in any new scene) and any new camera you might create has an <span class="strong"><strong>Audio Listener</strong></span> component attached. There can only be one <a id="id543" class="indexterm"></a>
<span class="strong"><strong>Audio Listener</strong></span> component in your scene at a time. If there is more than one, or you try to play a sound when there isn't one, Unity will fill your console log with complaints. The <span class="strong"><strong>Audio Listener</strong></span> component also gives the precise position for any 3D sound effects to key off.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec124"></a>Audio Source</h3></div></div></div><p>The <span class="strong"><strong>Audio Source</strong></span> component is like<a id="id544" class="indexterm"></a> a speaker and controls the settings for playing any sound effect. If the clip is 3D, the position of this object to the <span class="strong"><strong>Audio Listener</strong></span> component and the mode chosen determine the volume of the clip.</p><div class="mediaobject"><img src="/graphics/9781849692014/graphics/2014OT_08_02.png.jpg" /></div><p>The following are the various settings for an <span class="strong"><strong>Audio Source</strong></span> component:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Audio Clip</strong></span>: This is the<a id="id545" class="indexterm"></a> sound file that this <span class="strong"><strong>Audio Source</strong></span> component will play by default.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Mute</strong></span>: This is a quick<a id="id546" class="indexterm"></a> way to toggle the volume of the playing sound on and off.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Bypass Effects</strong></span>: This allows<a id="id547" class="indexterm"></a> one to toggle any special filters applied to this <span class="strong"><strong>Audio Source</strong></span> component.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Play On Awake</strong></span>: This will <a id="id548" class="indexterm"></a>cause the <span class="strong"><strong>Audio Clip</strong></span> to immediately start playing when the scene loads or the object is spawned.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Loop</strong></span>: This will cause the <a id="id549" class="indexterm"></a>playing clip to repeat as it is played.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Priority</strong></span>: This dictates the relative importance <a id="id550" class="indexterm"></a>of the files being played. <span class="strong"><strong>0</strong></span> is most important and best for music, while <span class="strong"><strong>256</strong></span> is least important. Depending on the system, only so many sounds can be played at once. The list of files to be played starts with the most important and ends when this limit is reached, excluding those with the lowest values if there are more sounds than the limit would allow.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Volume</strong></span>:<a id="id551" class="indexterm"></a> This decides how loud the clip will be played.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Pitch</strong></span>: This scales the playback <a id="id552" class="indexterm"></a>speed of the clip.</p><div class="mediaobject"><img src="/graphics/9781849692014/graphics/2014OT_08_03.png.jpg" /></div></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>3D Sound Settings</strong></span>: This<a id="id553" class="indexterm"></a> contains the group of settings specific to the playing of 3D audio clips. The <span class="strong"><strong>Volume</strong></span>, <span class="strong"><strong>Pan</strong></span>, and <span class="strong"><strong>Spread</strong></span> options can be adjusted using the graph at the end of the group. This allows one to create more dynamic transitions as the player approaches an <span class="strong"><strong>Audio Source</strong></span> component.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Doppler Level</strong></span>: This decides how much of the doppler effect to apply to moving sounds.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Volume Rolloff</strong></span>: This controls how the volume fades with distance.</p><p>
<span class="strong"><strong>Logarithmic Rolloff</strong></span>: This is a sudden and rapid falloff of the sound at a short distance from the source's center.</p><p>
<span class="strong"><strong>Linear Rolloff</strong></span>: This is an even falloff with distance, the loudest being at the <span class="strong"><strong>Min Distance</strong></span> value and the quietest at the <span class="strong"><strong>Max Distance</strong></span> value.</p><p>
<span class="strong"><strong>Custom Rolloff</strong></span>: This allows you to create a custom falloff by adjusting the graph at the end of the group. It is also automatically chosen when the graph is adjusted.</p></li><li style="list-style-type: disc"><p>If the <span class="strong"><strong>Audio Listener</strong></span> component is closer than the <span class="strong"><strong>Min Distance</strong></span> value, the audio will be played at the current volume level. Outside this distance, the sound will fall off according to the <span class="strong"><strong>Rolloff Mode</strong></span>.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Pan Level</strong></span>: This is the percentage of the 3D effects to be applied to this <span class="strong"><strong>Audio Source</strong></span> component. This affects things such as the falloff and doppler effects.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Spread</strong></span>: This adjusts the amount of area in speaker space that the sound covers. It becomes more important when working with more than one or two speakers.</p></li><li style="list-style-type: disc"><p>Beyond the <span class="strong"><strong>Max Distance</strong></span> value, the sound will stop transitioning based on the graph at the bottom of the group.</p></li></ul></div></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>2D Sound Settings</strong></span>: This groups<a id="id554" class="indexterm"></a> the settings that are specific to 2D audio clips.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Pan 2D</strong></span>: This adjusts how evenly the sound comes out of each speaker, weighing it towards the left or right speaker</p></li></ul></div></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec125"></a>Adding background music</h3></div></div></div><p>Now that we know<a id="id555" class="indexterm"></a> about the available audio settings, it is time to put that knowledge into action. We will start by adding some background music. This will have to be a 2D sound effect so we can hear it comfortably no matter where the <span class="strong"><strong>Audio Source</strong></span> component is. We will also create a short script to fade in the music to reduce the suddenness with which sound effects bombard the player.</p></div></div>