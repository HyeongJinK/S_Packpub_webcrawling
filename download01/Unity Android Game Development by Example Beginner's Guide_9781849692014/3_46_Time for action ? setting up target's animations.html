<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec50"></a>Time for action â€“ setting up target's animations</h2></div></div><hr /></div><p>Using the knowledge we just <a id="id249" class="indexterm"></a>gained, we can now set up our target's animations.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>For starters, if you missed or skipped it earlier, be sure to import the <code class="literal">Target.blend</code> and <code class="literal">Target.png</code> files to the <code class="literal">Targets</code> folder. Also, on the <span class="strong"><strong>Rig</strong></span> page of the import settings, set the <span class="strong"><strong>Animation Type</strong></span> attribute to <span class="strong"><strong>Generic</strong></span> and the <span class="strong"><strong>Root Node</strong></span> attribute to <span class="strong"><strong>Bone_Arm_Upper</strong></span>.</p></li><li><p>We need a total of six animations. By clicking on the <span class="strong"><strong>+</strong></span> button in the <span class="strong"><strong>Clips</strong></span> section, you can add four more animations. If you have added too many, click on the <span class="strong"><strong>-</strong></span> button to remove the extra clips.</p></li><li><p>All of these clips should have a <span class="strong"><strong>Source Take</strong></span> drop-down list of <span class="strong"><strong>Default Take</strong></span> and all of the <span class="strong"><strong>Bake into Pose</strong></span> options should be checked, because the target isn't going to be moving from its starting location.</p></li><li><p>First, let's create our idle animations. Select the first clip and rename it to <code class="literal">Idle_Retract</code>. Because it is a mechanical object, we can get away with a really short animation; so short that we are just going to use the first frame. Set the starting frame to <code class="literal">0.9</code> and the ending frame to <code class="literal">1</code>.</p></li><li><p>We also need to turn on <span class="strong"><strong>Loop Pose</strong></span> because idle animations are of course looping.</p></li><li><p>The extended idle animation is created in almost exactly the same manner. Select the second clip and rename it to <code class="literal">Idle_Extend</code>. The starting frame here is <code class="literal">14</code> and the ending frame is <code class="literal">14.1</code>. Also, this animation needs to loop.</p></li><li><p>Our next two animations are for when the target extends and retracts. They are going to be called <code class="literal">Extend</code> and <code class="literal">Retract</code>, so rename the next two clips. The <code class="literal">Extend</code> animation will start at frame <code class="literal">1</code> and end at frame <code class="literal">13</code>. The <code class="literal">Retract</code> animation starts at frame <code class="literal">28</code> and ends at frame <code class="literal">40</code>. Neither of these will loop.</p></li><li><p>The last two<a id="id250" class="indexterm"></a> animations also will not loop. They are for when we shoot the targets. There is one for being shot in the front and one for being shot from behind. The <code class="literal">Hit_Front</code> animation will be from frame <code class="literal">57</code> to frame <code class="literal">87</code>. The <code class="literal">Hit_Back</code> animation will be from frame <code class="literal">98</code> to frame <code class="literal">128</code>.</p></li><li><p>Once all of the changes are made, be sure to click on <span class="strong"><strong>Apply</strong></span> or they will not be saved.</p></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec38"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>We set up the animations that will be used by our targets. There were six in total. They may not seem like much now, but the next section would be lost without them.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec39"></a>State machines</h3></div></div></div><p>In order for us to control these new animations in Unity, we need to set up a state machine. A state machine is just a fancy object that keeps track of what an object can do, and how to transition between those things. Think of it in terms of a builder from a Real Time Strategy game. The builder has a walk state that is used when moving to the next construction site. When it gets there, it switches to a build state. If an enemy shows up, the builder will enter a run away state until the enemy is gone. Finally, there is an idle state for when the builder is doing nothing. In Unity, these are called Animator Controllers when working with animations and Mecanim.</p></div></div>