<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec45"></a>Time for action – putting the pieces together</h2></div></div><hr /></div><p>That was the last of the scripts, for the moment. We have our tank and our scripts; the next step is to put them<a id="id230" class="indexterm"></a> together.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Now, we need to add them to our tank. Remember how we added our <code class="literal">Tic-tac-toe</code> script to the camera in the last chapter? Start by selecting your tank in the <span class="strong"><strong>Hierarchy</strong></span> window. Before they work, we will first need to add the <code class="literal">CharacterController</code> component to our tank. So, go to the top of the Unity Editor and select <span class="strong"><strong>Component</strong></span>, then select <span class="strong"><strong>Physics</strong></span>, and finally click on the <span class="strong"><strong>Character Controller</strong></span> option.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>You will notice that a green capsule also appears on the tank in the Scene view; at the same time the new component is added. This capsule represents the space that will collide and interact with other colliders. The values on the CharacterController component let us control how it interacts with other colliders. For most cases, the defaults for the first four are just fine.</p><p>
<span class="strong"><strong>Slope Limit</strong></span>: This attribute shows us how steep an incline the controller can move up.</p><p>
<span class="strong"><strong>Step Offset</strong></span>: This attribute shows us how high a step can be before it starts to block movement.</p><p>
<span class="strong"><strong>Skin Width</strong></span>: This defines how far another collider can penetrate this controller's collider before it is completely stopped. This is mostly used for squeezing between objects.</p><p>
<span class="strong"><strong>Min Move Distance</strong></span>: This attribute is for limiting jitter. It is the minimum amount of movement that has to be applied in a frame before it will actually move.</p><p>
<span class="strong"><strong>Center</strong></span>, <span class="strong"><strong>Radius</strong></span>, and <span class="strong"><strong>Height</strong></span>: These attributes define the size of the capsule that you see in the Scene view. They are used for the collision.</p><div class="mediaobject"><img src="/graphics/9781849692014/graphics/2014OT_03_04.png.jpg" /></div></li></ul></div></li><li><p>The last three values are what we care about right now. We need to adjust these values to <a id="id231" class="indexterm"></a>match our tank's values as closely as possible. Admittedly the capsule is round and our tank is square, but a <code class="literal">CharacterController</code> component is the easiest way to move a character with collision and will be used most often. Use values of <code class="literal">2.3</code> for the <span class="strong"><strong>Radius</strong></span> attribute and the <span class="strong"><strong>Y</strong></span> portion of the <span class="strong"><strong>Center</strong></span> attribute; everything else can be left at the default values.</p></li><li><p>It is now time to add the scripts to our tank. Do this by selecting the tank in the <span class="strong"><strong>Hierarchy</strong></span> window and dragging the <code class="literal">ChassisControls</code>, <code class="literal">TurretControls</code>, and <code class="literal">ScoreCounter</code> scripts onto the <span class="strong"><strong>Inspector</strong></span> window. This is just as we did it in the previous chapters.</p></li><li><p>Before the tank will work, we need to finish creating the connections that we started in our scripts. Start by clicking the <code class="literal">CharacterController</code> component's name and dragging it to the <span class="strong"><strong>Character Control</strong></span> value that is on our new <code class="literal">ChassisControls</code> script component. Unity lets us connect object variables in the Unity Editor, so that they do not have to be hard coded.</p></li><li><p>We also need to connect our turret and cannon pivot points. So, click-and-drag the points from the <span class="strong"><strong>Hierarchy</strong></span> window to the corresponding variable on the <code class="literal">TurretControls</code> script component.</p></li><li><p>Save the scene as <code class="literal">TankBattle</code> and try it out.</p></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec31"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>We just finished putting our tank together. Unless you look at the <span class="strong"><strong>Scene</strong></span> view while using the movement controls, it is hard to tell that the tank is moving. The turret controls can be seen in the <span class="strong"><strong>Game</strong></span> view, though. Other than not having a point of reference for whether or not our tank is moving, it runs pretty well. The next step and the next section will give us that reference point as we add our city.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec32"></a>Have a go hero – cannon alignment</h3></div></div></div><p>You might notice a quick jump when you first try to tilt the cannon. Such behavior is annoying and makes the game look broken. Try adjusting the cannon to fix it. If you are having trouble with it, take a look at the cannon's starting rotation.</p></div></div>