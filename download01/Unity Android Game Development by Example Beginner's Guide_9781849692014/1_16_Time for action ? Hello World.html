<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec22"></a>Time for action â€“ Hello World</h2></div></div><hr /></div><p>To make sure everything is set up properly, we need a simple application to test with, and what better to do that with than a<a id="id77" class="indexterm"></a> Hello World application?</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>The first step is pretty straightforward and simple; start Unity.</p></li><li><p>If you have been following along so far, once it is done you should see a screen resembling the next screenshot. As the tab might suggest, this is the screen through which we open our various projects. Right now, though, we are interested in creating one, so select <span class="strong"><strong>Create New Project</strong></span> from the second tab on top, and we will do just that.</p><div class="mediaobject"><img src="/graphics/9781849692014/graphics/2014OT_01_04.jpg" /></div></li><li><p>Use the <span class="strong"><strong>Browse</strong></span> button<a id="id78" class="indexterm"></a> to select an empty folder to keep your project in. Be sure that<a id="id79" class="indexterm"></a> the folder is empty, because Unity will delete everything in it before creating the new project. <code class="literal">Ch1_HelloWorld_CS</code> works well for a project name.</p><div class="mediaobject"><img src="/graphics/9781849692014/graphics/2014OT_01_12.jpg" /></div></li><li><p>For now we can ignore the packages. These are bits of assets and functionality<a id="id80" class="indexterm"></a> provided by Unity. They are free for you to use in your projects.</p></li><li><p>Hit the <span class="strong"><strong>Create</strong></span> button<a id="id81" class="indexterm"></a>, and Unity will create a brand new project for us.</p><div class="mediaobject"><img src="/graphics/9781849692014/graphics/2014OT_01_16.jpg" /></div></li><li><p>The default layout of Unity contains a decent spread of windows needed to create a game.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Starting from the left-hand side, <span class="strong"><strong>Hierarchy</strong></span> contains a list of all the objects that currently exist in our scene. They are organized alphabetically and are grouped under parent objects, if any.</p></li><li style="list-style-type: disc"><p>Next to that is the <span class="strong"><strong>Scene</strong></span> view. This window allows us to edit and arrange objects in the 3D space. In the top-left hand side, there are two groups of buttons. These affect how you can interact with the <span class="strong"><strong>Scene</strong></span> view.</p></li><li style="list-style-type: disc"><p>The button on the far left that looks like a hand lets you pan around when clicking and dragging with the left-mouse button.</p></li><li style="list-style-type: disc"><p>The next button over, the crossed arrows, lets you move objects around. Its behavior and the gizmo it provides will be familiar if you have made use of any modeling programs.</p></li><li style="list-style-type: disc"><p>The third button changes the gizmo to rotation. It allows you to rotate objects.</p></li><li style="list-style-type: disc"><p>The fourth button is for scale. It changes the gizmo as well.</p></li><li style="list-style-type: disc"><p>The second to last button toggles between <span class="strong"><strong>Pivot</strong></span> and <span class="strong"><strong>Center</strong></span>. This will change the position of the gizmo used by the last three buttons to be either at the pivot point of the selected object, or at the average position point of all the selected objects.</p></li><li style="list-style-type: disc"><p>The last button toggles between <span class="strong"><strong>Local</strong></span> and <span class="strong"><strong>Center</strong></span>. This changes whether the gizmo is orientated parallel with the world origin or rotated with the selected object.</p></li><li style="list-style-type: disc"><p>Underneath<a id="id82" class="indexterm"></a> the <span class="strong"><strong>Scene</strong></span> view is the <span class="strong"><strong>Game</strong></span> view. This is what is currently being rendered by any cameras in the scene. It is what the player will see when playing the game and is used for testing your game. There are three buttons that control the playback of the <span class="strong"><strong>Game</strong></span> view in the upper-middle section of the window.</p></li><li style="list-style-type: disc"><p>The first is the <span class="strong"><strong>Play</strong></span> button<a id="id83" class="indexterm"></a>. It toggles the playing of the game. If you want to test your game, press this button.</p></li><li style="list-style-type: disc"><p>The second is the <span class="strong"><strong>Pause</strong></span> button<a id="id84" class="indexterm"></a>. While playing, pressing this button will pause the whole game, allowing you to take a look at the game's current state.</p></li><li style="list-style-type: disc"><p>The third is the <span class="strong"><strong>Step</strong></span> button<a id="id85" class="indexterm"></a>. When paused, this button will let you progress through your game one frame at a time.</p></li><li style="list-style-type: disc"><p>On the right-hand side is the <span class="strong"><strong>Inspector</strong></span> window. This displays information about any object that is currently selected.</p></li><li style="list-style-type: disc"><p>In the bottom left-hand side is the <span class="strong"><strong>Project</strong></span> window. This displays all of the assets that are currently stored in the project.</p></li><li style="list-style-type: disc"><p>Behind it is the <span class="strong"><strong>Console</strong></span>. It will display debug messages and compile errors, warnings, and runtime errors.</p></li></ul></div></li><li><p>At the top, underneath <span class="strong"><strong>Help</strong></span> is an option called <span class="strong"><strong>Manage License...</strong></span>. By selecting this, we are given options to control the license. The button descriptions cover what they do pretty well, so we will not cover them in more detail at this point.</p></li><li><p>The next thing we need to do is connect our optional code editor. At the top, go to <span class="strong"><strong>Edit</strong></span> followed by <span class="strong"><strong>Preferences...</strong></span>, which opens the following window:</p><div class="mediaobject"><img src="/graphics/9781849692014/graphics/2014OT_01_14.jpg" /></div></li><li><p>By selecting <span class="strong"><strong>External Tools</strong></span> on the left, we can select other software to be used for managing asset editing.</p></li><li><p>If you do not desire to use MonoDevelop, select the drop-down list to the right of <span class="strong"><strong>External Script Editor</strong></span> and navigate to the executable of <span class="strong"><strong>Notepad++</strong></span>, or the other code editor of your choice.</p></li><li><p>Your<a id="id86" class="indexterm"></a> <span class="strong"><strong>Image application</strong></span> can also be changed here to <span class="strong"><strong>Adobe Photoshop CS3</strong></span> or any other image-editing program you prefer, in the same way as the script editor.</p></li><li><p>If you installed the Android SDK to the default location, do not worry about it. Otherwise, click on <span class="strong"><strong>Browse...</strong></span> and find the <code class="literal">android-sdk</code> folder.</p></li><li><p>Now, for the actual creation of this application, right-click inside of your <span class="strong"><strong>Project</strong></span> window.</p></li><li><p>From the new window that pops up, select <span class="strong"><strong>Create</strong></span> and <span class="strong"><strong>C# Script</strong></span> from the menu.</p></li><li><p>Type in a name for the new script, <code class="literal">HelloWorld</code> will work well, and hit <span class="emphasis"><em>Enter</em></span> twice: once to confirm the name and once to open it.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip03"></a>Tip</h3><p>Because this is the first chapter, it will be a simple Hello World application. Unity supports C#, JavaScript, and Boo as scripting languages. For consistency, this book will be using C#. If you, instead, wish to use JavaScript for your scripts, copies of all of the projects can be found with the other resources for this book and an <code class="literal">_JS</code> suffix for JavaScript.</p></div></li><li><p>Every script that is going to attach to an object inherits from MonoBehaviour. JavaScript does this automatically, but C# scripts must define it explicitly. However, as you can see from the default code in the script, we do not have to worry about setting this up initially; it is done automatically. Inheriting from MonoBehaviour lets our scripts access various values of the<a id="id87" class="indexterm"></a> game object, such as the position, and lets the system automatically call certain functions during specific events in the game, such as the Update cycle and the GUI rendering.</p></li><li><p>For now we will delete the <code class="literal">Start</code> and <code class="literal">Update</code> functions that Unity insists on including in every new script. Replace them with a bit of code that simply renders the words <span class="strong"><strong>Hello World</strong></span> in the top-left corner of the screen. You can now close the script and return to Unity.</p><div class="informalexample"><pre class="programlisting">public void OnGUI() {
  GUILayout.Label("Hello World");
}</pre></div></li><li><p>Drag the <code class="literal">HelloWorld</code> script from the <span class="strong"><strong>Project</strong></span> window and drop it on the <span class="strong"><strong>Main Camera</strong></span> object in the <span class="strong"><strong>Hierarchy</strong></span> window. Congratulations, you have just added your first bit of functionality to an object in Unity.</p></li><li><p>If you select the <span class="strong"><strong>Main Camera</strong></span> in <span class="strong"><strong>Hierarchy</strong></span>, then <span class="strong"><strong>Inspector</strong></span> will display all of the components attached to it. At the bottom of the list is your brand new <code class="literal">HelloWorld</code> script.</p></li><li><p>Before we can test it, we need to save the scene. To do this, go to <span class="strong"><strong>File</strong></span> at the top, and select <span class="strong"><strong>Save Scene</strong></span>. Give it a name of <code class="literal">HelloWorld</code> and hit <span class="strong"><strong>Save</strong></span>.</p></li><li><p>You are now free to hit the <span class="strong"><strong>Play</strong></span> button in the upper-middle section of the editor and witness the magic of Hello World.</p></li><li><p>We now get to build the application. At the top, select <span class="strong"><strong>File</strong></span> followed by <span class="strong"><strong>Build Settings...</strong></span>.</p></li><li><p>By default the target platform is <span class="strong"><strong>PC</strong></span>. Under <span class="strong"><strong>Platform</strong></span>, select <span class="strong"><strong>Android</strong></span> and hit <span class="strong"><strong>Switch Platform</strong></span> in the bottom-left corner of the <span class="strong"><strong>Build Settings</strong></span> window.</p></li><li><p>Underneath the <span class="strong"><strong>Scenes In Build</strong></span> box<a id="id88" class="indexterm"></a>, there is a button labeled <span class="strong"><strong>Add Current</strong></span>. Click on it to add our currently opened scene to the build. Only scenes that are in this list and checked will be added to the final build of your game. The scene with the number zero next to it will be the first scene loaded when the game starts.</p></li><li><p>There is one last thing to change before we can hit the <span class="strong"><strong>Build</strong></span> button. Select <span class="strong"><strong>Player Settings...</strong></span> at the bottom of the <span class="strong"><strong>Build Settings</strong></span> window.</p></li><li><p>The <span class="strong"><strong>Inspector</strong></span> window<a id="id89" class="indexterm"></a> will open <span class="strong"><strong>Player Settings</strong></span> for the application. From here we can change the splash screen, icon, screen orientation, and a handful of other technical options.</p><div class="mediaobject"><img src="/graphics/9781849692014/graphics/2014OT_01_15a.jpg" /></div></li><li><p>At the moment, there are only a few options that we care about. At the top, <span class="strong"><strong>Company Name</strong></span> is the name that will appear under the information about the application.<a id="id90" class="indexterm"></a> <span class="strong"><strong>Product Name</strong></span> is the name that will appear underneath the icon on your Android device. You can largely set these to anything you want, but they do need to be set immediately.</p><div class="mediaobject"><img src="/graphics/9781849692014/graphics/2014OT_01_15b.jpg" /></div></li><li><p>The important setting is <span class="strong"><strong>Bundle Identifier</strong></span> underneath <span class="strong"><strong>Other Settings</strong></span>. This is the unique identifier that singles out your application from all other applications on the device. The format is <code class="literal">com.CompanyName.ProductName</code>, and it is good practice to use the same company name across all of your products. <a id="id91" class="indexterm"></a>For this book, we will be using <code class="literal">com.TomPacktAndBegin.Ch1.HelloWorld</code> for <span class="strong"><strong>Bundle Identifier</strong></span>, opting to use an extra dot for organization.</p></li><li><p>Go up to <span class="strong"><strong>File</strong></span> and click on <span class="strong"><strong>Save</strong></span> again.</p></li><li><p>Now you can hit the <a id="id92" class="indexterm"></a>
<span class="strong"><strong>Build</strong></span> button in the<a id="id93" class="indexterm"></a> <span class="strong"><strong>Build Settings</strong></span> window.</p></li><li><p>Pick a save location and a file name; <code class="literal">Ch1_HelloWorld.apk</code> works well. Be sure to remember where it is, and hit <span class="strong"><strong>Save</strong></span>.</p></li><li><p>If, during the build process, Unity complains about where the Android SDK is, select the <code class="literal">android-sdk</code> folder inside the location where it was installed. The default would be <code class="literal">C:\Program Files\Android\android-sdk</code> for 32-bit Windows and <code class="literal">C:\Program Files (x86)\Android\android-sdk</code> for 64-bit Windows.</p></li><li><p>Once the loading bar finishes, which should not be very long, your <code class="literal">apk</code> has been made and we are ready to continue.</p></li><li><p>We are finished with Unity for this chapter. You can close it down and start a command prompt.</p></li><li><p>Just as we did when we were connecting our devices, we need to navigate to the <code class="literal">platform tools</code> folder in order to connect to our device. If you installed it to the default location, use:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>For 32-bit Windows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>cd c:\program files\android\android-sdk\platform-tools</strong></span>
</pre></div></li><li><p>For 64-bit Windows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>cd c:\program files (x86)\android\android-sdk\platform-tools</strong></span>
</pre></div></li></ol></div></li><li><p>Double-check to make sure that the device is connected and recognized using:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>adb devices</strong></span>
</pre></div></li><li><p>Now we install the application. This command tells the system to install an application on the connected device. The <code class="literal">-r</code> indicates that it should override if an application is found with the same Bundle Identifier as the application we are trying to install. That way you can just update your game as you develop, rather than uninstalling before installing the new version each time you need to make an update. The path to the <code class="literal">.apk</code> file that you wish to install is shown in quotes as follows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>adb install -r "c:\users\tom\desktop\packt\book\ch1_helloworld.apk"</strong></span>
</pre></div></li><li><p>Replace it with the path to your apk file; capital letters do not matter, but be sure to have all the correct spacing and punctuations.</p></li><li><p>If all goes<a id="id94" class="indexterm"></a> well, the console will display an upload speed when it has finished pushing your application to the device and a success message when it is finished installing. The most common causes for errors at this stage are not being in the<a id="id95" class="indexterm"></a> <code class="literal">platform-tools</code> folder when issuing commands and not having the correct path to your <code class="literal">.apk</code> file surrounded by quotes.</p></li><li><p>Once you have received your success message, find the application on your phone and start it up.</p></li><li><p>Now, gaze in wonder at your ability to create Android applications with the power of Unity.</p></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec14"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>We created our very first Unity and Android application. Admittedly, it was just a simple Hello World application, but that is how it always starts. Also, it served very well for double-checking the device connection and for learning about the build process without all of the clutter from a game.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec15"></a>Have a go hero â€“ working ahead</h3></div></div></div><p>Try changing the icon for the application. It is a fairly simple procedure that you will undoubtedly want to perform as your game develops. How to do this was mentioned earlier in this section. But, as a reminder, take a look at <span class="strong"><strong>Player Settings</strong></span>. Also, you will need to import an image. Take a look under <span class="strong"><strong>Assets</strong></span>, in the menu bar, to know how to do this.</p></div></div>