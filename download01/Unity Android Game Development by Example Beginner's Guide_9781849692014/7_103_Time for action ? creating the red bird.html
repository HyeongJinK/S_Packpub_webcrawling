<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec103"></a>Time for action â€“ creating the red bird</h2></div></div><hr /></div><p>Let's get started with <a id="id482" class="indexterm"></a>creating the red bird:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Although the red bird model is 3D, it is set up in a manner similar to that of the pig. Create an empty <span class="strong"><strong>GameObject</strong></span>, naming it <code class="literal">Bird_Red</code>, and add the appropriate model from the <code class="literal">birds</code> model as a child, zeroing out its position. The model should be rotated to align it along the z axis. If turned a little more toward the camera, the player is able to see the bird's face while still giving the impression of looking down the field.</p></li><li><p>Next, give it a <span class="strong"><strong>Sphere Collider</strong></span> component and a <span class="strong"><strong>Rigidbody</strong></span> component, and set the <span class="strong"><strong>Constraints</strong></span> parameters.</p></li><li><p>Now, we need to create a new script named <code class="literal">Bird</code>. This script will be a base for all of our birds, tracking their health and triggering their special powers when appropriate.</p></li><li><p>It starts with two variables. The first will keep track of the bird's current health. The second is<a id="id483" class="indexterm"></a> a flag so that the bird will only use its special power once. It is marked as <code class="literal">protected</code> so the class that extends this script can use it while keeping it from interference from outside the class.</p><div class="informalexample"><pre class="programlisting">public float health = 50;
protected bool didSpecial = false;</pre></div></li><li><p>The <code class="literal">Update</code> function does three checks before activating the bird's special power. First, it checks whether it has already been done, then whether the screen has been touched, and finally whether the bird has a <span class="strong"><strong>Rigidbody</strong></span> component and that it is not being controlled by another script.</p><div class="informalexample"><pre class="programlisting">public void Update() {
  if(didSpecial)
    return;
  if(!Input.GetMouseButtonDown(0))
    return;
  if(rigidbody == null || rigidbody.isKinematic)
    return;
  
  DoSpecial();
}</pre></div></li><li><p>In the case of the red bird, the <code class="literal">DoSpecial</code> function only sets its flag to <code class="literal">true</code>. It is marked as <code class="literal">virtual</code> so that we can override the function for the other birds and make them do some fancier things.</p><div class="informalexample"><pre class="programlisting">protected virtual void DoSpecial() {
  didSpecial = true;
}</pre></div></li><li><p>The <code class="literal">OnCollisionEnter</code> function works just like the one for the planks, subtracting health based on the strength of the collision and destroying the bird if it runs out of health.</p><div class="informalexample"><pre class="programlisting">public void OnCollisionEnter(Collision collision) {
  health -= collision.relativeVelocity.magnitude;
  if(health &lt; 0)
    Destroy(gameObject);
}</pre></div></li><li><p>Return to Unity and add the script to the <code class="literal">Bird_Red</code> object.</p></li><li><p>Complete the bird's creation by turning it into a prefab and deleting it from the scene. The slingshot we <a id="id484" class="indexterm"></a>will be creating soon will handle the creation of the birds when the game starts.</p></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec104"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>We created the red bird. It is set up just like our other physics objects. We also created a script to handle the bird's health that is expanded later, when we create the other birds for our game.</p></div></div>