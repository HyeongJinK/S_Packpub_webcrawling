<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec34"></a>Time for action – build and run</h2></div></div><hr /></div><p>With this alternate build<a id="id175" class="indexterm"></a> method, we can quickly and easily test games on our devices as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Start by opening the <span class="strong"><strong>Build Settings</strong></span> window. Remember, it can be found under <span class="strong"><strong>File</strong></span> at the top of the Unity Editor.</p></li><li><p>Click on the <span class="strong"><strong>Add Current</strong></span> button to add our current scene, also the only scene, to the list of <span class="strong"><strong>Scenes In Build</strong></span>. If this list is empty, there is no game.</p></li><li><p>Be sure to change your <span class="strong"><strong>Platform</strong></span> to <span class="strong"><strong>Android</strong></span>, if you haven't already done so. It is after all still the point of this book.</p></li><li><p>Do not forget to set the <span class="strong"><strong>Player Settings</strong></span>. Click on the <a id="id176" class="indexterm"></a>
<span class="strong"><strong>Player Settings</strong></span> button to open them up in the <span class="strong"><strong>Inspector</strong></span> window. Do you remember this from <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Saying Hello to Unity and Android</em></span>.</p></li><li><p>At the top, set the <span class="strong"><strong>Company Name</strong></span> and <span class="strong"><strong>Product Name</strong></span> fields. Values of <code class="literal">TomPacktAndBegin</code> and <code class="literal">Ch2 TicTacToe</code> respectively will match the included completed project. Remember, these are seen by the people playing your game.</p></li><li><p>The <span class="strong"><strong>Bundle Identifier</strong></span> field under <span class="strong"><strong>Other Settings</strong></span> needs to be set as well. The format is still <code class="literal">com.CompanyName.ProductName</code>, so <code class="literal">com.TomPactAndBegin.Ch2.TicTacToe</code> will work well.</p></li><li><p>So that we can see our cool dynamic GUI in action on a device, there is one other setting that should be changed. Click on <span class="strong"><strong>Resolution</strong></span> and <span class="strong"><strong>Presentation</strong></span> to expand the options.</p></li><li><p>We are interested in <span class="strong"><strong>Default Orientation</strong></span>. The default is <span class="strong"><strong>Portrait</strong></span>, but this option means the game will be fixed in the portrait display mode. Click on the drop-down menu and select <span class="strong"><strong>Auto Rotation</strong></span>. This option tells Unity to automatically adjust the game to be upright in whichever orientation the device is being held.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The new<a id="id177" class="indexterm"></a> set of options that popped up when <span class="strong"><strong>Auto Rotation</strong></span> was selected allow for the limiting of the orientations that are supported. Perhaps you are making a game that needs to be wider and held in landscape orientation. By unchecking <span class="strong"><strong>Portrait</strong></span> and <span class="strong"><strong>Portrait Upside Down</strong></span>, Unity will still adjust (but only for the remaining orientations). On your Android device, along one of the shorter sides, are the controls of some sort usually a home, menu, back, and search set of buttons. This side is generally recognized as the bottom of the device and it is the position of these buttons that dictates what each orientation is. <span class="strong"><strong>Portrait</strong></span> is when those buttons are down relative to the screen. <span class="strong"><strong>Landscape Right</strong></span> is when they are to the right. The pattern begins to come clear, does it not?</p></li></ul></div></li><li><p>For now, leave all of the orientation options checked and we will go back to <span class="strong"><strong>Build Settings</strong></span>.</p></li><li><p>The next step (and this is very important) is to connect your device to your computer and give it a moment to be recognized. If your device is not first connected to your computer, this shorter build path will fail.</p></li><li><p>In the bottom-right corner of the <span class="strong"><strong>Build Settings</strong></span> window, click on the <span class="strong"><strong>Build And Run</strong></span> button.<a id="id178" class="indexterm"></a> You will be asked to give the application file, the APK, a relevant name and save it to an appropriate location. A name <code class="literal">Ch2_TicTacToe.apk</code> will be fine and it is suitable enough to save the file to the desktop.</p></li><li><p>Click on <span class="strong"><strong>Save</strong></span> and sit back to watch the wonderful loading bar that is provided. If you paid attention to the loading bar when we built the <span class="emphasis"><em>Hello World</em></span> project in <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Saying Hello to Unity and Android</em></span>, you will notice that there is an extra step taken this time around. After the application is built, there is a pushing to device step. This means the build was successful and Unity is now putting the application on your device and installing it. Once done, the game will be started on the device and the loading bar will be finished.</p></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec22"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>We just learned about the <span class="strong"><strong>Build And Run</strong></span> button<a id="id179" class="indexterm"></a> provided by the <span class="strong"><strong>Build Settings</strong></span> window. Quick, easy, and free from command prompt pain; isn't the short build path wonderful? But if the build process fails for any reason including being unable to find the device, the application<a id="id180" class="indexterm"></a> file will not be saved. You will have to sit through the entire build process again, if you want to try installing again. This isn't so bad for our simple Tic-tac-toe game, but might consume a lot of time for a larger project. Also, you can only have one Android device connected to your computer while building. Any more and the build process is a guaranteed failure. Unity also doesn't check for multiple devices until after it has gone through the rest of the potentially long build process.</p><p>Other than those words of caution, the <a id="id181" class="indexterm"></a>
<span class="strong"><strong>Build And Run</strong></span> option is really quite nice. Let Unity handle the hard part of getting the game to your device. This gives us much more time to focus on testing and making a great game.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec23"></a>Have a go hero – single player mode</h3></div></div></div><p>This is a tough one. Create a single player mode. You will have to start by adding an extra game state. Is the choice of <code class="literal">MultiPlayer</code> for a game state starting to make sense? The opening screen is going to need an extra button for selecting the second game mode. Also, any logic for the computer<a id="id182" class="indexterm"></a> player should go in the <code class="literal">Update</code> function<a id="id183" class="indexterm"></a> that is provided by the <code class="literal">MonoBehaviour</code> class. The computer needs to take its turn before we check for victory in <code class="literal">LateUpdate</code>. The <code class="literal">Update</code> function is just the place to do it. Also, take a look at <code class="literal">Random.Range</code> for randomly selecting a square to take control of. Or, you could do a little more work and make the computer search for a square where it can win or create a line of two matches.</p></div></div>