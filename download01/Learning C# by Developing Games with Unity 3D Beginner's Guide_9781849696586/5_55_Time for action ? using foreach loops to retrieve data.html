<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec58"></a>Time for action â€“ using foreach loops to retrieve data</h2></div></div><hr /></div><p>We're going to <a id="id151" class="indexterm"></a>create an array, a list and a dictionary, then loop through each one to retrieve the desired data from each one by using <code class="literal">foreach</code> loops.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Modify <code class="literal">LearningScript</code> as shown in the next screenshot.</p></li><li><p>Save the file.</p></li><li><p>In Unity, click on Play.</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_05_18.jpg" /></div></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec86"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>As we looped <a id="id152" class="indexterm"></a>through each list, we decided which data to display to the <span class="strong"><strong>Console</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_05_19.jpg" /></div><p>The analysis of the code is as follows:</p><p>For each <a id="id153" class="indexterm"></a>list we created, we populated them using a Collection Initializer.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The code between lines 9 and 10 with its description:</p><div class="informalexample"><pre class="programlisting">string[] ponyArray = new string[] {"AppleJack", "Rarity"};</pre></div><p>A <code class="literal">string</code> array named <code class="literal">ponyArray</code> is declared and two strings are added.</p></li><li style="list-style-type: disc"><p>The code on line 12 with its description is as follows:</p><div class="informalexample"><pre class="programlisting">foreach(string pony in ponyArray)</pre></div><p>A <code class="literal">foreach</code> loop is used to retrieve one element, a pony name string, stored in <code class="literal">ponyAr</code>
<code class="literal">ray</code>.</p><p>A variable is declared named <code class="literal">pony</code> to hold the retrieved pony name.</p><p>Once a pony name is retrieved, the <code class="literal">foreach</code> code block, lines 13 to 16, is executed.</p><p>This looping continues until each element in <code class="literal">ponyArray</code> has been retrieved and tested in the code block.</p></li><li style="list-style-type: disc"><p>The code on line 14 with its description is as follows:</p><div class="informalexample"><pre class="programlisting">if(pony == "Rarity");</pre></div><p>If the retrieved string stored in <code class="literal">pony</code> is equal to <code class="literal">"Rarity"</code>, then line 15 executes.</p></li><li style="list-style-type: disc"><p>The code on line 15 with its description is as follows:</p><div class="informalexample"><pre class="programlisting">Debug.Log("I was looking for " + pony);</pre></div><p>The string I was looking for plus the string value stored in pony is displayed in the <span class="strong"><strong>Console</strong></span>.</p></li><li style="list-style-type: disc"><p>The code between lines 18 and 19 with its description:</p><div class="informalexample"><pre class="programlisting">List&lt;string&gt; ponyList = new List&lt;string&gt;() {"Princess Cadence", "Fluttershy"};</pre></div><p>A <code class="literal">List</code> named <code class="literal">ponyList</code> is declared that will store the <code class="literal">string</code> type, and two strings are added.</p></li><li style="list-style-type: disc"><p>The code on <a id="id154" class="indexterm"></a>line 21 with its description is as follows:</p><div class="informalexample"><pre class="programlisting">foreach(string pony in ponyList)</pre></div><p>A <code class="literal">foreach</code> loop is used to retrieve one element, a pony name <code class="literal">string</code>, stored in <code class="literal">po</code>
<code class="literal">ny</code>
<code class="literal">List</code>.</p><p>A variable is declared named <code class="literal">pony</code> to hold the retrieved pony name.</p><p>Once a pony name is retrieved, the <code class="literal">foreach</code> code block (that is, lines 22 to 25) is executed.</p><p>This looping continues until each element in <code class="literal">ponyList</code> has been retrieved and tested in the code block.</p></li><li style="list-style-type: disc"><p>The code on line 23 with its description is as follows:</p><div class="informalexample"><pre class="programlisting">if(pony == "Fluttershy")</pre></div><p>If the retrieved string stored in <code class="literal">pony</code> is equal to <code class="literal">"Fluttershy"</code>, then line 24 executes.</p></li><li style="list-style-type: disc"><p>The code on line 24 with its description is as follows:</p><div class="informalexample"><pre class="programlisting">Debug.Log("I was looking for " + pony);</pre></div><p>The string I was looking for plus the string value stored in <code class="literal">pony</code> is displayed in the <span class="strong"><strong>Console</strong></span>.</p></li><li style="list-style-type: disc"><p>The code between lines 27 and 28 with its description:</p><div class="informalexample"><pre class="programlisting">Dictionary&lt;int, string&gt; ponyDictionary = new Dictionary&lt;int, string&gt;() {{10, "Nightmare Moon"}, {20, "Rainbow Dash"}};</pre></div><p>A <code class="literal">Dictionary</code> named <code class="literal">ponyDictionary</code> is declared with key and value of type <code class="literal">&lt;int, string&gt;</code>, and two key/value pairs are added.</p></li><li style="list-style-type: disc"><p>The code on line 30 with its description is as follows:</p><div class="informalexample"><pre class="programlisting">foreach(KeyValuePair&lt;int, string&gt; pony in ponyDictionary)</pre></div><p>A <code class="literal">foreach</code> loop is used to retrieve one <code class="literal">KeyValuePair</code>, a key and value, stored in <code class="literal">ponyDictionary</code>.</p><p>A variable is declared named <code class="literal">pony</code> to hold the retrieved <code class="literal">KeyValuePair</code>.</p><p>Once a key value and a pony name string are retrieved, the <code class="literal">foreach</code> code block (that is, lines 31 to 34) is executed.</p><p>This looping continues until each <code class="literal">KeyValuePair</code> in <code class="literal">ponyDictionary</code> has been retrieved and tested in the code block.</p></li><li style="list-style-type: disc"><p>The code on lines32 with its description is as follows:</p><div class="informalexample"><pre class="programlisting">if(pony.Key == 20)</pre></div><p>If the retrieved <code class="literal">Key</code> stored in pony is equal to <code class="literal">20</code>, then line 33 executes.</p></li><li style="list-style-type: disc"><p>The code<a id="id155" class="indexterm"></a> on line 33 with its description is as follows:</p><div class="informalexample"><pre class="programlisting">Debug.Log("I was looking for " + pony.Value);</pre></div><p>The string <code class="literal">I was looking for</code> plus the string value stored in <code class="literal">pony.Key</code> is displayed in the <span class="strong"><strong>Console</strong></span>.</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec87"></a>Using the for loop</h3></div></div></div><p>The best description<a id="id156" class="indexterm"></a> I've found for a <code class="literal">for</code> loop: "Allows a code block to be executed a specific number of times."</p><p>The syntax of a <code class="literal">for</code> loop:</p><div class="informalexample"><pre class="programlisting">for (initializer; condition; iterator)
  {
    code block
<code class="literal">  </code>}</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note28"></a>Note</h3><p>Notice the three parts inside the parentheses are separated by semicolons, not commas.</p></div></div></div>