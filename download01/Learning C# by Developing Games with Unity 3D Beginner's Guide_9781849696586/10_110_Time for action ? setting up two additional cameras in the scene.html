<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch10lvl1sec108"></a>Time for action â€“ setting up two additional cameras in the scene</h2></div></div><hr /></div><p>We'll have three cameras, but only one will be active at a time. Their names are:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Main Camera</strong></span>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>LookAt Camera</strong></span>
</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Following Camera</strong></span>
</p></li></ul></div><p>Do the following steps with <span class="strong"><strong>Scene0</strong></span> loaded to add two cameras:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Add a <span class="strong"><strong>Camera</strong></span> GameObject and name it <code class="literal">LookAt Camera</code>.</p></li><li><p>Set its <span class="strong"><strong>Transform Position</strong></span> to <code class="literal">50</code>, <code class="literal">7</code>, <code class="literal">50</code>.</p></li><li><p>Uncheck its <a id="id423" class="indexterm"></a>
<span class="strong"><strong>Active</strong></span> checkbox.</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_10_04.jpg" /></div></li><li><p>Add a <span class="strong"><strong>Camera</strong></span> GameObject and name it <code class="literal">Following Camera</code>.</p></li><li><p>Uncheck its <span class="strong"><strong>Active</strong></span> checkbox.</p></li><li><p>Drag both of these cameras onto <span class="strong"><strong>GameManager</strong></span> to make them children.</p></li></ol></div><p>Look in the <span class="strong"><strong>Scripting Reference</strong></span> for <span class="strong"><strong>GameObject.SetActive</strong></span>. It's a method to set whether a GameObject is active or not. However, Unity can't find an inactive GameObject using the <a id="id424" class="indexterm"></a>
<code class="literal">GameObject.Find()</code> method. So we'll store a reference to each camera in a List.</p><p>Line 10 in the following screenshot of the <code class="literal">GameData</code> script creates the List to store the three cameras:</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_10_05.jpg" /></div><p>Now we'll add <a id="id425" class="indexterm"></a>all the cameras in <span class="strong"><strong>Scene0</strong></span> to the List:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select <span class="strong"><strong>GameManager</strong></span> in the <span class="strong"><strong>Hierarchy</strong></span> panel.</p></li><li><p>In the <span class="strong"><strong>Inspector.</strong></span> select <span class="strong"><strong>Game Data</strong></span> <span class="strong"><strong>(Script).</strong></span>
</p></li><li><p>Set the <span class="strong"><strong>Size</strong></span> of <span class="strong"><strong>Cameras List</strong></span> to <code class="literal">3.</code>
</p></li><li><p>Now drag the three cameras from <span class="strong"><strong>Hierarchy</strong></span> to <span class="strong"><strong>Cameras Elements:</strong></span>
</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_10_06.jpg" /></div></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note65"></a>Note</h3><p>It doesn't matter which camera is stored in any of the Elements.</p></div><p>Now that we have references to all cameras, whether they are active or not, we have the ability to make a camera active in code.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open <code class="literal">PlayStateScene1_1</code> in MonoDevelop.</p></li><li><p>Add code lines 21 through 27 as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_10_07.jpg" /></div></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec154"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>Let us analyze the<a id="id426" class="indexterm"></a> code that we just saw:</p><p>Line 21: <code class="literal">foreach(GameObject camera in manager.gameDataRef.cameras)</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>This <code class="literal">foreach</code> loop retrieves each camera in the List named <code class="literal">cameras</code>
</p></li><li style="list-style-type: disc"><p>As each camera is retrieved, it's assigned to the variable <code class="literal">camera</code>
</p></li></ul></div><p>Line 23: <code class="literal">if(camera.name != "LookAt Camera")</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>As the <code class="literal">foreach</code> loop iterates through the List, if the camera retrieved is not named <span class="strong"><strong>LookAt Camera</strong></span>, then line 24 is executed</p></li><li style="list-style-type: disc"><p>If it is named <span class="strong"><strong>LookAt Camera</strong></span>, then line 26 is executed</p></li></ul></div><p>Line 24: <code class="literal">camera.SetActive(false);</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>This makes every camera in the List inactive if it isn't <span class="strong"><strong>LookAt Camera</strong></span>
</p></li></ul></div><p>Line 26: <code class="literal">camera.SetActive(true);</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>This makes <span class="strong"><strong>LookAt Camera</strong></span> active</p></li></ul></div><p>Switching to <code class="literal">PlayStateScene1_2</code> makes the <span class="strong"><strong>Following Camera</strong></span> active:</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_10_08.jpg" /></div><p>As this <code class="literal">foreach</code> loop<a id="id427" class="indexterm"></a> iterates though the List, <span class="strong"><strong>LookAt Camera</strong></span> will be set as inactive, and <span class="strong"><strong>Following Camera</strong></span> will be set to active.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec155"></a>Attaching scripts to the new cameras</h3></div></div></div><p>The <span class="strong"><strong>LookAt Camera</strong></span> <a id="id428" class="indexterm"></a>and the <span class="strong"><strong>Following Camera</strong></span> each have a script attached.</p></div></div>