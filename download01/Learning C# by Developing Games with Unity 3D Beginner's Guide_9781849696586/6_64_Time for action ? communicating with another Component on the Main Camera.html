<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec66"></a>Time for action â€“ communicating with another Component on the Main Camera</h2></div></div><hr /></div><p>Let's create another <a id="id191" class="indexterm"></a>script with a variable and a method, and attach it to the <span class="strong"><strong>Main Camera</strong></span>, then have <code class="literal">LearningScript</code> communicate with it:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In Unity, create another <span class="strong"><strong>C# Script</strong></span> and name it <code class="literal">TalkToMe</code>.</p></li><li><p>Make a <code class="literal">public</code> <code class="literal">string</code> variable named <code class="literal">hereItIs</code>.</p></li><li><p>Assign some text to <code class="literal">hereItIs</code>.</p></li><li><p>Make a <code class="literal">public</code> method named <code class="literal">MakeMeTalk()</code>.</p></li><li><p>Have <code class="literal">MakeMeTalk()</code> output some text to the <span class="strong"><strong>Console</strong></span>.</p></li><li><p>Attach <code class="literal">MakeMeTalk()</code> to the <span class="strong"><strong>Main Camera</strong></span>. Now the code should look something like this:</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_06_06.jpg" /></div></li><li><p>Modify <code class="literal">LearningScript</code> to retrieve the <code class="literal">TalkToMe</code> Component.</p></li><li><p>Modify <code class="literal">LearningScript</code> to retrieve the data in <code class="literal">hereItIs.</code>
</p></li><li><p>Modify<a id="id192" class="indexterm"></a> <code class="literal">LearningScript</code> to call the <code class="literal">MakeMeTalk()</code> method. Now the code snippet should look as follows:</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_06_07.jpg" /></div></li><li><p>Save your scripts.</p></li><li><p>Click on <span class="strong"><strong>Play</strong></span> in Unity.</p></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec97"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>Here's<a id="id193" class="indexterm"></a> the output:</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_06_08.jpg" /></div><p>The <code class="literal">LearningScript</code> Component code retrieved a variable and called a method on the <code class="literal">TalkToMe</code> Component. Let's follow the code flow with these two Components.</p><p>An analysis of the code shown in the previous code screenshot is as follows:</p><p>On<code class="literal"> LearningScript:</code>
</p><p>Line 6: <code class="literal">TalkToMe otherComponent;</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>A variable <code class="literal">otherComponent</code> is declared to store a value of type <code class="literal">TalkToMe</code>
</p></li><li style="list-style-type: disc"><p>A <code class="literal">TalkToMe</code> Component object will be created and stored in the variable <code class="literal">otherComponent</code>
</p></li></ul></div><p>Line 10: <code class="literal">otherComponent = GetComponent&lt;TalkToMe&gt;();</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Remember, this is in the <code class="literal">Start()</code> method which Unity calls only once to initialize variables.</p></li><li style="list-style-type: disc"><p>The generic version of the <code class="literal">GetComponent&lt;T&gt;()</code> method is called to retrieve a reference to the <code class="literal">TalkToMe</code> Component object. This is item 3 on the previous graphic under the section, <span class="emphasis"><em>Accessing another Component on the current GameObject</em></span>.</p></li><li style="list-style-type: disc"><p>The <code class="literal">&lt;T&gt;</code> part is the type of Component, the class name, that the method will return.</p></li><li style="list-style-type: disc"><p>This reference is stored in the variable <code class="literal">otherComponent</code>. Why?So that every time we need to use the <code class="literal">TalkToMe</code> Component with Dot Syntax, we can just use the reference stored in <code class="literal">otherComponent</code> instead of having to use <code class="literal">GetComponent&lt;TalkToMe&gt;()</code> each time.</p></li></ul></div><p>Line 19: <code class="literal">Debug.Log("This is the TalkToMe Component: " + otherComponent);</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>This <a id="id194" class="indexterm"></a>line of code sends the value stored in <code class="literal">otherComponent</code> to the Unity <span class="strong"><strong>Console</strong></span> so we can see the reference that's pointing to the <code class="literal">TalkToMe</code> Component object</p></li></ul></div><p>Line 20: <code class="literal">Debug.Log(otherComponent.hereItIs);</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Dot Syntax is used to locate and retrieve the value stored in the variable <code class="literal">hereItIs</code> of the <code class="literal">TalkToMe</code> Component object. This is item 4 in the graphic under the section, <span class="emphasis"><em>Accessing another Component on the current GameObject</em></span>.</p></li><li style="list-style-type: disc"><p>The <code class="literal">hereItIs</code> variable is declared on line 6 of the <code class="literal">TalkToMe</code> class.</p></li><li style="list-style-type: disc"><p>Notice that <code class="literal">hereItIs</code> is <code class="literal">public</code> so that it can be accessed from other scripts.</p></li><li style="list-style-type: disc"><p>If we didn't use <code class="literal">otherComponent</code>, we would have written the Dot Syntax expression like the following line of code:</p><div class="informalexample"><pre class="programlisting">GetComponent&lt;TalkToMe&gt;().hereItIs</pre></div></li><li style="list-style-type: disc"><p>The following is a screenshot of the <span class="strong"><strong>Scripting Reference</strong></span> example:</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip03"></a>Tip</h3><p>At the time of this writing, Unity was updating its documentation. The page was not complete. The following screenshot is the old page; however, the code is still valid.</p></div><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_06_09.jpg" /></div></li></ul></div><p>Line 21: <code class="literal">otherComponent.MakeMeTalk();</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Dot <a id="id195" class="indexterm"></a>Syntax is used to locate and call the <code class="literal">MakeMeTalk()</code> method of the <code class="literal">TalkToMe</code> Component object</p></li><li style="list-style-type: disc"><p>Code flow now jumps over to the <code class="literal">TalkToMe</code> class. This is also item 4 in the graphic under the section, <span class="emphasis"><em>Accessing another Component on the current GameObject</em></span>.</p></li></ul></div><p>On <code class="literal">TalkToMe</code>:</p><p>Line 8: <code class="literal">public void MakeMeTalk()</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <code class="literal">MakeMeTalk()</code> method is <code class="literal">public</code> so that it can be called from other scripts</p></li><li style="list-style-type: disc"><p>Its code block simply sends a string of text to the Unity <span class="strong"><strong>Console</strong></span>
</p></li><li style="list-style-type: disc"><p>The code block ends and code flow returns to the <code class="literal">LearningScript</code> class</p></li></ul></div><p>On <code class="literal">LearningScript</code>:</p><p>Line 22: <code class="literal">}</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Code<a id="id196" class="indexterm"></a> flow has now reached the end of the <code class="literal">if</code> statement which began on line 17, and is waiting to detect if we press the <span class="emphasis"><em>Return</em></span> key again</p></li></ul></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip04"></a>Tip</h3><p>Before you proceed further with the next section, remove the <code class="literal">TalkToMe</code> Component from the <span class="strong"><strong>Main Camera</strong></span>. We are done with this script so there's no sense in having any of its Components hanging around.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec98"></a>Accessing other GameObjects and their Components</h3></div></div></div><p>You just learned to access <a id="id197" class="indexterm"></a>Components on the same GameObject. Now it's time to access other Gameobjects, and their Components using Dot Syntax.</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_06_10.jpg" /></div></div></div>