<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec88"></a>Time for action â€“ adding code to pause the game Scene</h2></div></div><hr /></div><p>In <code class="literal">BeginState</code>,<a id="id319" class="indexterm"></a> we're going to set <code class="literal">timeScale</code> to zero to pause the <span class="strong"><strong>Scene</strong></span>. Then before switching to <code class="literal">PlayState</code>, we'll set it back to normal speed. Perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Modify <code class="literal">BeginState</code> in two places as shown in the next screenshot.</p></li><li><p>Save the file.</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_08_16.jpg" /></div></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec125"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>An analysis of the code shown in the preceding screenshot is as follows: On the <code class="literal">BeginState </code>class</p><p>Line 14: <code class="literal">Time.timeScale = 0;</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>This line makes time in the game to stop</p></li></ul></div><p>Line 29: <code class="literal">Time.timeScale = 1;</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>This sets the game speed back to normal when switching to <code class="literal">PlayState</code>
</p></li></ul></div><p>Click on <span class="strong"><strong>Play</strong></span> again. <a id="id320" class="indexterm"></a>Now the <span class="strong"><strong>Cube</strong></span> GameObject is suspended in air. Click on the <span class="strong"><strong>Press to Play</strong></span> button and everything is back to normal and you're in <code class="literal">PlayState</code>.</p><p>Notice how the button disappears when you change States. Once again, this shows the beauty of the State Machine. You don't have to use a bunch of <code class="literal">if</code> statements to make things appear or disappear. Each State determines the control you want and what shows on the screen.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch08lvl4sec03"></a>Changing the State using a timer</h4></div></div></div><p>It's great being able to stop time like that, but what if you wanted <code class="literal">BeginState</code> to be active for only a few seconds and then automatically change to <code class="literal">PlayState</code>? By setting <code class="literal">timeScale</code> to zero, <a id="id321" class="indexterm"></a>any timers are now frozen in time.</p><p>Unity has a timer that runs, no matter what. It's a variable in the <code class="literal">Time</code> class called <code class="literal">realtimeSinceStartup</code>. When <span class="strong"><strong>Play</strong></span> is clicked, this variable is constantly updated with the running time of the game. We can use this to create a simple timer in <code class="literal">BeginState</code> to make it switch to <code class="literal">PlayState</code>.</p></div></div></div>