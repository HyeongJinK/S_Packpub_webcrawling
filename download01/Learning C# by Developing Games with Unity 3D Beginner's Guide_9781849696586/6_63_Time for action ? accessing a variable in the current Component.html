<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec65"></a>Time for action â€“ accessing a variable in the current Component</h2></div></div><hr /></div><p>Let's look at accessing a <a id="id186" class="indexterm"></a>variable in <code class="literal">LearningScript</code> from inside <code class="literal">LearningScript</code>.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Modify <code class="literal">LearningScript</code> as shown in the following figure:</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_06_03.jpg" /></div></li><li><p>Save the file.</p></li><li><p>In Unity, <a id="id187" class="indexterm"></a>click on <span class="strong"><strong>Play.</strong></span>
</p></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec95"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>Here are the outputs in the <span class="strong"><strong>Console</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_06_04.jpg" /></div><p>An analysis of the code shown in the previous code screenshot is as follows:</p><p>Line 6: <code class="literal">string myString = "Access the variable ";</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">myString</code> is the <a id="id188" class="indexterm"></a>variable that will be accessed</p></li><li style="list-style-type: disc"><p>Notice that it's <code class="literal">private</code> by default, yet it can still be accessed</p></li></ul></div><p>Line 17: <code class="literal">Debug.Log(myString + "the normal way.");</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>This is how we have been accessing the value stored in a variable, by just using the variable name</p></li><li style="list-style-type: disc"><p>The <code class="literal">string</code> value in <code class="literal">myString</code>, <code class="literal">Accessing this variable</code>, is substituted for the variable name</p></li><li style="list-style-type: disc"><p>
<code class="literal">myString</code> is being accessed without using Dot Syntax or <code class="literal">GetComponent()</code>, because a script always has access to its own variables and methods</p></li></ul></div><p>Line 18: <code class="literal">Debug.Log(this.myString + "using 'this' keyword.");</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">myString</code> is being accessed using Dot Syntax</p></li><li style="list-style-type: disc"><p>The <code class="literal">this</code> keyword refers to the current instance of the class, the current Component</p></li></ul></div><p>Line 19: <code class="literal">Debug.Log(GetComponent&lt;LearningScript&gt;().myString + "using GetComponent.");</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">myString</code> is being accessed using Dot Syntax again</p></li><li style="list-style-type: disc"><p>This time, the generic <code class="literal">GetComponent&lt;T&gt;()</code> method is retrieving the <code class="literal">LearningScript</code> Component</p></li></ul></div><p>Line 22: <code class="literal">Debug.Log(this);</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Using <code class="literal">this</code>, the Component is sent to the <span class="strong"><strong>Console</strong></span> so we can see that <code class="literal">this</code> is the current <code class="literal">LearningScript</code> Component object</p></li></ul></div><p>Line 23: <code class="literal">Debug.Log(GetComponent&lt;LearningScript&gt;());</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Using <code class="literal">GetComponent&lt;LearningScript&gt;()</code>, the Component is sent to the <span class="strong"><strong>Console</strong></span>, so we can see this also is the current <code class="literal">LearningScript</code> Component object</p></li><li style="list-style-type: disc"><p>The <code class="literal">this</code> keyword and <code class="literal">GetComponent&lt;LearningScript&gt;()</code> are both retrieving the same <code class="literal">LearningScript</code> Component object</p></li></ul></div><p>Whoa!! What's with line 18?</p><p>Notice item 1 in <a id="id189" class="indexterm"></a>the graphic under the section, <span class="emphasis"><em>Accessing a Component's own variables and methods</em></span>? This is the usual way we will access variables and methods in the current script; no Dot Syntax required. This is how we've been doing it from the beginning of this book. It's how we will probably continue to access them. However, we do have the option of accessing the variables and methods in the current Component object using Dot Syntax.</p><p>As you can see from the output of lines 17 and 18, the value stored in <code class="literal">myString</code> is substituted no matter how we access <code class="literal">myString</code>.</p><p>So if we really wanted to, we could use the <code class="literal">GetComponent()</code> method to retrieve the current Component object of the <code class="literal">LearningScript</code> class in memory, then use Dot Syntax to access <code class="literal">myString</code>. However, C# provides a shortcut to get the current Component object by using the <code class="literal">this</code> keyword.</p><p>Item 2 in the graphic is the syntax used in line 18. In this example, the keyword <code class="literal">this</code> simply means the current instance object of the <code class="literal">LearningScript</code> class, the current Component.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note33"></a>Note</h3><p>Why do I even mention using <code class="literal">this</code> at this time? Later on when we get into the State Machine, we will be using <code class="literal">this</code>. I want you to be aware of what <code class="literal">this</code> is, a substitute for the current instance object of a class.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec96"></a>Accessing another Component on the current GameObject</h3></div></div></div><p>Now we start to just touch<a id="id190" class="indexterm"></a> on the real power of Dot Syntax, communicating with other objects to access variable data and methods. We will now communicate with another Component on the same GameObject, the <span class="strong"><strong>Main Camera</strong></span>. Remember, <code class="literal">LearningScript</code> is attached to the <span class="strong"><strong>Main Camera</strong></span> already. The following diagram will explain how this is done:</p><div class="mediaobject"><img src="/graphics/9781849696586/graphics/6586OT_06_05.jpg" /></div></div></div>