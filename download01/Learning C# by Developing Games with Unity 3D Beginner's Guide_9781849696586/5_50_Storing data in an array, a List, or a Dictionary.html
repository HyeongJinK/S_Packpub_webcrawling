<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec53"></a>Storing data in an array, a List, or a Dictionary</h2></div></div><hr /></div><p>There are times that many items need to be stored in some type of list. Perhaps a selection of weapons that a character may use. An example used later in this book is a list of splashscreens for the State Machine project we will build.</p><p>There are basically two<a id="id129" class="indexterm"></a> ways to access items in a list:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Direct retrieval</strong></span>: The location of an item in the list is already known, so code is written to access it directly, or</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Loop retrieval</strong></span>: The location of an item in the list is not known, it's just in there somewhere, so code is written to loop through the list until the item desired is found.</p></li></ul></div><p>First though, we need a list of items before we can select anything from the list. An example of collecting items into a list, then looping through the list, is shown in the <span class="strong"><strong>Scripting Reference</strong></span>
<a id="id130" class="indexterm"></a> under the <code class="literal">GetComponen</code>
<code class="literal">ts()</code> method:</p><div class="informalexample"><pre class="programlisting">public HingeJoint[] hingeJoints;
void Example() {
  hingeJoints = gameObject.GetComponents&lt;HingeJoint&gt;();
  ...
  }</pre></div><p>All the <code class="literal">HingeJoints</code> in a GameObject are collected into an array (list). Once all the <code class="literal">HingeJoints</code> are in the array, it's up to us to decide which <code class="literal">HingeJoints</code> we want to work with in our code.</p><p>So bottom line, what are we talking about here? We know that a variable stores a single item. For instance, we could store a single weapon in a variable. That's great as long as we only have one weapon. Suppose we have the option of using many different weapons. To store these weapons we would need a separate variable for each one. A better option would be to store all the weapons in some sort of super-variable that can store many items, that way they're all stored in one place, not in a whole bunch of different variables.</p><p>That's what an array, a List, or a Dictionary is, a variable with the ability to store many items. Like a super-variable divided into many cubbyholes.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec76"></a>Storing items in an array</h3></div></div></div><p>Looking at the <code class="literal">GetComponents()</code> example <a id="id131" class="indexterm"></a>on the <span class="strong"><strong>Scripting Reference</strong></span>, let's see how an array is created:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>As per the code on line 1: <code class="literal">public HingeJoint[] hingeJoints;</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">public</code> means this array will appear in the <span class="strong"><strong>Inspector</strong></span>. Also the array is accessible from other scripts.</p></li><li style="list-style-type: disc"><p>
<code class="literal">HingeJoint[]</code> is the type of variable being created. It's going to be a <code class="literal">HingeJoint</code> type (<code class="literal">HingeJoint</code> is a class in the <span class="strong"><strong>Scripting Reference</strong></span>).</p></li><li style="list-style-type: disc"><p>The square brackets specify that the variable created is going to be an array, a variable with many cubby-holes to store several <code class="literal">HingeJoint</code> objects, and only <code class="literal">HingeJoint</code> objects.</p></li><li style="list-style-type: disc"><p>
<code class="literal">hingeJoint</code> is the name of the array being created.</p></li></ul></div><p>That was easy enough. It's just like creating any other variable. The only difference was the addition of the square brackets to specify that the type of variable being declared is actually going to be an array.</p><p>Now that the array is created, the <code class="literal">GetComponent()</code> method retrieves all the <code class="literal">HingeJoints</code> on the GameObject and stores each of them into the array:</p></li><li style="list-style-type: disc"><p>As per the code on line 3: <code class="literal">hingeJoints = gameObject.GetComponents&lt;HingeJoint&gt;();</code>
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">hingeJoints</code> is the array</p></li><li style="list-style-type: disc"><p>GameObject is the variable that stores the GameObject this script is attached to</p></li><li style="list-style-type: disc"><p>
<code class="literal">GetComponents&lt;HingeJoint&gt;()</code> is the method used to find every <code class="literal">HingeJoint</code> object on this GameObject</p></li></ul></div></li></ul></div><p>As each <code class="literal">HingeJoint</code> <a id="id132" class="indexterm"></a>object is found, it is stored into one of the cubbyholes of the array. These cubbyholes actually have a real name called an <span class="strong"><strong>element</strong></span>. These elements actually have a specific location inside the <code class="literal">hingeJoint</code> array. Each element is given an index number. The first <code class="literal">HingeJoint</code> found would be stored in the element at index 0, the second one found is stored in the element at index 1. The third at index 2, and on and on until all the <code class="literal">HingeJoints</code> are found on the GameObject.</p><p>So if we knew exactly, which <code class="literal">HingeJoint</code> in the array we wanted to work with, perhaps the second <code class="literal">HingeJoint</code> which is stored in the element at index 1, we can simply retrieve it directly by saying it's stored in the variable:</p><div class="informalexample"><pre class="programlisting">hingeJoint[1]</pre></div><p>Once again we use the square brackets because the variable is actually an array, and also to specify the index number.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note24"></a>Note</h3><p>Please notice that the very first index number starts with zero. This is called zero indexed. It's just something you will have to remember. Many things in programming are zero indexed, and it creates coding errors when you forget, especially for beginners.</p></div><p>That's all I want to say about using arrays to store objects because I want to discuss using a <code class="literal">List</code> instead. It's like an array with extra benefits.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec77"></a>Storing items in a List</h3></div></div></div><p>Using a <code class="literal">List</code> instead of <a id="id133" class="indexterm"></a>an array can be so much easier to work with in a script. Look at some forum sites related to C#, and Unity, and you'll discover that a great deal of programmers simply don't use an array unless they have to, they prefer to use a <code class="literal">List</code>.</p><p>Here are the basics of why a List is better, and easier, to use than an array:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>An array is a fixed size and unchangeable</p></li><li style="list-style-type: disc"><p>The size of a <code class="literal">List</code> is adjustable</p></li><li style="list-style-type: disc"><p>You can easily add to, and remove elements from a <code class="literal">List</code>
</p></li><li style="list-style-type: disc"><p>To mimic adding a new element to an array, we would need to create a whole new array with the desired number of elements, then copy over the old elements</p></li></ul></div><p>The first thing to understand is that a <code class="literal">List</code> has the ability to store any type of object, just like an array. Also, just like an array, we must specify, which type of object you want a particular <code class="literal">List</code> to store. <a id="id134" class="indexterm"></a>This means that if you want a <code class="literal">List</code> of integers, of the <code class="literal">int</code> type, then you can create a <code class="literal">List</code> that will store only the <code class="literal">int</code> type. Want a <code class="literal">List</code> of pony names? Then create a <code class="literal">List</code> that will store only the <code class="literal">string</code> type.</p></div></div>