<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec10"></a>Introducing Run &amp; Jump</h2></div></div><hr /></div><p>
<span class="emphasis"><em>Run &amp; Jump</em></span> is a 2D platformer video game created for this book to serve as a base for our editor scripting experiments. In this section, we will talk about the video game and what kind <a id="id18" class="indexterm"></a>of things we want to achieve.</p><p>Keep in mind that it is not important to understand in detail how <span class="emphasis"><em>Run &amp; Jump</em></span> is implemented. It's enough just to understand the workflows associated with the content creation of this video game.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec09"></a>Playing the video game</h3></div></div></div><p>In this <a id="id19" class="indexterm"></a>video game, the player takes control of <span class="emphasis"><em>Timmy</em></span>, a guy who likes to collect coins and invests his time searching for hidden treasures. On his journey, he needs to avoid obstacles and enemies to reach the finale of each level and win. You can see how the video game looks in the following screenshots:</p><div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_06.jpg" /></div><p>To play the <a id="id20" class="indexterm"></a>video game, you will have to clone or download the project from <a class="ulink" href="https://github.com/angelotadres/RunAndJump" target="_blank">https://github.com/angelotadres/RunAndJump</a> in GitHub.</p><p>When you are ready, open the project in Unity. You will see the following folder structure in the <span class="strong"><strong>Project</strong></span> browser:</p><div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_07.jpg" /></div><p>To test the <a id="id21" class="indexterm"></a>game, open the scene <span class="strong"><strong>Title</strong></span> inside the <span class="strong"><strong>Scenes</strong></span> folder and then press the <span class="strong"><strong>Play</strong></span> button in the Unity toolbar:</p><div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_08.jpg" /></div><p>To control <span class="emphasis"><em>Timmy</em></span>, use the left and right arrows on your keyboard. Pressing the space bar makes him jump, and pressing it again while he is in the air makes him perform a double jump.</p><p>Currently, there are three levels implemented for this video game to test its functionality. In the next section, you will learn how to add more levels.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec10"></a>Creating a new level</h3></div></div></div><p>In this video<a id="id22" class="indexterm"></a> game, each level is a Unity scene inside the folder <code class="literal">Levels</code>. When you start playing <span class="emphasis"><em>Run &amp; Jump</em></span> and then select a specific level, the video game call the <code class="literal">LevelHandler</code> scene and this starts the script <code class="literal">LevelHandlerScene.cs</code>.</p><p>This scene has all the GUI necessary for the level, and the script is responsible for the game's status detection (playing, paused, and so on), when the player wins or loses, and loading of the specific level scene using the method <code class="literal">Application.LoadLevelAdditive</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note02"></a>Note</h3><p>Unlike <code class="literal">LoadLevel</code>, <code class="literal">LoadLevelAdditive</code> does not destroy objects in the current scene. Objects from the new scene are added over the current one.</p></div><p>Each level scene is composed of several prefabs. We will refer to these in the rest of the book as <span class="emphasis"><em>level pieces prefabs</em></span>.</p><p>Navigate to <code class="literal">Prefabs</code> | <code class="literal">LevelPieces</code> to check the available level piece prefabs. The following table contains a<a id="id23" class="indexterm"></a> description of each one:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col align="left" /><col align="left" /></colgroup><thead><tr><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">
<p>Level Piece</p>
</th><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">
<p>Description</p>
</th></tr></thead><tbody><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_09.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Timmy</strong></span> (<code class="literal">Player.prefab</code>):</p>
<p>You control this character in the game. Timmy's abilities are run, jump and double jump. There's nothing to envy about the Italian plumber.</p>
</td></tr><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_10.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Angry Blob</strong></span> (<code class="literal">EnemyAngryBlob.prefab</code>):</p>
<p>This character moves over platforms from one side to the other with an angry face. You don't like him and he doesn't like you so don't touch him or you will lose a life!</p>
</td></tr><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_11.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Coins</strong></span> (<code class="literal">InteractiveCoin.prefab</code>):</p>
<p>It is not a real platform video game without something to collect. Coins are one of the collectibles, and when you pick one, your score increases by 100 points.</p>
</td></tr><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_12.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Treasure</strong></span> (<code class="literal">InteractiveTreasure.prefab</code>):</p>
<p>Usually, this collectable is well hidden in order to motivate the player to explore the level. When you pick one, your score increases by 1,000 points.</p>
</td></tr><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_13.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Sign</strong></span> (<code class="literal">InteractiveSign.prefab</code>):</p>
<p>This will <a id="id24" class="indexterm"></a>display a message on the screen when the player is around the sign board. The sign is used to give the player hints or miscellaneous information about the current level.</p>
</td></tr><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_14.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Spikes</strong></span> (<code class="literal">HazardSpike.prefab</code>):</p>
<p>These sharp spikes are placed in locations that make it harder to reach your objective. Don't touch them or you will lose a life!</p>
</td></tr><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_15.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Dirt</strong></span> (<code class="literal">SolidDirt.prefab</code>):</p>
<p>This is used as a building block for the level.</p>
</td></tr><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_16.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Grass</strong></span> (<code class="literal">SolidGrass.prefab</code>):</p>
<p>Like Dirt, this too is used as a building block for the level. The only difference is this it's green on the top.</p>
</td></tr><tr><td style="" align="left" valign="top">
<div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_17.jpg" /></div>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Goal flag</strong></span> (<code class="literal">InteractiveGoalFlag.prefab</code>):</p>
<p>The main objective of the video game is to reach the Goal flag at the end of each level. A well-designed level will have a lot of hazards and enemies between you and the goal flag.</p>
</td></tr></tbody></table></div><p>To get a better <a id="id25" class="indexterm"></a>understating of what is involved in creating levels, let's create a new one. The goal is to copy the following level (or at least try to do so):</p><div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_18.jpg" /></div><p>For this, you need to perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create<a id="id26" class="indexterm"></a> a new scene and remove the default camera.</p></li><li><p>Add a new <span class="strong"><strong>Game Object</strong></span> to the scene and attach the <code class="literal">level.cs</code> script located in <code class="literal">Scripts</code> | <code class="literal">Level</code>. This script contains the base to make our level work.</p></li><li><p>Navigate to <code class="literal">Prefabs</code> | <code class="literal">LevelPieces</code> and clone the prefabs in the scene until you complete creating the level. All the prefabs must be nested inside the game object you created earlier.</p></li><li><p>When you are done, click again on the root game object. If you check the <span class="strong"><strong>Inspector</strong></span> window, you will see the following:</p><div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_19.jpg" /></div><p>Here, you will be able to adjust the properties of the level, such as the maximum time taken to beat the level and get the score bonus, <span class="strong"><strong>Gravity</strong></span>, <span class="strong"><strong>Bgm</strong></span> (background music), and <span class="strong"><strong>Background</strong></span>. You can play with these values: for the Bgm, you can grab an audio clip from the folder <code class="literal">Audio/Bgm</code>; and for the background, you can grab a sprite from <code class="literal">Art/Bg</code>.</p></li><li><p>As soon you finish, save the scene inside the folder <code class="literal">Levels</code> with the name <code class="literal">MyLevel_level</code>.</p></li></ol></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip03"></a>Tip</h3><p>To align the prefabs among themselves, select the <span class="strong"><strong>Transform</strong></span> tool and press and hold the <span class="emphasis"><em>V</em></span> key to<a id="id27" class="indexterm"></a> activate the <span class="strong"><strong>Vertex-Snapping mode</strong></span>.</p></div><p>
<span class="emphasis"><em>Run &amp; Jump</em></span> comes with a custom tool that allows you to set up the order and the name of the levels and also add these to the <span class="strong"><strong>Scenes in Build</strong></span> list automatically. We must use this in order of make our level usable by the video game (one of the requirements is to include the suffix <code class="literal">_level</code> in the name of the scene).</p><p>In the Unity <a id="id28" class="indexterm"></a>editor menu, navigate to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Level Packager</strong></span> | <span class="strong"><strong>Show Levels Package</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_20.jpg" /></div><p>This will display the following in the <span class="strong"><strong>Inspector</strong></span> window:</p><div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_21.jpg" /></div><p>Currently, there are only three levels listed, so click on the <span class="strong"><strong>+</strong></span> icon to create a new item in the list. Now, add the scene you created in right column and add the string <span class="strong"><strong>My Level</strong></span> in the left column. This will add your level as the fourth one.</p><p>Save the changes by clicking on the <span class="strong"><strong>Commit Levels</strong></span> button.</p><p>To check the scene you created, open the scene <span class="strong"><strong>Title</strong></span> inside the <span class="strong"><strong>Scenes</strong></span> folder, and then click on the <span class="strong"><strong>Play</strong></span> button to run the video game:</p><div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_01_22.jpg" /></div><p>Now you know the necessary amount of effort it takes to create a level for this game; so let's make <a id="id29" class="indexterm"></a>this level creation process the first thing to improve.</p></div></div>