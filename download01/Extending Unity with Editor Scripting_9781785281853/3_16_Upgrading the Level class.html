<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec19"></a>Upgrading the Level class</h2></div></div><hr /></div><p>In this video <a id="id82" class="indexterm"></a>game, a level is just a Unity scene with several level piece prefabs aligned with each other. When we started this project, we took a <a id="id83" class="indexterm"></a>look at how the level scenes were implemented and found that there was no relation between these prefabs and the <code class="literal">Level</code> class through code.</p><p>In the last chapter, we added gizmos to display a grid and the necessary methods to make game objects snap to this grid. Now, the focus is to make the <code class="literal">Level</code> class capable of knowing what is on the level scene.</p><p>To the <code class="literal">Level</code> class, we will add an array to handle a 2D matrix of <code class="literal">LevelPieces</code>, the base class of the level piece prefabs in <span class="emphasis"><em>Run &amp; Jump</em></span>. Its size will be determined explicitly by two variables, that is, the total number of columns and rows in the grid.</p><p>Go to the <code class="literal">Scripts/Level</code> folder and open the <code class="literal">Level.cs</code> script. Add the following code to the class:</p><div class="informalexample"><pre class="programlisting">[SerializeField]
private LevelPiece[] _pieces;

public LevelPiece[] Pieces {
get { return _pieces; }
   set {_pieces = value; }
}</pre></div><p>Save the script and wait for Unity to compile it. Then, in the Unity editor menu, navigate to <span class="strong"><strong>Tools</strong></span> | <span class="strong"><strong>Level Creator</strong></span> | <span class="strong"><strong>New Level Scene</strong></span> to create a new level:</p><div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_03_03.jpg" /></div><p>Select the level game object. If everything is OK, you will see something like this:</p><div class="mediaobject"><img src="/graphics/9781785281853/graphics/B04640_03_04.jpg" /></div><p>Now we <a id="id84" class="indexterm"></a>are <a id="id85" class="indexterm"></a>ready to go!</p></div>