<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec15"></a>Adding a structure to our levels</h2></div></div><hr /></div><p>Open the <span class="emphasis"><em>Run &amp; Jump</em></span> project and look for the folder <code class="literal">Scripts/Level</code>. Inside this folder, you will find all the related to the video game. The <code class="literal">Level</code> class is responsible for making our levels work.</p><p>As you <a id="id64" class="indexterm"></a>may have noticed, in <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Getting Started with Editor Scripting</em></span>, all the level piece prefabs are added to the scene and used by the level without a problem, but we don't have control over the size of the level or any way to guarantee that the level piece prefabs are going to be in the right position. Most important, the <code class="literal">Level</code> class is not aware about the level piece prefabs present on the level.</p><p>We are going to fix this situation making changes to the Level class, adding an array to save references to the level piece prefabs and define it size based in the total columns and rows supported by that array.</p><p>Visually, you are going to see the size of the level with the help of a grid made with gizmos.</p><p>As this<a id="id65" class="indexterm"></a> chapter requires changes on the <code class="literal">Level</code> class, there a couple of things you must know:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <code class="literal">Level</code> class is a partial class, this means that its content is divided in several files: the <code class="literal">Level.cs</code> and <code class="literal">Level.Logic.cs</code> scripts. This is just to make its manipulation easier in the book. All the changes will take place in <code class="literal">Level.cs</code>.</p></li><li style="list-style-type: disc"><p>The Level class follows a <span class="strong"><strong>Singleton design</strong></span> pattern, this means that the instantiation <a id="id66" class="indexterm"></a>of the class is restricted to just one object and you can have access to this from any other class using the <code class="literal">Level.Instance</code> method.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note07_a"></a>Note</h3><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>To learn more about Partial classes visit: <a class="ulink" href="https://msdn.microsoft.com/en-us/library/wa80x488(v=vs.140).aspx" target="_blank">https://msdn.microsoft.com/en-us/library/wa80x488(v=vs.140).aspx</a>
</p></li><li style="list-style-type: disc"><p>To learn <a id="id67" class="indexterm"></a>more about the Singleton design pattern visit the: <a class="ulink" href="https://en.wikipedia.org/wiki/Singleton_pattern" target="_blank">https://en.wikipedia.org/wiki/Singleton_pattern</a>
</p></li></ul></div></div></li></ul></div></div>