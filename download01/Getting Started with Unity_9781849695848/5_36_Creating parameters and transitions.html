<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec38"></a>Creating parameters and transitions</h2></div></div><hr /></div><p>First, let's<a id="id392" class="indexterm"></a> create transitions. Open the <span class="strong"><strong>Animator</strong></span> window, right-click on <a id="id393" class="indexterm"></a>the state labeled <span class="strong"><strong>Idle</strong></span>, and select the option <span class="strong"><strong>Make Transition</strong></span> from the contextual menu. This will create an arrow that symbolizes the transition from this state to another state. While this arrow is visible, click on the state labeled <span class="strong"><strong>WalkForward</strong></span>. This will create a transition between the states <span class="strong"><strong>WalkForward</strong></span> and <span class="strong"><strong>Idle</strong></span> as illustrated in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848_05_05.jpg" /></div><p>Repeat the last step to create a transition between the state <span class="strong"><strong>WalkForward</strong></span> and <span class="strong"><strong>Idle</strong></span>: right-click on the state labeled <span class="strong"><strong>WalkForward</strong></span>, select the option <span class="strong"><strong>Make Transition</strong></span> from the contextual menu, and click on the state labeled <span class="strong"><strong>Idle</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848_05_06.jpg" /></div><p>Now <a id="id394" class="indexterm"></a>that these transitions have been defined, we will need to specify<a id="id395" class="indexterm"></a> how the animations will change from one state to the other. This will be achieved using parameters. In the <span class="strong"><strong>Animator</strong></span> window, click on the <span class="strong"><strong>+</strong></span> button<a id="id396" class="indexterm"></a> located <a id="id397" class="indexterm"></a>at the bottom-right corner of the window, as indicated in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848_05_07.jpg" /></div><p>Doing so will display a contextual menu, from which we can choose the type of the parameter. Select the option <span class="strong"><strong>Bool</strong></span><a id="id398" class="indexterm"></a> to create a Boolean parameter. A new window should now appear with a default name for our new parameter as illustrated <a id="id399" class="indexterm"></a>in the following screenshot: change the name of the parameter to <code class="literal">walking</code>.</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848_05_08.jpg" /></div><p>Now that the parameter has been defined, we can start defining transitions based on this parameter. Let's start with the first transition from the <span class="strong"><strong>Idle</strong></span> state<a id="id400" class="indexterm"></a> to the <span class="strong"><strong>Walkforward</strong></span> state:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the transition from the <span class="strong"><strong>Idle</strong></span> state to the <span class="strong"><strong>Walkforward</strong></span> state (that is, click <a id="id401" class="indexterm"></a>on<a id="id402" class="indexterm"></a> the corresponding transition in the <span class="strong"><strong>Animator</strong></span> window).</p></li><li><p>If we<a id="id403" class="indexterm"></a> look at the <span class="strong"><strong>Inspector</strong></span> window, we can see<a id="id404" class="indexterm"></a> that this object has several components, including <span class="strong"><strong>Transitions</strong></span> and <span class="strong"><strong>Conditions</strong></span>. Let's focus on the <span class="strong"><strong>Conditions</strong></span> component for the time being. We can see that the condition for the transition is based on a parameter called <code class="literal">ExitTime</code> and that the value is <code class="literal">0.98</code>. This means that the transition will occur when the current animation has reached 98 percent completion. However, we would like to use the parameter labeled <span class="strong"><strong>walking</strong></span> instead.</p></li><li><p>Click on <a id="id405" class="indexterm"></a>the parameter <code class="literal">ExitTime</code>, this should display other parameters that we can use for this transition.</p></li><li><p>Select <span class="strong"><strong>walking</strong></span> from the contextual menu and make sure that the condition is set to <span class="strong"><strong>true</strong></span> as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848_05_09.jpg" /></div></li></ol></div><p>The process will be similar for the other transition (that is, from <span class="strong"><strong>WalkForward</strong></span> to <span class="strong"><strong>Idle</strong></span>), except that the condition for the transition for the parameter <span class="strong"><strong>walking</strong></span> will be <span class="strong"><strong>false</strong></span>: select the second transition (<span class="strong"><strong>WalkForward</strong></span> to <span class="strong"><strong>Idle</strong></span>) and set the transition condition of <span class="strong"><strong>walking</strong></span> to <span class="strong"><strong>false</strong></span>.</p><p>To check that the transitions are working, we can do the following:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Play the scene and look at the <span class="strong"><strong>Scene</strong></span> view<a id="id406" class="indexterm"></a> (not the Game view).</p></li><li><p>In the <span class="strong"><strong>Animator</strong></span> window<a id="id407" class="indexterm"></a>, change the parameter walking to <span class="strong"><strong>true</strong></span> by checking the corresponding box, as highlighted in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848_05_10.jpg" /></div></li><li><p>Check<a id="id408" class="indexterm"></a> that the zombie character starts walking; click on<a id="id409" class="indexterm"></a> this box again to set the variable <span class="strong"><strong>walking</strong></span> to <span class="strong"><strong>false</strong></span>, check that the zombie stops walking, and stop the <span class="strong"><strong>Play</strong></span> mode (<span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>P</em></span>).</p></li></ol></div></div>