<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec19"></a>Creating a maze based on built-in objects</h2></div></div><hr /></div><p>Based<a id="id84" class="indexterm"></a> on the skills we have covered in the previous <a id="id85" class="indexterm"></a>chapter, let's create a maze for our game. The layout of our maze is described in the following diagram. The level will consist of two main rooms connected by a bridge. The different sections include the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>A platform from where the player will start</p></li><li style="list-style-type: disc"><p>Water surrounding the platform</p></li><li style="list-style-type: disc"><p>A maze where the player can find ammunition and eliminate all enemies</p></li><li style="list-style-type: disc"><p>An exit door for which the player will need to find the keys</p></li></ul></div><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848OS_02_01.jpg" /></div><p>This simple layout can be achieved by moving, scaling, and duplicating basic shapes. Before <a id="id86" class="indexterm"></a>we start creating the maze, we will create a <a id="id87" class="indexterm"></a>new scene and folder for this chapter as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open our previous project (<code class="literal">maze</code>), created in the previous chapter, if it is not open yet.</p></li><li><p>In the <span class="strong"><strong>Project</strong></span> window<a id="id88" class="indexterm"></a>, create a new scene (<span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New Scene</strong></span>) and save it as <code class="literal">chapter2</code> (<span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Save Scene</strong></span> as). In the <span class="strong"><strong>Project</strong></span> window, click once on the <code class="literal">Assets</code> folder.</p></li><li><p>Select: <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Folder</strong></span> from the <span class="strong"><strong>Project</strong></span> window. Rename this folder <code class="literal">chapter2</code>.</p></li></ol></div><p>Then, we will download all the textures required for the maze. We will need four textures for the walls, floor, ceiling, and doors. As per previous sections, we will download these textures from the website <a class="ulink" href="http://www.cgtextures.com" target="_blank">www.cgtextures.com</a>, import them into our project and rename them to simplify their use. While some textures are specified in the next section, we can choose other textures of our choice.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open the URL <a class="ulink" href="http://cgtextures.com" target="_blank">http://cgtextures.com</a>.</p></li><li><p>If you are not already logged in, log in with your previous details by selecting <span class="strong"><strong>Members</strong></span> | <span class="strong"><strong>Login</strong></span>.</p></li><li><p>Once you have successfully logged in, we will search for our textures.</p></li><li><p>Add the keyword <code class="literal">MetalFloorsOthers0006</code> to the <span class="strong"><strong>Search</strong></span> field located on the<a id="id89" class="indexterm"></a> left-hand side of the window, and click on <span class="strong"><strong>Search</strong></span>.</p></li><li><p>Doing so should return one result. Click on the image and download the first texture (that is, tiled) in the next window (<span class="strong"><strong>Image 1; 640x640</strong></span>) to download it.</p></li><li><p>Once <a id="id90" class="indexterm"></a>the file has been downloaded<a id="id91" class="indexterm"></a> to your computer, (<code class="literal">MetalFloorsOther0006_1_S.jpg</code>), rename it <code class="literal">texture_floor.jpg</code>.</p></li><li><p>Repeat steps 4-6 using the following keywords, settings, and texture names:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><span class="strong"><strong>Second texture (walls)</strong></span>: Use the keyword <code class="literal">concretebare0280</code>, choose image1 (<code class="literal">ConcreteBare0280_39_S</code>), and rename the texture <code class="literal">texture_walls</code></p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Third texture (ceiling)</strong></span>: Use the keyword <code class="literal">ConcreteBare0314</code>, choose image1 and rename the texture <code class="literal">texture_ceiling</code></p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Fourth texture (door)</strong></span>: Use the keyword <code class="literal">DoorsMetalBig0183</code>, and rename the texture <code class="literal">texture_door</code></p></li></ul></div></li></ol></div><p>Next, we need to import these images inside Unity3D, so that they can be applied to objects:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Switch to Unity3D.</p></li><li><p>Select the folder <code class="literal">chapter2</code> that we created earlier (located in the <code class="literal">Assets</code> folder).</p></li><li><p>Select: <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import New Asset</strong></span>.</p></li><li><p>Browse to the folder where we downloaded the textures.</p></li><li><p>Select the texture labeled <code class="literal">texture_floor</code> and click on Import.</p></li><li><p>Repeat steps 3-5 for the textures <code class="literal">texture_walls</code>, <code class="literal">texture_door</code>, and <code class="literal">texture_ceiling.</code></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note09"></a>Note</h3><p>The previous steps could also have been achieved by downloading the textures to the computer, and then renaming and dragging-and-dropping these textures in the folder <code class="literal">chapter2</code> inside Unity3D.</p></div></li></ol></div><p>We can<a id="id92" class="indexterm"></a> create<a id="id93" class="indexterm"></a> the floor for our maze as shown in the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new cube and rename it <code class="literal">floor</code>.</p></li><li><p>Change its position to (x=0, y=-1, z=0) and its scale to (x=49, y=1, z=49).</p></li><li><p>Apply the texture <code class="literal">texture_floor</code> to this object (drag-and-drop the texture on the object).</p></li><li><p>Change<a id="id94" class="indexterm"></a> the tiling property of the texture to (x=20, y =20) in the<a id="id95" class="indexterm"></a> <span class="strong"><strong>Inspector</strong></span> window.</p></li></ol></div><p>Then, we can create the blocks<a id="id96" class="indexterm"></a> to be included in section <span class="strong"><strong>3</strong></span> from the previous screenshot:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new cube and rename it <code class="literal">block</code>.</p></li><li><p>Change the position of this cube to (x=-14, y=1, z=16) and its scale to (x=10, y=4, z=10).</p></li><li><p>Apply the texture <code class="literal">texture_walls</code> to this object.</p></li><li><p>Change<a id="id97" class="indexterm"></a> the tiling property of the texture<a id="id98" class="indexterm"></a> to (x=10, y=1).</p></li><li><p>Duplicate this object seven times (<span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span>) to the following locations:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>(x=0, y=1, z=16)</p></li><li><p>(x=14, y=1, z=16)</p></li><li><p>(x=-14, y=1, z=0)</p></li><li><p>(x=14, y=1, z=0)</p></li><li><p>(x=-14, y=1, z=-16)</p></li><li><p>(x=0, y=1, z=-16)</p></li><li><p>(x=14, y=1, z=-16)</p></li></ol></div></li><li><p>We should now have eight blocks, arranged in a square.</p></li></ol></div><p>Create the rocks<a id="id99" class="indexterm"></a> that will be used as a bridge to access the area labeled as <code class="literal">1</code> on the previous screenshot:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new cube and rename it <code class="literal">bridge</code>.</p></li><li><p>Apply the texture <code class="literal">texture_floor</code> to this object.</p></li><li><p>Change the tiling properties of this texture to (x=10, y=10).</p></li><li><p>Change the position of this cube to (x=-13, y=-1, z=50) and its scale to (x=2, y=1, z=2).</p></li><li><p>Duplicate this cube 10 times to the following locations:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>(x=-10, y=-1, z=50)</p></li><li><p>(x=-7, y=-1, z=50)</p></li><li><p>(x=7, y=-1, z=50)</p></li><li><p>(x=10, y=-1, z=50)</p></li><li><p>(x=13, y=-1, z=50)</p></li><li><p>(x=0, y=-1, z=42)</p></li><li><p>(x=0, y=-1, z=38)</p></li><li><p>(x=0, y=-1, z=34)</p></li><li><p>(x=0, y=-1, z=30)</p></li><li><p>(x=0, y=-1, z=26)</p></li></ol></div></li><li><p>Duplicate <a id="id100" class="indexterm"></a>the last object labeled <code class="literal">bridge</code> and rename it <code class="literal">platform</code>.</p></li><li><p>Modify<a id="id101" class="indexterm"></a> the<a id="id102" class="indexterm"></a> position of this object (<code class="literal">platform</code>) to (x=0, y=-1, z=49) and its scale to (x=9, y=1, z=9).</p></li></ol></div><p>Create horizontal walls<a id="id103" class="indexterm"></a> as shown in the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new cube and rename it <code class="literal">h_wall_water_long</code>.</p></li><li><p>Change its position to (x=0, y=0, z=57), its rotation to (x=0, y=90, z=0), and its scale to (x=2, y=6, z=50).</p></li><li><p>Apply the texture <code class="literal">texture_walls</code> to this object.</p></li><li><p>Duplicate this object and rename the duplicate <code class="literal">h_wall_water_short_left</code>.</p></li><li><p>Change the position of this new object to (x=-13, y=0, z=24), its scale to (x=2, y =6, z=24), and keep the rotation attributes (x=0, y=90, z=0).</p></li><li><p>Duplicate this object, and rename the copy <code class="literal">h_wall_water_short_right</code>.</p></li><li><p>Change the position of this new object to (x=13, y=0, z=24) and its scale to (x=2, y =6, z=24).</p></li><li><p>Duplicate this object and rename the duplicate <code class="literal">h_wall_short_right</code>.</p></li><li><p>Change the position of this new object to (x=13, y=1, z=-24) and its scale to (x=2, y =4, z=24).</p></li><li><p>Duplicate this object and rename the duplicate <code class="literal">h_wall_short_left</code>.</p></li><li><p>Change the position of this new object to (x=-13, y=1, z=-24) and its scale to (x=2, y =4, z=24).</p></li></ol></div><p>Create vertical walls<a id="id104" class="indexterm"></a> as shown in the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new cube and rename it <code class="literal">v_wall_left</code>.</p></li><li><p>Apply the texture <code class="literal">texture_walls</code> to this object.</p></li><li><p>Change the position of this object to (x=-24, y=1, z=0) and its scale to (x=2, y=4, z=50).</p></li><li><p>Duplicate this object and rename the duplicate <code class="literal">v_wall_right</code>.</p></li><li><p>Change the position of this object (<code class="literal">v_wall-right</code>) to (x=24, y=1, z=0) and its scale to (x=2, y=4, z=50).</p></li><li><p>Duplicate this object and rename the duplicate <code class="literal">v_wall_water_right</code>.</p></li><li><p>Change the position of the object <code class="literal">v_wall_water_right</code> to (x=24, y=0, z=40) and its scale to (x=2, y=6, z=32).</p></li><li><p>Duplicate this object and rename the duplicate <code class="literal">v_wall_water_left</code>.</p></li><li><p>Change<a id="id105" class="indexterm"></a> the<a id="id106" class="indexterm"></a> position of the object <code class="literal">v_wall_water_left</code> to (x=-24, y=0, z=40) and <a id="id107" class="indexterm"></a>its scale to (x=2, y=6, z=32).</p></li></ol></div><p>Create doors<a id="id108" class="indexterm"></a> as shown in the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new cube and rename it <code class="literal">exit_door</code>.</p></li><li><p>Apply the texture <code class="literal">texture_door</code> to this object and check the tiling property of the texture (x=1, y =1).</p></li><li><p>Change the position of this object to (x=0, y=1, z=-24) and its scale to (x=2, y=4, z=2).</p></li><li><p>Duplicate this door and rename the duplicate <code class="literal">door1</code>.</p></li><li><p>Change the position of this object (<code class="literal">door1</code>) to (x=-2.2, y =1, z=24) and its scale to (x=2, y=4 and z=1.2). This door will open and close automatically.</p></li></ol></div><p>Let's add water to<a id="id109" class="indexterm"></a> the water area as shown in the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select: <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import package</strong></span> | <span class="strong"><strong>Water (Basic)</strong></span>.</p></li><li><p>A new window labeled <span class="strong"><strong>Importing package</strong></span> will appear.</p></li><li><p>Click on the <span class="strong"><strong>Import</strong></span> button.</p></li><li><p>This will import all necessary assets to simulate water.</p></li><li><p>In the <span class="strong"><strong>Project</strong></span> window, select <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Standard Assets</strong></span> | <span class="strong"><strong>Water (Basic)</strong></span>.</p></li><li><p>It should include two prefabs, <span class="strong"><strong>Daylight Simple Water</strong></span> and <span class="strong"><strong>Nighttime Simple Water</strong></span>.</p></li><li><p>Drag-and-drop the prefab <span class="strong"><strong>Daylight Simple Water</strong></span> to the <span class="strong"><strong>Scene</strong></span> view and rename it <code class="literal">water</code>.</p></li><li><p>Change its position to (x=0, y=-2, z=42) and its scale property to (x=26, y=1, z=35).</p></li></ol></div><p>Add lights<a id="id110" class="indexterm"></a> as shown in the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>We will start by adding lights to the four corners of the maze.</p></li><li><p>Add a point light by selecting <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Other</strong></span> | <span class="strong"><strong>Point Light</strong></span>.</p></li><li><p>Rename this light <code class="literal">light_corner</code>.</p></li><li><p>Change its position to (x=21, y=2, z=-21) and its range to 30.</p></li><li><p>Duplicate <a id="id111" class="indexterm"></a>this object three times to obtain three additional lights at the positions (x=-21, y=2, z=21), (x=21, y=2, z=21), and (x=-21, y=2, z=-21).</p></li><li><p>Duplicate one of the objects labeled <code class="literal">light_corner</code> and rename it <code class="literal">light_middle</code>.</p></li><li><p>Change the position of this object (<code class="literal">light_middle</code>) to (x=0, y=2, z=0) and its range to 50.</p></li><li><p>Check the scene in the <span class="strong"><strong>Scene</strong></span> view and add other lights as you like.</p></li></ol></div><p>Now that all necessary objects have been added to the maze, we need to include a ceiling.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new cube and rename it <code class="literal">ceiling</code>.</p></li><li><p>Apply the texture <code class="literal">texture_ceiling</code> to this object (by selecting <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>chapter2</strong></span>).</p></li><li><p>Change<a id="id112" class="indexterm"></a> the <a id="id113" class="indexterm"></a>tiling property of the texture to (x=20, y =20).</p></li><li><p>Change the position of the ceiling to (x=0, y=3.5, z=16) and scale to (x=50, y=1, z=83).</p></li><li><p>Add a first-person controller to the scene (drag-and-drop the prefab <span class="strong"><strong>First Person Controller</strong></span> from the folder <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Standard Assets</strong></span> | <span class="strong"><strong>Character Controllers</strong></span>) and change its position to (x=3, y=0.6, z=3).</p></li><li><p>Play the scene (<span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>P</em></span>) and navigate through the maze.</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848OS_02_02.jpg" /></div></li></ol></div><p>Navigate to the water area and try to reach the platform by jumping on the successive blocks.</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848OS_02_03.jpg" /></div></div>