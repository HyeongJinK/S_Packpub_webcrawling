<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec17"></a>Implementing first- and third-person views</h2></div></div><hr /></div><p>In some cases, we may need to navigate through the game using a first- or third-person view. This<a id="id74" class="indexterm"></a> requires using a camera and the ability to move it based<a id="id75" class="indexterm"></a> on the players' keyboard entries. Thankfully, Unity3D includes built-in objects to implement both types of navigation. If we have chosen to import these assets when creating our project (see previous sections), these assets are located in the <span class="strong"><strong>Project</strong></span> view, inside the folder <code class="literal">Standard Assets</code>, and are named <span class="strong"><strong>3rd Person Controller</strong></span> and <span class="strong"><strong>First Person Controller</strong></span>. If you haven't done so yet, we will need to import the character controller package as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select: <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import Package</strong></span> | <span class="strong"><strong>Character Controller</strong></span>.</p></li><li><p>A new window labeled <span class="strong"><strong>Importing package</strong></span> will appear.</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848OT_01_17.jpg" /></div></li><li><p>Click on the button labeled <span class="strong"><strong>Import</strong></span>.</p></li><li><p>This will import the character controllers in our project as illustrated in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848OT_01_18.jpg" /></div></li></ol></div><p>Once we have imported this package, both controllers appear with a blue box to their left. This indicates that they are prefabs. Prefabs are comparable to templates, and make it possible <a id="id76" class="indexterm"></a>to reproduce similar objects based on the same<a id="id77" class="indexterm"></a> template, without the need to recreate them. Once a template is created and instantiated, if the prefab is modified, all instances will also be modified accordingly, thus saving time of the game developer. We will look at the concept of prefabs in the next chapters.</p><p>If we click on any of these prefabs, we will see in the <span class="strong"><strong>Inspector</strong></span> window that they include a set of components and attributes such as gravity, walk speed, or run speed, which can be modified and affect the behavior of the controller accordingly.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec14"></a>Adding a first-person controller</h3></div></div></div><p>Before<a id="id78" class="indexterm"></a> we add our first-person controller to the scene, we will create an object that will act as the ground on which the player will be able to walk or run.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new box (<span class="strong"><strong>Game Object</strong></span> | <span class="strong"><strong>Create Other</strong></span> | <span class="strong"><strong>Cube</strong></span>).</p></li><li><p>Rename this box <code class="literal">floor</code>.</p></li><li><p>Scale-up this cube by 20 on the x and z axes:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the cube labeled <code class="literal">floor</code>.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> window, change the position of this object to (x=0, y=-1, z=0) and its scale properties to (x=20, y=1, z=20). This will scale the cube on the x and z axes. Apply a texture to this cube.</p></li></ol></div></li><li><p>Open the site <a class="ulink" href="http://www.cgtextures.com" target="_blank">www.cgtextures.com</a>.</p></li><li><p>Search a tile texture using the keywords <code class="literal">tile 64722</code>.</p></li><li><p>Click on the image returned from the search. A new window should now appear, displaying three different textures.</p></li><li><p>Click on the first texture (<span class="strong"><strong>Image1: 700x700</strong></span>); this will download the texture to your hard drive (<code class="literal">TilesPlain0072_5_S.jpg</code>).</p></li><li><p>In Unity3D, select the folder <code class="literal">chapter1</code> in the <span class="strong"><strong>Project</strong></span> window, so that the image can be imported in this folder.</p></li><li><p>Import this texture as explained in the previous section (for example, <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import new Asset</strong></span>).</p></li><li><p>Apply the texture to the object labeled <code class="literal">floor</code>.</p></li><li><p>Click on the object labeled <code class="literal">floor</code> and look at its properties in the <span class="strong"><strong>Inspector</strong></span> window.</p></li></ol></div><p>By<a id="id79" class="indexterm"></a> importing these two images, Unity3D has automatically created the corresponding textures that will be used in the project. These textures are located in a folder called <code class="literal">material</code>, which is within the folder <code class="literal">chapter1</code> that was created previously.</p><p>Let's change the tiling properties of the texture used for the floor:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Click once on the object <code class="literal">floor</code> in the <span class="strong"><strong>Hierarchy</strong></span> window.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> window, click once on the component labeled <span class="strong"><strong>TilesPlain0072_5_S</strong></span>, this should display more properties for this texture as illustrated in the following screenshot:</p><p> </p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848OT_01_19.jpg" /></div></li><li><p>Change the tiling properties to (x=20, y=20).</p></li></ol></div><p>Add First Person Controller to the scene:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Drag-and-drop the <span class="strong"><strong>First Person Controller</strong></span> prefab (that is, blue box labeled <span class="strong"><strong>First Person Controller</strong></span>) by selecting <span class="strong"><strong>Standard Assets</strong></span> | <span class="strong"><strong>Character Controllers</strong></span> onto the <span class="strong"><strong>Scene</strong></span> view (or the <span class="strong"><strong>Project</strong></span> view).</p></li><li><p>Move this <span class="strong"><strong>First Person Controller</strong></span> to the position (x=0, y=0.6, z=-5) using the position properties in the <span class="strong"><strong>Inspector</strong></span> window. This should place <span class="strong"><strong>First Person Controller</strong></span> slightly above the ground; if it is too low, the collision may not be detected and the controller will fall indefinitely.</p></li></ol></div><p>Test the scene:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Press <a id="id80" class="indexterm"></a>the <span class="strong"><strong>Play</strong></span> button located at the top of<a id="id81" class="indexterm"></a> the window (or <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>P</em></span>).</p></li><li><p>Navigate through our scene using the keys <span class="emphasis"><em>W</em></span>, <span class="emphasis"><em>A</em></span>, <span class="emphasis"><em>S</em></span>, and <span class="emphasis"><em>D</em></span>, the arrow keys, or the mouse.</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848OT_01_20.jpg" /></div></li><li><p>Quit the Play mode by clicking on the <span class="strong"><strong>Play</strong></span> button or <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>P</em></span>.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec15"></a>Adding a third-person controller</h3></div></div></div><p>In this <a id="id82" class="indexterm"></a>section, we will add a third-person controller to the scene.</p><p>First, let's deactivate the third-person controller:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>The scene already includes a <span class="strong"><strong>First Person Controller</strong></span>. To avoid any conflict between these, it is better to deactivate the <span class="strong"><strong>First Person Controller</strong></span>.</p></li><li><p>Select <span class="strong"><strong>First Person Controller</strong></span> in our scene, and uncheck the box to the right of the label <span class="strong"><strong>First Person Controller</strong></span> in the <span class="strong"><strong>Inspector</strong></span> window as highlighted on the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848OT_01_21.jpg" /></div></li><li><p>This will deactivate this object, which means that it will still be present in the project, but not used or seen when the scene is played until it is reactivated.</p></li></ol></div><p>Add the third-person controller:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open the folder <code class="literal">Character Controllers</code>, which is located in the folder <code class="literal">Standard Assets</code>. This folder should include two prefabs symbolized by a blue cube (<span class="strong"><strong>3rd Person Controller</strong></span> and <span class="strong"><strong>First Person Controller</strong></span>) and one folder (<code class="literal">s</code>
<code class="literal">ources</code>).</p></li><li><p>Drag-and-drop <span class="strong"><strong>3rd Person Controller</strong></span> onto the <span class="strong"><strong>Scene</strong></span> view (or the <span class="strong"><strong>Project</strong></span> view).</p></li><li><p>Move <a id="id83" class="indexterm"></a>this <span class="strong"><strong>3rd Person Controller</strong></span> to the position (x=0, y=0.6, z=-5). This should place the controller slightly above the ground.</p></li></ol></div><p>Test the scene:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Press the Play button located at the top of the window or (<span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>P</em></span>).</p></li><li><p>Navigate through our scene using the keys <span class="emphasis"><em>W</em></span>, <span class="emphasis"><em>A</em></span>, <span class="emphasis"><em>S</em></span>, <span class="emphasis"><em>D</em></span>, or the arrow keys as illustrated in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695848/graphics/5848OT_01_22.jpg" /></div></li><li><p>Quit the Play mode by clicking on the <span class="strong"><strong>Play</strong></span> button or use the corresponding shortcut (<span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>P</em></span>).</p></li><li><p>Save our scene (<span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Save Scene As</strong></span>) and name it <code class="literal">chapter1</code>.</p></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note08"></a>Note</h3><p>To use and develop the skills acquired in this chapter, we could create a simple platform game, using a third-person view, where the player has to jump from platform to platform to reach the end of the level.</p></div></div></div>