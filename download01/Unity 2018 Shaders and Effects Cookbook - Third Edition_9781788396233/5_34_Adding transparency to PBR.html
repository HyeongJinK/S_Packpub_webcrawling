<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec39"></a>Adding transparency to PBR</h2></div></div><hr /></div><p>Transparency is such an important <span>aspect</span><a id="id325209371" class="indexterm"></a> in games that the Standard Shader supports three different ways of doing it. This recipe is useful if you need to have realistic materials with <span>transparent</span><a id="id325209380" class="indexterm"></a> or semi-transparent properties. Glasses, bottles, windows, and crystals are good candidates for PBR transparent shaders. This is because <span>you</span><a id="id325209388" class="indexterm"></a> can still have all the realism introduced by PBR with the addition of a transparent or translucent effect. If you need transparency for something different, such as UI elements or pixel art, there are more efficient alternatives that are explored in the <span class="emphasis"><em>Creating a transparent material</em></span> recipe in <a class="link" href="#" linkend="ch03"><span>Chapter 3</span></a>, <span class="emphasis"><em>Surface Shaders and Texture Mapping</em></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note51"></a>Note</h3><p>In order to have a transparent standard material, changing the alpha channel of its <strong class="userinput"><code>Albedo</code></strong> color property is not enough. Unless you properly set its <strong class="userinput"><code>Rendering Mode</code></strong>, your material will not appear transparent.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec87"></a>Getting ready</h3></div></div></div><p>This recipe will use the Standard Shader, so there is no need to create a new one:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create a new material (<code class="literal">TransparencyMat</code>).</li><li>Make sure that the <strong class="userinput"><code>Shader</code></strong> property is set to either <strong class="userinput"><code>Standard</code></strong> or <strong class="userinput"><code>Standard (Specular setup)</code></strong> from the material's <strong class="userinput"><code>Inspector</code></strong> tab.</li><li>Assign the newly created material to the 3D object that you want to be transparent:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/6bb71ab6-e0b4-4381-954f-0bba79fb559e.png" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec88"></a>How to do it...</h3></div></div></div><p>The Standard Shader provides three <span>different</span><a id="id325209479" class="indexterm"></a> types of transparencies. Despite <span>being</span><a id="id325209488" class="indexterm"></a> very similar, they have subtle differences and fit in different contexts.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec1"></a>Semi-transparent materials</h4></div></div></div><p>Some materials such as clear plastics, crystal, and <span>glass</span><a id="id325209630" class="indexterm"></a> are semi-transparent. This means that they both require all the realistic effects of PBR (such as specular highlights and Fresnel refraction and reflection), but allow the geometry <span>behind</span> an object with the material attached to be seen. If this is what you need, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>From the material's <strong class="userinput"><code>Inspector</code></strong> tab, set <strong class="userinput"><code>Rendering Mode</code></strong> to <strong class="userinput"><code>Transparent</code></strong>.</li><li>The amount of transparency is determined by the alpha channel of the <strong class="userinput"><code>Albedo</code></strong> color or the <strong class="userinput"><code>Albedo</code></strong> map (if any). If you click on the box to the right of the <strong class="userinput"><code>Albedo</code></strong> section, you'll bring up a <strong class="userinput"><code>Color</code></strong> menu. Adjusting the <strong class="userinput"><code>A</code></strong> channel will make the item more visible or less visible:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/bc82949e-e58a-4486-8066-dc84a58f3426.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Setting <span>the</span><a id="id325442729" class="indexterm"></a><strong class="userinput"><code>A</code></strong> channel to <code class="literal">44</code> provides the following effect:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/bedcabc0-c702-4418-becb-6cffed4c4e77.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>The following screenshot shows the Unity calibration scene with four different highly polished plastic spheres. From left to right, their transparency is increasing. The last sphere is fully transparent, but retains all the added effects of PBR:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/59902d0c-bd3c-4f71-935a-6e46bd21898a.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip52"></a>Note</h3><p>The Unity Calibration Scene can be downloaded for free from the Asset Store at <a class="ulink" href="https://www.assetstore.unity3d.com/en/#!/content/25422" target="_blank">https://www.assetstore.unity3d.com/en/#!/content/25422</a>.</p></div><p><span>The</span><strong class="userinput"><code>Transparent</code></strong> rendering <span>mode</span><a id="id325445187" class="indexterm"></a> is perfect <span>for</span><a id="id325445195" class="indexterm"></a> windows, bottles, gems, and headsets.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note53"></a>Note</h3><p>You should notice that many transparent materials don't usually project shadows. On top of this, the <strong class="userinput"><code>Metallic</code></strong> and <strong class="userinput"><code>Smoothness</code></strong> properties of a material can interfere with the transparency effect. A mirror-like surface can have the alpha set to zero, but if it reflects all the incoming light, it won't appear transparent.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec2"></a>Fading objects</h4></div></div></div><p>Sometimes, you want an object to fully <span>disappear</span><a id="id325451197" class="indexterm"></a> with a fading effect. In this case, specular reflections and Fresnel refraction and reflection should disappear as well. When a fading object is fully transparent, it should also be invisible. To do this, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>From the material's <strong class="userinput"><code>Inspector</code></strong> tab, set <strong class="userinput"><code>Rendering Mode</code></strong> to <strong class="userinput"><code>Fade</code></strong>.</li><li>As before, use the alpha channel of the <strong class="userinput"><code>Albedo</code></strong> color or map to determine the final transparency:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/e19b2277-da3f-41bf-a2be-52a84c17b21b.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>The following screenshot shows four fading spheres. It is clear from the screenshot that the PBR effects fade with the sphere as well. As you can see in the <span>following</span><a id="id325453379" class="indexterm"></a> image, the last one on the right is almost invisible:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/545e5b5b-f857-4685-a18c-c08eaeda60e9.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>This rendering mode works best for non-realistic objects, such as holograms, laser rays, faux lights, ghosts, and particle effects.</li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch05lvl3sec3"></a>Solid geometries with holes</h4></div></div></div><p>Most of the materials encountered in a game are solid, meaning that they don't allow light to pass through them. At the same time, many objects have a very complex (yet flat) geometry. Modeling leaves and grass with 3D objects is often overkilled. A more efficient approach is to use a quad (rectangle) with a leaf texture. While the leaf itself is solid, the rest of the texture should be fully transparent. If this is what you want, then perform the <span>following</span><a id="id325453412" class="indexterm"></a> steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>From the material's <strong class="userinput"><code>Inspector</code></strong> tab, set <strong class="userinput"><code>Rendering Mode</code></strong> to <strong class="userinput"><code>Cutout</code></strong>.</li><li>Use the <strong class="userinput"><code>Alpha Cutoff</code></strong> slider to determine the cutoff threshold. All the pixels in the <strong class="userinput"><code>Albedo</code></strong> map with an alpha value equal to or less than <strong class="userinput"><code>Alpha Cutoff</code></strong> will be hidden.</li></ol></div><p>The following image, taken from the <span class="emphasis"><em>Unity Official Tutorials</em></span> on PBR (<span><a class="ulink" href="https://www.youtube.com/watch?v=fD_ho_ofY6A" target="_blank">https://www.youtube.com/watch?v=fD_ho_ofY6A</a></span>), shows you how the effect of the <strong class="userinput"><code>Cutout</code></strong> rendering mode can be <span>used</span><a id="id325453734" class="indexterm"></a> to create a hole in the geometry:</p><div class="mediaobject"><img src="/graphics/9781788396233/graphics/e95e9017-c444-4cdd-9532-c888daedfbf5.png" /></div><p>It's worth noticing that <strong class="userinput"><code>Cutout</code></strong> does not allow the back of the geometry to be seen. In the previous example, you could not see the inner volume of the sphere. If you require <span>such</span><a id="id325453760" class="indexterm"></a> an effect, you <span>need</span><a id="id325453787" class="indexterm"></a> to create your own shader and make sure that the back geometry is not culled.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec89"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">As mentioned previously, some of the examples in this recipe have been created using the Unity <strong class="userinput"><code>Shader Calibration Scene</code></strong>, which is freely <span>available</span><a id="id325453809" class="indexterm"></a> in the Asset Store at <span><a class="ulink" href="https://www.assetstore.unity3d.com/en/#!/content/25422" target="_blank">https://www.assetstore.unity3d.com/en/#!/content/25422</a></span>.</li><li style="list-style-type: disc">More <span>information</span><a id="id325454747" class="indexterm"></a> about <strong class="userinput"><code><span>Albedo</span></code></strong> and <strong class="userinput"><code>Transparency</code></strong> can be found at<span><a class="ulink" href="http://docs.unity3d.com/Manual/StandardShaderMaterialParameterAlbedoColor.html" target="_blank">http://docs.unity3d.com/Manual/StandardShaderMaterialParameterAlbedoColor.html</a></span>.</li></ul></div></div></div>