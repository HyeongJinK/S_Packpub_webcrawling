<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch12lvl1sec72"></a>Implementing a simple a Shader Graph</h2></div></div><hr /></div><p>To get acquainted with the <span>interface</span><a id="id325209377" class="indexterm"></a> of the Shader Graph, let's create something similar to what we have seen before by sampling a texture to create a simple shader.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch12lvl2sec181"></a>Getting ready</h3></div></div></div><p>Ensure that you have created a project using the <strong class="userinput"><code>Lightweight Render Pipeline</code></strong>, as described in the <span class="emphasis"><em>Create a Shader Graph project</em></span> recipe. Afterward, complete the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create a new scene, if you haven't done so already, by going to <strong class="userinput"><code>File | New Scene</code></strong></li><li>Afterward, we need to have something to show our shader, so let's create a new sphere by going to <strong class="userinput"><code>Game Object | 3D Object| Sphere</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/9ab46973-cc4f-45d4-bd68-583cd08cebeb.png" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch12lvl2sec182"></a>How to do it...</h3></div></div></div><p>We will start off by creating a simple shader graph.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>From the <strong class="userinput"><code>Project</code></strong> window, create a new shader by going to <strong class="userinput"><code>Create | Shader | PBR Graph</code></strong>, and name it <code class="literal">SimpleGraph</code>.</li><li>Afterward, create a new material by going to <strong class="userinput"><code>Create | </code></strong><strong class="userinput"><code>Material</code></strong> (I named mine <code class="literal">SimpleGraphMat</code>). Next, assign the shader to the material by selecting the <strong class="userinput"><code>Material</code></strong>, then from the <strong class="userinput"><code>Inspector</code></strong> tab, you should select the <strong class="userinput"><code>Shader</code></strong> dropdown at the top and select <strong class="userinput"><code>graphs/SimpleGraph</code></strong>.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip81"></a>Note</h3><p>As always, you can also drag and drop the shader on top of the material as well.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Next, drag and drop the material onto our spherical object in the scene so we can see our shader being used in action:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/f500d0a5-ae67-4ecd-b258-d84f681e8a9e.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Now that the setup is done, we can start creating the graph. If you select the shader, you should notice, the <strong class="userinput"><code>Inspector</code></strong> tab that there is a button <span>that</span><a id="id325442698" class="indexterm"></a> says <strong class="userinput"><code>Open Shader Editor</code></strong>. Click on the button and the <strong class="userinput"><code>Shader Graph Editor</code></strong> will open automatically:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/566fd30a-9362-470f-9f5a-25b7fb3c3324.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note82"></a>Note</h3><p>To move within the Shader Graph Editor, you can use the mouse wheel to zoom in and out, and you can hold the middle mouse button and drag to pan the graph. Alternatively, you can also use <span class="emphasis"><em>Alt</em></span> + left mouse button.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>To get started, let's add a texture. Right-click to the left of the <strong class="userinput"><code>PBR Master</code></strong> and select <strong class="userinput"><code>Create Node</code></strong>. From there, you'll see a menu that allows you to either type in the name of a <span>node</span><a id="id325445065" class="indexterm"></a> or select from the menus. To go through the menus, select <strong class="userinput"><code>Input | Texture| Sample Texture 2D</code></strong>. Alternatively, you can type in <code class="literal">tex</code>, then select the <strong class="userinput"><code>Sample Texture 2D</code></strong> option using the arrow keys, and then press <span class="emphasis"><em><span>Enter</span></em></span>:</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip83"></a>Note</h3><p>You can also create a new node by moving your mouse over where you want to create one and pressing the Space key.</p></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/022c4e3b-48d2-4164-942d-9aeadd6c5368.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip84"></a>Note</h3><p>Feel free to click and drag any of the nodes on the Shader Graph to make it easier to see. </p></div><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>On the left-hand side of the <strong class="userinput"><code>Sample Texture 2D</code></strong> node, click on the circle with the dot in it to assign the texture as something that we <span>can</span><a id="id325445197" class="indexterm"></a> use (I used the <strong class="userinput"><code>Ground_Albedo</code></strong> property included with the project):</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/911f20b9-a7ae-4487-bffd-0e13156c90dc.png" /></div><p>Afterward, you should see the data from the texture given in an image under the node. </p><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Click and drag the pink <span>circle</span><a id="id325209541" class="indexterm"></a> on the right-hand side of the <strong class="userinput"><code>Sample Texture 2D</code></strong> node to the input <strong class="userinput"><code>Albedo</code></strong> node on the <strong class="userinput"><code>PBR Master</code></strong> node:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/610c7def-3a53-4f56-a572-b5498c301393.png" /></div><p>Just like we've learned in previous chapters, we can give a <code class="literal">fixed4</code> to a <code class="literal">fixed3</code> and it will just disregard the fourth parameter. </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip85"></a>Note</h3><p>If you are ever interested in what a particular node does or what the properties stand for, feel free to right click on it and select <strong class="userinput"><code>Open Documentation</code></strong>. It will open a window that will give you a description of what the node does.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Click on the <strong class="userinput"><code>Save Asset</code></strong> button on the top menu and then return to the Unity editor:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788396233/graphics/65fde2b8-edb5-4aec-a2a4-fc6a9dd3dbcb.png" /></div><p>As you can see, the shader has now been updated to contain the information from the Shader Graph editor!</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch12lvl2sec183"></a>How it works...</h3></div></div></div><p>From Shader Graph, we are introduced to the first nodes we have encountered. Of note is the <strong class="userinput"><code>PBR Master</code></strong> section on the screen. This is where all of the information about the shader will go to. You may notice that the properties are very similar to the regular Standard Shader we've used in the past, and we can modify the properties in a similar manner now, but we can also create additional nodes and connect them together to create unique effects.</p><p>The <strong class="userinput"><code>Sample Texture2D</code></strong> node allows us to give the <strong class="userinput"><code>Texture</code></strong> property as an input and then give the data from it as an <strong class="userinput"><code>RGBA</code></strong> output on the right-hand side (things on the right side of a node are outputs while things on the left side are inputs, such as the <strong class="userinput"><code>Albedo</code></strong> property on the <strong class="userinput"><code>PBR Master</code></strong> node).</p><p>Note that the color of the <span>circle</span><a id="id325453483" class="indexterm"></a> from the <strong class="userinput"><code>Texture</code></strong> input is red (the T stands for texture), the output of <strong class="userinput"><code>RGBA</code></strong> is pink (the 4 stands for <code class="literal">fixed4</code>), and the input for the <strong class="userinput"><code>Albedo</code></strong> input of the <strong class="userinput"><code>PBR Master</code></strong> node is yellow (the 3 stands for <code class="literal">fixed3</code>). </p></div></div>