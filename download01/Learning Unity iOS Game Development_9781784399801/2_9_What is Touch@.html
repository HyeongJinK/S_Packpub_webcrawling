<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec14"></a>What is Touch?</h2></div></div><hr /></div><p>Touch is a <span class="strong"><strong>struct</strong></span>. To put it differently, it is a group of different variables that hold information about <a id="id77" class="indexterm"></a>what the input can do. It is possible to monitor multiple <code class="literal">Touch</code> structs at once if the user is trying to input more than one, although we are only looking for one.</p><p>We do not need all the information Unity's touch gives us. We only need the location on the screen where the touch started, how long the touch lasted in seconds, where the touch ended on the screen, and the current state of the touch. From this, we will be able to detect the type of input and the direction of the input, if the player tapped, or if the player swiped in a direction.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec18"></a>Our own Touch</h3></div></div></div><p>The first step to coding our <a id="id78" class="indexterm"></a>input class is to create our own struct that will hold the values we need. The benefit to creating our own Touch is that we can then use it for only what we need. It also gives us the means to use the mouse input to accomplish the same input logic as the device, allowing editor testing that will match the device.</p><p>At the top of the <code class="literal">PlayerInput</code> class, enter the following code:</p><div class="informalexample"><pre class="programlisting">public struct SimpleTouch
{
  public Vector2 StartTouchLocation;
  public Vector2 CurrentTouchLocation;
  public DateTime StartTime;
  public TouchPhase Phase;
}</pre></div><p>As stated previously, we need to know the location where the touch started, ended, how long it lasted, and the current state (or phase) of the touch.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><code class="literal">Vector2</code>: This is a struct that holds <code class="literal">X</code> and <code class="literal">Y</code> float variables and is generally used to store a 2D location.</p></li><li style="list-style-type: disc"><p><code class="literal">DateTime</code>: This class is used to manage the date and time in your code. We will use this so that we know at what time the touch input started. Then, when you subtract the time the touch ended, we will get the length of the input in time.</p></li><li style="list-style-type: disc"><p><code class="literal">TouchPhase</code>: This <a id="id79" class="indexterm"></a>enum is used to categorize the state of the input. We will use this to compare the touch input from Unity with our <code class="literal">SimpleTouch</code>.</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec19"></a>Global variables</h3></div></div></div><p>We will also <a id="id80" class="indexterm"></a>need to include a few settings that we can use to manage how <a id="id81" class="indexterm"></a>we detect a swipe. Under our <code class="literal">SimpleTouch</code> struct, enter the following code:</p><div class="informalexample"><pre class="programlisting">public float SwipeTime;
public float SwipeDistance;</pre></div><p>These two values, which we can set from within the editor because they are <span class="strong"><strong>public</strong></span>, allow you to fine-tune what we call a Swipe.</p><p>We will also need two variables to manage the touch input. The first one will be the one Unity gives us, and the second variable will be the <code class="literal">SimpleTouch</code> struct we made. To add these, enter the following code under the two previous variables:</p><div class="informalexample"><pre class="programlisting">private SimpleTouch ActiveTouch;
private Touch DeviceTouch;</pre></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><code class="literal">ActiveTouch</code>: This specifies the simple information that we need to detect a swipe</p></li><li style="list-style-type: disc"><p><code class="literal">DeviceTouch</code>: This denotes the raw touch information Unity gives us when the player touches the device screen</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip10"></a>Tip</h3><p>These variables are set to <span class="strong"><strong>private</strong></span> to prevent both the editor from showing them and prevent any other class from accessing them. To put it differently, we don't want any other source to manipulate these values, so we label them as private.</p></div></li></ul></div></div></div>