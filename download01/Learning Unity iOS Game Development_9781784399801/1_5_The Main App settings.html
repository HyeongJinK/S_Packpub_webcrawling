<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec11"></a>The Main App settings</h2></div></div><hr /></div><p>After you are done with the achievements, go back to the game app main page. This page is used to show all the public information for the game; the information users will see when the game appears on the store:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><span class="strong"><strong>App video Preview and Screenshots</strong></span>: This is the area where you can place screenshots and a<a id="id49" class="indexterm"></a> video preview of the game. Apple requires different image sizes for all their devices. If you want your app to show images, you will need to create, scale, and upload all the images here. The video preview also has to be in a Mac-friendly codec, such as M4V. The screenshots for the app are required, and your game will not be able to go live until you have them included in these slots; the video is up to you and not required by Apple to submit your game.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip07"></a>Tip</h3><p>If you want to convert a AVI file to a M4V file, you can use a program called <span class="strong"><strong>HandBrake</strong></span> (<a class="ulink" href="https://handbrake.fr/" target="_blank">https://handbrake.fr/</a>).</p></div></li><li style="list-style-type: disc"><p><span class="strong"><strong>Description</strong></span>: This <a id="id50" class="indexterm"></a>specifies the description of your app. This area is open for you to describe the game and why the user may be interested in it.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Keywords</strong></span>: This denotes the list of keywords that describe your app. When the user searches, these keywords are used to match your app to that search.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Support URL</strong></span>: This specifies the URL that a user can go to get help with the app. This is generally the studio website or the creator's personal e-mail.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Marketing URL</strong></span>: This is the URL that would be used as marketing for your app. This is optional.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Privacy Policy URL</strong></span>: This would link the user to the privacy policy of your game. This is required for apps that are made for kids, if you offer autorenew in-app purchases, or if you have free subscriptions. If you include account registration, an app that would access the users existing account, or if (by chance) your app is required by law, this is also required.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>App Icon</strong></span>: This is the icon of your app. It is what the user will see when it appears on the store.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Apple ID</strong></span>: This <a id="id51" class="indexterm"></a>specifies the ID of this app.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Version</strong></span>: This is the current version of the app.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Category</strong></span>: This <a id="id52" class="indexterm"></a>specifies the category that the app falls into. For us, it is "Games".</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Rating</strong></span>: This denotes the rating of this app.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>License Agreement</strong></span>: This specifies the standard license agreement between you and Apple.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Copyright</strong></span>: This denotes the name of the person or entity that owns the rights to this app. In the example of this book, you would probably just use your name.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Trade Representative Contract Information</strong></span>: This allows you to display additional information that would be displayed on the Korean App Store.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Name, Address, and Country</strong></span>: This specifies your personal information about who owns the app.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Routing App Coverage File</strong></span>: This allows you to specify the geographic regions supported by your app.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Build</strong></span>: This is the current build and is uploaded with Xcode 5.1.1 version or later or the Application Loader 3.0 version.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Game</strong></span> <span class="strong"><strong>Center</strong></span>: This denotes the achievements and leaderboards used for this game. You set these earlier.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Multiplayer Capability</strong></span>: This specifies the games that are multiplayer-capable. Keep this as it is.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Newsstand</strong></span>: Keep this unused.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>App Review Information</strong></span>: This specifies the information that the Apple review team will use to contact you if they need any information during the review process. You'd generally use the name of the person in charge of quality assurance. In my case, I will use my name and e-mail.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Demo Account:</strong></span> This is used if the game needs an extra account to play, such as if you had a multiplayer service that required a log in, you would give the reviewers a demo account so that they could test the game with the extra service. For us, we can leave this blank.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Notes</strong></span>: This specifies<a id="id53" class="indexterm"></a> the additional information that the review team may need to test the app. As our game will be on the simple <a id="id54" class="indexterm"></a>side, you can leave this blank as well.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Version Release</strong></span>: This is the setting you can use to either automatically release the game as soon as it clears review or to set it up, so Apple lets you know when the game has cleared review. This is a personal choice. I generally use <span class="strong"><strong>Manually release this version</strong></span> to make sure that everything is correct before it goes to the store.</p></li></ul></div><p>At the very top of the page, click on <span class="strong"><strong>Save</strong></span>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec13"></a>Enabling iAds</h3></div></div></div><p>At the top of the page, click on <span class="strong"><strong>My</strong></span> <span class="strong"><strong>Apps</strong></span>, and in the window that pops up, click on <span class="strong"><strong>Agreements, Tax, and Banking</strong></span>.</p><p>On this page, you <a id="id55" class="indexterm"></a>will have to fill out and accept the contracts for <span class="strong"><strong>iOS Free Application</strong></span>, <span class="strong"><strong>iOS Paid Applications</strong></span>, and <span class="strong"><strong>iAd App Network</strong></span>. The process includes the personal banking information and the identity verification. When you have completed these, the game will be set up to sell and display iAds.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec14"></a>Setting up iOS Native in Unity</h3></div></div></div><p>As Unity does not<a id="id56" class="indexterm"></a> support the native functionality of iOS, we need a plugin to call the native iOS functions from Unity. For example, if we want to provide the user with the in-app purchase, we need this plugin to handle the code that takes care of this.</p><p>For our plugin to know about the specifics of our game, we must first include the Apple ID and the Bundle ID.</p><p>In Unity, click on <span class="strong"><strong>Window</strong></span> at the top of the editor screen, navigate to <span class="strong"><strong>iOS Native</strong></span>, and select <span class="strong"><strong>Edit Settings</strong></span>.</p><p>The <span class="strong"><strong>Inspector</strong></span> window should update to show <span class="strong"><strong>iOS</strong></span> <span class="strong"><strong>Native</strong></span> <span class="strong"><strong>Settings</strong></span>.</p><p>In iTunes Connect, navigate to <span class="strong"><strong>My</strong></span> <span class="strong"><strong>Apps</strong></span> and click on your game. This will open the main settings page. About halfway down, you will find the text for <span class="strong"><strong>Apple</strong></span> <span class="strong"><strong>ID</strong></span>. This is a big integer value. Copy this and go back to Unity; you can select the text and click on <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>C</em></span>, or you can write it down.</p><p>In <span class="strong"><strong>iOS Native Settings </strong></span>in Unity, under <span class="strong"><strong>Apple</strong></span> <span class="strong"><strong>ID</strong></span>, paste or enter the <span class="strong"><strong>Apple</strong></span> <span class="strong"><strong>ID</strong></span> from iTunes Connect:</p><div class="mediaobject"><img src="/graphics/9781784399801/graphics/4063_01_08.jpg" /></div><p>While still in Unity, click on <span class="strong"><strong>File</strong></span> in the top-left corner of the editor window. Then, navigate to <span class="strong"><strong>Build Settings</strong></span>.</p><p>If your project is<a id="id57" class="indexterm"></a> set to <span class="strong"><strong>PC, Mac &amp; Linux Standalone</strong></span>, click on <span class="strong"><strong>IOS</strong></span>. In the bottom-left corner of the window, click on <span class="strong"><strong>Switch</strong></span> <span class="strong"><strong>Platform</strong></span>.</p><p>Next, in the same window, click on <span class="strong"><strong>Player</strong></span> <span class="strong"><strong>Settings</strong></span>. This will update the <span class="strong"><strong>Inspector</strong></span> window. Under <span class="strong"><strong>Other</strong></span> <span class="strong"><strong>Settings</strong></span>, find the section under <span class="strong"><strong>Identification</strong></span> and then the textbox labeled <span class="strong"><strong>PlayerSettings.bundleIdentifier</strong></span>. In this field, enter the Bundle ID that you set up earlier. I used the<a id="id58" class="indexterm"></a> <span class="strong"><strong>reverse-domain name</strong></span> style, such as <code class="literal">com.mycompanyname.appname</code>.</p><p>If you do not remember your Bundle ID, navigate to <span class="strong"><strong>iTunes Connect</strong></span>, select <span class="strong"><strong>My</strong></span> <span class="strong"><strong>Apps</strong></span> and then select your game. On the right-hand side of the window, click on <span class="strong"><strong>More</strong></span> and then <span class="strong"><strong>About</strong></span> <span class="strong"><strong>this</strong></span> <span class="strong"><strong>app</strong></span>. In this window, you will see the game information, including the Bundle ID of the game.</p><p>You can leave <span class="strong"><strong>PlayerSettings.bundleVersion</strong></span> set to <code class="literal">1.0</code>.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip08"></a>Tip</h3><p>iOS Native is recommended even with the extra cost. If you do opt not to use it and try a free version, you will have to find some of these settings for this plugin.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec15"></a>Certificates and provisions on Mac</h3></div></div></div><p>Apple has come a long way when it comes to making the provisions and certificates for games. This used to be a headache, but now, we can use Xcode to generate these for us.</p><p>The first step is that <a id="id59" class="indexterm"></a>you will need to make a build and open it in Xcode. This can be done from your Windows or Macintosh machine, but it has to be opened on your Mac.</p><p>To create the build, open Unity and navigate to <span class="strong"><strong>File</strong></span> in the top-left corner of the editor window. Then, go to <span class="strong"><strong>Build Settings</strong></span>.</p><p>Make sure that the <a id="id60" class="indexterm"></a>build is <span class="strong"><strong>iOS</strong></span> and <span class="strong"><strong>Development Build</strong></span> is checked.</p><p>As there is no reason to run this build on a device, you do not have to have a scene selected in the <span class="strong"><strong>Scenes in build</strong></span> window.</p><p>Open <span class="strong"><strong>Player Settings</strong></span> and make sure that <span class="strong"><strong>PlayerSettings.bundleVersion</strong></span> is <code class="literal">1.0</code>, and <span class="strong"><strong>PlayerSettings.bundleIdentifier</strong></span> is set to the Bundle ID of your app.</p><p>Under <span class="strong"><strong>Optimization</strong></span>, there are a few settings that you can keep as default so that you know what the important ones do:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><span class="strong"><strong>API Compatibility Level</strong></span>: This allows you to set the .NET API profile. The .NET 2.0 API is the full .NET compatibility, whereas the .NET 2.0 subset is the subset of the full .NET compatibility and has smaller file sizes.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Target iOS Version</strong></span>: This selects the iOS version you want to target your game to. The lower the version number you use, the more devices can run your game. Using a higher version means that you have the option to utilize the features of this higher version, but users who have not upgraded their device to run this version will not be able to run your game.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Stripping Level</strong></span>: This option allows you to have the engine remove the unused aspects of the code to optimize the file size of your game.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><span class="strong"><strong>Strip assemblies level</strong></span>: This will look at the scripts by the code and remove any classes and methods that are not being used.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Strip ByteCode level</strong></span>: This takes any of the .NET DLL files and strips them down to metadata only.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Use micro mscorlib level</strong></span>: This is a special option to use a small version of mscorlib. This does remove some features, including security, Reflection.Emit, remoting, and nonGregorian calendars.</p></li></ul></div></li></ul></div><p>When everything is set, click on <span class="strong"><strong>Build</strong></span>. This will prompt you to save the build at a location on your computer. It doesn't matter where.</p><p>When the build is<a id="id61" class="indexterm"></a> done, navigate to where you saved it. If you are <span class="emphasis"><em>not</em></span> on a Mac, you need to copy this whole folder onto your Macintosh machine. You can do this with version control, a local network, or you can zip it up and send it to yourself and then download it on your Mac.</p><p>In order to open the project in Xcode, open the folder and double-click on the file that ends with <span class="strong"><strong>Xcodeproj</strong></span>. This will open Xcode and your project.</p><div class="mediaobject"><img src="/graphics/9781784399801/graphics/4063_01_09.jpg" /></div><p>In the <span class="strong"><strong>General</strong></span> tab<a id="id62" class="indexterm"></a> in Xcode, you will see the project general settings. This includes things, such as <span class="strong"><strong>Bundle Identifier</strong></span>, <span class="strong"><strong>Version</strong></span>, <span class="strong"><strong>Deployment Target</strong></span>, and the type of devices the game will run on.</p><div class="mediaobject"><img src="/graphics/9781784399801/graphics/4063_01_15.jpg" /></div><p>Under the <span class="strong"><strong>Identity</strong></span> portion of the <span class="strong"><strong>General</strong></span> settings tab, there is a drop-down menu for <span class="strong"><strong>Team</strong></span>. Click on it<a id="id63" class="indexterm"></a> and then select <span class="strong"><strong>Add an account</strong></span>. This<a id="id64" class="indexterm"></a> will open the <span class="strong"><strong>Accounts</strong></span> window. In the bottom-left corner of this window, click on the small <span class="strong"><strong>+</strong></span> sign and select <span class="strong"><strong>Add Apple ID…</strong></span>. This will prompt you to log in with your developer credentials. Use these credentials to log in.</p><div class="mediaobject"><img src="/graphics/9781784399801/graphics/4063_01_10.jpg" /></div><p>After logging in, you can close the <span class="strong"><strong>Accounts</strong></span> window. Now, from the <span class="strong"><strong>Team</strong></span> drop-down list, you should be able to <a id="id65" class="indexterm"></a>change it from <span class="strong"><strong>None</strong></span><a id="id66" class="indexterm"></a> to your team name, which is probably the name and e-mail you used to create your account:</p><div class="mediaobject"><img src="/graphics/9781784399801/graphics/4063_01_11.jpg" /></div><p>To make sure the<a id="id67" class="indexterm"></a> certificate went through, visit <a class="ulink" href="https://developer.apple.com" target="_blank">https://developer.apple.com</a>.</p><p>At the bottom of the page, click on <span class="strong"><strong>iOS</strong></span> <span class="strong"><strong>Apps</strong></span>.</p><p>On the following page, if not logged in to your developer account, log in. After this, in the top-right corner, click on the link called <span class="strong"><strong>Certificates</strong></span>,<span class="strong"><strong> Identifiers &amp; Profiles</strong></span>.</p><p>Under <span class="strong"><strong>iOS</strong></span> <span class="strong"><strong>Apps</strong></span>, click on <span class="strong"><strong>Certificates</strong></span>.</p><p>When the page loads, you should have <span class="strong"><strong>All</strong></span> selected in the <span class="strong"><strong>Certificates</strong></span> section. On the right-hand side of<a id="id68" class="indexterm"></a> your screen, you should see your name, the type of certificate, and the expiry date (1 year after the creation of it):</p><div class="mediaobject"><img src="/graphics/9781784399801/graphics/4063_01_12.jpg" /></div><p>Through the course of this book, we will use two different types of certificates: iOS Development and iOS Distribution.</p><p><span class="strong"><strong>iOS Development</strong></span> refers<a id="id69" class="indexterm"></a> to a certificate you can use during development, and <span class="strong"><strong>iOS Distribution</strong></span> is the<a id="id70" class="indexterm"></a> certificate that can be used when you are ready to submit your game for distribution.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec16"></a>Why iTunes Connect is important</h3></div></div></div><p>The process of<a id="id71" class="indexterm"></a> setting up iTunes Connect and Developer Account is important because these are the settings we will use in Unity in order to unlock achievements, leaderboards, in-app purchases, and display iAds.</p><p>If we didn't go through the process of creating an app in iTunes Connect, it would be impossible to release a game on the App Store, and if we didn't set up the Game Center features, we wouldn't be able to have achievements or leaderboards. The same is true for in-app purchases and iAds.</p></div></div>