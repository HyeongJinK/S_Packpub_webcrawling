<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec75"></a>Exterior environment – terrain</h2></div></div><hr /></div><p>When creating exterior environments, we cannot use straight floors for the most part unless you're creating a highly urbanized area. Our game takes place in a haunted house in the middle of nowhere, so we're going to create a natural landscape. In Unity, the best tool to use to create a natural<a id="id397" class="indexterm"></a> landscape is the <span class="strong"><strong>Terrain</strong></span> tool. Unity's Terrain system lets us add landscapes, complete with <a id="id398" class="indexterm"></a>bushes, trees, and fading materials to our game.</p><p>To show how easy it is to use the Terrain tool, let's get started.</p><p>The first thing that we're going to do is actually create the terrain we'll be placing for the world. Let's first create a Terrain by selecting <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>3D Object</strong></span> | <span class="strong"><strong>Terrain</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781785883118/graphics/B05212_07_02.jpg" /></div><p>At this point, you <a id="id399" class="indexterm"></a>should see the terrain on the screen.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note55"></a>Note</h3><p>If for some reason you have problems seeing the Terrain object, go to the <span class="strong"><strong>Hierarchy </strong></span>tab and double-click on the Terrain object to focus your camera on it and move in as <a id="id400" class="indexterm"></a>needed.</p></div><p>Right now, it's just a flat plane, but we'll be doing a lot to it to make it shine. If you look to the right with the Terrain object selected, you'll see the <span class="strong"><strong>Terrain</strong></span> editing tools, which do the following (from left to right):</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Raise/Lower Height</strong></span>—This will <a id="id401" class="indexterm"></a>allow us to raise or lower the height of our terrain in a certain radius to create hills, rivers, and more.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Paint Height</strong></span>—If you already know<a id="id402" class="indexterm"></a> exactly the height that a part of your terrain needs to be, this tool will allow you to paint a spot to that location.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Smooth Height</strong></span>—This <a id="id403" class="indexterm"></a>averages out the area that it is in, attempts to smooth out areas, and reduces the appearance of abrupt changes.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Paint Texture</strong></span>—This allows<a id="id404" class="indexterm"></a> us to add textures to the surface of our terrain. One of the nice features of this is the ability to lay multiple textures on top of each other.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Place Trees</strong></span>—This<a id="id405" class="indexterm"></a> allows us to paint objects in our environment that will appear on the surface. Unity attempts to optimize these objects by billboarding distant trees so<a id="id406" class="indexterm"></a> we can have dense forests without having a horrible frame rate. By billboarding, I mean that the object will be simplified and its direction usually changes constantly as the object and camera move, so it always faces the camera direction.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Paint Details</strong></span>—In addition to trees, you can also have small things like rocks or grass covering the<a id="id407" class="indexterm"></a> surface of your environment, using 2D images to represent individual clumps with bits of randomization to make it appear more natural.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Terrain Settings</strong></span>—Settings that <a id="id408" class="indexterm"></a>will affect the overall properties of the particular Terrain, options such as the size of the terrain and wind can be found here.</p></li></ul></div><p>By default, the entire<a id="id409" class="indexterm"></a> Terrain is set to be at the bottom, but we want to have ground above us and below us so we can add in things like lakes.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>With the Terrain object selected, click on the second button from the left on the Terrain component (Paint height mode). From there, set the <span class="strong"><strong>Height</strong></span> value under <span class="strong"><strong>Settings</strong></span> to <code class="literal">100</code> and then press the <span class="strong"><strong>Flatten</strong></span> button. At this point, you should note the plane moving up, so now everything is above by default.</p></li><li><p>Next, we are going to create some interesting shapes to our world with some hills by "painting" on the surface. With the Terrain object selected, click on the first button on the left of our Terrain component (the <span class="strong"><strong>Raise/Lower Terrain</strong></span> mode). Once this is completed, you should see a number of different brushes and shapes that you can select from.</p></li></ol></div><p>Our use of terrain is to create hills in the background of our scene, so it does not seem like the world is completely flat.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Under the <span class="strong"><strong>Settings</strong></span>, change the <span class="strong"><strong>Brush Size</strong></span> and <span class="strong"><strong>Opacity</strong></span> of your brush to <code class="literal">100</code> and left-click around the edges of the world to create some hills. You can increase the height of the current hills if you click on top of the previous hill.</p><div class="mediaobject"><img src="/graphics/9781785883118/graphics/B05212_07_03.jpg" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note56"></a>Note</h3><p>When creating hills, it's a good idea to look at multiple angles while you're building them, so<a id="id410" class="indexterm"></a> you can make sure that none are too high or too low In general, you want to have taller hills as you go further back, or else you cannot see the smaller ones since they're blocked.</p><p>In the <span class="strong"><strong>Scene</strong></span> view, to move your camera around, you can use the toolbar at the top-right <a id="id411" class="indexterm"></a>corner or hold down the right mouse button and drag it in the direction you want the camera to move around in, pressing the <span class="emphasis"><em>W</em></span>, <span class="emphasis"><em>A</em></span>, <span class="emphasis"><em>S</em></span>, and <span class="emphasis"><em>D</em></span> keys to pan. In addition, you can hold down the middle mouse button and drag it to move the camera around. The mouse wheel can be scrolled to zoom in and out from where the camera is.</p><p>Even though you should plan out the level ahead of time on something like a piece of graph paper to plan out encounters, you will want to avoid making the level entirely from the preceding section, as the player will not actually see the game with a bird's eye view in the game at all (most likely). Referencing the map from the same perspective as your character will help ensure that the map looks great.</p><p>To see many different angles at one time, you can use a layout with multiple views of the scene, such as the 4 Split.</p></div></li><li><p>Once we have our<a id="id412" class="indexterm"></a> land done, we now want to create some holes in the ground, which we will fill with water later. This will provide a natural barrier to our world that players will know they cannot pass, so we will create a moat by first <a id="id413" class="indexterm"></a>changing the <span class="strong"><strong>Brush Size</strong></span> value to <span class="strong"><strong>50</strong></span> and then holding down the <span class="emphasis"><em>Shift</em></span> key, and left-clicking around the middle of our texture.</p><p>In this case, it's okay to use the <span class="strong"><strong>Top</strong></span> view; remember that this will eventually be water to fill in lakes, rivers, and so on, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781785883118/graphics/B05212_07_04.jpg" /></div></li></ol></div><p>To make this easier to see, you can click on the sun-looking light icon from the <span class="strong"><strong>Scene</strong></span> tab to disable lighting for<a id="id414" class="indexterm"></a> the time being.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note57"></a>Note</h3><p>At this point, we have done what is referred to in the industry as "grayboxing," making the level in the engine in the simplest way possible but without artwork (also known as "whiteboxing" or "orangeboxing" depending on the company you're working for).</p><p>At this point in <a id="id415" class="indexterm"></a>a traditional studio, you'd spend time playtesting the level and iterating on it before an artist or you will take the time to make it look great. However, for our purposes, we want to create a finished project as soon as possible. When doing your own games, be sure to play your level and have others play your level before you polish it.</p><p>For more information on grayboxing, check out <a class="ulink" href="http://www.worldofleveldesign.com/categories/level_design_tutorials/art_of_blocking_in_your_map.php" target="_blank">http://www.worldofleveldesign.com/categories/level_design_tutorials/art_of_blocking_in_your_map.php</a>.</p><p>For an example with<a id="id416" class="indexterm"></a> images of a graybox to the final level, PC Gamer has a nice article available at <a class="ulink" href="http://www.pcgamer.com/2014/03/18/building-crown-part-two-layout-design-textures-and-the-hammer-editor/" target="_blank">http://www.pcgamer.com/2014/03/18/building-crown-part-two-layout-design-textures-and-the-hammer-editor/</a>.</p></div></div>