<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec16"></a>Adding in sound effects/music</h2></div></div><hr /></div><p>Another thing <a id="id66" class="indexterm"></a>that we can do to give the project a little more polish is add in sound effects and background music. Let's do that now. Perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select your <span class="strong"><strong>enemy</strong></span> prefab, and add an <span class="strong"><strong>Audio Source</strong></span> component to it by selecting <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Audio</strong></span> | <span class="strong"><strong>Audio Source</strong></span>. </p></li><li><p>From there, go into the <span class="strong"><strong>Inspector</strong></span> and uncheck the <span class="strong"><strong>Play On Awake</strong></span> property. Otherwise, if there is something attached to <span class="strong"><strong>AudioClip </strong></span>it will play that sound automatically.An <a id="id67" class="indexterm"></a>
<span class="strong"><strong>audio source </strong></span>lets the audio listener attached to the <span class="strong"><strong>Main Camera</strong></span> object know that this is an object that can play sounds. </p></li><li><p>After this, let's go into our <code class="literal">EnemyBehaviour</code> script! As usual, we'll need to add in a new variable for us to use to play whenever we're hit:</p><div class="informalexample"><pre class="programlisting">// What sound to play when hit
public AudioClip hitSound;</pre></div></li><li><p>Next, go into the <code class="literal">CollisionEnter2D</code> function. After the <code class="literal">Destroy(theCollision.gameObject)</code> line, add the following code:</p><div class="informalexample"><pre class="programlisting">// Plays a sound from this object's AudioSource
GetComponent&lt;AudioSource&gt;().PlayOneShot(hitSound);</pre></div><p>In this<a id="id68" class="indexterm"></a> instance, I used the <code class="literal">GetComponent</code> function to access the <code class="literal">AudioSource</code> component that is attached to the game object this is attached to. It is important to note that <code class="literal">GetComponent</code> is a fairly expensive function to call. Since this will only be used once, it's OK to use like this; but if you were to use this more than once, I would suggest creating an <code class="literal">AudioSource</code> variable and setting it in the <code class="literal">Start</code> function instead like we will be doing in the next section.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note16"></a>Note</h3><p>For more information about the <a id="id69" class="indexterm"></a>
<code class="literal">PlayOneShot</code> function, check out <a class="ulink" href="http://docs.unity3d.com/ScriptReference/AudioSource.PlayOneShot.html" target="_blank">http://docs.unity3d.com/ScriptReference/AudioSource.PlayOneShot.html</a>.</p><p>For more information on the <a id="id70" class="indexterm"></a>
<span class="strong"><strong>Audio Source</strong></span> component (audio), check out <a class="ulink" href="http://docs.unity3d.com/ScriptReference/AudioSource.html" target="_blank">http://docs.unity3d.com/ScriptReference/AudioSource.html</a>.</p></div></li><li><p>Now, we need some actual sounds to play. I've set aside a folder of assets for you in the <code class="literal">Example Code</code> folder, so open your project folder via your <span class="strong"><strong>Explorer</strong></span> and move the folder into your project's <code class="literal">Assets</code> and then return to Unity.</p></li><li><p>Back in the inspector for our enemy, let's set the <code class="literal">Hit Sound</code> variable in the <code class="literal">EnemyBehaviour</code> script to the hit sound that we've imported by using drag and drop. Now, if we play the game, when we hit an enemy, the sound will be played! Now, let's have a sound if we destroy the enemy!</p></li><li><p>Go to the <span class="strong"><strong>Explosion</strong></span> prefab, and add an <span class="strong"><strong>Audio Source</strong></span> component in the same way we did in step 1; however, make sure that the <span class="strong"><strong>Play On Awake</strong></span> property is still checked. After this, set the <span class="strong"><strong>Audio Clip</strong></span> property in the component to the <code class="literal">explode</code> sound.</p><p>Now, if you play the game, hitting the object will play one sound, and when the object is destroyed, the explosion will play a sound. Because the sound is in the <span class="strong"><strong>Audio Clip</strong></span> property, we can just check <span class="strong"><strong>Play On Awake</strong></span> or call the <code class="literal">Play</code> function. However, if you want an object to play multiple sounds, it's better to have separate <code class="literal">AudioClip</code> variables just as we did with <code class="literal">EnemyBehaviour</code>.</p></li><li><p>Finally, I want to play a sound whenever we fire a shot. To do that, let's go to <code class="literal">playerShip</code> and add an audio source. </p></li><li><p>Next, go into <code class="literal">PlayerBehaviour</code>, and add in two new variables, as follows:</p><div class="informalexample"><pre class="programlisting">// What sound to play when we're shooting
public AudioClip shootSound;

// Reference to our AudioSource component
private AudioSource audioSource;</pre></div></li><li><p>Then, we need to initialize the audio property, so add a <code class="literal">Start</code> function with the following:</p><div class="informalexample"><pre class="programlisting">  void Start()
  {
    audioSource = GetComponent&lt;AudioSource&gt;();
  }</pre></div></li><li><p>After<a id="id71" class="indexterm"></a> this, whenever we shoot a bullet, let's play the new sound at the beginning of the <code class="literal">ShootLasers</code> function:</p><div class="informalexample"><pre class="programlisting">audioSource.PlayOneShot(shootSound);</pre></div></li><li><p>Coming back to <span class="strong"><strong>Inspector</strong></span>, set the <span class="strong"><strong>Shoot Sound</strong></span> property in the <code class="literal">PlayerBehaviour</code> component to the <code class="literal">shoot</code> sound effect.</p></li><li><p>Finally, let's add in our background music. Go to your <span class="strong"><strong>Main Camera</strong></span> object in <span class="strong"><strong>Hierarchy</strong></span>. Add an <span class="strong"><strong>Audio Source</strong></span> component. Change <span class="strong"><strong>Audio Clip</strong></span> to <span class="strong"><strong>bgm</strong></span>, check the <span class="strong"><strong>Loop</strong></span> option, and set <span class="strong"><strong>Volume</strong></span> to <code class="literal">.25</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note17"></a>Note</h3><p>The background music is provided for this project by Stratkat (Kyle Smith). If you are interested in more of his work, check out his website at <a class="ulink" href="http://daydreamanatomy.bandcamp.com/" target="_blank">http://daydreamanatomy.bandcamp.com/</a>.</p></div></li><li><p>Save everything, and run the game!</p></li></ol></div><p>Although we won't see any changes at this point for those of you actually running the game, you'll notice quite a change when the game is started. It's already feeling much more like a game.</p></div>