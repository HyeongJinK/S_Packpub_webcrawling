<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec29"></a>Building terrain and wall models</h2></div></div><hr /></div><p>We start building<a id="id721" class="indexterm"></a> the environment by constructing the overall shape of the level, which consists of the terrain <a id="id722" class="indexterm"></a>and the wall surrounding it, since this level is located in <a id="id723" class="indexterm"></a>an underground <a id="id724" class="indexterm"></a>setting. Always check back the environment concept art to make sure you don't leave out any of the important details. </p><p>Let's recall again how the environment concept art looks.</p><div class="mediaobject"><img src="/graphics/9781785282140/graphics/B04610_04_01.jpg" /></div><p>Even though Unity<a id="id725" class="indexterm"></a> Engine has a built-in terrain editor, it's more suitable for an open world environment. In this case, however, we have to manually build the terrain from scratch in Blender and later import it to Unity.</p><p>In order to build the <a id="id726" class="indexterm"></a>terrain accurately, we need to overlay the level layout design behind the 3D view in Blender so that we can follow it exactly<a id="id727" class="indexterm"></a> when we build the terrain model. To do this, open up the 3D view's <span class="strong"><strong>Properties</strong></span> panel by pressing <span class="emphasis"><em>N</em></span>. Scroll down to the bottom and open up the section named <span class="strong"><strong>Background Images</strong></span>. After this, click on <span class="strong"><strong>Add Image</strong></span> and open the level layout design we did in <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Creating Your Game Concept</em></span>.</p><p>You probably won't<a id="id728" class="indexterm"></a> see the layout appearing anywhere now because, by default, Blender uses the perspective view in the 3D viewport. In order to see the image, we have to switch from the perspective view to orthographic view by pressing the <span class="emphasis"><em>5</em></span> key on your numpad. Then, press <span class="emphasis"><em>7</em></span> on your numpad to switch to the top view so that we can construct the terrain by following the layout design.</p><div class="mediaobject"><img src="/graphics/9781785282140/graphics/B04610_04_02.jpg" /></div><p>Numpad (or numeric keypad) allows <a id="id729" class="indexterm"></a>you to navigate between different views in Blender. You can switch<a id="id730" class="indexterm"></a> between the top view, front view, and side view by pressing <span class="emphasis"><em>7</em></span>, <span class="emphasis"><em>1</em></span>, and <span class="emphasis"><em>3</em></span> respectively on your<a id="id731" class="indexterm"></a> numpad. You can also switch between perspective and orthographic views using <span class="emphasis"><em>5</em></span> on your nampad.</p><p>If you are using a laptop that has no numpad on it, you can ask Blender to reassign the keyboard numbers to act like the numpad buttons by going to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>User Preferences</strong></span> and clicking on the <span class="strong"><strong>Input</strong></span> button on top. Then, on the left, you will see an option named <span class="strong"><strong>Emulate Numpad</strong></span>. Tick<a id="id732" class="indexterm"></a> the checkbox; you can now use the regular number buttons to switch between different views.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note19"></a>Note</h3><p>For more information, check<a id="id733" class="indexterm"></a> out Blender's user manual here:</p><p>
<a class="ulink" href="http://www.blender.org/manual/getting_started/index.html" target="_blank">http://www.blender.org/manual/getting_started/index.html</a>
</p></div><p>After you have switched to the orthographic top view, create a plane and start constructing the ground by using the various tools that we have learned in previous chapters. The best practice would be to move around the vertices using the grab tool and extrude the edges to fill in any empty spaces.</p><p>You don't have to worry about the height of the ground at this stage, just filling in the ground from a 2D point of view. You can refine the path and further adjust the width of the tunnels at this<a id="id734" class="indexterm"></a> point. It's best to place the<a id="id735" class="indexterm"></a> character model with the actual size on the ground and check whether the layout works as you imagined.</p><div class="mediaobject"><img src="/graphics/9781785282140/graphics/B04610_04_03.jpg" /></div><p>Then, select part <a id="id736" class="indexterm"></a>of the ground vertices and move them<a id="id737" class="indexterm"></a> slightly downwards. If you refer to the level concept, there are stairs somewhere in the level, which means that the latter part of the level is slightly lower in terms of terrain height.</p><div class="mediaobject"><img src="/graphics/9781785282140/graphics/B04610_04_04.jpg" /></div><p>Next, create the<a id="id738" class="indexterm"></a> tunnel's wall by selecting all the outer <a id="id739" class="indexterm"></a>edges of the ground and extrude it upwards. You can hold the <span class="emphasis"><em>Alt</em></span> key and right-click on the edges to<a id="id740" class="indexterm"></a> batch-select<a id="id741" class="indexterm"></a> the other edges that are connected to the one you're currently selecting. This speeds up the process a lot compared to manually selecting them edge by edge.</p><div class="mediaobject"><img src="/graphics/9781785282140/graphics/B04610_04_05.jpg" /></div><p>After this, extrude the wall outwards against the ground direction and connect it to the neighboring wall if there is one. Always check whether there are any hidden faces inside the mesh by switching <a id="id742" class="indexterm"></a>over to the wireframe mode<a id="id743" class="indexterm"></a> using the <span class="emphasis"><em>X</em></span> key. Hidden faces may cause visual artifacts and should<a id="id744" class="indexterm"></a> be fixed during the modeling stage.</p><div class="mediaobject"><img src="/graphics/9781785282140/graphics/B04610_04_06.jpg" /></div><p>Finally, we will <a id="id745" class="indexterm"></a>create cliffs by extruding the ground downwards. If you refer to the level concept, this area will be surrounded by water, which is why there is no wall around it.</p><div class="mediaobject"><img src="/graphics/9781785282140/graphics/B04610_04_07.jpg" /></div></div>