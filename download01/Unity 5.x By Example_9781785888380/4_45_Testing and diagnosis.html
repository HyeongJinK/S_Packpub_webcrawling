<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec48"></a>Testing and diagnosis</h2></div></div><hr /></div><p>With practically all <a id="id294" class="indexterm"></a>games, you'll need to spend considerable time testing and debugging heavily to reduce bugs and errors as much as humanly possible. With <a id="id295" class="indexterm"></a>this sample program, very little debugging and testing has been required by you, but that's not because the game is simple. It's because I've already prechecked and pretested most of the code and functionality before presenting the material to you in this book, ensuring that you get a smooth learning experience. For your own projects, however, you'll need to do lots of testing. One way to get started is using the <span class="strong"><strong>Stats</strong></span> panel. To open this, click on the <span class="strong"><strong>Stats</strong></span> button on the <span class="strong"><strong>Game</strong></span> tab. See <span class="emphasis"><em>Figure 4.46</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_04_46.jpg" /><div class="caption"><p>Figure 4.46: Viewing game performance information via the Stats panel</p></div></div><p>More details on the <a id="id296" class="indexterm"></a>
<span class="strong"><strong>Stats</strong></span> panel are included in <a class="link" href="#" linkend="ch02">Chapter 2</a>, <span class="emphasis"><em>Project A â€“ the Collection Game Continued</em></span> of this book, and more information can be found online in the Unity documentation at <a class="ulink" href="http://docs.unity3d.com/Manual/RenderingStatistics.html" target="_blank">http://docs.unity3d.com/Manual/RenderingStatistics.html</a>.</p><p>Another debugging tool is the <span class="strong"><strong>Profiler</strong></span>. This is useful when the <span class="strong"><strong>Stats</strong></span> panel has already helped you identify a general problem, such as a low FPS, and you want to dig deeper to find where the problem might be located. More details on <span class="strong"><strong>Profiler</strong></span> are included later in <a class="link" href="#" linkend="ch06">Chapter 6</a>, <span class="emphasis"><em>Continuing the 2D Adventure</em></span> but a short introduction is worth including here. To access the <span class="strong"><strong>Profiler</strong></span> tool, select <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Profiler</strong></span> from the application menu. This displays the <span class="strong"><strong>Profiler</strong></span> window. See <span class="emphasis"><em>Figure 4.47</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_04_47.jpg" /><div class="caption"><p>Figure 4.47: Accessing the Profiler window</p></div></div><p>With the <span class="strong"><strong>Profiler</strong></span> window open, click on play on the toolbar to play test your game. When you do this, the <span class="strong"><strong>Profiler</strong></span> window fills with color-coded performance data in a graph. See <span class="emphasis"><em>Figure 4.48</em></span>. Green represents the performance of rendering (graphical) data. Reading and <a id="id297" class="indexterm"></a>understanding the graph requires some experience, but as a <a id="id298" class="indexterm"></a>general rule, watch out for mountains and peaks, that is, watch out for sharp fluctuations in the graph (sharp ups and downs) as this could indicate a problem, especially when it roughly coincides with frame rate drops.</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_04_48.jpg" /><div class="caption"><p>Figure 4.48: During gameplay, the Profiler populates with data</p></div></div><p>If you want to investigate further, simply pause the game, and then click in the graph. The horizontal axis (<span class="emphasis"><em>X</em></span> axis) represents the most recent frames, and the vertical axis represents workload. When <a id="id299" class="indexterm"></a>you click in the graph, a line marker is added to indicate <a id="id300" class="indexterm"></a>the frame under investigation. Beneath the graph, a list of all main processes for that frame are presented, typically ordered from top to bottom by the heaviness of their workload and proportion of frame time for which the process accounted. Heavier processes are listed at the top. See <span class="emphasis"><em>Figure 4.49</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_04_49.jpg" /><div class="caption"><p>Figure 4.49: Investigating performance data with the Profiler</p></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note18"></a>Note</h3><p>More information on the <a id="id301" class="indexterm"></a>
<span class="strong"><strong>Profiler</strong></span> can be found in the online Unity documentation at <a class="ulink" href="http://docs.unity3d.com/Manual/Profiler.html" target="_blank">http://docs.unity3d.com/Manual/Profiler.html</a>.</p></div></div>