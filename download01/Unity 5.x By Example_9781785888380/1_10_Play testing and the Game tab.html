<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec16"></a>Play testing and the Game tab</h2></div></div><hr /></div><p>The environment <a id="id66" class="indexterm"></a>created thus far for the coin collection game has been assembled using only the mesh assets included with the native <code class="literal">Prototyping</code> package. My environment, as shown in <span class="emphasis"><em>Figure 1.40</em></span>, features two main floor islands with houses, and the islands themselves are connected together by a stepping-stone bridge. Your version may be slightly different, and that's fine.</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_01_40.jpg" /><div class="caption"><p>Figure 1.40: The scene created so far contains two island areas</p></div></div><p>Overall, the scene is good work. It's well worth saving. To save the scene, press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>S</em></span> on the keyboard or else choose <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Save Scene</strong></span> from the application menu. See <span class="emphasis"><em>Figure 1.41</em></span>. If you're saving the scene for the first time, Unity displays a pop-up <span class="strong"><strong>Save</strong></span> dialog, prompting you to name the scene descriptively (I called it <code class="literal">Level_01</code>).</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_01_41.jpg" /><div class="caption"><p>Figure 1.41: Saving a scene</p></div></div><p>After saving the <a id="id67" class="indexterm"></a>scene, it becomes scene asset of the project and appears in the <span class="strong"><strong>Project</strong></span> panel. See <span class="emphasis"><em>Figure 1.42</em></span>. This means that the scene is now a genuine and integral part of the project and not just a temporary work-in-progress as it was before. <span class="emphasis"><em>Notice</em></span> also that saving a scene is conceptually <span class="emphasis"><em>different</em></span> from saving a project. For example, the application menu has entries for <span class="strong"><strong>Save Scene</strong></span> and <span class="strong"><strong>Save Project</strong></span>. Remember, a <span class="strong"><strong>Project</strong></span> is a collection of files and folders, including assets and scenes. A scene, by contrast, is one asset within the project and represents a complete 3D map that may be populated by other assets, such as meshes, textures, and sounds. Thus, saving a project saves the configuration between files and assets, including scenes. Saving a scene, in contrast, just retains the level changes within that specified scene.</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_01_42.jpg" /><div class="caption"><p>Figure 1.42: Saved scenes are added as assets within your project</p></div></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip07"></a>Tip</h3><p>You can see from <span class="emphasis"><em>Figure 1.42</em></span> that I've saved my scene in a folder named <code class="literal">Scenes</code>. Folders can be created in your project by right-clicking on any empty area in the <span class="strong"><strong>Project</strong></span> panel and choosing <span class="strong"><strong>New Folder</strong></span> from the context menu, or else choose <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Folder</strong></span> from the application menu. You can easily move and rearrange assets among folders by simply dragging and dropping them.</p></div><p>Now, the level, as it stands, contains nothing really <span class="emphasis"><em>playable</em></span>. It's simply a static, lifeless, and non-interactive 3D environment made using the <span class="strong"><strong>Editor</strong></span> tools. Let's correct this by making our scene <a id="id68" class="indexterm"></a>playable, allowing the player to wander around and explore the world in first-person mode, controlled using the standard WASD keys on the keyboard. To achieve this, we'll add a first-person character controller to the scene. This is a ready-made asset included with Unity, which contains everything necessary to create quick and effective first-person controls. Open the <code class="literal">Standard Assets</code> | <code class="literal">Characters</code> | <code class="literal">FirstPersonCharacter</code> | <code class="literal">Prefabs</code> folder. Then drag and drop the <span class="strong"><strong>FPSController</strong></span> asset from the <span class="strong"><strong>Project</strong></span> panel in the scene. See <span class="emphasis"><em>Figure 1.43</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_01_43.jpg" /><div class="caption"><p>Figure 1.43: Adding an FPSController to the scene</p></div></div><p>After adding the first-person controller, click on the play button from the Unity toolbar to play test the game in first-person mode. See <span class="emphasis"><em>Figure 1.44</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_01_44.jpg" /><div class="caption"><p>Figure 1.44: Unity scenes can be play tested by clicking on the play button from the toolbar</p></div></div><p>On clicking play, Unity typically switches from the <span class="strong"><strong>Scene</strong></span> tab to the <span class="strong"><strong>Game</strong></span> tab. As we've seen, the <span class="strong"><strong>Scene</strong></span> tab <a id="id69" class="indexterm"></a>is a <span class="emphasis"><em>director's-eye view</em></span> of the active scene; it's where a scene is edited, crafted, and designed. In contrast, the <span class="strong"><strong>Game</strong></span> tab is where the active scene is played and tested from the perspective of the gamer. From this view, the scene is displayed through the main game camera. While play mode is active, you can play test your game using the default game controls, provided that the <span class="strong"><strong>Game</strong></span> tab is <span class="emphasis"><em>in focus</em></span>. The first-person controller uses the WASD keys on the keyboard and mouse movement controls head orientation. See <span class="emphasis"><em>Figure 1.45</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_01_45.jpg" /><div class="caption"><p>Figure 1.45: Play testing levels in the Game tab</p></div></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip08"></a>Tip</h3><p>You can switch back to the <span class="strong"><strong>Scene</strong></span> tab while in play mode. You can even edit the scene and change, move, and delete objects there too! However, any and all scene changes made during play mode will automatically revert back to their original settings when play mode ends. This behavior is intentional. It lets you edit properties during gameplay to observe their effects and debug any issues without permanently changing the scene.</p></div><p>Congratulations! Your level should now be walkable in first-person mode. When completed, you can easily stop playback by clicking on the play button again or by pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>P</em></span> on the keyboard. Doing this will return you to the <span class="strong"><strong>Scene</strong></span> tab.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip09"></a>Tip</h3><p>Unity also features a <span class="strong"><strong>Toggle-Pause</strong></span> button to suspend and resume gameplay.</p></div><p>You should notice that, on <a id="id70" class="indexterm"></a>playing the level with a first-person controller, you receive an information message printed to the <span class="strong"><strong>Console</strong></span> window. By default, this window appears at the bottom of the <span class="strong"><strong>Unity Editor</strong></span>, docked beside the <span class="strong"><strong>Project</strong></span> panel. This window is also accessible manually from the application menu, <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Console</strong></span>. The <span class="strong"><strong>Console</strong></span> window is where all encountered errors or warnings are displayed for your review as well as information messages. Errors are printed in red and warnings in yellow, and information messages appear as a default grey. Sometimes, a message appears just once, or sometimes it appears many times repeatedly. See <span class="emphasis"><em>Figure 1.46</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_01_46.jpg" /><div class="caption"><p>Figure 1.46: The Console outputs information, warnings, and errors</p></div></div><p>As <a id="id71" class="indexterm"></a>mentioned, the <span class="strong"><strong>Console</strong></span> window outputs three distinct types of message: information, warnings, and errors. Information messages are typically Unity's way of making best practice recommendations or suggestions based on how your project is currently working. Warnings are slightly more serious and represent problems either in your code or scene, which (if not corrected) could result in unexpected behaviors and suboptimal performance. Finally, errors describe areas in your scene or code that require careful and immediate attention. Sometimes, errors will prevent your game from working altogether and sometimes errors happen at runtime and can result in game crashes or freezes. The <span class="strong"><strong>Console</strong></span> window, therefore, is helpful because it helps us debug and address issues with our games. <span class="emphasis"><em>Figure 1.46</em></span> has identified an issue concerning duplicated <span class="emphasis"><em>audio listeners</em></span>.</p><p>An audio listener is a component attached to a camera object. Specifically, each and every camera, by default, has an audio listener component attached. This represents an <span class="emphasis"><em>ear point</em></span>, that is, the ability to hear sound within the scene from the position of the camera. Unfortunately, Unity doesn't support multiple active audio listeners in the same scene, which means that you can only hear audio from one place at any one time. This problem happens because our scene now contains two cameras, one that was added automatically when the scene was created, and the other that is included in the first-person controller. To confirm this, select the first-person controller object in the <span class="strong"><strong>Hierarchy</strong></span> panel and click on the triangle icon beside its name to reveal more objects underneath, which are part of the first-person controller. See <span class="emphasis"><em>Figure 1.47</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_01_47.jpg" /><div class="caption"><p>Figure 1.47: Finding the camera on a first-person controller</p></div></div><p>Select <a id="id72" class="indexterm"></a>the <code class="literal">FirstPersonCharacter</code> object, which is underneath the <code class="literal">FPSController</code> object (as shown in <span class="emphasis"><em>Figure 1.47</em></span>). The <code class="literal">FirstPersonCharacter</code> object is a child of the <code class="literal">FPSController</code>, which is the parent. This is because <code class="literal">FPSController</code> contains or encloses the <code class="literal">FirstPersonCharacter</code> object in the <span class="strong"><strong>Hierarchy</strong></span> panel. Child objects inherit the transformations of their parents. This means that as parent objects move and rotate, all transformations will cascade downwards to all children. From the <span class="strong"><strong>Object Inspector</strong></span>, you can see that the object has an <span class="strong"><strong>Audio Listener</strong></span> component. See <span class="emphasis"><em>Figure 1.48</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_01_48.jpg" /><div class="caption"><p>Figure 1.48: The FirstPersonController object contains an AudioListener component</p></div></div><p>We could remove the <span class="strong"><strong>Audio Listener</strong></span> component from the <code class="literal">FPSController</code>, but this would prevent the player hearing sound in first-person perspective. So, instead, we'll delete the original camera created by default in the scene. To do this, select the original camera object in the hierarchy and press <span class="emphasis"><em>Delete</em></span> on the keyboard. See <span class="emphasis"><em>Figure 1.49</em></span>. This removes the <span class="strong"><strong>Audio Listener</strong></span> warning in the <span class="strong"><strong>Console</strong></span> during gameplay. Now give the game a play test!</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/B05118_01_49.jpg" /><div class="caption"><p>Figure 1.49: Deleting a camera object</p></div></div></div>