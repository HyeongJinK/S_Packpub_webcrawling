<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec53"></a>Creating an environment – getting started</h2></div></div><hr /></div><p>Our adventure <a id="id311" class="indexterm"></a>game will feature three separate but connected scenes, which the player may explore, moving from one scene to the next. The player may travel between scenes, simply by walking off the edge of one and then moving into the next. Each scene consists primarily of platforms and ledges and, in some cases, dangers and obstacles. In terms of graphical assets, each scene is made from two textures or sprites: the background and foreground. An example for Scene 1 is shown in <span class="emphasis"><em>Figures 5.9</em></span> and and <span class="emphasis"><em>Figure 5.10</em></span>. <span class="emphasis"><em>Figure 5.9</em></span> represents the background scene and <span class="emphasis"><em>Figure 5.10</em></span> represents the foreground, which includes a complete layout of all the platforms and ledges that the player must traverse. These files are included in the book companion files in the <code class="literal">Chapter05/Assets</code> folder:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/figure_05_09.jpg" /><div class="caption"><p>Figure 5.9: Scene background - tex_level01_bck.png</p></div></div><div class="mediaobject"><img src="/graphics/9781785888380/graphics/figure_05_10.jpg" /><div class="caption"><p>Figure 5.10: Scene foreground - tex_level01_design.png</p></div></div><p>Let's create the first level now, based on the sprites in <span class="emphasis"><em>Figures 5.9</em></span> and <span class="emphasis"><em>Figure 5.10</em></span>. To do this, use the existing empty scene, or create a new scene, ensuring that the scene camera is configured to <a id="id312" class="indexterm"></a>display textures at their native size. Then, drag and drop both the background and foreground sprites from the <span class="strong"><strong>Project</strong></span> panel to the scene. Both will be added to the scene as separate sprite objects. Then, position them both to the World Origin at (0,0,0). See <span class="emphasis"><em>Figure 5.11</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/figure_05_11.jpg" /><div class="caption"><p>Figure 5.11: Adding a scene background and foreground</p></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note21"></a>Note</h3><p>If you drag and drop both the background and foreground textures together as one selection from the <span class="strong"><strong>Project</strong></span> panel to the scene, Unity may ask you to create an Animation when you release your mouse. In such cases, Unity assumes that you want to create an animated sprite in which each selected texture becomes a frame of animation played in a sequence. You don't want to do this; instead, drag and drop each sprite to a separate <span class="strong"><strong>Hierarchy</strong></span> panel, allowing both the foreground and background to be seen at the same time.</p></div><p>Both sprite objects are now added to the scene at the same world position (0,0,0). The question arises now <a id="id313" class="indexterm"></a>as to which sprite Unity should display on top, given that both sprites overlap one another. Left as it is right now, there is a conflict and ambiguity about depth order, and we cannot rely on Unity consistently showing the correct sprite on top. We can solve this problem with two methods: one is to move the sprite forward in the <span class="emphasis"><em>Z</em></span> axis, closer to the Orthographic camera; and the other is to change its <span class="strong"><strong>Order</strong></span> setting from the <span class="strong"><strong>Object Inspector</strong></span>. High values for <span class="strong"><strong>Order</strong></span> result in the sprite appearing atop lower-order sprites. Here, I'll use both methods and that's fine too! See <span class="emphasis"><em>Figure 5.12</em></span>. Note, however, that <span class="strong"><strong>Order</strong></span> always takes precedence over <span class="strong"><strong>Position</strong></span>. This means that higher-order objects will always appear on top of lower-order objects, even if higher-order objects are positioned behind lower-order objects.</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/figure_05_12.jpg" /><div class="caption"><p>Figure 5.12: Ordering sprite layers in a scene</p></div></div><p>Before moving further, let's get organized in terms of scene hierarchy to prevent overcomplication and confusion happening later. Select each environment object and name them appropriately. I named the background <code class="literal">scene_background</code> and the foreground <code class="literal">scene_foreground</code>. Having done this, create a new, empty <span class="strong"><strong>GameObject</strong></span> named <code class="literal">Env</code> (for Environment), which will be the ultimate parent or ancestor of all static (non-movable) objects in the environment. This lets us group together all related objects easily. To do this, choose <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Empty</strong></span> from the application menu, position the created empty object to the world origin, and drag and drop both the background and foreground objects as its children. See <span class="emphasis"><em>Figure 5.13</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/figure_05_13.jpg" /><div class="caption"><p>Figure 5.13: Organizing the scene hierarchy</p></div></div><p>By switching to the Game tab, we can get an early preview of the level as it will appear to the gamer in terms of mood and emotional resonance. This feel can be enhanced further by adding some Camera Post-process Effects. These refer to pixel-based effects that can be applied to the camera in order to enhance the atmosphere of the final, rendered image on each frame. The <a id="id314" class="indexterm"></a>
<span class="strong"><strong>Image Effects</strong></span> are included in the Effects package, which you should have imported during the project creation phase. If you did not import the package at that time, you can do so now by navigating to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import Package</strong></span> | <span class="strong"><strong>Effects</strong></span>. The <span class="strong"><strong>Image Effects</strong></span> assets are stored in the <code class="literal">Standard Assets/Effects</code> folder. Once imported, you can add Image Effects to the selected camera via the Application Menu by choosing <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Image Effects</strong></span> and then choosing the effect to add. See <span class="emphasis"><em>Figure 5.14</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/figure_05_14.jpg" /><div class="caption"><p>Figure 5.14: Adding Image Effects to the selected camera</p></div></div><p>For this level, and all other levels in the game, I'll add the following two image effects: <span class="strong"><strong>Bloom Optimized</strong></span> and <span class="strong"><strong>Noise and Grain</strong></span>. Once added, you will typically need to adjust the sliders and settings in the <span class="strong"><strong>Inspector</strong></span> to achieve the look you want, continually previewing the result in the <span class="strong"><strong>Game</strong></span> <a id="id315" class="indexterm"></a>tab. The <span class="strong"><strong>Scene</strong></span> tab remains unaffected by image effects. The complete range of settings I've used for both image effects are included in <span class="emphasis"><em>Figure 5.15</em></span>. In many cases, these settings will take some trial and error—tweak values and observe the effect.</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/figure_05_15.jpg" /><div class="caption"><p>Figure 5.15: Image Effects applied to the game camera</p></div></div><p>Good work. The scene so far features a background and foreground taken from texture files and enhancing <a id="id316" class="indexterm"></a>special effects using the Image Effects assets package. This is a great start, but there's still much to do so let's move on!</p></div>