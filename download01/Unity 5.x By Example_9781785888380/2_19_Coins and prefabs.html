<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec24"></a>Coins and prefabs</h2></div></div><hr /></div><p>The basic coin <a id="id133" class="indexterm"></a>functionality is now created, but the scene needs more than one coin. The problem with simply duplicating a coin and scattering the duplicates is that if we make a change later to one coin and need to propagate that change to all other coins, we'd <a id="id134" class="indexterm"></a>need to delete the former duplicates and manually replace those with newer and amended duplicates. To avoid this tedious repetition, we can use prefabs. Prefabs let you convert an object in the scene to <code class="literal">Assets</code> in the <span class="strong"><strong>Project</strong></span> panel. This can be instantiated in the scene as frequently as needed, as though it were a mesh asset. The advantage is that changes made to the asset are automatically applied to all instances automatically, even across multiple scenes.</p><p>This makes it easier to work with custom assets, so let's prefab the coin right now. To do this, select the <code class="literal">Coin</code> object in the scene and then drag and drop it in the <span class="strong"><strong>Project</strong></span> panel. When this happens, a new <code class="literal">prefab</code> is created. The object in the scene is automatically updated to be an instance of <code class="literal">prefab</code>. This means that if the asset is deleted from the <code class="literal">Project</code> panel, the instance will become invalidated. See <span class="emphasis"><em>Figure 2.22</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/figure_02_22.jpg" /><div class="caption"><p>Figure 2.22: Creating a coin prefab</p></div></div><p>After <code class="literal">prefab</code> is created, you can add more instances of the coin easily to the level by dragging and dropping <code class="literal">prefab</code> from the <span class="strong"><strong>Project</strong></span> panel to the <span class="strong"><strong>Scene</strong></span>. Each instance is linked to the original <code class="literal">prefab</code> asset, which means that all changes made to the asset will immediately be made to <a id="id135" class="indexterm"></a>all instances. With this in mind, go ahead now and add as many <a id="id136" class="indexterm"></a>
<code class="literal">Coin</code> prefabs to the level as suitable for your coin collection game. Refer to the following figure for my arrangement:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/figure_02_23.jpg" /><div class="caption"><p>Figure 2.23: Adding coin prefabs to the level</p></div></div><p>One question that naturally arises is how you can transform prefab back into an independent <code class="literal">GameObject</code> that is no longer connected to the <code class="literal">prefab</code> asset. This is useful to do if you want some objects to be based on <code class="literal">prefab</code> but deviate from it slightly. To achieve this, select a <a id="id137" class="indexterm"></a>
<code class="literal">prefab</code> instance in the <span class="strong"><strong>Scene</strong></span>, and then navigate to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Break Prefab Instance</strong></span> from the application menu. See <span class="emphasis"><em>Figure 2.24</em></span>:</p><div class="mediaobject"><img src="/graphics/9781785888380/graphics/figure_02_24.jpg" /><div class="caption"><p>Figure 2.24: Breaking the prefab instance</p></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note09"></a>Note</h3><p>If you add a <code class="literal">prefab</code> instance to <span class="strong"><strong>Scene</strong></span> and make changes to it that you like and want to distribute <a id="id138" class="indexterm"></a>upstream back to the <code class="literal">prefab</code> asset, then select the object and choose <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Apply Changes to Prefab</strong></span>.</p></div></div>