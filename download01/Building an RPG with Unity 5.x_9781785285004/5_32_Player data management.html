<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec33"></a>Player data management</h2></div></div><hr /></div><p>We have not saved the actual data representing the customization of our player. The next step is to enhance our <code class="literal">PC.cs</code> and <code class="literal">CharacterCustomization.cs</code> scripts to actually save the selected data in our PC object.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec37"></a>PC class enhancements</h3></div></div></div><p>To do this, we need to modify our PC.cs code; here is the new code listing:</p><pre class="programlisting">using System; &#13;
 &#13;
[Serializable] &#13;
public class PC : BaseCharacter &#13;
{ &#13;
 &#13;
  public enum SHOULDER_PAD &#13;
  { &#13;
    none = 0, &#13;
    SP01 = 1, &#13;
    SP02 = 2, &#13;
    SP03 = 3, &#13;
    SP04 = 4 &#13;
  }; &#13;
 &#13;
  public enum BODY_TYPE { normal = 1, BT01 = 2, BT02 = 3 }; &#13;
 &#13;
  // Shoulder Pad &#13;
  public SHOULDER_PAD selectedShoulderPad = SHOULDER_PAD.none; &#13;
  public BODY_TYPE selectedBodyType = BODY_TYPE.normal; &#13;
 &#13;
  public bool kneePad = false; &#13;
  public bool legPlate = false; &#13;
 &#13;
  public enum WEAPON_TYPE &#13;
  { &#13;
    none = 0, &#13;
    axe1 = 1, &#13;
    axe2 = 2, &#13;
    club1 = 3, &#13;
    club2 = 4, &#13;
    falchion = 5, &#13;
    gladius = 6, &#13;
    mace = 7, &#13;
    maul = 8, &#13;
    scimitar = 9, &#13;
    spear = 10, &#13;
    sword1 = 11, &#13;
    sword2 = 12, &#13;
    sword3 = 13 &#13;
  }; &#13;
 &#13;
  public WEAPON_TYPE selectedWeapon = WEAPON_TYPE.none; &#13;
 &#13;
  public enum HELMET_TYPE { none = 0, HL01 = 1, HL02 = 2, HL03 = 3, HL04 = 4 }; &#13;
 &#13;
  public HELMET_TYPE selectedHelmet = HELMET_TYPE.none; &#13;
 &#13;
  public enum SHIELD_TYPE { none = 0, SL01 = 1, SL02 = 2 }; &#13;
 &#13;
  public SHIELD_TYPE selectedShield = SHIELD_TYPE.none; &#13;
 &#13;
  public int SKIN_ID = 1; &#13;
 &#13;
  public enum BOOT_TYPE { none = 0, BT01 = 1, BT02 = 2 }; &#13;
  public BOOT_TYPE selectedBoot = BOOT_TYPE.none; &#13;
} &#13;
</pre><p>We defined several enumeration types that describe the different parts of the player character's customization. There are several advantages in using enumeration in our code, a few of them being named constants, the name describes what they are for, type safety and easier to change the value of the enumeration without having to check a hundred different places within your code.</p><p>As stated in the previous chapters, the character customization code is heavily related to your character model and how you have rigged up your character model to be used in the game.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note38"></a>Note</h3><p>Note that you will need to modify the name of your UI elements to match the new code.</p></div><p>
</p><div class="mediaobject"><img src="/graphics/9781785285004/graphics/image_05_003.jpg" /></div><p>
</p><p>There are a few things you will need to configure to make sure the code works properly. First, you will need to name your UI elements properly to match the enumeration. The preceding figure illustrates for one of the UI elements representing a shoulder pad.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec38"></a>Character customization class update</h3></div></div></div><p>The events that drive the character customization are attached to the Base prefab, which has the <code class="literal">CharacterCustomization.cs</code> script as a component. The <code class="literal">CharacterCustomization.cs </code>script is listed here:</p><pre class="programlisting">using UnityEngine; &#13;
using UnityEngine.UI; &#13;
using System.Collections; &#13;
using UnityEngine.SceneManagement; &#13;
using System; &#13;
 &#13;
public class CharacterCustomization : MonoBehaviour &#13;
{ &#13;
  // reference to PC Game Object &#13;
  public GameObject PLAYER_CHARACTER; &#13;
 &#13;
  // variable used to hold the PC Customization &#13;
  public PC PC_CC; &#13;
 &#13;
  public Material[] PLAYER_SKIN; &#13;
 &#13;
  public GameObject CLOTH_01LOD0; &#13;
  public GameObject CLOTH_01LOD0_SKIN; &#13;
  public GameObject CLOTH_02LOD0; &#13;
  public GameObject CLOTH_02LOD0_SKIN; &#13;
  public GameObject CLOTH_03LOD0; &#13;
  public GameObject CLOTH_03LOD0_SKIN; &#13;
  public GameObject CLOTH_03LOD0_FAT; &#13;
 &#13;
  public GameObject BELT_LOD0; &#13;
 &#13;
  public GameObject SKN_LOD0; &#13;
  public GameObject FAT_LOD0; &#13;
  public GameObject RGL_LOD0; &#13;
 &#13;
  public GameObject HAIR_LOD0; &#13;
 &#13;
  public GameObject BOW_LOD0; &#13;
 &#13;
  // Head Equipment &#13;
  public GameObject GLADIATOR_01LOD0; &#13;
  public GameObject HELMET_01LOD0; &#13;
  public GameObject HELMET_02LOD0; &#13;
  public GameObject HELMET_03LOD0; &#13;
  public GameObject HELMET_04LOD0; &#13;
 &#13;
  // Shoulder Pad - Right Arm / Left Arm &#13;
  public GameObject SHOULDER_PAD_R_01LOD0; &#13;
  public GameObject SHOULDER_PAD_R_02LOD0; &#13;
  public GameObject SHOULDER_PAD_R_03LOD0; &#13;
  public GameObject SHOULDER_PAD_R_04LOD0; &#13;
 &#13;
  public GameObject SHOULDER_PAD_L_01LOD0; &#13;
  public GameObject SHOULDER_PAD_L_02LOD0; &#13;
  public GameObject SHOULDER_PAD_L_03LOD0; &#13;
  public GameObject SHOULDER_PAD_L_04LOD0; &#13;
 &#13;
  // Fore Arm - Right / Left Plates &#13;
  public GameObject ARM_PLATE_R_1LOD0; &#13;
  public GameObject ARM_PLATE_R_2LOD0; &#13;
 &#13;
  public GameObject ARM_PLATE_L_1LOD0; &#13;
  public GameObject ARM_PLATE_L_2LOD0; &#13;
 &#13;
  // Player Character Weapons &#13;
  public GameObject AXE_01LOD0; &#13;
  public GameObject AXE_02LOD0; &#13;
  public GameObject CLUB_01LOD0; &#13;
  public GameObject CLUB_02LOD0; &#13;
  public GameObject FALCHION_LOD0; &#13;
  public GameObject GLADIUS_LOD0; &#13;
  public GameObject MACE_LOD0; &#13;
  public GameObject MAUL_LOD0; &#13;
  public GameObject SCIMITAR_LOD0; &#13;
  public GameObject SPEAR_LOD0; &#13;
  public GameObject SWORD_BASTARD_LOD0; &#13;
  public GameObject SWORD_BOARD_01LOD0; &#13;
  public GameObject SWORD_SHORT_LOD0; &#13;
 &#13;
  // Player Character Defense Weapons &#13;
  public GameObject SHIELD_01LOD0; &#13;
  public GameObject SHIELD_02LOD0; &#13;
 &#13;
  public GameObject QUIVER_LOD0; &#13;
  public GameObject BOW_01_LOD0; &#13;
 &#13;
  // Player Character Calf - Right / Left &#13;
  public GameObject KNEE_PAD_R_LOD0; &#13;
  public GameObject LEG_PLATE_R_LOD0; &#13;
 &#13;
  public GameObject KNEE_PAD_L_LOD0; &#13;
  public GameObject LEG_PLATE_L_LOD0; &#13;
 &#13;
  public GameObject BOOT_01LOD0; &#13;
  public GameObject BOOT_02LOD0; &#13;
 &#13;
  // Use this for initialization &#13;
  void Start() &#13;
  { &#13;
    this.PC_CC = this.PLAYER_CHARACTER.GetComponent&lt;PlayerAgent&gt;().playerCharacterData; &#13;
  } &#13;
 &#13;
  public bool ROTATE_MODEL = false; &#13;
  // Update is called once per frame &#13;
  void Update() &#13;
  { &#13;
    if (Input.GetKeyUp(KeyCode.R)) &#13;
    { &#13;
      this.ROTATE_MODEL = !this.ROTATE_MODEL; &#13;
    } &#13;
 &#13;
    if (this.ROTATE_MODEL) &#13;
    { &#13;
      this.PLAYER_CHARACTER.transform.Rotate(new Vector3(0, 1, 0), 33.0f * Time.deltaTime); &#13;
    } &#13;
 &#13;
    if (Input.GetKeyUp(KeyCode.L)) &#13;
    { &#13;
 &#13;
      Debug.Log(PlayerPrefs.GetString("NAME")); &#13;
    } &#13;
 &#13;
  } &#13;
 &#13;
  public void SetShoulderPad(Toggle id) &#13;
  { &#13;
 &#13;
    try &#13;
    { &#13;
      PC.SHOULDER_PAD name = (PC.SHOULDER_PAD)Enum.Parse(typeof(PC.SHOULDER_PAD), id.name, true); &#13;
      if(id.isOn) &#13;
      { &#13;
        this.PC_CC.selectedShoulderPad = name; &#13;
        Debug.Log(string.Format("{0} was turned on", name)); &#13;
      } &#13;
      else &#13;
      { &#13;
        this.PC_CC.selectedShoulderPad = PC.SHOULDER_PAD.none; &#13;
        Debug.Log(string.Format("{0} was turned off", name)); &#13;
      } &#13;
    } &#13;
    catch &#13;
    { &#13;
      // if the value passed is not in the enumeration set it to none &#13;
      this.PC_CC.selectedShoulderPad = PC.SHOULDER_PAD.none; &#13;
      Debug.Log("Shoulder Pad Enumeration Not Found!"); &#13;
    } &#13;
 &#13;
    switch (id.name) &#13;
    { &#13;
      case "SP01": &#13;
        { &#13;
          this.SHOULDER_PAD_R_01LOD0.SetActive(id.isOn); &#13;
          this.SHOULDER_PAD_R_02LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_03LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_04LOD0.SetActive(false); &#13;
 &#13;
          this.SHOULDER_PAD_L_01LOD0.SetActive(id.isOn); &#13;
          this.SHOULDER_PAD_L_02LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_03LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_04LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case "SP02": &#13;
        { &#13;
          this.SHOULDER_PAD_R_01LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_02LOD0.SetActive(id.isOn); &#13;
          this.SHOULDER_PAD_R_03LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_04LOD0.SetActive(false); &#13;
 &#13;
          this.SHOULDER_PAD_L_01LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_02LOD0.SetActive(id.isOn); &#13;
          this.SHOULDER_PAD_L_03LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_04LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case "SP03": &#13;
        { &#13;
          this.SHOULDER_PAD_R_01LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_02LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_03LOD0.SetActive(id.isOn); &#13;
          this.SHOULDER_PAD_R_04LOD0.SetActive(false); &#13;
 &#13;
          this.SHOULDER_PAD_L_01LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_02LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_03LOD0.SetActive(id.isOn); &#13;
          this.SHOULDER_PAD_L_04LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case "SP04": &#13;
        { &#13;
          this.SHOULDER_PAD_R_01LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_02LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_03LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_04LOD0.SetActive(id.isOn); &#13;
 &#13;
          this.SHOULDER_PAD_L_01LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_02LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_03LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_04LOD0.SetActive(id.isOn); &#13;
          break; &#13;
        } &#13;
      default: &#13;
        { &#13;
          this.SHOULDER_PAD_R_01LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_02LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_03LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_R_04LOD0.SetActive(false); &#13;
 &#13;
          this.SHOULDER_PAD_L_01LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_02LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_03LOD0.SetActive(false); &#13;
          this.SHOULDER_PAD_L_04LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
    } &#13;
  } &#13;
 &#13;
  public void SetBodyType(Toggle id) &#13;
  { &#13;
    try &#13;
    { &#13;
      PC.BODY_TYPE name = (PC.BODY_TYPE)Enum.Parse(typeof(PC.BODY_TYPE), id.name, true); &#13;
      if(id.isOn) &#13;
      { &#13;
        this.PC_CC.selectedBodyType = name; &#13;
        Debug.Log(string.Format("{0} was turned on", name)); &#13;
      } &#13;
      else &#13;
      { &#13;
        this.PC_CC.selectedBodyType = PC.BODY_TYPE.normal; &#13;
        Debug.Log(string.Format("{0} was turned off", name)); &#13;
      } &#13;
    } &#13;
    catch &#13;
    { &#13;
      // if the value passed is not in the enumeration set it to none &#13;
      this.PC_CC.selectedBodyType= PC.BODY_TYPE.normal; &#13;
      Debug.Log("Body Type Enumeration Not Found!"); &#13;
    } &#13;
 &#13;
    switch (id.name) &#13;
    { &#13;
      case "BT01": &#13;
        { &#13;
          this.RGL_LOD0.SetActive(id.isOn); &#13;
          this.FAT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case "BT02": &#13;
        { &#13;
          this.RGL_LOD0.SetActive(false); &#13;
          this.FAT_LOD0.SetActive(id.isOn); &#13;
          break; &#13;
        } &#13;
      default: &#13;
        { &#13;
          this.RGL_LOD0.SetActive(false); &#13;
          this.FAT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
    } &#13;
  } &#13;
 &#13;
  public void SetKneePad(Toggle id) &#13;
  { &#13;
    this.KNEE_PAD_R_LOD0.SetActive(id.isOn); &#13;
    this.KNEE_PAD_L_LOD0.SetActive(id.isOn); &#13;
  } &#13;
 &#13;
  public void SetLegPlate(Toggle id) &#13;
  { &#13;
    this.LEG_PLATE_R_LOD0.SetActive(id.isOn); &#13;
    this.LEG_PLATE_L_LOD0.SetActive(id.isOn); &#13;
  } &#13;
 &#13;
  public void SetWeaponType(Slider id) &#13;
  { &#13;
    try &#13;
    { &#13;
      PC.WEAPON_TYPE weapon = (PC.WEAPON_TYPE)System.Convert.ToInt32(id.value);  &#13;
      this.PC_CC.selectedWeapon = weapon; &#13;
      Debug.Log(string.Format("Weapon selected: {0}", weapon.ToString())); &#13;
    } &#13;
    catch &#13;
    { &#13;
      this.PC_CC.selectedWeapon = PC.WEAPON_TYPE.none; &#13;
    } &#13;
 &#13;
    switch (System.Convert.ToInt32(id.value)) &#13;
    { &#13;
      case 0: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 1: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(true); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 2: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(true); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 3: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(true); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 4: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(true); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 5: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(true); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 6: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(true); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 7: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(true); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 8: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(true); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 9: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(true); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 10: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(true); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 11: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(true); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 12: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(true); &#13;
          this.SWORD_SHORT_LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case 13: &#13;
        { &#13;
          this.AXE_01LOD0.SetActive(false); &#13;
          this.AXE_02LOD0.SetActive(false); &#13;
          this.CLUB_01LOD0.SetActive(false); &#13;
          this.CLUB_02LOD0.SetActive(false); &#13;
          this.FALCHION_LOD0.SetActive(false); &#13;
          this.GLADIUS_LOD0.SetActive(false); &#13;
          this.MACE_LOD0.SetActive(false); &#13;
          this.MAUL_LOD0.SetActive(false); &#13;
          this.SCIMITAR_LOD0.SetActive(false); &#13;
          this.SPEAR_LOD0.SetActive(false); &#13;
          this.SWORD_BASTARD_LOD0.SetActive(false); &#13;
          this.SWORD_BOARD_01LOD0.SetActive(false); &#13;
          this.SWORD_SHORT_LOD0.SetActive(true); &#13;
          break; &#13;
        } &#13;
 &#13;
    } &#13;
  } &#13;
 &#13;
  public void SetHelmetType(Toggle id) &#13;
  { &#13;
    try &#13;
    { &#13;
      PC.HELMET_TYPE name = (PC.HELMET_TYPE)Enum.Parse(typeof(PC.HELMET_TYPE), id.name, true); &#13;
      if (id.isOn) &#13;
      { &#13;
        this.PC_CC.selectedHelmet = name; &#13;
        Debug.Log(string.Format("{0} was turned on", name)); &#13;
      } &#13;
      else &#13;
      { &#13;
        this.PC_CC.selectedHelmet = PC.HELMET_TYPE.none; &#13;
        Debug.Log(string.Format("{0} was turned off", name)); &#13;
      } &#13;
    } &#13;
    catch &#13;
    { &#13;
      // if the value passed is not in the enumeration set it to none &#13;
      this.PC_CC.selectedHelmet = PC.HELMET_TYPE.none; &#13;
      Debug.Log("Helmet Type Enumeration Not Found!"); &#13;
    } &#13;
 &#13;
    switch (id.name) &#13;
    { &#13;
      case "HL01": &#13;
        { &#13;
          this.HELMET_01LOD0.SetActive(id.isOn); &#13;
          this.HELMET_02LOD0.SetActive(false); &#13;
          this.HELMET_03LOD0.SetActive(false); &#13;
          this.HELMET_04LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case "HL02": &#13;
        { &#13;
          this.HELMET_01LOD0.SetActive(false); &#13;
          this.HELMET_02LOD0.SetActive(id.isOn); &#13;
          this.HELMET_03LOD0.SetActive(false); &#13;
          this.HELMET_04LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case "HL03": &#13;
        { &#13;
          this.HELMET_01LOD0.SetActive(false); &#13;
          this.HELMET_02LOD0.SetActive(false); &#13;
          this.HELMET_03LOD0.SetActive(id.isOn); &#13;
          this.HELMET_04LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case "HL04": &#13;
        { &#13;
          this.HELMET_01LOD0.SetActive(false); &#13;
          this.HELMET_02LOD0.SetActive(false); &#13;
          this.HELMET_03LOD0.SetActive(false); &#13;
          this.HELMET_04LOD0.SetActive(id.isOn); &#13;
          break; &#13;
        } &#13;
      default: &#13;
        { &#13;
          this.HELMET_01LOD0.SetActive(false); &#13;
          this.HELMET_02LOD0.SetActive(false); &#13;
          this.HELMET_03LOD0.SetActive(false); &#13;
          this.HELMET_04LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
    } &#13;
  } &#13;
 &#13;
  public void SetShieldType(Toggle id) &#13;
  { &#13;
    try &#13;
    { &#13;
      PC.SHIELD_TYPE name = (PC.SHIELD_TYPE)Enum.Parse(typeof(PC.SHIELD_TYPE), id.name, true); &#13;
      if (id.isOn) &#13;
      { &#13;
        this.PC_CC.selectedShield = name; &#13;
        Debug.Log(string.Format("{0} was turned on", name)); &#13;
      } &#13;
      else &#13;
      { &#13;
        this.PC_CC.selectedShield = PC.SHIELD_TYPE.none; &#13;
        Debug.Log(string.Format("{0} was turned off", name)); &#13;
      } &#13;
    } &#13;
    catch &#13;
    { &#13;
      // if the value passed is not in the enumeration set it to none &#13;
      this.PC_CC.selectedShield = PC.SHIELD_TYPE.none; &#13;
      Debug.Log("Shield Type Enumeration Not Found!"); &#13;
    } &#13;
 &#13;
    switch (id.name) &#13;
    { &#13;
      case "SL01": &#13;
        { &#13;
          this.SHIELD_01LOD0.SetActive(id.isOn); &#13;
          this.SHIELD_02LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case "SL02": &#13;
        { &#13;
          this.SHIELD_01LOD0.SetActive(false); &#13;
          this.SHIELD_02LOD0.SetActive(id.isOn); &#13;
          break; &#13;
        } &#13;
      default: &#13;
        { &#13;
          this.SHIELD_01LOD0.SetActive(false); &#13;
          this.SHIELD_02LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
    } &#13;
  } &#13;
 &#13;
  public void SetSkinType(Slider id) &#13;
  { &#13;
    this.PC_CC.SKIN_ID = System.Convert.ToInt32(id.value); &#13;
    Debug.Log(string.Format("Skin ID is {0}", this.PC_CC.SKIN_ID)); &#13;
 &#13;
    this.SKN_LOD0.GetComponent&lt;Renderer&gt;().material = this.PLAYER_SKIN[System.Convert.ToInt32(id.value)]; &#13;
    this.FAT_LOD0.GetComponent&lt;Renderer&gt;().material = this.PLAYER_SKIN[System.Convert.ToInt32(id.value)]; &#13;
    this.RGL_LOD0.GetComponent&lt;Renderer&gt;().material = this.PLAYER_SKIN[System.Convert.ToInt32(id.value)]; &#13;
  } &#13;
 &#13;
  public void SetBootType(Toggle id) &#13;
  { &#13;
    try &#13;
    { &#13;
      PC.BOOT_TYPE name = (PC.BOOT_TYPE)Enum.Parse(typeof(PC.BOOT_TYPE), id.name, true); &#13;
      if (id.isOn) &#13;
      { &#13;
        this.PC_CC.selectedBoot = name; &#13;
        Debug.Log(string.Format("{0} was turned on", name)); &#13;
      } &#13;
      else &#13;
      { &#13;
        this.PC_CC.selectedBoot = PC.BOOT_TYPE.none; &#13;
        Debug.Log(string.Format("{0} was turned off", name)); &#13;
      } &#13;
    } &#13;
    catch &#13;
    { &#13;
      // if the value passed is not in the enumeration set it to none &#13;
      this.PC_CC.selectedBoot = PC.BOOT_TYPE.none; &#13;
      Debug.Log("Boot Type Enumeration Not Found!"); &#13;
    } &#13;
 &#13;
    switch (id.name) &#13;
    { &#13;
      case "BT01": &#13;
        { &#13;
          this.BOOT_01LOD0.SetActive(id.isOn); &#13;
          this.BOOT_02LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
      case "BT02": &#13;
        { &#13;
          this.BOOT_01LOD0.SetActive(false); &#13;
          this.BOOT_02LOD0.SetActive(id.isOn); &#13;
          break; &#13;
        } &#13;
      default: &#13;
        { &#13;
          this.BOOT_01LOD0.SetActive(false); &#13;
          this.BOOT_02LOD0.SetActive(false); &#13;
          break; &#13;
        } &#13;
    } &#13;
  } &#13;
} &#13;
</pre><p>In the preceding code, what we have done is added a new variable of type <span class="emphasis"><em>PC</em></span> named <span class="emphasis"><em>PC_CC</em></span>. The <span class="emphasis"><em>PC</em></span> class is the player character class we defined an enhanced to contain the data for our player character.</p><p>The next logic we need to implement is to detect which option the player has selected through the character customization UI and appropriately set the data in the <span class="emphasis"><em>PC</em></span> object. The implementation concept is the same for all the different parts of the player character that can be customized. I will be listing one of them here.</p><pre class="programlisting">public void SetBodyType(Toggle id)&#13;
{&#13;
try&#13;
{&#13;
PC.BODY_TYPE name = (PC.BODY_TYPE)Enum.Parse(typeof(PC.BODY_TYPE), id.name, true);&#13;
if(id.isOn)&#13;
{&#13;
this.PC_CC.selectedBodyType = name;&#13;
Debug.Log(string.Format("{0} was turned on", name));&#13;
}&#13;
else&#13;
{&#13;
this.PC_CC.selectedBodyType = PC.BODY_TYPE.normal;&#13;
Debug.Log(string.Format("{0} was turned off", name));&#13;
}&#13;
}&#13;
catch&#13;
{&#13;
// if the value passed is not in the enumeration set it to none&#13;
this.PC_CC.selectedBodyType= PC.BODY_TYPE.normal;&#13;
Debug.Log("Body Type Enumeration Not Found!");&#13;
}&#13;
...&#13;
}</pre><p>The preceding code is for the customization of the body type of the player character. The first thing it tries to do is to parse and convert the value passed to the function by the UI component. Next, it sets the <code class="literal">selectedBodyType</code> variable in the <span class="emphasis"><em>PC</em></span> object. If for some reason, the value passed does not exist in the enumeration, we will assign the default value to the <code class="literal">selectedBodyType</code> variable. There is also debug statements to give you feedback about the current value.</p></div></div>