<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec44"></a>Completing HUD design</h2></div></div><hr /></div><p>Now that we have the framework in place, let's go ahead and complete each section individually. I would like to start with the <span class="emphasis"><em>PanelCharacterInfo</em></span>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec54"></a>Panel character Info</h3></div></div></div><p>From a design point of view, the panel that will contain the visual components for the character is not going to be very complex. The panel will consist of five images.</p><p>The main image will be used to hold an avatar of the character. The other four images will be used to display the health and mana of the character. Since these values are going to be displayed in a bar format, we are using two images for each item. One of the images is going to host the border, and the other the representation of the actual value.</p><p>To come up with the images, I am going to use external tools such as Photoshop. Microsoft Expression Design is a good tool for creating frames and so on.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785285004/graphics/image_07_003.jpg" /></div><p>
</p><p>In the preceding screenshot, I have made a nice image portraying the avatar of the player character. You should take into consideration the actual size of the image you will be placing inside the <span class="emphasis"><em>PanelCharacterInfo</em></span> panel. The image size I have generated is 301 x 301 pixels.</p><p>To create the graphics for the bars representing the health and the mana for our character player, we will actually need to have three images. One image will represent the negative value of the bar, one image will represent the positive value of the bar and the third will be the border image for the bar. They will be overlaid on top of each other to create the illusion of our graphic bars.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785285004/graphics/image_07_004.jpg" /></div><p>
</p><p>Creating the three distinct sprites and overlaying them will give you a good illusion of what are looking for.</p><p>After exporting our images, we need to import them into Unity. Use your file system to move your images from their original location to the <span class="emphasis"><em>Assets</em></span> folder under your Unity project.</p><p>I have placed my textures in the following directory<span class="strong"><strong>: Assets | Textures | CH7.</strong></span>
</p><p>Once you have moved them into the desired location within your Unity project, you will need to convert the images to sprites. Select all of the images that will be used for the GUI and from the <span class="strong"><strong>Inspector Window</strong></span>, change the <span class="strong"><strong>Texture Type to Sprite (2D and UI)</strong></span>.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785285004/graphics/image_07_005.jpg" /></div><p>
</p><p>It's time to apply our textures to the actual UI elements we have defined under the <span class="emphasis"><em>PanelCharacterInfo</em></span> panel within the <span class="emphasis"><em>Canvas</em></span> object.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note51"></a>Note</h3><p>There are a few steps that need to be performed before we can fully apply the UI elements to the HUD.</p></div><p>The first thing you should do, if you have not done so already, is create three new UI image elements under the <span class="emphasis"><em>PanelCharacterInfo</em></span> panel by right-clicking the panel and selecting <span class="emphasis"><em>UI | Image</em></span>.</p><p>I have named my three images: <span class="emphasis"><em>imgHealthRebBackground</em></span>, <span class="emphasis"><em>imgHealthGreenBackground</em></span> and <span class="emphasis"><em>imgHealthBorder</em></span>. The order of the images does matter, and you should take a note of it when you are designing the UI. Generally speaking, if a UI element is lower in the hierarchy, it will be rendered on top of the other elements.</p><p>See the following screenshot for details:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785285004/graphics/image_07_006.jpg" /></div><p>
</p><p>Notice the order of the images representing the health bar. The image that is representing the green bar will need to be modified using the <span class="emphasis"><em>Inspector Window</em></span>. Select it, and change the <span class="emphasis"><em>Image Type</em></span> to <span class="emphasis"><em>Filled</em></span>, change the <span class="emphasis"><em>Fill Method</em></span> to <span class="emphasis"><em>Horizontal</em></span> and the <span class="emphasis"><em>Fill Origin</em></span> to <span class="emphasis"><em>Left</em></span>. We are going to be using the <span class="emphasis"><em>Fill Amount</em></span> to control the visual part of our health bar. Notice that I have set it to <span class="emphasis"><em>0.77</em></span> for demonstration purposes.</p><p>By default, when the game starts, we will be starting at a <span class="emphasis"><em>Fill Amount</em></span> of <span class="emphasis"><em>1</em></span>, which is equivalent to 100 percent, for the player character's health. 0.77 is equivalent to 77 percent and so on.</p><p>We are going to apply the same technique to our mana bar. Go ahead and create two more images that will represent the two backgrounds for our mana bar.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note52"></a>Note</h3><p>We will be using the same border image for both bars.</p></div><p>Again, don't forget you will need to make the appropriate changes to the imported textures within Unity. Convert them to <span class="emphasis"><em>Sprite (2D and UI) Texture Type</em></span>.</p><p>Create the necessary image UI elements under the panel, and apply the textures to the image element within the canvas. You should have something like the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785285004/graphics/image_07_007.jpg" /></div><p>
</p><p>That's all there is to it! Not bad for a person with no artistic background!</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec55"></a>Panel active inventory items</h3></div></div></div><p>Creating the UI for active inventory items is going to be similar to what we have done in <a class="link" href="#" linkend="ch06">Chapter 6</a>,<span class="emphasis"><em> Inventory System</em></span>. The difference will be that we are only going to be listing the items that have been consumed by the player character using the inventory system.</p><p>In other words, the Active Inventory Items display is a visual indication of the items that have been activated within the inventory. It is important to keep in mind that we are more interested in learning the concepts and applying them in a simple example that you can expand upon and improve on your own.</p><p>The basic idea is to create a scrollable panel that will be used to add items as needed. We have already seen how to set up the scrollable view and how to configure the UI components to support what we are trying to achieve. I won't be getting into the details here again, please refer to <a class="link" href="#" linkend="ch06">Chapter 6</a>, <span class="emphasis"><em>Inventory System</em></span>, for the necessary steps if needed.</p><p>From the <span class="emphasis"><em>Hierarchy Window,</em></span> right-click on <span class="emphasis"><em>PanelActiveInventoryItems</em></span> and select <span class="emphasis"><em>UI | Scroll View</em></span>. Go ahead and remove the <span class="emphasis"><em>Viewport, Scrollbar Horizontal</em></span> and <span class="emphasis"><em>Scrollbar Vertical</em></span> children that have been created with the <span class="emphasis"><em>Scroll View</em></span> element.</p><p>You just need to make sure that the layout configuration you are applying is for horizontal and not vertical, as we did in <a class="link" href="#" linkend="ch06">Chapter 6</a>, <span class="emphasis"><em>Inventory System</em></span>.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785285004/graphics/image_07_008.jpg" /></div><p>
</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785285004/graphics/image_07_009.jpg" /></div><p>
</p><p>And finally, the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785285004/graphics/image_07_010.jpg" /></div><p>
</p><p>The three preceding screenshots illustrate the different parts of the configuration for the Active Inventory Items panel. If you are unsure about how to put this together, please go back to <a class="link" href="#" linkend="ch06">Chapter 6</a>, <span class="emphasis"><em>Inventory System</em></span> and read <span class="emphasis"><em>Designing a Dynamic Item Viewer</em></span> section.</p><p>Don't forget to make a prefab of the UI element that will be representing your active inventory item in the panel.</p><p>You will also need a script to reference the UI elements designated for your items. I have called this script <span class="emphasis"><em>ActiveInventoryItemUI.cs,</em></span> and currently there are two attributes: one is a reference to the <span class="emphasis"><em>Image</em></span> element and the other a reference to the <span class="emphasis"><em>Text</em></span> element.</p><p>Here is the listing for the script:</p><pre class="programlisting">using UnityEngine; &#13;
using UnityEngine.UI; &#13;
using System.Collections; &#13;
 &#13;
public class ActiveInventoryItemUI : MonoBehaviour { &#13;
 &#13;
    public Image imgActiveItem; &#13;
    public Text txtActiveItem; &#13;
} &#13;
</pre><p>We will need to eventually integrate all of these scripts together to make things work properly.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec56"></a>Special items panel</h3></div></div></div><p>Now we are going to look at the design of our last panel. The main difference between this panel and the last one that we developed is the orientation. Everything else will be exactly the same. However, for this panel our orientation is going to be vertical instead of horizontal.</p><p>Here is a screenshot capturing everything at once:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785285004/graphics/image_07_011.jpg" /></div><p>
</p><p>The procedure to create the panel has already been discussed several times, and you should not have any trouble creating it.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note53"></a>Note</h3><p>I have let you make your own textures and images to be applied to the UI elements.</p></div><p>As I was designing the special items panel, I came up with a better idea for how to improve the panel UI. You might want to have a static icon representing each special item, and have a counter attached to the UI representing how many you have of each item. Each time you collect one it will increase, and each time you consume one it will decrease.</p><p>Here is what the current HUD looks like based on our design:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781785285004/graphics/image_07_012.jpg" /></div><p>
</p><p>We need to now start thinking about integrating the HUD user interface with the code base we have developed so far.</p></div></div>