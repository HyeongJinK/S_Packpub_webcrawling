<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec23"></a>Using the accelerometer</h2></div></div><hr /></div><p>Another type of input that mobile has, that PC doesn't, is the accelerometer. This allows you to move as the phone is tilted. The most popular example of this is likely the movement of the player in games such as Lima Sky's <span class="emphasis"><em>Doodle Jump</em></span>. To do something similar, we can retrieve the acceleration of our device using the <code class="literal">Input.acceleration</code> property:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>First, we may want to allow our designers to set whether they want to use this mode, or the <code class="literal">ScreenTouch</code> we used previously. With that in mind, let's create a new <code class="literal">enum</code> with the possible values to place in the <code class="literal">PlayerBehaviour</code> script above the <strong class="userinput"><code>Swipe Properties</code></strong> header:</li></ol></div><pre class="programlisting">public enum MobileHorizMovement
{
    Accelerometer,
    ScreenTouch
} 

public MobileHorizMovement horizMovement = MobileHorizMovement.Accelerometer;</pre><p>This gives us a property called <code class="literal">horizMovement</code> and the two possibilities that it can have given to us by the <code class="literal">enum</code> definition that we've made. Now, if you were to <span>save</span> the <code class="literal">PlayerBehaviour</code> script and dive back into the <strong class="userinput"><code>Inspector</code></strong> tab, you can see we can select one of these two options (<strong class="userinput"><code>Accelerometer</code></strong> or <strong class="userinput"><code>Screen Touch</code></strong>). This makes it so the game designer of the project can easily select which of the two options we'd like to use, and then we can expand to even more if we'd like to in the future:</p><div class="mediaobject"><img src="/graphics/9781787288713/graphics/b6c44c56-e03f-45c3-98b9-d9a3e18f50bb.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Now, let's update the <code class="literal"><span>Update</span></code> function with the following highlighted code:</li></ol></div><pre class="programlisting">//Check if we are running on a mobile device 
#elif UNITY_IOS || UNITY_ANDROID

<span class="strong"><strong>        if(horizMovement == MobileHorizMovement.Accelerometer)</strong></span>
<span class="strong"><strong>        {</strong></span>
<span class="strong"><strong>            // Move player based on direction of the accelerometer</strong></span>
<span class="strong"><strong>            horizontalSpeed = Input.acceleration.x * dodgeSpeed;</strong></span>
<span class="strong"><strong>        }</strong></span>

        // Check if Input has registered more than zero touches 
        if (Input.touchCount &gt; 0)
        {
            // Store the first touch detected. 
            Touch touch = Input.touches[0];

<span class="strong"><strong>            if(horizMovement == MobileHorizMovement.ScreenTouch)</strong></span>
<span class="strong"><strong>            {</strong></span>
<span class="strong"><strong>                horizontalSpeed = CalculateMovement(touch.position); </strong></span>
<span class="strong"><strong>            }</strong></span>

            SwipeTeleport(touch); 
        }

#endif</pre><p>This will make use of the acceleration of our device, instead of the position or touch screen.</p><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Save your script and export the project.</li></ol></div><p>With that, you'll note that we can now tilt our screen to the right or left and the player will move in the appropriate direction.</p><p>In Unity, acceleration is measured in g-force values with 1 being 1g of force. If you hold the device upright (with the home button at the bottom) in front of you, the <span class="emphasis"><em>x-</em></span>axis is positive along the right, the <span class="emphasis"><em>y-</em></span>axis is positive upward, and the <span class="emphasis"><em>z-</em></span>axis is positive when pointing toward you.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note32"></a>Note</h3><p>For more information on the accelerometer, check out: <a class="ulink" href="https://docs.unity3d.com/Manual/MobileInput.html" target="_blank">https://docs.unity3d.com/Manual/MobileInput.html</a><span>.</span></p></div></div>