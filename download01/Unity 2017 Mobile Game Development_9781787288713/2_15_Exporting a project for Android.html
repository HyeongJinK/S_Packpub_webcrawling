<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec14"></a>Exporting a project for Android</h2></div></div><hr /></div><p>Now that we have all of the setup done, we can open up Unity with our project and export it for Android devices:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>First of all, if you haven't done so already, you'll need to <span>have selecte</span>d to add <strong class="userinput"><code>Android Build Support</code></strong> as an option when you are installing Unity. If you did not install it when doing the initial installation, you may reinstall Unity again with those selections checked for the platforms that you're trying to build to.</li><li>At this point, we will dive into Unity and then move into our <strong class="userinput"><code>Build Settings</code></strong> menu once again by going to <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Build Settings</code></strong>.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Click on the <strong class="userinput"><code>Android</code></strong> option from the <strong class="userinput"><code>Platform</code></strong> list and then click on the <strong class="userinput"><code>Switch Platform</code></strong> button to make the change. Note that this will make Unity reimport all of the assets in our game, so this may be time-consuming as you build larger projects.</li><li>Now, in order to be able to build our project, we must set the bundle identifier for our game, which is a string that identifies the app. It's written like a website in reverse, for example, <code class="literal">com.yourCompanyName.yourGameName</code>. To modify this, we'll need to open up the <strong class="userinput"><code>Player Settings</code></strong> menu, which we can get to by clicking on the <strong class="userinput"><code>Player Settings</code></strong> button from the bottom of the <strong class="userinput"><code>Build Settings</code></strong> menu or by going into <strong class="userinput"><code>Edit</code></strong> | <strong class="userinput"><code>Project Settings</code></strong> | <strong class="userinput"><code>Player</code></strong>. You'll note that the menu shows up in the <strong class="userinput"><code>Inspector</code></strong> tab.</li><li>Now that we're in Android mode (note the text on the title bar of the Unity Editor), we can change these properties. We'll discuss more of these in a later chapter, but for right now, scroll down until you get to the <strong class="userinput"><code>Other Settings</code></strong> option, and from there, you'll see the <strong class="userinput"><code>Package Name</code></strong> property. We will change this to something else, for example, I used <code class="literal">com.JohnPDoran.MobileDev</code>. There's also a <strong class="userinput"><code>Minimum API Level</code></strong> option; make sure that your option is set to the same version as your phone or earlier, depending on what you want to support. <span>Note that the ea</span>rlier you go, the less things you'll have access to:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/0c79d522-537f-492e-90e8-ce705e211879.png" /></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>We also need to set the location for Android SDK. We can do that by going to <strong class="userinput"><code>Edit</code></strong> | <strong class="userinput"><code>Preferences</code></strong>. From there, go to the <strong class="userinput"><code>External Tools</code></strong> section. Then, set the location of the Android SDK to the folder we specified earlier, and if it isn't set, go ahead and set the JDK folder as well:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/f3c4c65c-79ea-4f8f-8b3f-d8f9f5a64a09.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Open up the <strong class="userinput"><code>Build Settings menu again by going to </code></strong><strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Build Settings</code></strong>. Now, we can try to build the project by clicking on the <strong class="userinput"><code>Build</code></strong> button, saving it in the same <code class="literal">Export</code> folder we created earlier. We can even name it <code class="literal">Endless</code> like we did previously, because instead of an <code class="literal">.exe</code> file, it will be creating a <code class="literal">.apk</code> file.</li></ol></div><p>If you are using <span>a future ver</span>sion of Unity, this should work perfectly fine, and you should be taken to the folder in which your game is being exported:</p><div class="mediaobject"><img src="/graphics/9781787288713/graphics/9049e315-94e2-4c06-ac50-8438287a3702.png" /></div><p>Now, unfortunately, with the current version of Unity, there is an issue causing Unity to not be able to build a project with the latest version of the Android SDK. If you are reading this book when later versions of Unity have come out, this issue should be resolved and you can skip the next steps, but for those using the version of Unity this book was written for, read on.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note19"></a>Note</h3><p>For more information on this problem, feel free to visit: <a class="ulink" href="https://issuetracker.unity3d.com/issues/android-build-fails-when-the-latest-android-sdk-tools-25-dot-3-1-version-is-used" target="_blank">https://issuetracker.unity3d.com/issues/android-build-fails-when-the-latest-android-sdk-tools-25-dot-3-1-version-is-used</a>.</p></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Download an earlier version of the Android tools from: <a class="ulink" href="http://dl-ssl.google.com/android/repository/tools_r25.2.5-windows.zip" target="_blank">http://dl-ssl.google.com/android/repository/tools_r25.2.5-windows.zip</a>.</li><li>Go to your Android SDK folder and rename the <code class="literal">tools</code> folder as <code class="literal">old tools</code>. Then, unzip the tools folder from the link into that location to replace the SDK with a working version.</li><li>Now, build the game again and wait for it to complete the operation:
<div class="mediaobject"><img src="/graphics/9781787288713/graphics/ceb4a1da-da51-4c3e-b2fb-01f9bce047cc.png" /></div></li></ol></div><p>Wait a bit and once it's finished, you should have a new <code class="literal">.apk</code> file located in the folder.</p></div>