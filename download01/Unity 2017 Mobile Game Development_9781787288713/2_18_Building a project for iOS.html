<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec17"></a>Building a project for iOS</h2></div></div><hr /></div><p>At this point, we will be building our project for the iOS device. While there are some similarities to working with Android, there are some differences that are very important to note, so keep that in mind while reading this section.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>At this point, we will dive into Unity and then move into our <strong class="userinput"><code>Build Settings</code></strong> menu once again by going to <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Build Settings</code></strong>.</li><li>Click on the <strong class="userinput"><code>iOS</code></strong> option from the <strong class="userinput"><code>Platform</code></strong> list and then click on the <strong class="userinput"><code>Switch Platform</code></strong> button to make the change.</li></ol></div><p>Note that this will make Unity reimport all of the assets in our game, so this may be time-consuming as you build larger and larger projects. This now also means that when we build our project, it will create an Xcode project instead of just an app, which we will need to open and work with once it's built.</p><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>If we didn't do so earlier when building for iOS, we must set the bundle identifier for our game at this point, which is a string that identifies the app. It's written like a website in reverse, for example, <code class="literal">com.yourCompanyName.yourGameName</code>. To modify this, we'll need to open up the <strong class="userinput"><code>Player Settings</code></strong> menu, which we can get to by clicking on the <strong class="userinput"><code>Player Settings...</code></strong> button in the <strong class="userinput"><code>Build Settings</code></strong> menu or by going to <strong class="userinput"><code>Edit</code></strong> | <strong class="userinput"><code>Project Settings</code></strong> | <strong class="userinput"><code>Player</code></strong>.</li><li>Open up the <strong class="userinput"><code>Other Settings</code></strong> section, and then put in a value that you'd like under <strong class="userinput"><code>Package Name</code></strong>.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip23"></a>Note</h3><p>Note that if you have already changed this property when building for Android, it will already be done; there's no need to do this again.</p></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Now, we can try to build the project, saving it in the same <code class="literal">Export</code> folder we created earlier--in this case, I named it <code class="literal">Endless iOS</code>--and then click on <strong class="userinput"><code>Save</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/1cf900eb-226b-4371-8692-48f6f297862c.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip24"></a>Note</h3><p>You can press the <span class="strong"><strong>down arrow</strong></span> button to search for folders in the Finder window that pops up.</p></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Once the project has been built, we will be taken to a Finder window at the location we created the project. From there, we can double-click on the <code class="literal">.xcodeproj</code> file to open the project inside Xcode:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/8d49a376-f695-49f2-a013-013bd7a57d79.png" /></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>In Xcode, after waiting for everything to load in, <span>you'll notice a yellow triangle with an ! in the center of it on</span> the top center console. If you click on it, you'll see some info appear on the left-hand side. You'll see a yellow box open up with a request to make requested changes. Double-click on it and then allow it to make the automatic changes:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/b4e026be-adcf-40a8-a433-6e6931c1447f.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Click on the <strong class="userinput"><code>Unity-iPhone</code></strong> portion on the left hand side and then go down to the <strong class="userinput"><code>Signing</code></strong> portion of the <strong class="userinput"><code>Build Settings</code></strong> options, and then under <strong class="userinput"><code>Team</code></strong>, set it to your profile.</li><li>Once all the preceding steps are done, plug in your phone via USB. After loading all of the symbols it needs (wait until the top middle section says <strong class="userinput"><code>Ready</code></strong>); on the top right, instead of <strong class="userinput"><code>Generic iOS Device</code></strong>, change it to the device you've connected.</li><li>Once you click on the <strong class="userinput"><code>Play</code></strong> button, the computer will ask whether you want to enable <strong class="userinput"><code>Developer Mode</code></strong>; to do so, go ahead and select <strong class="userinput"><code>Enable</code></strong> and enter your password when it asks for it.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="11" type="1"><li>Your phone may be busy, so you may need to wait a bit before you're able to build to the device. You may get a window asking you to access the key access in your keychain. Go ahead and <strong class="userinput"><code>Allow</code></strong> it. You'll also need to unlock your phone at some point as well, so it may make the install.</li><li>The app will now be on your iOS device, as you can see by the following screenshot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/e33c8b16-9969-496a-a218-a3e916331c46.png" /></div><p>Right now, it has a generic Unity icon just like in Android, and we will customize it later on in this book, but for right now, we have the following issue: the game won't run.</p><p>In order to run the app, you must verify that you want the device to be able to run the app to prevent security issues. To let you know that this is an issue, Xcode will give you a warning that it couldn't launch it, so we'll need to say we want to be able to run it:</p><div class="orderedlist"><ol class="orderedlist arabic" start="13" type="1"><li>From your iOS Device, open up the <strong class="userinput"><code>Settings</code></strong> app. From there, go to <strong class="userinput"><code>General | Device Management</code></strong>. Then, from the menu that pops up, you'll need to say <strong class="userinput"><code>Trust "Developer Name"</code></strong> with <strong class="userinput"><code>Developer Name</code></strong> being <span>your</span> Apple ID account. You'll need to verify again that you wish to trust apps created by this account, so go ahead and agree, and all of the steps are done.</li><li>With that, exit out of settings by clicking on the home button and then g<span>o over to the location where the app was installed</span> and tap on it to run:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/e767b7cd-10ce-41fd-9f65-a993c932f9f1.png" /></div><p>With that, we have the game running on the iOS side as well.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note25"></a>Note</h3><p>Note that when building in the following manner without the paid license apps will only work for a limited time, possibly up to a week. If your game crashes immediately and it worked correctly beforehand this is most likely the culprit. Redeploy to the device again to check if that is the issue before modifying your actual project.</p></div></div>