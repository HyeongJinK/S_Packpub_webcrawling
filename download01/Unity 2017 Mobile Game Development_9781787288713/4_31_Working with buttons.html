<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec28"></a>Working with buttons</h2></div></div><hr /></div><p>Now that we have the text displaying correctly, let's add the ability to move from the main menu into the game properly. However, unlike our title, for things that we want our players to touch, it's a good idea to make these buttons the same size in each device, as our fingers are the same size, no matter what device we are using. To show a possible solution for this, we will create a <span>new Canvas</span> using a different scaling technique.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>We will first rename our current Canvas object to <code class="literal">Canvas - Scale Screen</code>. This way, we can easily tell whether we are using the correct canvas for this or not.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Now that we have that one ready, we can create our new one. Go to the top menu bar and then select <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Canvas</code></strong>. Rename this new Canvas to <code class="literal">Canvas - Scale Physical</code>. Then, under the <strong class="userinput"><code>Canvas Scaler</code></strong> component, change <strong class="userinput"><code>UI Scale Mode</code></strong> to <strong class="userinput"><code>Constant Physical Size</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/67746321-5681-4c5b-89f0-7cd59481d95b.png" /></div><p>Using this method, Unity will attempt to scale the size of this canvas so that each element has the same physical size, regardless of the resolution. Since we're going for buttons that we intend to press with our fingers, this makes a lot of sense.</p><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Now, with this canvas selected in the <strong class="userinput"><code>Hierarchy</code></strong> view, go to the menu and select <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Button</code></strong> to create a new button inside of this canvas.</li></ol></div><p>At this point, you will see a new child object to <strong class="userinput"><code>Canvas</code></strong> called <strong class="userinput"><code>Button</code></strong> and if you were to extend that object, you'll see that it has a <strong class="userinput"><code>Text</code></strong> child also:</p><div class="mediaobject"><img src="/graphics/9781787288713/graphics/bbcde202-eea2-4e7f-a86a-8f54d9245403.png" /></div><p>The next question is, what size should our buttons be? Google suggests in their Material guidelines that at least 48 x 48 density-independent pixels should be used (dp for short), whereas Apple at their <span class="strong"><strong>Worldwide Developers Conference </strong></span>(<span class="strong"><strong>WWDC</strong></span>) recommends at least 44 dp x 44 dp. Either way, that comes somewhere around 8mm x 8mm or 0.3 inches x 0.3 inches.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note44"></a>Note</h3><p>To read the material guidelines, check out: <span><a class="ulink" href="https://material.io/guidelines/layout/metrics-keylines.html#metrics-keylines-sizing-by-increments" target="_blank">https://material.io/guidelines/layout/metrics-keylines.html#metrics-keylines-sizing-by-increments</a></span>.</p></div><p>If you were to look at the game right now at our standard resolution, you may be a bit scared due to the size of the button right now, depending on the resolution:</p><div class="mediaobject"><img src="/graphics/9781787288713/graphics/a3c51875-1bcf-4573-9ab1-8fb9bb604d94.png" /></div><p>That's because our button size is assuming that the <span class="strong"><strong>dpi</strong></span> (<span class="strong"><strong>dots per inch</strong></span>) value is 96 when on devices such as the OnePlus 3, and the iPhone 6/7/8 Plus is around 400, or four times larger than what it is now. For right now, I'll change the <strong class="userinput"><code>Aspect Ratio</code></strong> value to <strong class="userinput"><code>16:10 Landscape</code></strong> to see something closer to what we'll be using on our device when we play there:</p><div class="mediaobject"><img src="/graphics/9781787288713/graphics/dcab9133-6af4-493f-8a55-07e503f3842f.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip45"></a>Note</h3><p>If you're interested in finding out what the DPI for your device is, check out: <a class="ulink" href="http://dpi.lv/" target="_blank"><span>http</span>://dpi.lv/</a>.</p></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>From the <strong class="userinput"><code>Hierarchy</code></strong> tab, expand the <code class="literal">Button</code> object and change the bu<span>tton's Text child's Text component's text value</span> to <code class="literal">Play</code>.</li><li>The size of the button is quite <span>large for the space available</span>, so let's change the <code class="literal">Button</code>'s <strong class="userinput"><code>Rect Transform</code></strong> component's <strong class="userinput"><code>Width</code></strong> to <code class="literal">75</code>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/121e76b6-189c-423d-89ef-107a20bbe173.png" /></div><p>We now have a button, but it doesn't actually do anything yet. Let's fix that now.</p><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Let's create a script to contain the functionality that we want. From the <strong class="userinput"><code>Project</code></strong> view, open up the <code class="literal">Scripts</code> folder and let's create a new C# script called <code class="literal">MainMenuBehaviour</code>.
</li></ol></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Once your IDE has opened, use the following code:</li></ol></div><pre class="programlisting">using UnityEngine;
using UnityEngine.SceneManagement; // LoadScene 

public class MainMenuBehaviour : MonoBehaviour
{
    /// &lt;summary&gt; 
    /// Will load a new scene upon being called 
    /// &lt;/summary&gt; 
    /// &lt;param name="levelName"&gt;The name of the level we want 
    /// to go to&lt;/param&gt; 
    public void LoadLevel(string levelName)
    {
        SceneManager.LoadScene(levelName);
    }
}</pre><p>The <code class="literal">LoadLevel</code> function will load a level based on the name that we provide to it making use of Unity's Scene Manager, which we added using a statement at the top of our code so that we would have access to that namespace.</p><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Save the script and go back to the Unity editor. To call Unity's UI Events from the editor, we will need to have a game object with <span>the <code class="literal">MainMenuBehaviour</code></span> component attached to it to call this function from. We could use one of the currently existing objects, but we'll just create a new object, making it easier to be found in the future.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="9" type="1"><li>With that in mind, create an empty game object in your scene called Main Menu and then add the <code class="literal">MainMenuBehaviour</code> script to it. Then, drag and drop it to the top of the <strong class="userinput"><code>Hierarchy</code></strong> tab to make it easier to access in the future and reset its position for the sake of neatness.
</li></ol></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="10" type="1"><li>Select your Play button, and go to the <strong class="userinput"><code>Inspector</code></strong> tab and scroll down to the <strong class="userinput"><code>Button</code></strong> component from there. Then, in the <strong class="userinput"><code>On Click ()</code></strong> section, click on the + icon to add something for our button to do.</li><li>Then, drag and drop the <strong class="userinput"><code>Main Menu</code></strong> object from the <strong class="userinput"><code>Hierarchy</code></strong> tab to the area that currently says <strong class="userinput"><code>None (Object)</code></strong>, which is added to the list.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="12" type="1"><li>Click on the dropdown that currently says <strong class="userinput"><code>No Function</code></strong> and then select <strong class="userinput"><code>MainMenuBehaviour.LoadLevel</code></strong>. Then, in the textbox that appears <span>below</span>, type in the name of our game's level, <code class="literal">Gameplay</code>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/afc3a4c5-9013-4708-a1b7-91b63f537ff8.png" /></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="13" type="1"><li>Lastly, open the <strong class="userinput"><code>Build Settings</code></strong> like we did before by going to <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Build Settings</code></strong> and add our <strong class="userinput"><code>MainMenu</code></strong> to the list at index <strong class="userinput"><code>0</code></strong> by selecting <strong class="userinput"><code>Add Current</code></strong>, and then dragging the <strong class="userinput"><code>MainMenu</code></strong> level to the top so that it will be the level that starts off when we start the game:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/437ef030-34d2-471c-9c0a-ded939c8de0b.png" /></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="14" type="1"><li>Save your project and scene and click on the <span>Play</span> button:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/d62d6b84-b010-41de-9574-0ff004d92e4f.png" /></div><p>At this point, our main menu is working well, and we can get into the game without any issues by clicking on the Play button:</p><div class="mediaobject"><img src="/graphics/9781787288713/graphics/f3633c39-9649-4589-b4ad-0b7cf1358ac9.png" /></div><p></p></div>