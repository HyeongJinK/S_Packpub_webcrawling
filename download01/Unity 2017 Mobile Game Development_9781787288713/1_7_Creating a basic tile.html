<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec7"></a>Creating a basic tile</h2></div></div><hr /></div><p>We want our game to be endless, but in order to do so, we will need to have pieces that we can spawn to build our environment; let's do that now:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>To get started, we will first need to create a single piece for our runner game. To do that, let's first add some walls to the floor we already have. From the <strong class="userinput"><code>Hierarchy</code></strong> window, select the <code class="literal">Floor</code> object and duplicate it by pressing <span class="strong"><strong><span class="emphasis"><em>Ctrl </em></span></strong></span>+ <span class="strong"><strong><span class="emphasis"><em>D</em></span></strong></span> in Windows or <span class="strong"><strong><span class="emphasis"><em>command </em></span></strong></span>+<span class="strong"><strong> <span class="emphasis"><em>D</em></span></strong></span> on Mac. Rename this new object as <code class="literal">Left Wall</code>.
</li></ol></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Change the <code class="literal">Left Wall</code> object's <strong class="userinput"><code>Transform</code></strong> component by adjusting the <strong class="userinput"><code>Scale</code></strong> to <code class="literal">(1, 2, 10)</code>. From there, select the <strong class="userinput"><code>Move</code></strong> tool by clicking on the button with arrows on the toolbar or by pressing the <span class="emphasis"><em><span class="strong"><strong>W</strong></span></em></span> key.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note9"></a>Note</h3><p>For more information on Unity's built-in hotkeys, check out: <span><a class="ulink" href="https://docs.unity3d.com/Manual/UnityHotkeys.html" target="_blank">https://docs.unity3d.com/Manual/UnityHotkeys.html</a>.</span></p></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>We want this wall to match up with the floor, so hold down the <span class="emphasis"><em><span class="strong"><strong>V</strong></span></em></span> key to enter the <span class="strong"><strong>Vertex Snap</strong></span> mode.</li></ol></div><p>In the Vertex Snap mode, we can select any of the vertices on a mesh and move it to the same position of another vertex on a different object. This is really useful for making sure that objects don't have holes between them.</p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>With the Vertex Snap mode on, select the inner edge and drag it until it hits the edge of the floor.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note10"></a>Note</h3><p>For more info on moving objects through the scene, including more details on Vertex Snap mode, check out <a class="ulink" href="https://docs.unity3d.com/Manual/PositioningGameObjects.html" target="_blank">https://docs.unity3d.com/Manual/PositioningGameObjects.html</a>.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Then, duplicate this wall and put an other on the other side, naming it <code class="literal">Right Wall</code>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/a8a45bb5-8eb6-482f-96dc-57933e14bcce.png" /></div><p>As you can see in the preceding screenshot, we now protect the player from falling off the left and right edges of the play area. Due to how the walls are set up, if we move the floor object, the walls will move as well.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note11"></a>Note</h3><p>For info on moving Unity's camera or navigating to the scene view, check out: <a class="ulink" href="https://docs.unity3d.com/Manual/SceneViewNavigation.html" target="_blank"><span>https://docs.unity3d.com/Manual/SceneViewNavigation.html</span></a>.</p></div><p>The way this game is designed, after the ball rolls past a single tile, we will no longer need it to be there anymore. If we just leave it there, the game will get slower over time due to us having so many things in the game environment using memory, so it's a good idea to remove assets we are no longer using. We also need to have some way to figure out when we should spawn new tiles to continue the path the player can take.</p><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Now, we also want to know where this piece ends, so we'll add an object with a Trigger collider in it. Select <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>Create Empty</code></strong> and name this object <code class="literal">Tile End</code>.</li><li>Then, we will add a <strong class="userinput"><code>Box Collider</code></strong> component to our <code class="literal">Tile End</code> object. Under the <strong class="userinput"><code>Box Collider</code></strong> in the <strong class="userinput"><code>Inspector</code></strong> window, set the <strong class="userinput"><code>Size</code></strong> to <code class="literal">(7, 2, 1)</code> to fit the size of the space the player can walk in. Note that there is a green box around that space showing where collisions can take place. Set the <strong class="userinput"><code>Position</code></strong> property to <code class="literal">(0, 1, 10)</code> to reach past the end of our tile. Finally, check the <strong class="userinput"><code>Is Trigger</code></strong> property so that the collision engine will turn the collider into a <span class="strong"><strong>trigger</strong></span>, which will be able to run code events when it is hit, but will not prevent the player from moving:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/c71b6130-1d4a-45c6-80c3-d03474f76cfe.png" /></div><p>Like I mentioned briefly before, this trigger will be used to tell the game that our player has finished walking over this tile. This is positioned past the tile due to the fact that we want to still see tiles until they pass what the camera can see. We'll tell the engine to remove this tile from the game, but we will dive more into that later on in the chapter.</p><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Now that we have all of the objects created, we want to group our objects together as one piece that we can create duplicates of. To do this, let's create an <strong class="userinput"><code>Empty Game Object</code></strong> by going to <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>Create Empty</code></strong> and name the newly created object to <code class="literal">Basic Tile</code>. </li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="9" type="1"><li>Then, go to the <strong class="userinput"><code>Hierarchy</code></strong> window and drag and drop the <code class="literal">Floor</code>, <code class="literal">Tile End</code>, <code class="literal">Left Wall</code>, and <code class="literal">Right Wall</code> objects on top of it to make them children of the <code class="literal">Basic Tile</code> object. </li><li>Currently, the camera can see the start of the tiles, so to fix that, let's set the <code class="literal">Basic Tile</code>'s <strong class="userinput"><code>Position</code></strong> to <code class="literal">(0, 0, -5)</code> so that the entire tile will shift back.</li><li>Finally, we will need to know at what position we should spawn the next piece, so create another child of <code class="literal">Basic Tile</code>, give it the name, <code class="literal">Next Spawn Point</code>, and set its <strong class="userinput"><code>Position</code></strong> to <code class="literal">(0, 0, 5)</code>.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note12"></a>Note</h3><p>Note that when we modify an object that has a parent, the position is relative to the parent, not its world position.</p></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/942a096b-eb33-4f25-96bb-e2e5a51c74fd.png" /></div><p>Notice that the spawn point is on the edge of our current title. Now we have a single tile that is fully completed. Instead of duplicating this a number of times by hand, we will make use of Unity's concept or <span class="strong"><strong>prefabs</strong></span>.</p><p>Prefabs, or prefabricated objects, are blueprints of game objects and components that we can turn into files, which can be duplicates. There are other interesting features that prefabs have, but we will discuss them as we make use of them.</p><div class="orderedlist"><ol class="orderedlist arabic" start="12" type="1"><li>From the <strong class="userinput"><code>Project</code></strong> window, go to the <code class="literal">Assets</code> folder and then create a new folder called <code class="literal">Prefabs</code>. Then, drag and drop the <code class="literal">Basic Tile</code> object from the <strong class="userinput"><code>Hierarchy</code></strong> window to the <strong class="userinput"><code>Project</code></strong> window inside the <code class="literal">Prefabs</code> folder. If the text on the <code class="literal">Basic Tile</code> name in the <strong class="userinput"><code>Hierarchy</code></strong> window becomes blue, we will know that it was made correctly:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/64920cdc-96ed-460b-bdc4-554a08aaf76e.png" /></div><p>With that, we now have a tile prefab that we can create dup<span>licates</span> of the tile through code to extend our environment.</p></div>