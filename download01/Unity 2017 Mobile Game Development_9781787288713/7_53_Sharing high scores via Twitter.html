<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec47"></a>Sharing high scores via Twitter</h2></div></div><hr /></div><p>Now that we have a scoring system, let's take a look at how we can share a high score using Twitter.</p><p>Twitter is an online news and social networking service where users post and interact with each other through messages that they call <span class="emphasis"><em>tweets</em></span>, which are limited to 280 characters.</p><p>Twitter is a great option to start off with because it is very easy to add to our project by simply opening a specific URL:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Open the <code class="literal">PauseMenuBehaviour</code> script. Once inside there, we will add the following code inside the <code class="literal">PlayerMenuBehaviour</code> class:</li></ol></div><pre class="programlisting">#region Share Score via Twitter 
 
// Web address in order to create a tweet 
private const string tweetTextAddress =  
                            "http://twitter.com/intent/tweet?text="; 
 
// Where we want players to visit 
private string appStoreLink = "http://johnpdoran.com/"; 
 
// Reference to the player for the score 
public PlayerBehaviour player; 
 
/// &lt;summary&gt; 
/// Will open Twitter with a prebuilt tweet. When called on iOS or  
/// Android will open up Twitter app if installed 
/// &lt;/summary&gt; 
public void TweetScore() 
{ 
    // Get contents of the tweet (in URL friendly format) 
    string tweet = "I got " + string.Format("{0:0}", player.Score)  
+ " points in Endless Roller! Can you do better?"; 
 
    // Open the URL to create the tweet 
    Application.OpenURL(tweetTextAddress + WWW.EscapeURL(tweet +  
                        "\n" + appStoreLink)); 
} 
 
#endregion </pre><p>First of all, we will use a number of new things. You'll note that this new block of code starts and ends with <code class="literal">#region</code> and <code class="literal">#endregion</code>, respectively. What this does is allow us to expand and collapse this portion of code inside Visual Studio. When we introduce longer code files, it can be convenient to be able to collapse or hide certain parts of your script so that you can focus only on the part of the file you're working on. Since this portion of code has nothing to do with the rest of the script, this is a good place for us to use it.</p><p>To open URLs inside of Unity, we will need to make use of the <code class="literal">Application.OpenURL</code> function and the <code class="literal">WWW</code> class.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note66"></a>Note</h3><p>For more information on Twitter's web Intents and the ways you can use it, check out <span><a class="ulink" href="https://dev.twitter.com/web/intents" target="_blank">https://dev.twitter.com/web/intents</a>.</span></p></div><p>The <code class="literal">WWW</code> class is typically used to load content at runtime, but it also has the <code class="literal">EscapeURL</code> function, which will convert a string into a format that web browsers are comfortable with. For instance, the newline character will not be displayed by itself.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note67"></a>Note</h3><p>For more information on the <code class="literal">EscapeURL</code> function, check out <a class="ulink" href="https://docs.unity3d.com/ScriptReference/WWW.EscapeURL.html" target="_blank"><span>https://docs.unity3d.com/ScriptReference/WWW.EscapeURL.html</span></a>.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Save the script and dive back into Unity. From the <strong class="userinput"><code>Hierarchy</code></strong> window, select the <strong class="userinput"><code>Pause Menu Behaviour</code></strong> object and then set the <strong class="userinput"><code>Player</code></strong> property in the <strong class="userinput"><code>Inspector</code></strong> tab to our <code class="literal">Player</code> object by d<span>ragging and dropping</span>  the <strong class="userinput"><code>Player</code></strong> game object from the <strong class="userinput"><code>Hierarchy</code></strong> window  onto the <strong class="userinput"><code>Player</code></strong> property in the <strong class="userinput"><code>Inspector</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/2b6bf8d0-fd22-4da0-bd8b-d12580e65e23.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Now, we need to have a button for our <strong class="userinput"><code>Game Over</code></strong> screen to allow us to share our score.</li><li>Open up the <strong class="userinput"><code>Canvas</code></strong> object and toggle the Game Over object on by clicking on the checkmark beside its name in the <strong class="userinput"><code>Inspector</code></strong> window.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>From there, expand the Panel and the <strong class="userinput"><code>Game Over</code></strong> contents. Select the <strong class="userinput"><code>Menu Button</code></strong> and duplicate it by pressing <span class="emphasis"><em>Ctrl </em></span>+ <span class="emphasis"><em>D</em></span>. Next, change the name to <code class="literal">Tweet Score</code> and also update the text.</li><li>Afterward, select the <strong class="userinput"><code>Tweet Score</code></strong> button object and scroll down to the <strong class="userinput"><code>Button</code></strong> component. From there, change the function we are calling to the <strong class="userinput"><code>PauseScreenBehaviour</code></strong> | <strong class="userinput"><code>Tweet Score</code></strong> function:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/128f487c-d222-4ce0-a283-7647de60c157.png" /></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Select the Game Over object in the <strong class="userinput"><code>Hierarchy</code></strong> and disable it again. Next, save your scene and start the game.</li></ol></div><p>Now when we fail the game, we can click on the <strong class="userinput"><code>Tweet Score</code></strong> button and our browser will open on PC:</p><div class="mediaobject"><img src="/graphics/9781787288713/graphics/73e864ae-3c47-408d-87e4-0bede04aea3f.png" /></div><p></p><p>However, on our mobile devices, it will open up the Twitter app:</p><div class="mediaobject"><img src="/graphics/9781787288713/graphics/95afa966-14e4-4040-98f7-c431d33e2d84.png" /></div><p>With that, you learned just how easy it is to share something using Twitter.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note68"></a>Note</h3><p>For those who are interested in doing more than this with Twitter, they do have their own API for Unity, which will allow you to let users log in to your game using Twitter if you'd like to do that instead of Facebook, which we will be doing later on. If you're interested in looking into it, you can find more information at <a class="ulink" href="https://dev.twitter.com/twitterkit/unity/overview" target="_blank">https://dev.twitter.com/twitterkit/unity/overview</a>.</p></div></div>