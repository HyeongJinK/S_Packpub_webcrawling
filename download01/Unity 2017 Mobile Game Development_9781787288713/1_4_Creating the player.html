<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec4"></a>Creating the player</h2></div></div><hr /></div><p>Now that we have Unity opened up, we can actually start building our project. To get started, let's build a player that will always move forward. Let's start with that now:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Let's create some ground for our player to walk on. To do that, let's go to the top menu and select <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>3D Object</code></strong> | <strong class="userinput"><code>Cube</code></strong>.</li><li>From there, let's move over to the <strong class="userinput"><code>Inspector</code></strong> window and change the name of the object to <code class="literal">Floor</code>. Then, on the <strong class="userinput"><code>Transform</code></strong> component, set the <strong class="userinput"><code>Position</code></strong> to <code class="literal">(0, 0, 0)</code>, which we can either type in, or we can right-click on the <strong class="userinput"><code>Transform</code></strong> component and then select the <strong class="userinput"><code>Reset Position</code></strong> option.</li><li>Then, we will set the <strong class="userinput"><code>Scale</code></strong> to <code class="literal">(7, 0.1, 10)</code>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/ed1d722e-a5cc-4921-b16c-38d468153b69.png" /></div><p>In Unity, by default, 1 unit of space in Unity is representative of 1 meter in real life. This will make the floor longer than it is wide (X and Z), and we have some size on the ground (Y), so the player will collide and land on it because we have a <strong class="userinput"><code>Box Collider</code></strong> component attached to it.</p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Next, we will create our player, which will be a sphere. To do this, we will go to <strong class="userinput"><code>Game Object</code></strong> | <strong class="userinput"><code>3D Object</code></strong> | <strong class="userinput"><code>Sphere</code></strong>.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Rename the sphere to <code class="literal">Player</code> and set the <strong class="userinput"><code>Transform</code></strong> component's <strong class="userinput"><code>Position</code></strong> to <code class="literal">(0, 1, -4)</code>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/8669c876-1e6b-459a-887b-8ddc0b8d5d7d.png" /></div><p>This will place the ball slightly above the ground, and shifts it back to near the starting point. Note that the camera object (you can see a camera icon to point it out) is pointing toward the ball by default because it is positioned at <code class="literal">0</code>, <code class="literal">1</code>, <code class="literal">-10</code>.</p><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>We want the ball to move, so we will need to tell the physics engine that we want to have this object react to forces, so we will need to add a <strong class="userinput"><code>Rigidbody</code></strong> component. To do so, go to the menu and select <strong class="userinput"><code>Component</code></strong> | <strong class="userinput"><code>Physics</code></strong> | <strong class="userinput"><code>Rigidbody</code></strong>. To see what happens now, let's click on the <strong class="userinput"><code>Play</code></strong> button that can be seen in the middle of the top toolbar:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/b3aef4ae-f6c9-41d9-a872-3bc74cf1485a.png" /></div><p>As you can see in the preceding screenshot, you should see the ball fall down onto the ground when we play the game.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip3"></a>Note</h3><p>You can disable/enable having the <strong class="userinput"><code>Game</code></strong> tab take the entire screen when being played by clicking on the <strong class="userinput"><code>Maximize On Play</code></strong> button at the top, or by right-clicking on the <strong class="userinput"><code>Game</code></strong> tab and then selecting <strong class="userinput"><code>Maximize</code></strong>.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Click on the <strong class="userinput"><code>Play</code></strong> button again to turn the game off and go back to the <strong class="userinput"><code>Scene</code></strong> tab, if it doesn't happen automatically.</li></ol></div><p>We want to have the player move, so in order to do that, we will create our own piece of functionality in a script, effectively creating our own custom component in the process.</p><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>To create a script, we will go to the <strong class="userinput"><code>Project</code></strong> window and select <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Folder</code></strong> on the top-left corner of the menu. From there, we'll name this folder <code class="literal">Scripts</code>. It's always a good idea to organize our projects, so this will help with that.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip4"></a>Note</h3><p>If you happen to misspell the name, go ahead and select the object and then single-click on the name and it'll let you rename it.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="9" type="1"><li>Double-click on the folder to enter it, and now you can create a script by going to <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>C# Script</code></strong> and renaming this to <code class="literal">PlayerBehaviour</code> (no spaces).</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note5"></a>Note</h3><p>The reason I'm using the "behaviour", "spelling" instead of "behavior" is that all components in Unity are children of another class called <code class="literal">MonoBehaviour</code>, and I'm following Unity's lead in that regard.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="10" type="1"><li>Double-click on the script to open up the script editor (IDE) of your choice and add the following code to it:</li></ol></div><pre class="programlisting">using UnityEngine; 

public class PlayerBehaviour : MonoBehaviour 
{ 
    // A reference to the Rigidbody component 
    private Rigidbody rb; 

    // How fast the ball moves left/right 
    public float dodgeSpeed = 5; 

    // How fast the ball moves forwards automatically 
    public float rollSpeed = 5; 

   // Use this for initialization 
   void Start () 
   { 
        // Get access to our Rigidbody component 
        rb = GetComponent&lt;Rigidbody&gt;(); 
   } 

   // Update is called once per frame 
   void Update () 
   { 
        // Check if we're moving to the side 
        var horizontalSpeed = Input.GetAxis("Horizontal") * dodgeSpeed; 
        rb.AddForce(horizontalSpeed, 0, rollSpeed); 
   } 
}</pre><p>In the preceding code, we have a couple of variables that we will be working with. The <code class="literal">rb</code> variable is a reference to the game object's <code class="literal">Rigidbody</code> component that we added previously. It gives us the ability to make the object move, which we will use in the <code class="literal">Update</code> function. We also have two variables <code class="literal">dodgeSpeed</code> and <code class="literal">rollSpeed</code>, which dictates how quickly the player will move when moving left/right, or when moving forward, respectively.</p><p>Since our object has only one <code class="literal">Rigidbody</code> component, we assign <code class="literal">rb</code> once in the <code class="literal">Start</code> function, which is called when the game starts, as long as the game object attached to this script is enabled.</p><p>Then, we use the <code class="literal">Update</code> function to check whether our player is pressing keys to move left or right as based on Unity's Input Manager system. By default, the <code class="literal">Input.GetAxis</code> function will return to us a negative value moving to <code class="literal">-1</code> if we press <span class="emphasis"><em><span class="strong"><strong>A</strong></span></em></span> or the <span class="strong"><strong>left arrow</strong></span>. If we press the <span class="strong"><strong>right arrow</strong></span> or <span class="strong"><strong><span class="emphasis"><em>D</em></span>,</strong></span> we will get a positive value up to <code class="literal">1</code> returned to us, and the input will move toward a <code class="literal">0</code> if nothing is pressed. We then multiply this by <code class="literal">dodgeSpeed</code> in order to increase the speed so that it is easier to be seen.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note6"></a>Note</h3><p>For more information on the Input Manager, check out <span><a class="ulink" href="https://docs.unity3d.com/Manual/class-InputManager.html" target="_blank">https://docs.unity3d.com/Manual/class-InputManager.html</a>.</span></p></div><p>Finally, once we have that value, we will apply a force to our ball's <code class="literal">horizontalSpeed</code> units on the X-axis and <code class="literal">rollSpeed</code> in the Z<span class="emphasis"><em>-</em></span>axis.</p><div class="orderedlist"><ol class="orderedlist arabic" start="11" type="1"><li>Save your script, and return to Unity.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="12" type="1"><li>We will now need to assign this script to our player by selecting the <code class="literal">Player</code> object in the <strong class="userinput"><code>Hierarchy</code></strong> window, and then in the <strong class="userinput"><code>Inspector</code></strong> window, drag and drop the <code class="literal">PlayerBehaviour</code> script from the <strong class="userinput"><code>Project</code></strong> window on top of the <code class="literal">Player</code> object. If all goes well, we should see the script appear on our object, as follows:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/81963529-f9bc-4065-b888-654ef4a0d977.png" /></div><p>Note that when writing scripts if we declare a variable as <code class="literal">public</code>, it will show up in the <strong class="userinput"><code>Inspector</code></strong> window for us to be able to set it. We typically set a variable as public when we want designers to tweak the values for gameplay purposes.</p><div class="orderedlist"><ol class="orderedlist arabic" start="13" type="1"><li>Save your scene by going to <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Save Scene</code></strong>. Create a new folder called <code class="literal">Scenes</code> and save your scene as <code class="literal">Gameplay</code>. Afterward, play the game and use the left and right arrows to see the player moving according to your input, but no matter what, moving forward by default:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787288713/graphics/27ed97b4-f5aa-41f4-8fac-61c678c39946.png" /></div></div>