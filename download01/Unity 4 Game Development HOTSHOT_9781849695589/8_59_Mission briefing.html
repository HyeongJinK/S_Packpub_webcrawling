<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec63"></a>Mission briefing</h2></div></div><hr /></div><p>This project will start with a creation of the simple high score table so that the players can submit their names and scores locally as well as post it to the server database. We will continue the project from <a class="link" href="#" linkend="ch07">Project 7</a>, <span class="emphasis"><em>Forge a Destructible and Interactive Virtual World</em></span>.</p><p>First, we will create the high score menu UI using <code class="literal">OnGUI()</code>, which will be visible when the game is over. The menu will include the final score, a text input area for the player's name, a submit button, a local hi-score button, a server hi-score button, and a restart button.</p><p>Then, we will have the <code class="literal">UserData</code> script that contains the name and score for each user. We will also create the <code class="literal">LocalHiscore</code> script, which we will use to save and load the local hi-score using <code class="literal">PlayerPref</code>, <code class="literal">BinaryFormatter</code>, and <code class="literal">MemoryStream</code> to serialize and deserialize the data.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip37"></a>Tip</h3><p>The serialize and deserialize techniques will make it easy for us to save complex data as well as preventing the user from changing the data outside the game.</p></div><p>Next, we will create the <code class="literal">XMLParser</code> script to get the XML value from the provided database server and the <code class="literal">ServerHiscore</code> script to save and load the user's data to the server using the <code class="literal">www</code> object. We also encrypt our data for security purposes using the <span class="strong"><strong>MD5</strong></span> encryption class<a id="id1209" class="indexterm"></a> written by Matthew Wegner, which we will download from <a class="ulink" href="http://wiki.unity3d.com/index.php?title=MD5" target="_blank">http://wiki.unity3d.com/index.php?title=MD5</a>.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip38"></a>Tip</h3><p>The MD5 encryption script will allow us to encrypt the hash key, which will prevent the submission of fake high scores.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec135"></a>Why is it awesome?</h3></div></div></div><p>What we will get from this project is a way to use <code class="literal">PlayerPrefs</code> combined with <code class="literal">BinaryFormatter</code> and <code class="literal">MemoryStream</code> to serialize and deserialize objects to save and load complex data. From this project, we will be able to adapt the technique to save more complex in-game data, such as the location of the player, current stage, or current hit points. We will also learn how to set up a basic database server using MySQL and PHP scripts to return high score data in the XML format and parse it to the game using <code class="literal">XMLDocument</code> from the .NET library. This is very useful when reading the XML file. Finally, we will get to know how to prevent the submission of fake data using the MD5 script to encrypt user data before sending it to the server database.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec136"></a>Your Hotshot objectives</h3></div></div></div><p>We will start by importing the <code class="literal">chapter 8</code> package, and then we will go through each of the following topics:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Creating the <code class="literal">UserData</code> and <code class="literal">Hiscore</code> scripts</p></li><li style="list-style-type: disc"><p>Saving and loading the local high score</p></li><li style="list-style-type: disc"><p>Creating an <code class="literal">XMLParser</code> script</p></li><li style="list-style-type: disc"><p>Saving and loading the server high score</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec137"></a>Mission checklist</h3></div></div></div><p>Before we start, we will need to get the project folder and assets from Packt's website, <a class="ulink" href="http://www.packtpub.com/support?nid=8267" target="_blank">http://www.packtpub.com/support?nid=8267</a>, which includes the first finished project and the assets that we need to use in this project.</p><p>Go to the preceding URL and download the <code class="literal">Chapter8.zip</code> package and unzip it. Inside the <code class="literal">Chapter8</code> folder, there are two unity packages, which are <code class="literal">Chapter8Package.unitypackage</code> (we will use this package for this project) and <code class="literal">Chapter8Package_Completed.unitypackage</code> (this is the completed project package).</p></div></div>