<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec57"></a>Creating a ragdoll object</h2></div></div><hr /></div><p>In the first section, we will set up and create a <code class="literal">ragdoll</code> object, which will be used to replace the AI game object when it dies.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec121"></a>Prepare for lift off</h3></div></div></div><p>We will begin by<a id="id1144" class="indexterm"></a> importing a package, preparing the assets folder, and ensuring that we have everything ready in order to start. Let's create a new project and import a package with the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Import the assets package by navigating to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import Package</strong></span> | <span class="strong"><strong>Custom Package…</strong></span> and choose <code class="literal">Chapter7.unityPackage</code>, which we downloaded earlier. Then, click on the <span class="strong"><strong>Import</strong></span> button in the pop-up window, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_01.jpg" /></div></li><li><p>Wait until the package is imported, and you will see the <code class="literal">Chapter7</code>, <code class="literal">Editor</code>, <code class="literal">Gizmos</code>, <code class="literal">Resources</code>, and <code class="literal">Standard Assets</code> folders in the <span class="strong"><strong>Project</strong></span> view. Then, go to the <code class="literal">Chapter7/Scenes</code> folder and double-click on a scene (C# users can double-click on the <span class="strong"><strong>VirtualWorld_C#</strong></span> scene, and Unity JavaScript users can double-click on the <span class="strong"><strong>VirtualWorld_JS</strong></span> scene), as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_02.jpg" /></div></li><li><p>Next, go to the <code class="literal">Resources/Prefabs</code> folder and drag the <span class="strong"><strong>robotAI_ragdoll</strong></span> prefab <a id="id1145" class="indexterm"></a>from the <span class="strong"><strong>Project</strong></span> view to the <span class="strong"><strong>Hierarchy</strong></span> view, as shown in the following screenshot (this screenshot is for the <span class="strong"><strong>VirtualWorld_C#</strong></span> scene):</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_03.jpg" /></div></li><li><p>Click on the <span class="strong"><strong>robotAI_ragdoll</strong></span> game object in the <span class="strong"><strong>Hierarchy</strong></span> view, go to the <span class="strong"><strong>Scene</strong></span> view, and press the <span class="emphasis"><em>F</em></span> key<a id="id1146" class="indexterm"></a> to zoom into the <span class="strong"><strong>robotAI_ragdoll</strong></span> game object in the scene, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_04.jpg" /></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec122"></a>Engage thrusters</h3></div></div></div><p>Now we can <a id="id1147" class="indexterm"></a>start applying ragdoll physics to the <span class="strong"><strong>robotAI_ragdoll</strong></span> game object as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Go to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Other</strong></span> | <span class="strong"><strong>Ragdoll…</strong></span>. You will see the <span class="strong"><strong>Create Ragdoll</strong></span> window pop up, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_05.jpg" /></div></li><li><p>Go back to the <span class="strong"><strong>Hierarchy</strong></span> view and click on the triangle in front of the <span class="strong"><strong>robotAI_ragdoll</strong></span> game object to see the <span class="strong"><strong>roothandle</strong></span> child name. Then, drag it to the <span class="strong"><strong>Root</strong></span> option in the <span class="strong"><strong>Create Ragdoll</strong></span> window, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_06.jpg" /></div></li><li><p>Next, we will continue dragging other objects to the <span class="strong"><strong>Create Ragdoll</strong></span> window. Let's drag the <span class="strong"><strong>upleg_L</strong></span> object from the <span class="strong"><strong>Hierarchy</strong></span> view to the <span class="strong"><strong>Left Hips</strong></span> option<a id="id1148" class="indexterm"></a> in the <span class="strong"><strong>Create Ragdoll</strong></span> window, and click on the <span class="strong"><strong>upleg_L</strong></span> object to bring its child name <span class="strong"><strong>lowleg_L</strong></span>.</p></li><li><p>Drag the <span class="strong"><strong>lowleg_L</strong></span> object to the <span class="strong"><strong>Left Knee</strong></span> option in the <span class="strong"><strong>Create Ragdoll</strong></span> window. Then, click on the <span class="strong"><strong>lowleg_L</strong></span> object to bring up its child name <span class="strong"><strong>heel_L</strong></span>, and drag it to the <span class="strong"><strong>Left Foot</strong></span> option in the <span class="strong"><strong>Create Ragdoll</strong></span> window.</p></li><li><p>Again, perform this action with the <span class="strong"><strong>left bone</strong></span> object by dragging the <span class="strong"><strong>upleg_R</strong></span> object to the <span class="strong"><strong>Right Hips</strong></span> option, <span class="strong"><strong>lowleg_R</strong></span> to the <span class="strong"><strong>Right Knee</strong></span> option, and <span class="strong"><strong>heel_R</strong></span> to the <span class="strong"><strong>Right Foot</strong></span> option in the <span class="strong"><strong>Create Ragdoll</strong></span> window, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_07.jpg" /></div><p>It may be time-consuming to expand the object's children hierarchy by clicking on each object. The good thing in Unity is that we can collapse or expand all of the object's children<a id="id1149" class="indexterm"></a> using the <span class="emphasis"><em>Option</em></span> key (for Mac) or the <span class="emphasis"><em>Alt</em></span> key (for Windows).</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip33"></a>Tip</h3><p>We can hold the <span class="emphasis"><em>Option</em></span> (for Mac) or <span class="emphasis"><em>Alt</em></span> (for Windows) key, and click on the triangle in front of the object to expand or collapse the object's children.</p></div></li><li><p>Now, we <a id="id1150" class="indexterm"></a>are done with the lower body settings. Next, we will continue to set the upper part of the body by applying physics to each bone as follows:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col align="left" /><col align="left" /></colgroup><thead><tr><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">
<p>The <span class="strong"><strong>Create Ragdoll</strong></span> window</p>
</th><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">
<p>The <span class="strong"><strong>Hierarchy</strong></span> window</p>
</th></tr></thead><tbody><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Left Arm</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>uparm_L</strong></span>
</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Left Elbow</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>elbow_L</strong></span>
</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Right Arm</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>uparm_R</strong></span>
</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Right Elbow</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>elbow_R</strong></span>
</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Middle Spine</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>spine1</strong></span>
</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Head</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>head</strong></span>
</p>
</td></tr></tbody></table></div><p>We will see the results as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_08.jpg" /></div></li><li><p>Click on the <span class="strong"><strong>Create</strong></span> button to create the ragdoll for our <code class="literal">AI</code> object. If we click<a id="id1151" class="indexterm"></a> on <span class="strong"><strong>robotAI_ragdoll</strong></span> in the <span class="strong"><strong>Hierarchy</strong></span> view, we will see that the capsule and box colliders get merged on each joint, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_09.jpg" /></div><p>However, we are not done yet. From the preceding screenshot, we can see that we still need to adjust the colliders associated with the character's shape.</p></li><li><p>Click on <span class="strong"><strong>head</strong></span> in<a id="id1152" class="indexterm"></a> the <span class="strong"><strong>Hierarchy</strong></span> view, go to the <span class="strong"><strong>Inspector</strong></span> view, and set the following values:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col align="left" /><col align="left" /></colgroup><thead><tr><th style="border-bottom: 0.5pt solid ; " colspan="2" align="left" valign="bottom">
<p>
<span class="strong"><strong>Sphere Collider</strong></span>
</p>
</th></tr></thead><tbody><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Center</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>X</strong></span>: <code class="literal">-0.04</code>, <span class="strong"><strong>Y</strong></span>: <code class="literal">-0.06</code>, and <span class="strong"><strong>Z</strong></span>: <code class="literal">0</code>
</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Radius</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<code class="literal">0.15</code>
</p>
</td></tr></tbody></table></div></li><li><p>Next, click on <span class="strong"><strong>roothandle</strong></span> in the <span class="strong"><strong>Hierarchy</strong></span> view, go to the <span class="strong"><strong>Inspector</strong></span> view, and set the following:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col align="left" /><col align="left" /></colgroup><thead><tr><th style="border-bottom: 0.5pt solid ; " colspan="2" align="left" valign="bottom">
<p>
<span class="strong"><strong>Box Collider</strong></span>
</p>
</th></tr></thead><tbody><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Center</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>X</strong></span>: <code class="literal">-0.5</code>, <span class="strong"><strong>Y</strong></span>: <code class="literal">-0.1</code>, and <span class="strong"><strong>Z</strong></span>: <code class="literal">-0.175</code>
</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Size</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>X</strong></span>: <code class="literal">1.3</code>, <span class="strong"><strong>Y</strong></span>: <code class="literal">0.5</code>, and <span class="strong"><strong>Z</strong></span>: <code class="literal">0.35</code>
</p>
</td></tr></tbody></table></div></li><li><p>Click on <span class="strong"><strong>spine1</strong></span> in the <span class="strong"><strong>Hierarchy</strong></span> view, go to the <span class="strong"><strong>Inspector</strong></span> view, and set the following:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col align="left" /><col align="left" /></colgroup><thead><tr><th style="border-bottom: 0.5pt solid ; " colspan="2" align="left" valign="bottom">
<p>
<span class="strong"><strong>Box Collider</strong></span>
</p>
</th></tr></thead><tbody><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Center</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>X</strong></span>: <code class="literal">-0.32</code>, <span class="strong"><strong>Y</strong></span>: <code class="literal">0.1</code>, and <span class="strong"><strong>Z</strong></span>: <code class="literal">-0.175</code>
</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Size</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>X</strong></span>: <code class="literal">1.3</code>, <span class="strong"><strong>Y</strong></span>: <code class="literal">0.5</code>, and <span class="strong"><strong>Z</strong></span>: <code class="literal">0.35</code>
</p>
</td></tr></tbody></table></div></li><li><p>We just set up the ragdoll for the <code class="literal">AI</code> game object, but we still need to apply the <span class="strong"><strong>collider</strong></span> and <span class="strong"><strong>Rigidbody</strong></span> components to the <span class="strong"><strong>gun</strong></span> object. So, we will click on the <span class="strong"><strong>gun</strong></span> game object and apply <span class="strong"><strong>Rigidbody</strong></span> to this by navigating to <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Physics</strong></span> | <span class="strong"><strong>Rigidbody</strong></span>. Go to the <span class="strong"><strong>Inspector</strong></span> view of this game object and set the following:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col align="left" /><col align="left" /></colgroup><thead><tr><th style="border-bottom: 0.5pt solid ; " colspan="2" align="left" valign="bottom">
<p>
<span class="strong"><strong>Rigidbody</strong></span>
</p>
</th></tr></thead><tbody><tr><td style="" align="left" valign="top">
<p>
<span class="strong"><strong>Mass</strong></span>
</p>
</td><td style="" align="left" valign="top">
<p>
<code class="literal">3</code>
</p>
</td></tr></tbody></table></div></li><li><p>Next, click on the triangle in front of the <span class="strong"><strong>gun</strong></span> game object to bring up the <span class="strong"><strong>gun_ model</strong></span> object, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_10.jpg" /></div></li><li><p>Apply the <span class="strong"><strong>Box Collider</strong></span> component to the <span class="strong"><strong>gun_model</strong></span> object (this will make the gun collide with other objects when it falls down) by going to <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Physics</strong></span> | <span class="strong"><strong>Box Collider</strong></span>. We are now done with the<a id="id1153" class="indexterm"></a> creation of the <span class="strong"><strong>robotAI_ragdoll</strong></span> game object.</p></li><li><p>Next, we will click on the <span class="strong"><strong>robotAI_ragdoll</strong></span> game object in the <span class="strong"><strong>Hierarchy</strong></span> view and go to the <span class="strong"><strong>Inspector</strong></span> view. Then, click on the <span class="strong"><strong>Apply</strong></span> button to update the prefab, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_11.jpg" /></div></li><li><p>As we have already updated the <span class="strong"><strong>robotAI_ragdoll</strong></span> prefab in the <span class="strong"><strong>Project</strong></span> view, we don't need to keep the <span class="strong"><strong>robotAI_ragdoll</strong></span> game object in the <span class="strong"><strong>Hierarchy</strong></span> view anymore. So, we just delete this by right-clicking on it and choosing <span class="strong"><strong>Delete</strong></span>.</p></li><li><p>Now, we need to go to the <code class="literal">Chapter7/Scripts/C#/Actor</code> (for C# users) or <code class="literal">Chapter7/Scripts/Javascript/Actor</code> (for Unity JavaScript users) folder, and open the <code class="literal">AI</code> script, which will be used to replace the <code class="literal">robotAI_ragdoll</code> game object when the AI is dead. Let's open the <code class="literal">AI</code> script and go to the <code class="literal">UpdateHitPoint()</code> function and add the highlighted code as follows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>// Unity JavaScript user:</strong></span>
protected override function UpdateHitPoint (collision : Collision) {
  if (IS_GAMEOVER == false) {
    if (collision.transform.tag == "Rocket") {
      HitPoint.CURRENT_AI_INDEX = index;
      var rocket : Rocket = collision.gameObject.GetComponent.&lt;Rocket&gt;();
      HP = Mathf.Clamp(HP-rocket.damage, 0, _maxHP);
      if (HP == 0) {
<span class="strong"><strong>        var myRagdoll : GameObject = Instantiate(ragdoll,transform.position,transform.rotation);</strong></span>

<span class="strong"><strong>        var rigids : Rigidbody[] = myRagdoll.GetComponentsInChildren.&lt;Rigidbody&gt;();</strong></span>
<span class="strong"><strong>        var rocketForce : Vector3 = rocket.transform.forward * rocket.constantForce.relativeForce.magnitude;</strong></span>
<span class="strong"><strong>        for (var rigid : Rigidbody in rigids) {</strong></span>
<span class="strong"><strong>          rigid.AddForce(rocketForce,ForceMode.VelocityChange);</strong></span>
<span class="strong"><strong>        }</strong></span>
        GameObject.Destroy(gameObject);
        onEnemyDie.Invoke();
      }
    }
  }
}


<span class="strong"><strong>// C# user:</strong></span>

protected override void UpdateHitPoint (Collision collision) {
  if (IS_GAMEOVER == false) {
    if (collision.transform.tag == "Rocket") {
      HitPoint.CURRENT_AI_INDEX = index;
      Rocket rocket = collision.gameObject.GetComponent&lt;Rocket&gt;();
      HP = Mathf.Clamp(HP-rocket.damage, 0, _maxHP);
      if (HP == 0) {
<span class="strong"><strong>        GameObject myRagdoll = (GameObject)Instantiate(ragdoll,transform.position,transform.rotation);</strong></span>
<span class="strong"><strong>        Rigidbody[] rigids = myRagdoll.GetComponentsInChildren&lt;Rigidbody&gt;();</strong></span>
<span class="strong"><strong>        Vector3 rocketForce = rocket.transform.forward * rocket.constantForce.relativeForce.magnitude;</strong></span>
<span class="strong"><strong>        foreach (Rigidbody rigid in rigids) {</strong></span>
<span class="strong"><strong>          rigid.AddForce(rocketForce,ForceMode.VelocityChange);</strong></span>
<span class="strong"><strong>        }</strong></span>
        GameObject.Destroy(transform.parent.gameObject);
        onEnemyDie();
      }
    }
  }
}</pre></div><p>Our <code class="literal">AI</code> class is derived from <code class="literal">CharacterClass</code>. So, if we open <code class="literal">CharacterClass</code>, we will see the <code class="literal">UpdateHitPoint()</code> function getting called from the <code class="literal">OnCollisionEnter()</code> function. We will also see that there is the <code class="literal">ragdoll GameObject</code> variable that we use to instantiate a <code class="literal">ragdoll</code> object. This function will check whether the rocket hits the AI or not. If the AI is hit and its hit point is equal to <code class="literal">0</code>, we will create a <code class="literal">ragdoll</code> object for the scene and add the rocket force to the <code class="literal">ragdoll rigidbody</code> object to<a id="id1154" class="indexterm"></a> make this more realistic.</p></li><li><p>Save the <code class="literal">AI</code> script and go back to the <code class="literal">Resources/Prefabs</code> folder in the <span class="strong"><strong>Project</strong></span> view. Click on the <span class="strong"><strong>robotAI_C#</strong></span> (for C# users) or <span class="strong"><strong>robotAI_JS</strong></span> (for Unity JavaScript users) prefab, and go to the <span class="strong"><strong>Inspector</strong></span> view, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_12.jpg" /></div></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> view, we will go to the <span class="strong"><strong>Ragdoll</strong></span> property in the <span class="strong"><strong>AI (Script)</strong></span> section, and drag <span class="strong"><strong>robotAI_ragdoll</strong></span> to this <span class="strong"><strong>Ragdoll</strong></span> property, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_13.jpg" /></div><p>With this step, we will update all the <span class="strong"><strong>robotAI</strong></span> prefabs in the <span class="strong"><strong>Hierarchy</strong></span> view. Now we have<a id="id1155" class="indexterm"></a> finished this step. We can click on play and see the result—when we kill the enemy, we will see that the <code class="literal">ragdoll</code> game object gets created at the same position as the <span class="strong"><strong>robotAI</strong></span> game object. Then, the <span class="strong"><strong>robotAI</strong></span> game object gets destroyed, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_07_14.jpg" /></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec123"></a>Objective complete – mini debriefing</h3></div></div></div><p>In this step, we created the <code class="literal">ragdoll</code> object by assigning bones to it. Then, Unity automatically attaches all colliders, rigidbody, and character joints to match our character to use for the <code class="literal">ragdoll</code> object. This ragdoll will be added to the game scene when the <span class="strong"><strong>robotAI</strong></span> object is dead using the<a id="id1156" class="indexterm"></a> <code class="literal">Instantiate()</code> function. We also added the force to <span class="strong"><strong>Rigidbody</strong></span> to make the ragdoll follow the direction of the rocket, which will make it more realistic using the <a id="id1157" class="indexterm"></a>
<code class="literal">rigidbody.AddForce()</code> function.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec124"></a>Classified intel</h3></div></div></div><p>In this section, we have used the <span class="strong"><strong>robotAI_ragdoll</strong></span> prefab and added it to the scene when our AI gets destroyed. The<a id="id1158" class="indexterm"></a> concept of this section is that we have to separate the ragdoll from the <code class="literal">AI</code> object. Then, we add the ragdoll and destroy the <code class="literal">AI</code> object. Of course, this is just one way to create the ragdoll effect for the character. The advantage of separating them is that we don't need to worry about the <code class="literal">ragdoll</code> object when we need to update the character. We can have the ragdoll already set up and just work on the update of character's animation. This will prevent us from making an error when we change something in the script.</p><p>On the other hand, this method isn't that good if we need an accurate collider for each part of the character's body. In this case, we can also have the ragdoll and character animation in the same game object by attaching the <span class="strong"><strong>Animator</strong></span> component to control the animation. Then, we can use <span class="strong"><strong>Is Kinematic</strong></span> in <span class="strong"><strong>Rigidbody</strong></span> to enable or disable the ragdoll physics to use the ragdoll mode or character animation.</p><p>When we added the <span class="strong"><strong>ragdoll</strong></span> prefab to the scene, we also added force using the <code class="literal">AddForce()</code> function<a id="id1159" class="indexterm"></a> to our ragdoll's rigidbody. This makes our <code class="literal">ragdoll</code> object move following the rocket's direction. We set the force mode to <code class="literal">ForceMode.VelocityChange</code> to change the velocity as soon as the rocket hits the character by ignoring its mass. This way we can make sure that we have the same velocity applied to all the parts of our <code class="literal">ragdoll</code> object.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note83"></a>Note</h3><p>For more information on <code class="literal">ForceMode.VelocityChange</code>, visit the following URL:</p><p>
<a class="ulink" href="http://docs.unity3d.com/Documentation/ScriptReference/ForceMode.VelocityChange.html" target="_blank">http://docs.unity3d.com/Documentation/ScriptReference/ForceMode.VelocityChange.html</a>
</p></div></div></div>