<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec20"></a>Mission briefing</h2></div></div><hr /></div><p>We'll create<a id="id202" class="indexterm"></a> a simple menu, yet complex enough for the RPG. In this project, we will continue using some assets from <a class="link" href="#" linkend="ch01">Project 1</a>, <span class="emphasis"><em>Develop a Sprite and Platform Game</em></span>. So, we won't have to recreate the character. The menu will include a <span class="strong"><strong>STATUS</strong></span> tab that<a id="id203" class="indexterm"></a> will show us the current attributes, skills, and equipments of our character. Next is the <span class="strong"><strong>INVENTORY</strong></span> tab that will contain all the items that<a id="id204" class="indexterm"></a> our character has as well as the information for each item when the user rolls over the tab.</p><p>The last<a id="id205" class="indexterm"></a> tab is the <span class="strong"><strong>EQUIPMENT</strong></span> tab with which the user will be able to change the weapons, armors, accessories, and skills, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_02_01.jpg" /></div><p>The purpose of this project is to understand the <code class="literal">GUI</code> class in Unity and create our custom user interface, which is different from <span class="strong"><strong>GUITexture</strong></span> that we used to create our <span class="strong"><strong>RestartButton</strong></span> in <a class="link" href="#" linkend="ch01">Project 1</a>, <span class="emphasis"><em>Develop a Sprite and Platform Game</em></span>. There is also <span class="strong"><strong>GUIText</strong></span>, which is used to display the text of any font that we import in the screen coordinate. Both are types of rendering components that can be used once per object. So, if we try to create a complete menu, we will need many <span class="strong"><strong>GUITexture/GUIText</strong></span> objects and the<a id="id206" class="indexterm"></a> scripts to handle them. On the other hand, the <code class="literal">GUI</code> class is operating inside one function <code class="literal">OnGUI</code>, and we only deal with one object and only create a script that will display all buttons in the <span class="strong"><strong>Menu</strong></span> tab.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note12"></a>Note</h3><p>The <code class="literal">OnGUI</code> function<a id="id207" class="indexterm"></a> acts in a similar way to an <code class="literal">Update</code> function, but <code class="literal">OnGUI</code> gets called more than once for rendering and handling the <code class="literal">GUI</code> events, meaning that the <code class="literal">OnGUI</code> implementation might be called several times per frame (one call per event), which means it is recalculated at least twice per frame, which can make it slow than another <code class="literal">GUIElement</code> (<code class="literal">GUITexture</code> or <code class="literal">GUIText</code>). More importantly, each <code class="literal">GUI</code> object<a id="id208" class="indexterm"></a> will also create one or more draw calls, which means that this can cause a performance hit easily. So, it's not recommended to use <code class="literal">OnGUI</code> for the in-game UI (especially in game development), instead, we can use <code class="literal">GUIElement</code>.</p><p>Draw calls is how many materials from each object are being drawn to the screen. Around 200 to 300 draw calls is considered acceptable on a mobile platform.</p><p>Also, there are many remarkable UI tools in the assets store that are easier to implement and they have a great performance for mobile development, such as the new GUI system (uGUI) on Unity 4.6, NGUI (recommended), and EZGUI.</p><p>On the other hand, the <code class="literal">GUI</code> class can also be used with the <code class="literal">editor</code> class to create a custom inspector or window in Unity, which is very helpful. (We will learn about this in a later project.)</p></div><p>In this project, we will apply the custom GUI graphics to Unity by using <code class="literal">GUISkin</code>. We can have multiple styles for our GUI graphics in Unity. Let's say that we have multiple types of fonts that we want to use in our menu; Unity has a way to do this. We can create a <code class="literal">GUISkin</code> element and apply our custom skin to the area that we want to show the font in. That is the great thing about Unity.</p><p>First, we will create the <code class="literal">Item</code>, <code class="literal">ItemsContainer</code>, and <code class="literal">SkillsContainer</code> classes to contain our items and equipments. Then, we will create a menu scripting class that will bring up a new menu window in the game scene when the player presses the <span class="emphasis"><em>M</em></span> key. Next, we will generate a script to create three tab buttons, which will take the player to each window, <span class="strong"><strong>STATUS</strong></span>, <span class="strong"><strong>INVENTORY</strong></span>, and <span class="strong"><strong>EQUIPMENT</strong></span>.</p><p>In the <span class="strong"><strong>STATUS</strong></span> tab, we <a id="id209" class="indexterm"></a>will create a script that will show the image of our character, hit points, magic points, skills, and all attributes of this character. Next, we will create <a id="id210" class="indexterm"></a>the <span class="strong"><strong>INVENTORY</strong></span> tab, which will contain all the items that the player can scroll up and down to choose an item. Finally, we will create the <span class="strong"><strong>EQUIPMENT</strong></span> tab that the player can use to manage and change the<a id="id211" class="indexterm"></a> equipments and skills of the character by clicking on it.</p><p>Next, we will <a id="id212" class="indexterm"></a>create a menu game object and item game objects, and<a id="id213" class="indexterm"></a> apply scripts to them. Then, we will add parameters and textures to our menu and start playing the game. Lastly, we will add the <code class="literal">item</code> script to the <span class="strong"><strong>Key</strong></span> element on the scene. Then, we will add an item and show this in the menu when we will collect the <span class="strong"><strong>Key</strong></span> element and remove it when we use the <span class="strong"><strong>Key</strong></span> element to open the door.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec35"></a>Why is it awesome?</h3></div></div></div><p>When we will complete this project, we will be able to create our custom UI for our RPG; this GUI can be used not only in an RPG, but we can also create the user interface for every genre. We will get a good understanding of the <code class="literal">GUI</code> class in Unity, which is very powerful to create an awesome user interface such as with <span class="emphasis"><em>Dungeon Hunter</em></span>, and <span class="emphasis"><em>Final Fantasy</em></span>, and can be used in the <code class="literal">editor</code> class too.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec36"></a>Your Hotshot objectives</h3></div></div></div><p>Because we <a id="id214" class="indexterm"></a>are creating a menu for an RPG-styled game, we need a menu that is a little more complex than the usual menu. So, this menu will be split into five tasks. The following is an outline of the tasks:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Customizing skin with <span class="strong"><strong>GUISkin</strong></span>
</p></li><li style="list-style-type: disc"><p>Creating a menu object</p></li><li style="list-style-type: disc"><p>Creating the <span class="strong"><strong>STATUS</strong></span> tab</p></li><li style="list-style-type: disc"><p>Creating the <span class="strong"><strong>INVENTORY</strong></span> tab</p></li><li style="list-style-type: disc"><p>Creating the <span class="strong"><strong>EQUIPMENT</strong></span> tab</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec37"></a>Mission checklist</h3></div></div></div><p>Before we start, we will need to get the project folder and assets from this book's website, <a class="ulink" href="http://www.packtpub.com/support?nid=8267" target="_blank">http://www.packtpub.com/support?nid=8267</a>, which includes the finished project from <a class="link" href="#" linkend="ch01">Project 1</a>, <span class="emphasis"><em>Develop a Sprite and Platform Game</em></span>, and the assets that we will need to use in this project.</p><p>Browse the <a id="id215" class="indexterm"></a>preceding URL and download the <code class="literal">Chapter2.zip</code> package and then unzip it. Inside the <code class="literal">Chapter2</code> folder, there are two unity packages, which are <code class="literal">Chapter2Package.unitypackage</code> (we will use this package for this project) and <code class="literal">Chapter2Package_Completed.unitypackage</code> (this is the completed project's package, which<a id="id216" class="indexterm"></a> includes both C# and Unity JavaScript).</p></div></div>