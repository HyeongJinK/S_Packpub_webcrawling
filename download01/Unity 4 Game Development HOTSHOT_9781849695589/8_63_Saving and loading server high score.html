<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec67"></a>Saving and loading server high score</h2></div></div><hr /></div><p>In this section, we will <a id="id1258" class="indexterm"></a>create the <code class="literal">ServerHiScore</code> script to post and load the high score data from the server, which also inherits from the <code class="literal">Hiscore</code> class. We will use the <code class="literal">WWWForm</code> class to <a id="id1259" class="indexterm"></a>communicate with the PHP file on the website, which I already set up on my website. We will also use the hash key and encrypt it with MD5 encryption to protect and check for the user before posting the score to the database.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec148"></a>Prepare for lift off</h3></div></div></div><p>Before we create the<a id="id1260" class="indexterm"></a> <code class="literal">ServerHiScore</code> script, we will take a look at this implementation of MD5 encryption, which is written by Matthew Wegner (<a class="ulink" href="http://www.unifycommunity.com/wiki/index.php?title=MD5" target="_blank">http://www.unifycommunity.com/wiki/index.php?title=MD5</a>).</p><p>If we go to the <span class="strong"><strong>Project</strong></span> view, navigate to <span class="strong"><strong>Chapter8</strong></span> | <span class="strong"><strong>Scripts</strong></span> | <span class="strong"><strong>C#</strong></span> | <span class="strong"><strong>Utils</strong></span> (for C# users) or <span class="strong"><strong>Chapter8</strong></span> | <span class="strong"><strong>Scripts</strong></span> | <span class="strong"><strong>Javascript</strong></span> | <span class="strong"><strong>Utils</strong></span> (for Unity JavaScript users), and double-click on it to open the MD5 file. We will see that there is <code class="literal">Md5Sum(string)</code> to encrypt the string data.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec149"></a>Engage thrusters</h3></div></div></div><p>Let's create the <code class="literal">ServerHiScore</code> script first using<a id="id1261" class="indexterm"></a> the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Navigate to <span class="strong"><strong>Chapter8</strong></span> | <span class="strong"><strong>Scripts</strong></span> | <span class="strong"><strong>C#</strong></span> | <span class="strong"><strong>Hiscore</strong></span> (for C# users) or <span class="strong"><strong>Chapter8</strong></span> | <span class="strong"><strong>Scripts</strong></span> | <span class="strong"><strong>Javascript</strong></span> | <span class="strong"><strong>Hiscore</strong></span> (for Unity JavaScript users) and right-click and go to <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>C# Script</strong></span> (for C# users) or <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Javascript</strong></span>. Name it <code class="literal">ServerHiscore</code> and double-click to open the <code class="literal">ServerHiscore</code> file.</p></li><li><p>First, we will start coding at the beginning of the <code class="literal">ServerHiscore</code> script, as shown in the following code:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>//Unity JavaScript user:</strong></span>

#pragma strict
class ServerHiscore extends Hiscore
{
  private var _wwwForm : WWWForm;
  private var _isLoaded : boolean;
  private var _phpUrl : String;

  function get isLoaded () : boolean {
    return _isLoaded;
  }
  function Initialize ( maxUser : int , phpUrl : String  ) {
    super.Initialize(maxUser);
    _phpUrl = phpUrl;
  }
}
<span class="strong"><strong>// C# user:</strong></span>

using UnityEngine;
using System.Collections;
public class ServerHiscore : Hiscore
{
  public delegate void CallBackFunction ( string data );
  WWWForm _wwwForm;
  bool _isLoaded;
  string _phpUrl;

  public bool isLoaded {
    get { return _isLoaded; }
  }
  public void Initialize ( int maxUser, string phpUrl) {
    base.Initialize(maxUser);
    _phpUrl = phpUrl;
  }
}</pre></div><p>From the preceding code, we created <code class="literal">WWWForm</code> to send and load the data to the server. We also created the <code class="literal">Initialize()</code> function, which will set the <a id="id1262" class="indexterm"></a>maximum number of users that can be displayed on the UI. Also, we set the PHP URL that will be used for positing and loading data from the server.</p></li><li><p>Next, we will create<a id="id1263" class="indexterm"></a> the <code class="literal">WaitForServerResponse()</code> function, which will wait for the server to finish sending the data. In this function, we will use the coroutine to wait for the server, and then, if there is no error, we will call the callback function. Let's add the <code class="literal">WaitForServerResponse()</code> function to this class as follows:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>// Unity JavaScript user: </strong></span>

private function WaitForServerResponse ( www : WWW, callback : Function ) : IEnumerator
{
  yield www;
  if (www.error == null) {
    Debug.Log("Successful.");
    if (callback != null) {
      callback(www.text);
      callback = null;
    }
  } else {
    Debug.LogError("Failed.");
  }
  //Clear Data
  www.Dispose();
}


<span class="strong"><strong>// C# user:</strong></span>

IEnumerator WaitForServerResponse ( WWW www, CallBackFunction callback)
{
  yield return www;
  if (www.error == null) {
    Debug.Log("Successful.");
    if (callback != null) {
      callback(www.text);
      callback = null;
    }
  } else {
    Debug.LogError("Failed.");
  }
  //Clear Data
  www.Dispose();
}</pre></div></li><li><p>Then, we will add the<a id="id1264" class="indexterm"></a> <code class="literal">SaveUserData()</code> method, which will create <code class="literal">WWWForm</code>, set the data, and send it to the server using the <code class="literal">WWW</code> object. On the last line, we<a id="id1265" class="indexterm"></a> will use <code class="literal">StartCoroutine</code> to wait for the server to finish reading the data, as shown in the following code:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>// Unity JavaScript user: </strong></span>

override function SaveUserData ( user : UserData ) {
  _wwwForm = new WWWForm();
  // Calling PHP for posting score action
  _wwwForm.AddField("action","PostScore");
  // Encrypt with MD5
  _wwwForm.AddField("hash",MD5.Md5Sum(user.name + "-" + user.score.ToString() + "-" + _hashKey));
  _wwwForm.AddField("score",user.score);
  _wwwForm.AddField("name",user.name);
  StartCoroutine(WaitForServerResponse(new WWW(_phpUrl,_wwwForm),null));
}


<span class="strong"><strong>// C# user:</strong></span>

public override void SaveUserData ( UserData user ) {
  _wwwForm = new WWWForm();
  // Calling PHP for posting score action
  _wwwForm.AddField("action","PostScore");
  // Encrypt with MD5
  _wwwForm.AddField("hash",MD5.Md5Sum(user.name + "-" + user.score.ToString() + "-" + _hashKey));
  _wwwForm.AddField("score",user.score);
  _wwwForm.AddField("name",user.name);
  StartCoroutine(WaitForServerResponse(new WWW(_phpUrl,_wwwForm),null));
}</pre></div></li><li><p>From the preceding code, we have the function to send data. Now, we will create the function to load data. Before creating the function to load data, we<a id="id1266" class="indexterm"></a> need to create the <code class="literal">ParseData()</code> function, which <a id="id1267" class="indexterm"></a>will be used to parse the XML data that is sent from the server. Let's add the following function:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>// Unity JavaScript user: </strong></span>

private function ParseXMLData ( xmlText  : String)
{
  Debug.Log("XML Text = " + xmlText);
  XMLParser.Parse(xmlText);
  if (XMLParser.users != null) {
    _users.AddRange(XMLParser.users);
  }
  _isLoaded = true;
}


<span class="strong"><strong>// C# user:</strong></span>

void ParseXMLData ( string xmlText )
{
  Debug.Log("XML Text = " + xmlText);
  XMLParser.Parse(xmlText);
  if (XMLParser.users != null) {
    _users.AddRange(XMLParser.users);
  }
  _isLoaded = true;
}</pre></div></li><li><p>Then, we will add the last method, <code class="literal">LoadUserData()</code>, to load the user data from the server, wait until it is finished, and<a id="id1268" class="indexterm"></a> then call <code class="literal">ParseXMLData()</code> to parse the data to <code class="literal">_users</code>. Let's add the following code:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>// Unity JavaScript user: </strong></span>

override function LoadUserData () {
  super.LoadUserData();
  _isLoaded = false;
  _wwwForm = new WWWForm();
  // Calling PHP for getting score action
  _wwwForm.AddField("action","GetScore");
  StartCoroutine(WaitForServerResponse(new WWW(_phpUrl,_wwwForm),ParseXMLData));
}


<span class="strong"><strong>// C# user:</strong></span>

public override void LoadUserData () {
  base.LoadUserData();
  _isLoaded = false;
  _wwwForm = new WWWForm();
  // Calling PHP for getting score action
  _wwwForm.AddField("action","GetScore");
  StartCoroutine(WaitForServerResponse(new WWW(_phpUrl,_wwwForm),ParseXMLData));
}</pre></div></li><li><p>Now, we finished creating the <code class="literal">ServerHiscore</code> script. Next, we will go to the <code class="literal">UIHiscore</code> script to add the code that will show all users' scores from the server. First, we<a id="id1269" class="indexterm"></a> will add the script to initialize the server hi-score table, as shown in the following highlighted code:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>// Unity JavaScript user: </strong></span>
…
…
private var _scrollLocal : Vector2 = Vector2.zero;
<span class="strong"><strong>var phpUrl : String = "http://www.jatewit.com/Packt/HiScore.php";</strong></span>
<span class="strong"><strong>private var _scrollServer : Vector2 = Vector2.zero;</strong></span>
<span class="strong"><strong>private var _serverHiscore : ServerHiscore;</strong></span>
…
function Awake () {
  _localHiscore = GetComponent.&lt;LocalHiscore&gt;();
  if (_localHiscore == null) {
    _localHiscore = gameObject.AddComponent.&lt;LocalHiscore&gt;();
  }
<span class="strong"><strong>  _serverHiscore = GetComponent.&lt;ServerHiscore&gt;();</strong></span>
<span class="strong"><strong>  if (_serverHiscore == null) {</strong></span>
<span class="strong"><strong>    _serverHiscore = gameObject.AddComponent.&lt;ServerHiscore&gt;();</strong></span>
<span class="strong"><strong>  }</strong></span>
}
function Start () {
  …
  _localHiscore.Initialize(maxUser);
<span class="strong"><strong>  _serverHiscore.Initialize(maxUser,phpUrl);</strong></span>
}


<span class="strong"><strong>// C# user:</strong></span>
…
…
Vector2 _scrollLocal = Vector2.zero;
<span class="strong"><strong>public string phpUrl = "http://www.jatewit.com/Packt/HiScore.php";</strong></span>
<span class="strong"><strong>Vector2 _scrollServer = Vector2.zero;</strong></span>
<span class="strong"><strong>ServerHiscore _serverHiscore;</strong></span>
…
void Awake () {
  _localHiscore = GetComponent&lt;LocalHiscore&gt;();
  if (_localHiscore == null) {
    _localHiscore = gameObject.AddComponent&lt;LocalHiscore&gt;();
  }
<span class="strong"><strong>  _serverHiscore = GetComponent&lt;ServerHiscore&gt;();</strong></span>
<span class="strong"><strong>  if (_serverHiscore == null) {</strong></span>
<span class="strong"><strong>    _serverHiscore = gameObject.AddComponent&lt;ServerHiscore&gt;();</strong></span>
<span class="strong"><strong>  }</strong></span>
}
void Start () {
   …
   _localHiscore.Initialize(maxUser);
<span class="strong"><strong>   _serverHiscore.Initialize(maxUser,phpUrl);</strong></span>
}</pre></div></li><li><p>We are still in the <code class="literal">UIHiscore</code> class. We will go to the <code class="literal">Gameover()</code> function to add the<a id="id1270" class="indexterm"></a> load and save data functions when the user clicks on the button, as shown in the following highlighted code:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>// Unity JavaScript user: </strong></span>
…
private function Gameover ()
{
  …
  if (_clickSubmit == false) {
    …
    if (GUI.Button(_buttonRect1, "SUBMIT")) {
       …
<span class="strong"><strong>       </strong></span>_localHiscore.SaveUserData(_user);
<span class="strong"><strong>       _serverHiscore.SaveUserData(_user);</strong></span>
    }
  }
  if (GUI.Button(_buttonRect2, "LOCAL HI-SCORE")) {
  …
  }
  if (GUI.Button(_buttonRect3, "SERVER HI-SCORE")) {
<span class="strong"><strong>     _serverHiscore.LoadUserData();</strong></span>
<span class="strong"><strong>     </strong></span>_page = PAGE.SERVERSCORE;
  }
}


<span class="strong"><strong>// C# user:</strong></span>
…
void Gameover ()
{
   …
  if (_clickSubmit == false) {
    …
    if (GUI.Button(_buttonRect1, "SUBMIT")) {
       …
<span class="strong"><strong>       </strong></span>_localHiscore.SaveUserData(_user);
<span class="strong"><strong>       _serverHiscore.SaveUserData(_user);</strong></span>
    }
  }
  if (GUI.Button(_buttonRect2, "LOCAL HI-SCORE")) {
  …
  }
  if (GUI.Button(_buttonRect3, "SERVER HI-SCORE")) {
<span class="strong"><strong>     _serverHiscore.LoadUserData();</strong></span>
<span class="strong"><strong>     </strong></span>_page = PAGE.SERVERSCORE;
  }
}</pre></div></li><li><p>At last, we will go to the <code class="literal">ServerHiscore()</code> function to add the code to show<a id="id1271" class="indexterm"></a> the high score table data, as shown in the following highlighted code:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>// Unity JavaScript user: </strong></span>
…
private function ServerHiscore ()
{
  CreateBackgroundBox("SERVER HI-SCORE");
<span class="strong"><strong>  if (_serverHiscore.isLoaded &amp;&amp; (_serverHiscore.userLength &gt; 0)) {</strong></span>
<span class="strong"><strong>    _scrollServer = GUI.BeginScrollView (new Rect ((Screen.width - 320)*0.5f, (Screen.height*0.1f) + 80, 320, 180), _scrollServer, new Rect (0, 0, 300, 30*_serverHiscore.userLength));</strong></span>
<span class="strong"><strong>    for (var i : int = 0; i &lt; _serverHiscore.userLength; i++) {</strong></span>
<span class="strong"><strong>      GUILayout.BeginHorizontal(GUILayout.Width(300));</strong></span>
<span class="strong"><strong>      GUILayout.Label((i+1).ToString() + ". " + _serverHiscore.GetUserDataAt(i).name, GUI.skin.GetStyle("Name"));</strong></span>
<span class="strong"><strong>      GUILayout.Label(_serverHiscore.GetUserDataAt(i).score.AddCommas(), GUI.skin.GetStyle("Score"));</strong></span>
<span class="strong"><strong>      GUILayout.EndHorizontal();</strong></span>
<span class="strong"><strong>    }</strong></span>
<span class="strong"><strong>    GUI.EndScrollView();</strong></span>
<span class="strong"><strong>  } else {</strong></span>
<span class="strong"><strong>    GUI.Label(new Rect((Screen.width-150)*0.5f, (Screen.height*0.1f)+120, 150, 50), "LOADING...", GUI.skin.GetStyle("CustomText"));</strong></span>
<span class="strong"><strong>  }</strong></span>
  if (GUI.Button(_buttonRect3, "BACK")) {
    _page = PAGE.GAMEOVER;
  }
}


<span class="strong"><strong>// C# user:</strong></span>
…
void ServerHiscore ()
{
  CreateBackgroundBox("SERVER HI-SCORE");
<span class="strong"><strong>  if (_serverHiscore.isLoaded &amp;&amp; (_serverHiscore.userLength &gt; 0)) {</strong></span>
<span class="strong"><strong>    _scrollServer = GUI.BeginScrollView (new Rect ((Screen.width - 320)*0.5f, (Screen.height*0.1f) + 80, 320, 180), _scrollServer, new Rect (0, 0, 300, 30*_serverHiscore.userLength));</strong></span>
<span class="strong"><strong>    for (int i = 0; i &lt; _serverHiscore.userLength; i++) {</strong></span>
<span class="strong"><strong>      GUILayout.BeginHorizontal(GUILayout.Width(300));</strong></span>
<span class="strong"><strong>      GUILayout.Label((i+1).ToString() + ". " + _serverHiscore.GetUserDataAt(i).name, GUI.skin.GetStyle("Name"));</strong></span>
<span class="strong"><strong>      GUILayout.Label(_serverHiscore.GetUserDataAt(i).score.AddCommas(), GUI.skin.GetStyle("Score"));</strong></span>
<span class="strong"><strong>      GUILayout.EndHorizontal();</strong></span>
<span class="strong"><strong>    }</strong></span>
<span class="strong"><strong>    GUI.EndScrollView();</strong></span>
<span class="strong"><strong>  } else {</strong></span>
<span class="strong"><strong>    GUI.Label(new Rect((Screen.width-150)*0.5f, (Screen.height*0.1f)+120, 150, 50), "LOADING...", GUI.skin.GetStyle("CustomText"));</strong></span>
<span class="strong"><strong>  }</strong></span>
  if (GUI.Button(_buttonRect3, "BACK")) {
    _page = PAGE.GAMEOVER;
  }
}</pre></div></li></ol></div><p>We just created the<a id="id1272" class="indexterm"></a> scroll view for our server high score table. Now, we have finished this project. We can click on the <span class="strong"><strong>Play</strong></span> button to see the result.</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_08_08.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec150"></a>Objective complete – mini debriefing</h3></div></div></div><p>In this section, we learned how to use the <code class="literal">WWWForm</code> and <code class="literal">WWW</code> objects to post and load the high score from/to the server. We also used the MD5 encryption to encrypt the key before posting the data to protect it from unwanted users. Then, we used the <code class="literal">StartCoroutine()</code> function to wait for the response from the server.</p><p>First, we created the <code class="literal">ServerHiScore</code> script to send and receive the user data from the server database. In the <code class="literal">Initialize()</code> function, we set the maximum number of users that will be shown in the UI. We also set the PHP URL for communication with the server database.</p><p>Next, we have the <code class="literal">WaitingForResponse()</code> function, which<a id="id1273" class="indexterm"></a> will wait for the response from the server and check if the sending request succeeds. Then, we checked if there is any callback function to call. If there is a callback function, we will call it after the communication has been finished. Finally, we just cleared all data using <code class="literal">www.Dispose()</code>.</p><p>Then, in the <code class="literal">SaveUserData()</code> function, we first created <code class="literal">WWWForm</code>. Then, we used <code class="literal">AddField("action", "PostScore");</code>, which will tell PHP that we want to send the score by setting <code class="literal">action</code> to <code class="literal">PostScore</code>. The <code class="literal">action</code> parameter and <code class="literal">PostScore</code> value are set in the PHP code, which you can see in <code class="literal">HiScore.php</code> by navigating to <span class="strong"><strong>Chapter8</strong></span> | <span class="strong"><strong>PHP</strong></span> in the <span class="strong"><strong>Project</strong></span> view included with the package. Then, we added <code class="literal">hash</code> filed with the MD5 encryption value of the combination of <code class="literal">user.name</code>, <code class="literal">user.score</code>, and <code class="literal">hashKey</code>. We also added the <code class="literal">score</code> and <code class="literal">name</code> fields and set their value to the <code class="literal">WWWForm</code> object. In the last line, we used the <code class="literal">StartCoroutine(WaitingForResponse(new WWW(_phpUrl, _wwwForm), null));</code> function to wait for the response from the server. The <code class="literal">StartCoroutine()</code> function basically takes <code class="literal">IEnumerator</code>, which is the <code class="literal">WaitingForResponse(new WWW(_phpUrl, _wwwForm), null))</code> function here. This function basically creates the <code class="literal">WWW</code> object that sends the <code class="literal">WWWForm</code> object to the specific <code class="literal">_phpUrl</code> variable. It also takes the function to callback when it is finished.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note91"></a>Note</h3><p>For more information on <code class="literal">WWWForm</code> and <code class="literal">WWW</code>, visit the following links:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<a class="ulink" href="http://docs.unity3d.com/Documentation/ScriptReference/WWWForm.html" target="_blank">http://docs.unity3d.com/Documentation/ScriptReference/WWWForm.html</a>
</p></li><li style="list-style-type: disc"><p>
<a class="ulink" href="http://docs.unity3d.com/Documentation/ScriptReference/WWW.html" target="_blank">http://docs.unity3d.com/Documentation/ScriptReference/WWW.html</a>
</p></li></ul></div></div><p>Then, we created the <code class="literal">ParseXMLData()</code> function, which will call the <code class="literal">XMLParser. Parse()</code> function to parse the XML string data that returns from the server, and then, we stored it in the <code class="literal">XMLParser</code> class as the <code class="literal">UserData</code> array. Then, we set the <code class="literal">UserData</code> array to the list of <code class="literal">UserData</code> using <code class="literal">_users.AddRange(XMLParser.users);</code>. At last, we set <code class="literal">_isLoaded</code> to <code class="literal">true</code>, which means that the data has been loaded.</p><p>Next, we created the <code class="literal">LoadUserData()</code> function, which is very similar to the <code class="literal">SaveUserData()</code> function, except that we only send one parameter to PHP, which is the <code class="literal">action</code> field to tell PHP that we want <code class="literal">GetScore</code>. Also, in the <code class="literal">StartCoroutine()</code> function, we put the callback function in the <code class="literal">WaitingForResponse()</code> function, which is <code class="literal">ParseXMLData</code>. This function will be called after the loading is completed.</p><p>Then, we go back to the <code class="literal">UIHiScore</code> script and add the <code class="literal">ServerHiScore</code> object to show the server hi-score data in the UI.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec151"></a>Classified intel</h3></div></div></div><p>In this step, we use <code class="literal">AddField("fieldname", "value");</code> in <code class="literal">WWWForm</code> to add the value and pass it to the server. In this function, <code class="literal">fieldname</code> depends on the PHP script that the programmer has set up.</p><p>We can open the <code class="literal">HiScore.php</code> file in <span class="strong"><strong>Chapter8</strong></span> | <span class="strong"><strong>PHP</strong></span> that is attached with the project package, and then we can take a look at the following line: </p><div class="informalexample"><pre class="programlisting">$action = $_POST[ 'action' ]; //Get request action from Unity </pre></div><p>The word <code class="literal">action</code> is the same keyword that we assigned in the <code class="literal">AddField()</code> function at the beginning of the <code class="literal">SaveUserData()</code> function:</p><div class="informalexample"><pre class="programlisting">_wwwForm.AddField("action", "PostScore"); </pre></div><p>This keyword is the value that we will use to communicate between the Unity script and PHP script on the web server side.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note92"></a>Note</h3><p>In this PHP file, I've set up the database using MySQL. So, if you have your own database set up on MySQL, you can adjust this PHP to point to your database and put the file to your own web hosting.</p></div><p>To create your custom high score database, you can go to the following link<a id="id1274" class="indexterm"></a> to get free MySQL hosting: <a class="ulink" href="http://www.freemysqlhosting.net" target="_blank">http://www.freemysqlhosting.net</a>.</p><p>After you finished registration and got the database name ready, you will see something like the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_08_09.jpg" /></div><p>Now, you can open the <code class="literal">HiScore.php</code> file, and then you can change the first and second lines of this code to match your database information as follows:</p><div class="informalexample"><pre class="programlisting">$link = mysql_connect("your host","your username","your password") or die( mysql_error());
mysql_select_db("your database name") or die(mysql_error());</pre></div><p>The following list explains the variables being used in the preceding code:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>your host:</strong></span> This is the information<a id="id1275" class="indexterm"></a> in the <span class="strong"><strong>Database Host</strong></span> in the preceding screenshot</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>your username</strong></span>: This is the<a id="id1276" class="indexterm"></a> information in the <span class="strong"><strong>Database Username</strong></span> in the preceding screenshot</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>your password</strong></span>: This is<a id="id1277" class="indexterm"></a> the <span class="strong"><strong>Database Password</strong></span>, which will be in your e-mail</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>your database name</strong></span>: This is<a id="id1278" class="indexterm"></a> the information in the <span class="strong"><strong>Database Name</strong></span> in the preceding screenshot</p></li></ul></div><p>Then, you can log in to your database (<a class="ulink" href="http://www.phpmyadmin.co" target="_blank">www.phpmyadmin.co</a>) and click on your database's name at the right-hand side of the web page. Then, you can create the table and name it <code class="literal">scores</code>. Next, you need to put each value as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695589/graphics/5589OT_08_10.jpg" /></div><p>At last, you can put the <code class="literal">HiScore.php</code> file on your web hosting service. Then, you will need to change <code class="literal">phpUrl</code> in the <code class="literal">UIHiscore</code> script to your web hosting.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note93"></a>Note</h3><p>For more information on how to set up MySQL database on your website, you can go to the following link and download the file: <a class="ulink" href="http://www.webwisesage.com/addons/free_ebook.html" target="_blank">http://www.webwisesage.com/addons/free_ebook.html</a>.</p><p>There is also a video tutorial of how to set up the MySQL database, PHP, and Flash by Lee Brimelow; just check out the MySQL and PHP parts. You can find it at the following link: <a class="ulink" href="http://www.gotoandlearn.com/play.php?id=20" target="_blank">http://www.gotoandlearn.com/play.php?id=20</a>.</p></div></div></div>