<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec34"></a>Mission briefing</h2></div></div><hr /></div><p>In this project, we <a id="id574" class="indexterm"></a>will start by setting up the animation clip from the imported FBX model with animation (walk, run, jump, and fall), which is created using other 3D software, such as 3D Studio Max, Maya, Blender3D. Then, we will create <span class="strong"><strong>Animator Controller</strong></span> and set up the Mecanim animation system using the <span class="strong"><strong>Animator</strong></span> view.</p><p>Next, we will add <span class="strong"><strong>Character Controller</strong></span>, instead of the Physics component, <span class="strong"><strong>Rigidbody</strong></span>. <span class="strong"><strong>Character Controller</strong></span> will give us the ability to access collision detection as well as the <code class="literal">Move()</code> function, which is very easy to use.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note46"></a>Note</h3><p>We will use the <code class="literal">Move()</code> function<a id="id575" class="indexterm"></a> to move our character while playing the animation. This function can be accessed from the <code class="literal">CharacterController</code> class when we add the <span class="strong"><strong>Character Controller</strong></span> component to our game object. The <code class="literal">Move()</code> function will return <code class="literal">CollisionFlags bitmask</code>, which will tell us which part of our character hits other collider objects. </p></div><p>Then, we will create the third-person character controller script to control our character's walk, run, and jump by using the <code class="literal">Move()</code> function in the <code class="literal">Character Controller</code> class. In this step, we will also create the <code class="literal">OnAnimatorMove()</code> function<a id="id576" class="indexterm"></a> to tell Mecanim to play the correct animation clip. Next, we will create the camera script to follow our character. We will then attach the script to our character and make it move on the level.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec66"></a>Why is it awesome?</h3></div></div></div><p>After we complete<a id="id577" class="indexterm"></a> this project, we will know how to set up the <a id="id578" class="indexterm"></a>animation clip from an FBX file. We will also be able to set up the rig using the Humanoid animation type for our character as well as set the animation clip to use in our project. We will be able to create a custom controller script to control our character in the 3D world and blend the animation from idle to walk, walk to run and jump, and so on by using a state machine in the Mecanim animation system. We will also learn how to create a third-person camera to follow our character.</p><p>This project will give you an understanding of how to create the third-person character control script and the basic setup of the Mecanim animation system. By the end, you will be able to apply this technique and use it for other characters.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec67"></a>Your Hotshot objectives</h3></div></div></div><p>Unity is already provided <a id="id579" class="indexterm"></a>with a built-in third-person controller script, but it only works on the old legacy animation system. For the new Mecanim, we will need to create a new third-person controller. To do this, we need to perform the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Setting up character animation and level</p></li><li style="list-style-type: disc"><p>Creating an animator controller</p></li><li style="list-style-type: disc"><p>Creating a character control script</p></li><li style="list-style-type: disc"><p>Creating a third-person camera to follow our character</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec68"></a>Mission checklist</h3></div></div></div><p>Before we start, we <a id="id580" class="indexterm"></a>will need to get the project folder and assets from <a class="ulink" href="http://www.packtpub.com/support?nid=8267" target="_blank">http://www.packtpub.com/support?nid=8267</a>, which includes the executed file from <a class="link" href="#" linkend="ch01">Project 1</a>, <span class="emphasis"><em>Develop a Sprite and Platform Game</em></span>, and the assets that we need to use in this project.</p><p>Browse to the preceding URL, download the <code class="literal">Chapter4.zip</code> package, and unzip it. Inside the <code class="literal">Chapter4</code> folder, there are two Unity packages: <code class="literal">Chapter4Package.unitypackage</code> (we will use this package for this project) and <code class="literal">Chapter4Package_Completed.unitypackage</code> (this is the complete chapter package).</p></div></div>