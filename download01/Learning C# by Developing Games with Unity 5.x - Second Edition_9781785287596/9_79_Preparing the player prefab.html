<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec77"></a>Preparing the player prefab</h2></div></div><hr /></div><p>Download the <a id="id285" class="indexterm"></a>
<code class="literal">Player.unitypackage</code> file. Make sure your Unity Project is open first and then double-click on the <code class="literal">Player.unitypackage</code> file:</p><div class="mediaobject"><img src="/graphics/9781785287596/graphics/B04245_09_3.jpg" /></div><p>Unity displays a <a id="id286" class="indexterm"></a>window with the assets we are importing to the project. You might ask yourself a question, "Why do I need all this? This is confusing." Don't worry about it too much now. I have prepared <code class="literal">Player.prefab</code> with some assets for our Jake. In this book, we will learn about programming the game and not about preparing game art. This is the main reason we will work with prepared assets. We will go through every prefab we are importing to understand how things work. However, you will write the code to control this prefab and create the game!</p><p>After pressing <span class="strong"><strong>Import</strong></span>, you will notice a bunch of folders being created in Unity. We should have:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">Animations</code>: This folder contains all Unity animation files</p></li><li style="list-style-type: disc"><p>
<code class="literal">Materials</code>: This is for storing all materials and physics materials</p></li><li style="list-style-type: disc"><p>
<code class="literal">Sprites</code>: This is for <a id="id287" class="indexterm"></a>storing all art sprite assets courtesy of <a class="ulink" href="http://www.kenney.nl/" target="_blank">http://www.kenney.nl/</a>
</p></li></ul></div><p>Unity also imported the <a id="id288" class="indexterm"></a>
<code class="literal">Player.prefab</code> file we will be using in our scene. Have you noticed something wrong with the project structure? We have promised ourselves to never keep any files in the root of the <code class="literal">Assets</code> folder. Let's fix it by creating a <code class="literal">Prefabs</code> folder and then dragging <code class="literal">Player.prefab</code> inside the folder:</p><div class="mediaobject"><img src="/graphics/9781785287596/graphics/B04245_09_4.jpg" /></div><p>Now, we can add <code class="literal">Player.prefab</code> into our scene. It is best if you drag the <code class="literal">prefab</code> file and drop it on the <span class="strong"><strong>Hierarchy</strong></span> view.</p><p>
<span class="strong"><strong>"Hey there, I'm Jake!"</strong></span> Just appeared in the <span class="strong"><strong>Scene</strong></span> view. He is a cool-looking happy alien. However, we don't have any functionality programmed. This is your job. You will make him run, jump, collect stuff, and sadly also die. Excited now? I hope so.</p><div class="mediaobject"><img src="/graphics/9781785287596/graphics/B04245_09_5.jpg" /></div><p>Before we start <a id="id289" class="indexterm"></a>writing the code, we will go though the components attached to the <span class="strong"><strong>Player</strong></span> game object. Select the <span class="strong"><strong>Player</strong></span> game object and look at the <span class="strong"><strong>Inspector</strong></span> tab.</p><p>Let's talk about the components we have attached to our <code class="literal">Player.prefab</code>. I am deliberately skipping the <a id="id290" class="indexterm"></a>
<code class="literal">Transform</code> component, as you are probably aware of its functionality already.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec60"></a>Rigidbody2D</h3></div></div></div><p>Please have a look at the <a id="id291" class="indexterm"></a>Unity manual. According to the documentation, a <a id="id292" class="indexterm"></a>Rigidbody2D component places an object under the control of the physics engine. So simple. We add the <code class="literal">Rigidbody</code> component to every object we want to enable physics behavior on.</p><p>Once you do that, your <code class="literal">GameObject</code> will obtain mass and will be affected by gravity. Press Play in Unity to see what will happen.</p><p>Yes, the poor alien is falling down endlessly. This is correct as we don't have any other <code class="literal">GameObjects</code> (such as ground) that Jake can stand on. We will add it soon.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec61"></a>CircleCollider2D</h3></div></div></div><p>Colliders are necessary for <a id="id293" class="indexterm"></a>physics objects to affect each other through <a id="id294" class="indexterm"></a>collisions and triggers. Select the <span class="strong"><strong>Player</strong></span> game object and zoom in on Jake in the <span class="strong"><strong>Scene</strong></span> view. You will see a green circle. This is our 2D collider. The physics engine won't allow any other colliders to overlap with that circle. This means that, if we have a floor, for example, Jake will stand on it!</p><p>Let's test this.</p><p>Download and import <code class="literal">FloorShort.unitypackage</code>, drag the newly imported prefab to the scene, and place it underneath our character. Press <span class="strong"><strong>Play</strong></span> and you will notice that Jake will drop and stay on the piece of floor we just imported.</p><div class="mediaobject"><img src="/graphics/9781785287596/graphics/B04245_09_6.jpg" /></div><p>Notice when the colliders meet right under his left leg. This is the collision point. Jake seems to be a little bit <a id="id295" class="indexterm"></a>sad at the moment. We will fix it by adding <a id="id296" class="indexterm"></a>some functionality.</p></div></div>