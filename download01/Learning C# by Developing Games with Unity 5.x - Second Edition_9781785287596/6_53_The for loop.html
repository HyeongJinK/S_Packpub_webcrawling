<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec54"></a>The for loop</h2></div></div><hr /></div><p>You have learned about <code class="literal">foreach</code> loops. When iterating through a <code class="literal">foreach</code> loop, we can use a local variable<a id="id196" class="indexterm"></a> directly to access the data we need. In a <code class="literal">for</code> loop, we also create a variable. However it is an integer variable for controlling the execution of the loop <a id="id197" class="indexterm"></a>and accessing the data inside the collection by index.</p><p>There are three fundamental parts of the <code class="literal">for</code> loop. It will look a bit scary to you at the beginning, but try not to run away.</p><div class="mediaobject"><img src="/graphics/9781785287596/graphics/B04245_06_04.jpg" /></div><p>The <code class="literal">for</code> loop's syntax might look overcomplicated, but trust me, it isn't! Let's go through all of its elements one by one.</p><p>The <code class="literal">for</code> loop begins with the <code class="literal">for</code> keyword, followed by brackets. Inside the brackets we must have three fundamental elements separated by semicolons:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Initializer</strong></span>: The initializer is simply a declared variable that is assigned a value. In the preceding <a id="id198" class="indexterm"></a>code, we declared a variable called <code class="literal">i</code> of the <code class="literal">int</code> type and assigned it a value of <code class="literal">0</code>.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Condition</strong></span>: The condition <a id="id199" class="indexterm"></a>must be true for the code block to be executed. In this example, the loop will run through the code block only if the <code class="literal">i</code> variable is less than <code class="literal">10</code>.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Iterator</strong></span>: The<a id="id200" class="indexterm"></a> iterator, <code class="literal">i++</code> in this case, simply adds a value of <code class="literal">1</code> to the mentioned variable every time the loop completes an execution.</p></li></ul></div><p>In simple words, to use<a id="id201" class="indexterm"></a> a <code class="literal">for</code> loop, we need an integer variable to control it. The initializer is the declaration and assignment of that variable. In most cases, you will never have to change it at all and it will always look like this:</p><div class="informalexample"><pre class="programlisting">int i = 0;</pre></div><p>The next step is to describe under what conditions the loop will be running. It is the same type of condition that you might write in any <code class="literal">if</code> statement. If <code class="literal">i</code> is less than <code class="literal">10</code>, this statement is true. If this statement is true, our loop will execute whatever code is inside the code block:</p><div class="informalexample"><pre class="programlisting">i &lt; 10;</pre></div><p>The last part of the <code class="literal">for</code> loop's syntax is simply the addition of <code class="literal">1</code> to the previous value stored in the <code class="literal">i</code> variable. The <code class="literal">i++</code> might look rather scary, but it's simply a more elegant version of this statement: <code class="literal">i = i+1;</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note26"></a>Note</h3><p>The <code class="literal">++</code> operator increments the value by <code class="literal">1</code>.</p></div><p>I have introduced lots of technical words here. Try not to panic. Remember that we want to take baby steps, as we need to make sure you fully understand <code class="literal">for</code> loops. I will show it in an example. Let's now <a id="id202" class="indexterm"></a>write some proper code using a <code class="literal">for</code> loop.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec47"></a>An example</h3></div></div></div><p>Yet again, we are<a id="id203" class="indexterm"></a> using the previous <code class="literal">familyMember</code> example. Create a new C# script and write the following code:</p><div class="mediaobject"><img src="/graphics/9781785287596/graphics/B04245_06_05.jpg" /></div><p>We have analyzed most of this code before. Let's focus on lines <span class="strong"><strong>20</strong></span> to <span class="strong"><strong>24</strong></span>. What we are trying to do in this example is iterate through all the elements inside the <code class="literal">familyMembers</code> list and print their values to the Unity Console. You will probably ask, "Why do I even have to learn this? I could have used a <code class="literal">foreach</code> loop." Correct! A <code class="literal">foreach</code> loop is a definitely good approach to this task. However, there will be cases when you need to know at what index position in the array a certain element is stored. That is when you will use a <code class="literal">for</code> loop instead of <code class="literal">foreach</code>. Trust me, it's worth it!</p><p>Line <span class="strong"><strong>20</strong></span> constructs our <code class="literal">for</code> loop. As I promised before, in most cases there is no need to edit the initializer at all.</p><p>Take a look at this condition:</p><div class="informalexample"><pre class="programlisting">i &lt; familyMembers.Count;</pre></div><p>Previously, we used a value of <code class="literal">10</code> directly in the condition. In the current example, we want to iterate through all the elements in the array. We don't always know the size of our array, so the safest option is to access its size directly. If you are still confused, please go back to the previous chapter where we spoke about checking out the size of an array and List&lt;T&gt;.</p><p>Before you test the<a id="id204" class="indexterm"></a> code in Unity, try to imagine what actually happens when you click on the <span class="strong"><strong>Play</strong></span> button.</p><p>Unity executes the <code class="literal">Start()</code> function. Lines <span class="strong"><strong>14</strong></span> to <span class="strong"><strong>17</strong></span> add four string values to the <code class="literal">familyMembers</code> list.</p><p>Unity starts executing the loop from line <span class="strong"><strong>20</strong></span>. It creates the <code class="literal">i</code> variable with a value of <code class="literal">0</code>. Then it checks the condition. As <code class="literal">0</code> is smaller than the size of the list, the code block is executed with a value of <code class="literal">0</code> for <code class="literal">i</code>.</p><p>Line <span class="strong"><strong>23</strong></span> accesses the value in the first place in the <code class="literal">familyMembers</code> list as the value of <code class="literal">i</code> is <code class="literal">0</code>. Unity prints the <code class="literal">"Greg"</code> string.</p><p>Unity hits the end of the loop block and goes back to line <span class="strong"><strong>20</strong></span> to check whether the loop should run through again.</p><p>But first, <code class="literal">i++</code> increments the value of <code class="literal">i</code> by <code class="literal">1</code>. So <code class="literal">0 + 1 = 1</code>. The <code class="literal">i</code> variable is now equal to <code class="literal">1</code>. Unity checks the condition again and runs through the loop block again.</p><p>These steps will keep occurring until the <code class="literal">i &lt; familyMembers.Count;</code> condition becomes <code class="literal">false</code>. This condition will be <code class="literal">false</code> simply when <code class="literal">i</code> becomes equal to <code class="literal">4</code>. Then, Unity won't execute the code block anymore but will proceed with the normal execution order outside the loop.</p><p>Go ahead now. Press <span class="strong"><strong>Play</strong></span> in Unity. You <a id="id205" class="indexterm"></a>should see four names being printed to the console one by one.</p></div></div>