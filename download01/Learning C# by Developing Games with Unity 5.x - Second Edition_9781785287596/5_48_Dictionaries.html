<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec50"></a>Dictionaries</h2></div></div><hr /></div><p>When we talk about <a id="id184" class="indexterm"></a>collection data, we need to mention Dictionaries. Dictionary is similar to a List. However, instead of accessing a certain element by index value, we use a string called Key.</p><p>The Dictionary that you will probably be using most often is called <code class="literal">Hashtable</code>. Feel free to dive into the C# documentation after reading this chapter to discover all the bits of this powerful class.</p><p>Here are a few key properties of <code class="literal">Hashtable</code>:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">Hashtable</code> can be resized dynamically like List&lt;T&gt; and <code class="literal">ArrayList</code>
</p></li><li style="list-style-type: disc"><p>
<code class="literal">Hashtable</code> can store multiple data types at the same type, like <code class="literal">ArrayList</code>
</p></li><li style="list-style-type: disc"><p>A public member <code class="literal">Hashtable</code> isn't visible in the Unity <span class="strong"><strong>Inspector</strong></span> panel due to default inspector limitations</p></li></ul></div><p>I want to make sure that you won't feel confused, so I will go straight to a simple example:</p><div class="mediaobject"><img src="/graphics/9781785287596/graphics/B04245_05_06.jpg" /></div><p>Adding elements into <code class="literal">hashtable</code> must contain a string with the key. The key is necessary for retrieving a specific value. We have mentioned this before but I want to highlight the main difference between <code class="literal">ArrayList</code> and <code class="literal">Hashtable</code>. In <code class="literal">ArrayList</code>, data is stored under the index integer number value. In <code class="literal">Hashtable</code>, however, we store a value under the string key.</p><p>The <code class="literal">Add</code> function<a id="id185" class="indexterm"></a> of <code class="literal">Hashtable</code> is taking two parameters here. Take a look at line <span class="strong"><strong>11</strong></span>. This line adds the value <code class="literal">"Greg"</code> under the <code class="literal">"firstName"</code> key. Simple, right? If you are <a id="id186" class="indexterm"></a>confused, all you need to remember now is that when you want to add a value to <code class="literal">Hashtable</code>, you start with the <code class="literal">Hashtable</code> type variable name, followed by a dot and <code class="literal">Add</code>. Then, in the brackets, you enter the string key followed by a comma and any type of data key.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec45"></a>Accessing values</h3></div></div></div><p>To access a<a id="id187" class="indexterm"></a> specific key in the <code class="literal">Hashtable</code>, you must know the string key the value is stored under. Remember, the key is the first value in the brackets when adding an element to <code class="literal">Hashtable</code>. Ideally, you should also know the type of data you are trying to access. In most cases, that would not be an issue. Take a look at this line. Try to stay calm and do not panic!</p><div class="informalexample"><pre class="programlisting">Debug.Log((string)personalDetails["firstName"]);</pre></div><p>Similar to <code class="literal">ArrayList</code>, we can store mixed-type data in <code class="literal">Hashtable</code>. Unity requires the developer to specify how an accessed element should be treated. To do this, we need to cast the element into a specific data type. The syntax is very simple. There are brackets with the data type inside, followed by the <code class="literal">Hashtable</code> variable name. Then, in square brackets, we have to enter the key string the value is stored under. Ufff, confusing!</p><p>As you can see in the preceding line, we are casting to string (inside brackets). If we were to access another type of data, for example, an integer number, the syntax would look like this:</p><div class="informalexample"><pre class="programlisting">(int)personalDetails["age"];</pre></div><p>I hope that this<a id="id188" class="indexterm"></a> is clear now. If it isn't, why not search for more examples on the Unity forums?</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch05lvl2sec46"></a>How do I know what's inside my Hashtable?</h3></div></div></div><p>
<code class="literal">Hashtable</code>, by default, isn't <a id="id189" class="indexterm"></a>displayed in the Unity <span class="strong"><strong>Inspector</strong></span> panel. You cannot simply look at the <span class="strong"><strong>Inspector</strong></span> tab and preview all keys and values in your public member <code class="literal">Hashtable</code>.</p><p>We can do this in code, however. You know how to access a value and cast it. What if you are trying to access the value under a key that isn't stored in the <code class="literal">Hashtable</code>? Unity will spit out a null reference error and your program is likely to crash.</p><p>To check whether an element exists in the <code class="literal">Hashtable</code>, we can use the <code class="literal">.Contains(object)</code> method, passing the key parameter:</p><div class="mediaobject"><img src="/graphics/9781785287596/graphics/B04245_05_07.jpg" /></div></div></div>