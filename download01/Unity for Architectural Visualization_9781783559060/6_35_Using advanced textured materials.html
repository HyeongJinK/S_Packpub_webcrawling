<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec36"></a>Using advanced textured materials</h2></div></div><hr /></div><p>While you can go <a id="id348" class="indexterm"></a>pretty far using the Unity shading language, <a id="id349" class="indexterm"></a>we will focus on the use of image-based texture maps mostly in architectural visualization. We illustrate this with textures from the Arroway website (<a class="ulink" href="http://www.arroway-textures.com/catalog" target="_blank">http://www.arroway-textures.com/catalog</a>), which are provided commercially in high resolution or can be freely<a id="id350" class="indexterm"></a> downloaded in low resolution, under a Creative-Commons license (CC-BY, so attribution is required if you apply them in your projects).</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Go to <a id="id351" class="indexterm"></a>the Arroway website and browse to a texture that you like. We opt for <span class="strong"><strong>bricks 002</strong></span>, which gives a nice weathered brick pattern. You get a preview of how the texture looks when applied to an example.</p></li><li><p>Note the hints that are provided here: real world size is <span class="strong"><strong>6m x 3.4m</strong></span> and the texture is seamless only in the horizontal direction, so you should not repeat it in the upper direction. Download the RAR archive and unpack it. It contains three files: <code class="literal">bricks-002_b030.jpg</code> is <span class="strong"><strong>bump map</strong></span>, hinted at <span class="strong"><strong>30%</strong></span> intensity, <code class="literal">bricks-002_d100.jpg</code> is <span class="strong"><strong>diffuse map</strong></span>, to be used at <span class="strong"><strong>100%</strong></span> intensity, and <code class="literal">bricks-002_s100-g100.jpg</code> can be used as specular and/or gloss map, depending on the software you use. While the image is only 864 by 463 pixels in size, this is still a fairly usable resolution for renderings and more than enough for a real time model:</p><div class="mediaobject"><img src="/graphics/9781783559060/graphics/7500EN_06_05.jpg" /></div></li><li><p>To try it out, create a cube in Unity with scale <span class="strong"><strong>X=6</strong></span>, <span class="strong"><strong>Y=3.4</strong></span>, <span class="strong"><strong>Z=0.2</strong></span> and position <span class="strong"><strong>Y=1.7</strong></span> to place it just on top of the ground floor.</p></li><li><p>Create a new material and name it <code class="literal">bricks-002</code>. Instead of the default diffuse shader, switch to a <span class="strong"><strong>Bumped Diffuse</strong></span> or a <span class="strong"><strong>Bumped Specular shader</strong></span>.</p></li><li><p>Now you can drag the diffuse map (<code class="literal">bricks-002_d100</code>) to the <span class="strong"><strong>Base (RGB) Gloss (A)</strong></span> texture slot. The RGB color channels are used as the main color.</p></li><li><p>You need an alpha channel to be able to change the glossiness. You currently don't have one, as this is not supported with <code class="literal">JPEG</code> files. You can use Photoshop <a id="id352" class="indexterm"></a>to create a new <code class="literal">PSD</code> file using <a id="id353" class="indexterm"></a>the diffuse map as RGB channels and the specular map (<code class="literal">bricks-002_s100-g100</code>) as the alpha channel.</p></li><li><p>As a quick alternative, you can select the diffuse map in Unity and check the <span class="strong"><strong>Alpha from Grayscale</strong></span> option in the <span class="strong"><strong>Inspector</strong></span> window, which at least does something that is a bit similar to a real gloss map. Be aware that the specular maps are created for this exact purpose, so they provide better results.</p></li><li><p>Drag the bump map (<code class="literal">bricks-002_b030</code>) to the <span class="strong"><strong>Normalmap</strong></span> slot and don't forget to turn it into a real normal map by clicking on <span class="strong"><strong>Fix now</strong></span>.</p></li><li><p>Select the bump map and adjust its settings in the Inspector window as shown in the following screenshot. Set <span class="strong"><strong>Bumpiness</strong></span> to a fairly low value (<span class="strong"><strong>0.04</strong></span> or so), and <span class="strong"><strong>Filtering</strong></span> to <span class="strong"><strong>Smooth</strong></span>, or else the effect will be too exaggerated and quite ugly.</p><div class="mediaobject"><img src="/graphics/9781783559060/graphics/7500EN_06_06.jpg" /></div></li></ol></div><p>If you need to integrate this with your CAD or BIM system, it is best to configure the textures directly inside your master model by performing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Edit one of the applied materials to use the downloaded diffuse texture map and set the correct real world scaling as noted previously. This ensures that the exported model has proper texture positioning, so we can replace them with more advanced textures in Unity.</p></li><li><p>Load the <a id="id354" class="indexterm"></a>project in Unity and look for<a id="id355" class="indexterm"></a> the generated material. It will already have the basic diffuse shader, although sometimes you need to manually add the texture map again.</p></li><li><p>Now you can switch to a more advanced shader and assign a normal map and optionally a specular or gloss map. Since this material definition is shared between objects, it gets replaced in the whole project at once.</p></li></ol></div></div>