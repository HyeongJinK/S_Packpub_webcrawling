<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec27"></a>Adding a live minimap</h2></div></div><hr /></div><p>Many shooting games provide a radar-view on screen. This is an overview of the map, usually with some <a id="id238" class="indexterm"></a>indication of enemies or targets. In an architectural context, you can add a minimap. This is a separate camera-view, in overlay on top of the regular view. You can either have a single broad view showing the whole scene or a smaller section, following the main navigation. While not immediately obvious, you can have multiple cameras at the same time. Each camera takes a part of the screen. The default camera uses the full screen. We will now show you how to add a second camera, that floats in front of the rest of the scene:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new camera (<span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Other</strong></span> | <span class="strong"><strong>Camera</strong></span>).</p></li><li><p>Set its <span class="strong"><strong>Camera</strong></span> component to display an <span class="strong"><strong>Orthographic</strong></span> projection rather than <span class="strong"><strong>Perspective</strong></span>, which makes sense for a top view. This removes any perspective view distortion.</p></li><li><p>To look from above, set the <span class="strong"><strong>Transform</strong></span> component <span class="strong"><strong>Position</strong></span> to, for example, <span class="strong"><strong>X</strong></span> = <code class="literal">0.0</code>, <span class="strong"><strong>Y</strong></span> = <code class="literal">5.0</code>, and <span class="strong"><strong>Z</strong></span> = <code class="literal">0.0</code>. By setting the <span class="strong"><strong>Rotation</strong></span> <span class="strong"><strong>X</strong></span> = <code class="literal">9 0</code>, you look downward.</p></li><li><p>The <span class="strong"><strong>Normalized View Port Rect</strong></span> section is where you set the display size on screen, expressed as numbers between <code class="literal">0</code> and <code class="literal">1</code>, indicating a percentage of the screen size (which is equal to the logical coordinates). In the example, we used <span class="strong"><strong>X</strong></span> = <code class="literal">0.78</code> and <span class="strong"><strong>Y</strong></span> = <code class="literal">0.75</code> to define the upper left corner of the view and <span class="strong"><strong>W</strong></span> = <code class="literal">0.2</code> and <span class="strong"><strong>H</strong></span> = <code class="literal">0.2</code> to define width and height respectively.</p></li><li><p>Optionally remove all other components (<span class="strong"><strong>GUILayer</strong></span>, <span class="strong"><strong>Flare Layer</strong></span>, and <span class="strong"><strong>Audio Listener</strong></span>) as we are not using them here.</p></li><li><p>Set the <span class="strong"><strong>Clear Flags</strong></span> field of the <span class="strong"><strong>Camera</strong></span> component to <span class="strong"><strong>Depth only</strong></span>. This ensures that everything that isn't seen by the camera stays transparent. Otherwise, you'd see the background color on that camera.</p></li><li><p>Be sure to set the <span class="strong"><strong>Depth</strong></span> higher than the <span class="strong"><strong>Depth</strong></span> of the <span class="strong"><strong>Main Camera</strong></span> component. This forces the view from this camera to be shown on top of the other one, which is set to <code class="literal">0</code> by default.</p><div class="mediaobject"><img src="/graphics/9781783559060/graphics/7500EN_04_09.jpg" /></div></li></ol></div><p>An alternative setup, that makes sense when using a <span class="strong"><strong>Third Person Controller</strong></span>, is an isometric view <a id="id239" class="indexterm"></a>that follows the main character, looking from above. The movement can be scripted or you can simply place the minimap camera as a child of the character.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec23"></a>Switching between cameras?</h3></div></div></div><p>However, while the<a id="id240" class="indexterm"></a> setup of the different cameras can be done with <a id="id241" class="indexterm"></a>default Unity functions, you need a script to control switching. In its simplest form, enable/disable cameras or change their <span class="strong"><strong>Depth</strong></span> value. A smoother approach is using an in-between camera that interpolates between positions. We will revise this idea in <a class="link" href="#" linkend="ch07">Chapter 7</a>, <span class="emphasis"><em>Full Control with Scripting</em></span>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec24"></a>Setting up a turntable camera animation</h3></div></div></div><p>As an example of a <a id="id242" class="indexterm"></a>custom animation, we can use the same <a id="id243" class="indexterm"></a>setup as shown for the Sun Study in <a class="link" href="#" linkend="ch03">Chapter 3</a>, <span class="emphasis"><em>Let There be Light</em></span>. To pivot a camera around the project—turntable style—you don't need scripting. Make an empty <span class="strong"><strong>GameObject</strong></span>, add the <span class="strong"><strong>Camera</strong></span> as a child, move it to the desired XYZ position and create an <span class="strong"><strong>Animation Clip</strong></span> in which you animate the <span class="strong"><strong>Y</strong></span>-rotation linearly from <span class="strong"><strong>0</strong></span> to <span class="strong"><strong>360</strong></span> degrees.</p></div></div>