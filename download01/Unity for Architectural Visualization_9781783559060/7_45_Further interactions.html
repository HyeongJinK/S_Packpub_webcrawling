<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec45"></a>Further interactions</h2></div></div><hr /></div><p>We finish this chapter with some more useful techniques.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec44"></a>Resetting the player</h3></div></div></div><p>What if, at one point, the user reaches the edge of the terrain or world you created and falls off? Instead of <a id="id442" class="indexterm"></a>expecting the user to quit and restart, you should solve the problem elegantly. We place a large, invisible plane underneath our world, as a trigger to reset the player.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Add a <span class="strong"><strong>Plane</strong></span> GameObject and set its <code class="literal">Mesh Collider</code> to <span class="strong"><strong>Is Trigger</strong></span>. Make it large enough to extend to all sides of the scene and move it down underneath all other <a id="id443" class="indexterm"></a>objects, as in the setup in the next screenshot.</p></li><li><p>Disable its <span class="strong"><strong>Mesh Renderer</strong></span>, to make it invisible.</p><div class="mediaobject"><img src="/graphics/9781783559060/graphics/7500_07_09.jpg" /></div></li><li><p>Create a new C# script called <code class="literal">resetPlayer</code> and add the following code. It takes three private variables: one for the player's position (<code class="literal">pos</code>), one for its rotation (<code class="literal">rot</code>), and then the actual reference to the player (<code class="literal">thePlayer</code>). This is shown in the following code:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;
public class resetPlayer : MonoBehaviour {
  private Vector3 pos;
  private Quaternion rot;
  private GameObject thePlayer;</pre></div></li><li><p>There is no need to set up anything when using this script, as we store the player's position and rotation directly at the start. We use the <code class="literal">GameObject.FindWithTag()</code> function. Just ensure the script is attached to an object with its <code class="literal">Collider</code> set as <span class="strong"><strong>Is Trigger</strong></span>. This can be seen in the following code:</p><div class="informalexample"><pre class="programlisting">  // Use this for initialization
  void Start () {
    thePlayer = GameObject.FindWithTag("Player");
    <span class="strong"><strong>pos = thePlayer.transform.position;</strong></span>
<span class="strong"><strong>    rot = thePlayer.transform.rotation;</strong></span>
  }</pre></div></li></ol></div><p>Here we check that the trigger only reacts to the Player. When hitting the trigger, we reset its position and rotation to the previously stored values <code class="literal">pos</code> and <code class="literal">rot</code>.</p><div class="informalexample"><pre class="programlisting">  void OnTriggerEnter (Collider other) {
    if (other.gameObject.CompareTag("Player")) {
      <span class="strong"><strong>thePlayer.transform.position = pos;</strong></span>
<span class="strong"><strong>      thePlayer.transform.rotation = rot;</strong></span>
    }
  }
}</pre></div><p>If your <a id="id444" class="indexterm"></a>player is the 3 PC with a camera that smoothly follows along, you also get an animated camera transition with it.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec45"></a>Loading another level</h3></div></div></div><p>Inside Unity, levels<a id="id445" class="indexterm"></a> are organized across Scenes. You can use scenes as menus or as full levels. Before we can switch between Scenes, however, it is important to ensure they are added to the <span class="strong"><strong>Build Settings</strong></span> by navigating to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Build Settings</strong></span>. Here you can add all scenes you want to be included in your final application and you can also switch between the supported platforms, depending on your license.</p><div class="mediaobject"><img src="/graphics/9781783559060/graphics/7500_07_10.jpg" /></div><p>The next fragment loads a level using a <code class="literal">string</code>, but you could use an integer as well.</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;
public class loadLevel : MonoBehaviour {
  public string Level;
  void OnTriggerEnter (Collider other) {
    if (other.gameObject.CompareTag("Player")) {
<span class="strong"><strong>      Application.LoadLevel(Level);</strong></span>
    }
  }
}</pre></div><p>When <a id="id446" class="indexterm"></a>you need to reload the current level, pass the name or index of the current level:</p><div class="informalexample"><pre class="programlisting">Application.LoadLevel(Application.loadedLevel);</pre></div></div></div>