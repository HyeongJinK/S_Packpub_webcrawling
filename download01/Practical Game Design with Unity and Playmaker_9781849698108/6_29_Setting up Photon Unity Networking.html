<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec31"></a>Setting up Photon Unity Networking</h2></div></div><hr /></div><p>Photon Unity Networking<a id="id155" class="indexterm"></a> is a free Unity plugin with an optional paid subscription that allows you to outsource most of the heavy lifting for building multiplayer games. The free version has full functionality but is limited by the number of players that can be online at the same time. This is not a problem, because all you need for <a id="id156" class="indexterm"></a>testing is to be able to connect as many players as your game requires for being playable (so two for air hockey).</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>First of all, we will need to set up PUN. In the main menu, navigate to <span class="strong"><strong>PlayMaker</strong></span> | <span class="strong"><strong>Addons</strong></span> | <span class="strong"><strong>Photon Networking</strong></span> | <span class="strong"><strong>Set up Photon Networking</strong></span>. This should open the <span class="strong"><strong>Photon Setup Wizard</strong></span> window. Click on the orange <span class="strong"><strong>Setup</strong></span> button.</p></li><li><p>If this is the first time you are using Photon, you are going to need an account, so enter your e-mail in the appropriate field and click on the <span class="strong"><strong>Send</strong></span> button.</p></li><li><p>After that you can finish the registration process by clicking on the link that you will have received by e-mail. Sign in to your account on <a class="ulink" href="http://cloud.exitgames.com/" target="_blank">http://cloud.exitgames.com/</a>, click on the <span class="strong"><strong>New App</strong></span> button on your account page, enter the game's name and description, and then click on <span class="strong"><strong>Create</strong></span>. You should be <a id="id157" class="indexterm"></a>redirected back to your account page. In the <span class="strong"><strong>Details</strong></span> section, copy the code under <span class="strong"><strong>AppID</strong></span> and go back to Unity.</p></li><li><p>In the <span class="strong"><strong>Photon Setup Wizard</strong></span>, click on the <span class="strong"><strong>Setup</strong></span> button, paste your AppID into the <span class="strong"><strong>Your AppId</strong></span> text field, and choose your region by pressing one of the <span class="strong"><strong>Cloud Region</strong></span> buttons. Make sure you choose the region that is closer to you geographically as this will affect the connection speed of your game's multiplayer.</p></li><li><p>Once you have pasted the AppID and chosen the region, click on the <span class="strong"><strong>Save</strong></span> button below. A window should pop up saying that your settings have been saved. Click on <span class="strong"><strong>OK</strong></span>. The following screenshot shows what the setup window is supposed to look like once you do:</p><div class="mediaobject"><img src="/graphics/9781849698108/graphics/8108OT_06_01.jpg" /></div></li><li><p>Make sure that the green label saying <span class="strong"><strong>Photon server is set up properly</strong></span> appears near the top of the window. Press the <span class="strong"><strong>Main Menu</strong></span> button right below it. It should take you back to the first screen of <span class="strong"><strong>Photon Setup Wizard</strong></span>.</p></li><li><p>Make a copy of your main game scene and call it <code class="literal">Multiplayer</code>, load it by double-clicking it in the <span class="strong"><strong>Project</strong></span> panel, and then go back to <span class="strong"><strong>Photon Setup Wizard</strong></span> window and click on <span class="strong"><strong>Add Photon System to the scene</strong></span>. The button should disappear, and you should see the second green label saying <span class="strong"><strong>The scene is set up properly</strong></span>.</p></li><li><p>At this point Photon <a id="id158" class="indexterm"></a>Cloud is set up, and you can feel free to close the wizard window. Save the <span class="strong"><strong>Multiplayer</strong></span> scene, making sure that the <span class="strong"><strong>PlayMaker Photon Proxy</strong></span> game object was added to <span class="strong"><strong>Hierarchy</strong></span>.</p></li></ol></div><p>You can modify the settings any time you want. You can also change your AppID if you choose to do so.</p><p>Now that we have added Photon to the project and made a scene dedicated to multiplayer, it is time to synchronize objects over the network and set up matchmaking.</p></div>