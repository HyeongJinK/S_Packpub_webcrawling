<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec52"></a>Removing In-App Purchases</h2></div></div><hr /></div><p>The Ouya SDK makes In-App Purchase relatively simple; it integrates nicely with Unity out of the box. Android, on the other hand, can be a pain to integrate with In-App Purchase<a id="id300" class="indexterm"></a> inside Unity unless you use a plugin from the <a id="id301" class="indexterm"></a>
<span class="strong"><strong>Asset Store</strong></span>. For this reason, we'll be modifying our Android game to not use In-App Purchase and instead make it work like a full game purchased from one of the many Android app stores.</p><p>As we already have the code for giving the player all the levels when we have purchased the game on the Ouya, the simplest way to remove the In-App Purchase requirement would be to set the <code class="literal">purchased</code> int in <code class="literal">PlayerPrefs</code> when the game starts.</p><p>Double-click on your <code class="literal">Sokoban</code> script, as we're going to modify our <code class="literal">Awake</code> method. Add the following<a id="id302" class="indexterm"></a> code to the top of it:</p><div class="informalexample"><pre class="programlisting">#if UNITY_ANDROID
if (OuyaSDK.IsOUYA () == false){
  PlayerPrefs.SetInt("purchased", 1);
}
#endif</pre></div><p>The preceding code is checking if we are on Android but not on Ouya, and if that condition <a id="id303" class="indexterm"></a>is met then we set the <code class="literal">purchased</code> int to <code class="literal">1</code>. We've already tested the code when the game was purchased, so we know this code will work too.</p></div>