<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec55"></a>Exploring the planet</h2></div></div><hr /></div><p>Now that we have generated a <a id="id416" class="indexterm"></a>planet, it would be awesome if we could explore the surface of it. As a fun bonus, we will add a first-person-view controller, so we can explore our planets. Fortunately for us, someone has already tackled the problem of spherical gravity in Unity, so all we will have to do is plug and play.</p><p>You can get the script for this <a id="id417" class="indexterm"></a>section either from the example files or from its source at <a class="ulink" href="https://github.com/SebLague/Spherical-Gravity" target="_blank">https://github.com/SebLague/Spherical-Gravity</a> by SebLague. There is also a video at that location where you can see how the scripts work. The scripts that are included are the <code class="literal">FirstPersonController.cs</code>, <code class="literal">GravityAttractor.cs</code>, and <code class="literal">GravityBody.cs</code>.</p><p>You are welcome to view the video to get an explanation on the code in these scripts. We are just going to plug them in and use them as they are, though. You'll want to add the <code class="literal">GravityAttractor</code> script to the <code class="literal">Water</code> object. Set a tag for the <code class="literal">Water</code> sphere to <code class="literal">Planet</code>. Then, create a capsule for our first person controller by navigating to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>3D Object</strong></span> | <span class="strong"><strong>Capsule</strong></span> from the top menu and naming it <code class="literal">Player</code>.</p><p>Place the main camera as a child of the <code class="literal">Player</code> object. You'll want to have the camera project from the upper portion of the capsule, where eyes might be. For this example, scaling the player to 0.055 worked well. Also, set the main camera's <span class="strong"><strong>Field of View</strong></span> to <code class="literal">32</code> and the <span class="strong"><strong>Clipping Planes to Near</strong></span>: <code class="literal">0.01</code> and <span class="strong"><strong>Far</strong></span>: <code class="literal">7.54</code>. This should work well for the size of the sphere we are using.</p><div class="mediaobject"><img src="/graphics/9781785287473/graphics/B04808_09_08.jpg" /><div class="caption"><p>The first-person camera placement</p></div></div><p>Add the <span class="strong"><strong>GravityBody</strong></span> and <span class="strong"><strong>FirstPersonController</strong></span> to the player. For the <span class="strong"><strong>FirstPersonController</strong></span>, setting the <span class="strong"><strong>Mouse Sensitivity X &amp; Y</strong></span> to <code class="literal">1</code> and the <span class="strong"><strong>Walk Speed</strong></span> to <code class="literal">0.5</code> worked well. Be sure<a id="id418" class="indexterm"></a> to place the player outside the generated radius of the planet; otherwise, it won't read the collider meshes correctly. Then, play the scene and explore your planet.</p><div class="mediaobject"><img src="/graphics/9781785287473/graphics/B04808_09_09.jpg" /><div class="caption"><p>The first-person view of the planet</p></div></div><p>You'll be able to see through the sky as it is transparent. You can also slightly see through the water areas. There<a id="id419" class="indexterm"></a> is no collider on the water mesh so you can walk through those areas. In some cases, you will go under the water mesh, and since the material doesn't render on the back side of the mesh, it will appear as though it isn't there.</p></div>