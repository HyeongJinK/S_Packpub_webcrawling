<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec15"></a>Sprite system</h2></div></div><hr /></div><p>It's hard to get excited about a game project until the visual elements are in the scene. We will discuss how to bring our character in the game shortly, but first let's go over how to actually use Sprites in Unity. A brief overview of working with Sprites is given in the previous chapter, but now we will get more technical.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec17"></a>Importing sprites</h3></div></div></div><p>The simplest way to import a sprite into a scene is to simply drag it from your File Explorer (Windows) or Finder (Mac OS X) into Unity's <span class="strong"><strong>Project</strong></span> Window. Once the image file is brought into the project, clicking on the image will show its various import settings in the image's <span class="strong"><strong>Inspector</strong></span>, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_019.jpg" /><div class="caption"><p>Image Inspector on Project window</p></div></div><p>
</p><p>Let's take a closer view at the various import settings of an image brought into a 2D project and discuss each of the properties. Here, I will discuss each setting presented in the following screenshot; however, I will discuss the <span class="strong"><strong>Sprite Editor</strong></span> button a later section:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_020.jpg" /></div><p>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note14"></a>Note</h3><p>If you make any changes to the following settings, you must hit <span class="strong"><strong>Apply</strong></span> for the changes to be saved.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec5"></a>Texture Type - Sprite (2D and UI)</h4></div></div></div><p>When a Unity project is in 2D Mode, all new images imported into the project are automatically configured as <span class="strong"><strong>Sprite (2D and UI)</strong></span> instead of <span class="strong"><strong>Texture</strong></span>, as they would be if the project were set to 3D Mode.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note15"></a>Note</h3><p>The following settings would not appear if the <span class="strong"><strong>Texture Type</strong></span> were changed to something other than <span class="strong"><strong>Sprite (2D and UI)</strong></span>.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec6"></a>Sprite Mode - Single/Multiple/Polygon</h4></div></div></div><p>You will leave the <span class="strong"><strong>Sprite Mode</strong></span> set to <span class="strong"><strong>Single</strong></span> if your image contains only a single Sprite and you wish for it to remain on a rectangular plane while being used within your game. If you are importing a sprite sheet or texture atlas (refer to the previous chapter), you will set the <span class="strong"><strong>Sprite Mode</strong></span> to <span class="strong"><strong>Multiple</strong></span>. If you have a single Sprite that you want to be bound by a polygon, rather than the standard rectangle, you will select <span class="strong"><strong>Polygon</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note16"></a>Note</h3><p>Polygon Sprite Mode will not be discussed further in this text, but its features follow easily from those that are discussed.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec7"></a>Packing Tag</h4></div></div></div><p>This is a customizable option that lets you set groups to pack sprites into texture atlases. By putting a name in the <span class="strong"><strong>Packing Tag</strong></span>, it tells Unity to group all the objects with the same tag under a separate texture atlas/sheet together, thereby overriding the default behavior of placing all the assets on the same atlas. Any assets without a tag will be grouped onto the default atlas.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec8"></a>Pixels Per Units</h4></div></div></div><p>This option is just a setting that allows you to scale the image asset at import time, the default being 100 pixels per unit (or scaled up to 100 percent).</p><p>This setting is important because it sets the relative scale of the assets you will import to your defined game units. Your base game unit guides you on how all the assets will scale appropriately to each other and, more importantly, to the camera.</p><p>You can manage the game scale through this setting or you can handle this scale through the original texture's sizes; the choice is up to you.</p><p>This is particularly helpful with puzzle games. You can use the <span class="strong"><strong>Pixels Per Unit</strong></span> setting to make a single <span class="emphasis"><em>block</em></span> in your puzzle game count as a unit, thus making your coordinate system easier to deal with.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec9"></a>Pivot</h4></div></div></div><p>The pivot point of a sprite determines from where its position will registered. So, if the pivot point is set to <span class="strong"><strong>Center</strong></span>, when a Sprite is positioned to specific coordinate in the scene, the center of the sprite will be positioned at that point. The pivot point also determines the point around which the sprite will be rotated. More options for pivot are available in the Sprite Editor.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec10"></a>Generate Mip Maps</h4></div></div></div><p>A <span class="strong"><strong>Mip Map</strong></span> is a smaller version of a texture. Essentially, when <span class="strong"><strong>Generate Mip Maps </strong></span>is selected, an object that is further away from the camera will use a smaller version of the texture. This feature does not change the texture on objects created within the UI.</p><p>If you are making a 2D game that is orthographic in view (objects far away from the camera appear the same size as when they are close to the camera), you may want to deselect this option. If you want to have objects in your scene that are further away from the camera appear smaller and will be using a perspective camera, you may want to select this option for performance optimization.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec11"></a>Filter Mode</h4></div></div></div><p>Similar to the <span class="strong"><strong>Generate Mip Maps</strong></span> option, the <span class="strong"><strong>Filter Mode</strong></span> will come into play when you are working with a perspective camera and plan on manipulating your objects in 3D space. <span class="strong"><strong>Billinear</strong></span> and <span class="strong"><strong>Trilinear</strong></span> blur the texture as it gets closer to the camera where <span class="strong"><strong>Point (no filter)</strong></span> will make it blocky.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec12"></a>Default settings and per-platform overrides</h4></div></div></div><p>The <span class="strong"><strong>Max Size</strong></span> of your texture can be set under the default settings. When an image is initially imported, it is set to 2,048 pixels by 2,048 pixels, as shown in the following screenshot. However, you can change it to any power of two from 32 to 8,192.</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_021.jpg" /></div><p>
</p><p>When you are developing for different platforms, you may need to consider the resolution size of your textures as each platform has different limitations.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note17"></a>Note</h3><p>You will get a warning if your image is not using a power of two size texture. This is not critical as Unity will still make best efforts to compress the image:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_022.jpg" /></div><p>
</p><p>You can find more information about per-platform overrides at:Â <a class="ulink" href="http://docs.unity3d.com/Manual/class-TextureImporter.html" target="_blank">http://docs.unity3d.com/Manual/class-TextureImporter.html</a>.</p></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec18"></a>Sprite Editor</h3></div></div></div><p>The main thing you will likely use the <span class="strong"><strong>Sprite Editor</strong></span> for is identifying the regions of your sprite sheets and texture atlases that represent single sprites. It also allows you to adjust the pivot point of a single sprite (or multiple sprites) and place it in a location not available in the <span class="strong"><strong>Pivot Point</strong></span> drop-down menu. It comes with several simple yet powerful features to control how the individual sprites will be imported, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_023.jpg" /><div class="caption"><p>Sprite Editor window</p></div></div><p>
</p><p>In the editor, you have two sets of functions: the sprite splitter and the view controls. The options available to you will vary depending on the Sprite Mode.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec13"></a>Sprite slicer</h4></div></div></div><p>If you have your sprite set to <span class="strong"><strong>Multiple</strong></span>, the <span class="strong"><strong>Slice</strong></span> drop-down menu will be enabled. The slicer has three modes, <span class="strong"><strong>Automatic</strong></span>, <span class="strong"><strong>Grid By Cell Size</strong></span>, and <span class="strong"><strong>Grid By Cell Count</strong></span>, in which it can carve up your sprite sheet to create individual images for use in your game.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch02lvl4sec0"></a>Automatic</h5></div></div></div><p>Unity has put some very smart logic into its automatic sprite slicing system that can quite easily identify regions in your sprite sheet where your images are packed. Plus, you have some advanced options to guide the system to make it fit for your game, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_024.jpg" /></div><p>
</p><p>The slicing is based on the alpha regions within the texture, so bear this in mind. The following are the advanced options provided by Unity:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Pivot</strong></span>: As the name suggests, it allows you to set the default pivot position at import time for the sprites that it creates by default.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Method</strong></span>: This option has the following options to guide the selection logic to identify sprites:
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Delete existing</strong></span>: Selecting this option will clear all the existing sprite ranges from the sheet.</p></li></ul></div><p>
</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note18"></a>Note</h3><p>This is the default option and Sprite Editor will not select any sprites until you select one of the sprite identification methods.</p></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><span class="strong"><strong>Smart</strong></span>: This option will try to identify common patterns in the sprites from the sheet meant for selection. In some cases, it is able to identify groups that make up a single sprite together.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Safe</strong></span>: This option focuses on tighter regions around each element it identifies on the sprite sheet, thereby making the edges as close as possible.</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch02lvl4sec1"></a>Grid By Cell Size and Grid By Cell Count (Manual)</h5></div></div></div><p>The grid options are a lot simpler with no complex logic. <span class="strong"><strong>Grid By Cell Size</strong></span> simply allows you to define (as the name suggests) a grid over the sprite sheet with defined cell sizes by setting the height and width options, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_025.jpg" /></div><p>
</p><p>Unity will then automatically identify sprites based on that grid. The <span class="strong"><strong>Offset</strong></span> tells the Sprite Editor where the grids should start relative to the top-left corner and the padding tells the Sprite Editor how much space is in between the various grids.</p><p>
<span class="strong"><strong>Grid By Cell Count</strong></span> works similarly, except it allows you to state how many columns and rows of Sprites you have rather than how big the Sprites are, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_026.jpg" /></div><p>
</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec14"></a>View controls</h4></div></div></div><p>The view controls simply change or affect what you are viewing in <span class="strong"><strong>Sprite Editor</strong></span>, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_027.jpg" /></div><p>
</p><p>The following are the view controls provided by Unity:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Revert</strong></span>: This control simply resets the texture back to the original settings the editor had when it was opened or when the apply option was used to save.</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note19"></a>Note</h3><p>Note that this is not simply an undo button as it completely resets the editor back to the beginning.</p></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Apply</strong></span>: As the name suggests, this applies any changes you have made in the editor. If you close the editor and keep the changes pending, you will be prompted to apply the changes.</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note20"></a>Note</h3><p>Note that once you apply your changes, these <span class="emphasis"><em>cannot</em></span> be undone, so when you click on <span class="strong"><strong>Apply</strong></span>, be sure that the changes refer to what you actually want. To undo any of these changes, you would have to restart the sprite editing process.</p></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Alpha/Color</strong></span>: This control simply changes the view between fully textured sprites or just the alpha regions. It is useful if you want to see what the automatic splitting options are using to identify individual sprites.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Zoom Slider</strong></span>: This control is used to zoom in and zoom out. Need I say more?</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Pixelation Slider</strong></span>: This slider changes the resolution of the sprite texture. When it is at the rightmost position, it will be at full resolution (based on the import settings). The further to the left the slider is moved, the lower the resolution will be set.</p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec15"></a>Sprite region manipulation</h4></div></div></div><p>Whether you are working with a single sprite or you have your individual regions identified on a sprite sheet, you can change the import settings for each sprite, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_028.jpg" /><div class="caption">The Sprite Editor zoomed in on a single sprite from the sprite sheet shown earlier</div></div><p>
</p><p>From here, you can alter the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The sprite's name</p></li><li style="list-style-type: disc"><p>The region of the sprite's bounding box by the following methods:
</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Changing the numbers in <span class="strong"><strong>Position</strong></span>
</p></li><li style="list-style-type: disc"><p>Changing the numbers in <span class="strong"><strong>Border</strong></span>
</p></li><li style="list-style-type: disc"><p>Physically adjusting the bounding box with your mouse using the hook points</p></li><li style="list-style-type: disc"><p>Using the <span class="strong"><strong>Trim</strong></span> button to make the bounding box snap close to the the edges of the sprite</p></li></ul></div><p>
</p></li><li style="list-style-type: disc"><p>The pivot point by changing the drop-down option or physical moving it by dragging the pivot circle</p></li></ul></div><p>The settings you will change with a single sprite selected will only affect that sprite and not the rest that are on the sprite sheet, so keep this in mind if the sprite you are editing is part of an animation.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip21"></a>Tip</h3><p>It is very important to be consistent with pivot point placement with sprite sheets. If pivot points are not placed on the same relative position, the animation with look bouncy.</p></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec19"></a>Importing our main character</h3></div></div></div><p>Now that we have discussed how to import and edit a sprite, let us get our main character imported into our game.</p><p>Select the image titled <code class="literal">Protagonist.png</code> from the <code class="literal">characters</code> folder in the <code class="literal">Art Assets</code> folder, then drag it to the <code class="literal">Characters</code> folder under <code class="literal">Assets\Sprites\</code> in your Unity project, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_029.jpg" /><div class="caption"><p>Folder structure in Project window</p></div></div><p>
</p><p>Next, as our image contains all the frames of the sprite's animation for our main character, we need to break it up. So, select the image from the project view and change <span class="strong"><strong>Sprite Mode</strong></span> in the <span class="strong"><strong>Inspector</strong></span> to <span class="strong"><strong>Multiple</strong></span>, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_030.jpg" /><div class="caption"><p>Protagonist Import Settings in Inspector</p></div></div><p>
</p><p>Click the <span class="strong"><strong>Sprite Editor</strong></span> button to bring up the <span class="strong"><strong>Sprite Editor</strong></span> window and hit <span class="strong"><strong>Apply</strong></span> when prompted. You should see the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_031.jpg" /></div><p>
</p><p>To separate this sprite sheet into individual images, select <span class="strong"><strong>Slice</strong></span> and change the Type to <span class="strong"><strong>Automatic</strong></span> and change the Pivot to <span class="strong"><strong>Bottom</strong></span>, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_032.jpg" /><div class="caption"><p>Properties to Slice a Sprite</p></div></div><p>
</p><p>Click on <span class="strong"><strong>Slice</strong></span> to see all of the sprites now surrounded by appropriate bounding boxes, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_033.jpg" /></div><p>
</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note22"></a>Note</h3><p>When working with sprite sheets that represent walk cycles, bottom tends to be the best pivot point position.</p></div><p>Now, click on <span class="strong"><strong>Apply</strong></span> and close <span class="strong"><strong>Sprite Editor</strong></span>. Upon returning to the project view, you should see an arrow symbol next to the image asset we imported; clicking on it will show you all the individual Sprites that were identified, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_02_034.jpg" /><div class="caption"><p>Individual Sprites that were identified</p></div></div><p>
</p><p>Now that we have our character in our project and it is properly imported, let's put our hero into the scene.</p></div></div>