<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec26"></a>Backgrounds and layers</h2></div></div><hr /></div><p>Now that we have our hero in play, it would be nice to give her a place to live and walk around, so let's set up the home town and decorate it.</p><p>First, we are going to need some more assets. So, from the asset pack you downloaded earlier, grab the following assets from the <code class="literal">Environments</code> pack and place them in the <code class="literal">Assets\Sprites\Environment</code> folder:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<code class="literal">background.png</code>
</p></li><li style="list-style-type: disc"><p>
<code class="literal">skyline.png</code>
</p></li><li style="list-style-type: disc"><p>
<code class="literal">buildingsAndRoads.png</code>
</p></li><li style="list-style-type: disc"><p>
<code class="literal">townObjects.png</code>
</p></li></ul></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec39"></a>To slice or not to slice</h3></div></div></div><p>As we progress through this book, you will notice that some assets are single textures, whereas others contain multiple images, and you may wonder which method is best to create your assets and why it is best.</p><p>The answer (as it is in a lot of these situations) depends on the needs of your title.</p><p>It is always better to pack many of the same types of images on to a single asset/atlas and then use the <span class="strong"><strong>Sprite Editor</strong></span> to define the regions on that texture for each sprite, as long as all the Sprites on that sheet are going to get used in the same scene. The reason for this is when Unity tries to draw the Sprite to the screen, it needs to send the images to draw to the graphics card; if there are many images to send, this can take some time. If, however, it is just one image, it is a lot simpler and more performant with only one file to send.</p><p>There needs to be a balance; too large an image and the upload to the graphics card can take up too many resources; too many individual images and you have the same problem.</p><p>The basic rules of thumb are as follows:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>If the background is a full-screen background or a large image, then keep it separate.</p></li><li style="list-style-type: disc"><p>If you have many images and all are for the same scene, then put them into a single sprite sheet/atlas.</p></li><li style="list-style-type: disc"><p>If you have many images but all are for different scenes, then group them as best you can; common items on one sheet and scene-specific items on different sheets. You'll have several sprite sheets to use.</p></li></ul></div><p>You basically want to keep as much stuff together as makes sense and not send unnecessary images that won't get used to the graphics card. Find your balance.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec40"></a>The town background</h3></div></div></div><p>First, let's add a background for the town using the <code class="literal">Assets\Sprites\Environment\background.png</code> texture, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_001.jpg" /></div><p>
</p><p>With the background asset, we don't need to do anything to the import settings other than ensure it has been imported as a <span class="strong"><strong>Sprite (2D and UI)</strong></span> (in case your project is in 3D mode), as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_002.jpg" /><div class="caption"><p>Background Import settings menu</p></div></div><p>
</p><p>There are two other Sprites that will be incorporated into the background and they are in the <code class="literal">Assets\Sprites\Environment\skyline.png</code> image file. The <code class="literal">skyline.png</code> image contains two rows of white skyscraper silhouettes. The following screenshot shows the image with its transparencies:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_003.jpg" /></div><p>
</p><p>To have these Sprites display appropriately, we will have to manually slice the image into two Sprites using the <span class="strong"><strong>Sprite Editor</strong></span>. We start editing this sprite sheet in the same way we edited the sprite sheet of the character in <a class="link" href="#" linkend="ch02">Chapter 2</a>, <span class="emphasis"><em>Building Your Project and Character</em></span>. Change the <span class="strong"><strong>Sprite Mode</strong></span> to <code class="literal">Multiple</code> and load up the <span class="strong"><strong>Sprite Editor</strong></span> using the <span class="strong"><strong>Sprite Editor</strong></span> button, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_004.jpg" /><div class="caption"><p>Loading the Sprite Editor </p></div></div><p>
</p><p>Hit <span class="strong"><strong>Apply</strong></span>, when prompted:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_005.jpg" /></div><p>
</p><p>If you try to use the automatic slicing technique that we used for the character, each of the <span class="emphasis"><em>islands</em></span> of buildings will be selected as separate Sprites. We do not want this. We want all the buildings in the top row to be a single Sprite and all the buildings in the bottom row to be a second Sprite. We will begin slicing this by using the <span class="strong"><strong>Grid By Cell Count</strong></span> slice <span class="strong"><strong>Type</strong></span>. Change the <span class="strong"><strong>Column &amp; Row</strong></span> setting to <code class="literal">1</code> and <code class="literal">2</code> as shown in the following screenshot, and then hit <span class="strong"><strong>Slice</strong></span>:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_006.jpg" /></div><p>
</p><p>You should now see the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_007.jpg" /><div class="caption"><p>Second Sprite Sheet </p></div></div><p>
</p><p>This is almost what we want, except there is too much space at the bottom of the top sprite. When you select the top sprite, you will be able to adjust the Sprite's bounding box by dragging the edges to their desired location. Drag the bottom edge so that it at the very bottom of the buildings as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_008.jpg" /></div><p>
</p><p>If you are having trouble seeing the buildings, you can select the <span class="strong"><strong>Alpha/Color</strong></span> button at the top of the <span class="strong"><strong>Sprite Editor</strong></span>, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_009.jpg" /></div><p>
</p><p>Doing so will make the opaque regions stand out from the transparent regions much more drastically, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_010.jpg" /></div><p>
</p><p>Once you have both rows of buildings boxed in, select <span class="strong"><strong>Apply</strong></span> at the top of the <span class="strong"><strong>Sprite Editor</strong></span> and then close the <span class="strong"><strong>Sprite Editor</strong></span>.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip39"></a>Tip</h3><p>Don't worry if you don't perfectly box in the two skylines. A little room on the top or bottom won't be the end of the world.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec41"></a>The town buildings and roads</h3></div></div></div><p>Next we will add the town's buildings and roads from the <code class="literal">Assets\Sprites\Environment\buildingsAndRoads.png</code> file, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_011.jpg" /></div><p>
</p><p>These images can be separated quite well with the automatic slice setting. Follow the steps provided in <a class="link" href="#" linkend="ch02">Chapter 2</a>, <span class="emphasis"><em>Building Your Project and Character</em></span>, to automatically slice the image. When you have finished, you should have four images, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_012.jpg" /></div><p>
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec42"></a>The extra scenery</h3></div></div></div><p>Now let's add some extra assets to the scene. If we look at the image containing all of the scene objects (<code class="literal">Assets\Sprites\Environment\townObjects</code>), we will see the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_013.jpg" /></div><p>
</p><p>As with the other images, change its <span class="strong"><strong>Sprite Mode</strong></span> to <span class="strong"><strong>Multiple</strong></span> and run the <span class="strong"><strong>Sprite Editor</strong></span>. Now perform <span class="strong"><strong>Slice</strong></span> | <span class="strong"><strong>Automatic</strong></span> on it. You should see the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_014.jpg" /></div><p>
</p><p>Notice that one of the sprites, the mailbox, does not get detected very well; altering the automatic split settings in this case doesn't help, so we need to do some manual manipulation. Click on the two bounding regions around the scattered mail and delete them by pressing <span class="strong"><strong>Delete</strong></span> with the two regions selected, the two regions that are highlighted in the following screenshot for clarification:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_015.jpg" /></div><p>
</p><p>Manually change the size of the region that is around the mailbox so that it also includes the scattered mail, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_016.jpg" /></div><p>
</p><p>This gives us some nice additional assets to scatter around our town and give it a more interesting look, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463456/graphics/image_04_017.jpg" /></div><p>
</p></div></div>