<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec23"></a>Examples</h2></div></div><hr /></div><p>Now let's jump into some examples! We'll be creating a layout for a basic <span class="strong"><strong>heads-up-display</strong></span> (<span class="strong"><strong>HUD</strong></span>) and a background image that stretches with the <span>screen</span><a id="id325334212" class="indexterm"></a> and scales at multiple resolutions.</p><p>Before we begin setting up our UI, let's set up our project and bring in the art assets we will need.</p><p>We'll begin by setting up our project:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create a new Unity Project and name it <code class="literal">Master Unity UI Project</code>. Create it in the 2D mode.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note15"></a>Note</h3><p>We're selecting 2D Mode because it will make importing our UI sprites a lot easier. When in 2D Mode, all images import as Sprite (2D and UI) images rather than Texture images, as they do in 3D Mode. You can change to 3D Mode at any time by navigating to <strong class="userinput"><code>Edit</code></strong>|<strong class="userinput"><code>Project Settings</code></strong>|<strong class="userinput"><code>Editor</code></strong>and changing Mode to 3D.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Create three new folders named <strong class="userinput"><code>Scenes</code></strong>, <strong class="userinput"><code>Scripts</code></strong>, and <strong class="userinput"><code>Sprites</code></strong>:<div class="mediaobject"><img src="/graphics/9781787125520/graphics/a0794066-bb41-43f2-8306-bae56da766c6.png" /></div></li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note16"></a>Note</h3><p>You don't need the <code class="literal">Editor</code> folder, but, if you'd like it, it was created following the steps in the <code class="literal">Method 1: PlayerPrefs.DeleteAll()</code> section of <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Designing User Interfaces</em></span>.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Create a new scene and name it <code class="literal">Chapter2.unity</code>; ensure that you save it in the <code class="literal">Scenes</code> folder.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>We’ll be using art assets that I've modified from free art assets found at the following:<a class="ulink" href="https://opengameart.org/content/free-game-gui" target="_blank">https://opengameart.org/content/free-game-gui</a><a class="ulink" href="https://opengameart.org/content/cat-dog-free-sprites" target="_blank">https://opengameart.org/content/cat-dog-free-sprites</a>Let's bring the sprites in to our project and prepare them to be used within our UI. You can get the original source files from the links provided so that you can follow along with the book; I recommend using the edited images provided in the source files of the text. In the <code class="literal">Chapter2/Sprites</code>folder, you'll find the<code class="literal">catSprites.png</code>,<code class="literal">pinkBackground.png</code>, and<code class="literal">uiElements.png</code> images.</li><li>We'll be importing the sprites to the project and slicing the sprite sheets into their separate image regions. If you already <span>know</span><a id="id325629469" class="indexterm"></a> how to slice sprite sheets, do so now for the <code class="literal">catSprites</code>image and the<code class="literal">uiElements</code>image and proceed to the<span class="emphasis"><em>Laying out the Basic HUD</em></span>section. If you are not familiar with the process, follow these steps:</li><li>Drag the three sprites into the <strong class="userinput"><code>Sprites</code></strong><span>folder</span>.</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/1c02803d-5ab6-4416-a2da-c28d3228272c.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Select the <code class="literal">catSprites</code> image, hold <span class="emphasis"><em>Ctrl,</em></span> and click on the <code class="literal">uiElements</code> image so that both are selected.</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/d504889f-efb8-479d-9263-1c17fad370df.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Now, in the <strong class="userinput"><code>Inspector</code></strong>, select <strong class="userinput"><code>Multiple</code></strong> for <strong class="userinput"><code>Sprite Mode</code></strong>. Then hit <strong class="userinput"><code>Apply</code></strong>. This will cause both the <code class="literal">catSprites</code> and the <code class="literal">uiElements</code> images to be considered a sprite sheet.</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/1e4631db-c85d-4a0b-b361-a47ab19c2836.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="9" type="1"><li>Note that the <strong class="userinput"><code>Inspector</code></strong> says that <strong class="userinput"><code>2 Texture 2Ds</code></strong> are selected, because we have selected two images.</li><li>Now select the <code class="literal">catSprites</code> image and <span>open</span><a id="id325629625" class="indexterm"></a> the <strong class="userinput"><code>Sprite Editor</code></strong>.</li><li>With the <strong class="userinput"><code>Sprite Editor</code></strong> open, select <strong class="userinput"><code>Slice</code></strong>.</li><li>Now change the slice properties so that the <strong class="userinput"><code>Slice Type</code></strong> is <strong class="userinput"><code>Automatic</code></strong> and the sprite <strong class="userinput"><code>Pivot</code></strong> is applied to the <strong class="userinput"><code>Bottom</code></strong>. Once done, hit <strong class="userinput"><code>Slice</code></strong>.</li><li>You should now see the sprite broken in to three separate regions. Hit <strong class="userinput"><code>Apply</code></strong> to save the changes.</li><li>Now if you click on the arrow on the <code class="literal">catSprites</code> image in the project folder view, you should see the individual images.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="15" type="1"><li>Complete steps 10–14 for the <code class="literal">uiElements</code> image, but make the pivot point in the <strong class="userinput"><code><span>Center</span></code></strong>.</li></ol></div><p>Now that we have our project and <span>sprites</span><a id="id325629696" class="indexterm"></a> set up, we can begin with the UI examples.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec16"></a>Laying out a basic HUD</h3></div></div></div><p>We will make a HUD that will <span>look</span><a id="id325629710" class="indexterm"></a> like the following:</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/b42f38af-0500-4755-a4f4-95d15fddd01f.png" /></div><p>It will be expanded upon in the upcoming chapters, but, for now, it'll have a pretty simple layout that will focus on parent–child relationships and anchor/pivot point placement.</p><p>To create the HUD shown in the preceding image, complete the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create a new Canvas using <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Canvas</code></strong>.</li><li>In the Canvas <strong class="userinput"><code>Inspector</code></strong>, change the name to <code class="literal">HUD Canvas</code>.</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/0c82226d-6526-4448-ad1e-b43e08d94272.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip17"></a>Note</h3><p>I like to break my Canvases up into the following categories: HUD, Background, and Popups. I find that this keeps my various UI elements well organized.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>It is best to set up all of your <strong class="userinput"><code>Canvas Scaler</code></strong> component information before you even begin adding elements to the UI. If you try to do it afterward, you may find that your UI elements will start rescaling. We'll work with an ideal resolution of <code class="literal">1024</code>x<code class="literal">768</code>. If you look at the <strong class="userinput"><code>pinkBackground</code></strong> image (that we'll apply in the next example), it has a resolution of <code class="literal">2048</code>x<code class="literal">1536</code>; <code class="literal">1024</code>x<code class="literal">768</code> has the same aspect ratio as the background image. So, set your <strong class="userinput"><code>Canvas Scaler</code></strong> component to the following settings:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/df6de7fd-3488-4a8f-9a10-c437ec86edd9.png" /></div><p>
We have set the <strong class="userinput"><code>Screen Match Mode</code></strong> to <strong class="userinput"><code>Match Width Or Height</code></strong> with the <strong class="userinput"><code>Match</code></strong> settings set to <code class="literal">1</code> so that it maintains the ratios in the vertical direction. If you remember from the <span class="emphasis"><em>Scale with Screen Size</em></span> section, I find that this works best for <span>most</span><a id="id325629872" class="indexterm"></a> games made with a landscape resolution.</p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Set your game view Aspect to Standalone <code class="literal">1024</code>x<code class="literal">768</code> so that you will see everything scaled appropriately. (Refer to the <span class="emphasis"><em>Changing the Aspect Ratio and Resolution of the Game View</em></span> section for directions.)</li><li>Since we only have one Canvas, when we add any new UI elements to our scene, they will automatically be made children of our HUD Canvas. Create a new Panel using <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Panel</code></strong>, and rename it <strong class="userinput"><code>HUD Panel</code></strong>. You will see that it is a child of the HUD Canvas. This Panel will represent the rectangle that holds all the HUD elements.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Click on the <strong class="userinput"><code>Anchor Presets</code></strong> icon and select the top-left Anchor Preset while holding down <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>Alt</em></span>.</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/26e77694-3cd6-4f28-909b-f980496e3194.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Expand the <code class="literal">uiElements</code> image by selecting the <span>arrow</span><a id="id325630328" class="indexterm"></a> on its right. Locate the <code class="literal">uiElements_1</code> subimage:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/069e31f6-d1da-4950-991c-63b5b612f2fc.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Drag <code class="literal">uiElements_1</code> to the <strong class="userinput"><code>Source Image</code></strong> slot of the <strong class="userinput"><code>Image</code></strong> component on the <strong class="userinput"><code>HUD Panel</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/11a25238-b7ca-4ee4-bf12-421776ffed2e.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="9" type="1"><li>Currently, the Panel is very faint and stretches across the whole scene. Let's make it easier to see by increasing the opacity. Click on the white rectangle in the <strong class="userinput"><code>Color</code></strong> slot of the <strong class="userinput"><code>Image</code></strong> component to open up a color picker. Move the Alpha <span>slider</span><a id="id325630393" class="indexterm"></a> all the way to the right or input the value <code class="literal">255</code> in the alpha value slot:</li></ol></div><p> </p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/b7127a29-eb40-4b35-9384-f3e2a27acce5.png" /></div><p>As shown in the preceding screenshot, it should be a lot easier to see the Panel now:</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/2fdbd858-e544-49ad-b8e9-ebd7d68f26ef.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="10" type="1"><li>Click on the checkbox next to the <strong class="userinput"><code>Preserve Aspect</code></strong> setting in the <strong class="userinput"><code>Image</code></strong> component:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/e342f7ac-f9fd-49b5-a44d-4f06377064c1.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="11" type="1"><li>The Panel will now take up only the top portion of the scene:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/61c2c1d4-90f1-4593-9b63-720a1f19aca9.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="12" type="1"><li>This property will make the image always <span>maintain</span><a id="id325630510" class="indexterm"></a> the aspect ratio of the original image, even if you set the width and height of the Image to something that does not have the same aspect ratio.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="13" type="1"><li>You'll note, from the <strong class="userinput"><code>Rect Transform</code></strong> component, that the <strong class="userinput"><code>Width</code></strong> and <strong class="userinput"><code>Height</code></strong> are still set to <code class="literal">1024</code> and <code class="literal">768</code>, respectively. You can also see more easily from the <strong class="userinput"><code>Scene</code></strong> view that the Rect Transform expands past the viewable region of the image. So, the object is much larger than it appears to be.</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/3dff56e9-b051-405f-ba17-770e9b6d3e2e.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="14" type="1"><li>Let's rescale the <strong class="userinput"><code>Rect Transform</code></strong> of the <span>Panel</span><a id="id325630601" class="indexterm"></a> so that it matches the size we are looking for and hugs the viewable image better. Change the <strong class="userinput"><code>Width</code></strong> to <code class="literal">300</code> and the <strong class="userinput"><code>Height</code></strong> to <code class="literal">102</code>. The Rect Transform won't be a perfectly snug fit in the vertical direction, but it will be pretty close.</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/47f1e1bd-692e-4ddc-8fc6-a4fc8f39c8fe.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="15" type="1"><li>We now have the main Panel set up. Since all other images will be contained within the HUD Panel, we want to make them children of the HUD Panel. That way, when the screen rescales, the other images will remain "inside" the HUD Panel and will maintain their size relative to the HUD Panel.</li><li>Let's start with the Image that holds the cat character's head. Right-click on the HUD Panel and select <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Image</code></strong>. You'll see that it is a child of the HUD Panel. Rename it <code class="literal">Character Holder</code>.</li><li>Place the <code class="literal">uiElement_6</code> image in the <strong class="userinput"><code>Source <span>Image</span><a id="id325630659" class="indexterm"></a></code></strong> slot and select <strong class="userinput"><code>Preserve Aspect</code></strong>.</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/09227c8e-ac77-4e9e-b828-2d617436f9cd.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="18" type="1"><li>Since the <strong class="userinput"><code>Character Holder</code></strong> image is a child of the <strong class="userinput"><code>HUD Panel</code></strong>, any anchoring we set will be relative to the HUD Panel. Choose the <strong class="userinput"><code>left-stretch</code></strong> Anchor Preset while holding <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>Alt</em></span>. Also, set the position and dimension variables, as shown:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/0dd0968c-0b17-4264-9193-3eee96c087a0.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="19" type="1"><li>Let's add the image for the cat head. We want it to fully fill out the slot represented by the <code class="literal">Character Holder</code> image. So, we will make it a child of the <strong class="userinput"><code>Character Holder</code></strong> image. Right-click on <code class="literal">Character Holder</code> and select <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Image</code></strong>. Change its name to <code class="literal">Character Image</code>.</li><li>Now add the <code class="literal">catSprites_0</code> subimage to the <strong class="userinput"><code>Source <span>Image</span><a id="id325630818" class="indexterm"></a></code></strong> of the <strong class="userinput"><code>Image</code></strong> component and select <strong class="userinput"><code>Preserve Aspect</code></strong>.</li><li>Set the <strong class="userinput"><code>Anchor Preset</code></strong> to <strong class="userinput"><code>stretch-stretch</code></strong> while holding <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>Alt</em></span>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/6fe7bbc5-985b-4383-9853-3ebcdf7f639d.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="22" type="1"><li>Since we ensured that we have the <strong class="userinput"><code>Rect Transform</code></strong> of the <code class="literal">Character Holder</code> fit snuggly around the holder's image, it should make the cat's head fit perfectly within the holder image without having to adjust any settings!:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/c915538c-ded1-450e-9d54-63e11b85eabc.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="23" type="1"><li>Now we are ready to start making the health-bar. We will create it similar to the way we made the <code class="literal">Character Holder</code> and <code class="literal">Character</code>. Right-click on the HUD Panel and select <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Image</code></strong>. Rename the new image <code class="literal">Health Holder</code>.</li><li>Place the <code class="literal">uiElement_20</code> image in the <strong class="userinput"><code>Source <span>Image</span><a id="id325635828" class="indexterm"></a></code></strong> slot and select <strong class="userinput"><code>Preserve Aspect</code></strong>.</li><li>Set the <strong class="userinput"><code>Rect Transform</code></strong> properties as shown in the following image and ensure that you hold <span class="emphasis"><em>Shift + Alt</em></span> when selecting the <strong class="userinput"><code>Anchor Preset</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/41285779-851d-4237-9ce0-7aef3c4105dc.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="26" type="1"><li>Now all we have left is the health bar! Just as we made the cat head image a child of the Character Holder, we will need to make the health bar's image a child of the <strong class="userinput"><code>Heath Bar Holder</code></strong>. Right-click on the Heath Bar Holder and select <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Image</code></strong>. Rename the new image to <code class="literal">Health Bar</code>.</li><li>Place the <code class="literal">uiElement_23</code> image in the <strong class="userinput"><code>Source Image</code></strong> slot. This time we will not be selecting <strong class="userinput"><code>Preserve Aspect</code></strong>, because we want the image to scale this image horizontally.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="28" type="1"><li>Set the <strong class="userinput"><code>Rect Transform</code></strong> properties, as shown in the following screenshot, and ensure that you hold <span class="emphasis"><em>Shift + Alt</em></span> when selecting the <strong class="userinput"><code>Anchor Presets</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/8679e659-ae7b-452b-a427-2a2209e93ffd.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="29" type="1"><li>Note that a little padding was added so that you can see the edges of the <strong class="userinput"><code>Health Holder.</code></strong></li><li>We're almost done. Right now, the pivot point of the <span>image</span><a id="id325636002" class="indexterm"></a> is right at the center. This means if we try to scale it, it will scale toward the center. We want it to be able to scale toward the left, however. So, open the <strong class="userinput"><code>Anchor Presets</code></strong> and while holding <span class="emphasis"><em>Shift</em></span> only, select middle-left. This will cause only the pivot point to move.</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/6eede5d2-8dea-491d-8050-9680789fced1.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="31" type="1"><li>Now when we adjust the <strong class="userinput"><code>Scale X</code></strong> value on the <strong class="userinput"><code>Rect Transform</code></strong>, the health bar will scale toward the left:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/f9dee644-9ee3-4a71-bd03-cbdb7717ea0c.png" /></div><p>That's it for our HUD example! Try changing your Game view's aspect ratio to different settings so that you can see the Panel scale appropriately <span>and</span><a id="id325636052" class="indexterm"></a> see all the object relative positions maintained.</p><p>If your HUD is doing some wonky stuff when you change the Game's aspect ratio, ensure that your objects have the correct parent-child relationship. Your parent–child relationships should be as follows:</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/7c7ff0b5-3d00-4858-ab95-0f0fa0ae926c.png" /></div><p>Also, check to ensure that the anchor and pivot points are set <span>correctly.</span></p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec17"></a>Placing a background image (2D game)</h3></div></div></div><p>Placing a background image that scales <span>with</span><a id="id325636120" class="indexterm"></a> the screen is not too difficult as long as you use the appropriate Canvas properties. We will expand upon our HUD example and place a background image in the scene.</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/1a0c033e-5d4e-4b4b-b8f6-0a25c5977eba.png" /></div><p>We'll need to ensure that this background image doesn't just display behind other UI elements, but also displays behind any game objects we may put in our scene.</p><p>To make a background image that displays behind all UI elements as well as all game elements, complete the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create a new Canvas using <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Canvas.</code></strong> I like to use different Canvases to sort my different UI elements, but the need for a new Canvas stems from more than personal preference, in this case. We need a new Canvas, because we need a Canvas with a different <strong class="userinput"><code>Render Mode</code></strong>. This Canvas will use the <strong class="userinput"><code>Screen Space-Camera</code></strong> Render Mode.</li><li>In the Canvas <strong class="userinput"><code>Inspector</code></strong>, change the name to <code class="literal">Background Canvas</code>.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Change the <strong class="userinput"><code>Render Mode</code></strong>to<strong class="userinput"><code>Screen Space-Camera</code></strong>and drag the<strong class="userinput"><code>Main Camera</code></strong>into the<strong class="userinput"><code>Render Camera</code></strong>slot:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/3a89f6a8-a6b4-4e30-9bba-d28b65c9aa90.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>To ensure that this Canvas appears <span>behind</span><a id="id325636214" class="indexterm"></a> all other UI elements and all the 2D sprites in the game, we will need to use the <strong class="userinput"><code>Sorting Layers</code></strong>. In the top-right corner of the Unity Editor, you will see a drop-down menu labelled <strong class="userinput"><code>Layers</code></strong>. Select it and select <strong class="userinput"><code>Edit Layers</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/f738201a-7aee-459b-82a7-3f6ec9d93eba.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Expand the <strong class="userinput"><code>Sorting Layers</code></strong> by selecting the arrow. Add a new <strong class="userinput"><code>Sorting Layer</code></strong> by selecting the plus sign. Name this new layer as <strong class="userinput"><code>Layer</code></strong> <strong class="userinput"><code>Background</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/438854f4-434b-45ad-840f-423190728935.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Sorting layers work so that whichever is on the top of this list will render the furthest back in the scene. So if you wanted to add a foreground layer, you'd add it below <strong class="userinput"><code>Default</code></strong>. Default is the layer that all new sprites will automatically be added to, so unless you create new layers, the <strong class="userinput"><code>Background</code></strong> layer will be behind any new sprite you create. If you do create new layers, ensure that the <strong class="userinput"><code>Background</code></strong> layers stay on the top of this list.</li><li>Reselect <strong class="userinput"><code>Background Canvas</code></strong> and now change the <strong class="userinput"><code>Sorting Layer</code></strong> to <strong class="userinput"><code>Background</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/75296fa2-b2b7-41c2-8801-96f5798d10c0.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Now all we need to do is add the background image. Right-click on the <strong class="userinput"><code>Background</code></strong> Canvas and select <strong class="userinput"><code>UI | Image</code></strong>. Rename the new image to <strong class="userinput"><code>Background Image</code></strong>.</li><li>Place the <strong class="userinput"><code>pinkBackground</code></strong>image in <span>the</span><a id="id325636370" class="indexterm"></a><strong class="userinput"><code>Source Image</code></strong>slot. This time we will not be selecting<strong class="userinput"><code>Preserve Aspect</code></strong>, because we want the image to be able to squash and stretch as the game screen resizes and always fill the scene.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="10" type="1"><li>Set the Rect Transform properties as shown and ensure that you hold <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>Alt</em></span>when selecting the <strong class="userinput"><code>Anchor Presets</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/c337dd1b-9394-430a-a243-bddff82d9428.png" /></div><p>That's it! Try changing the Game view's aspect ratio around and resizing the screen in <strong class="userinput"><code>Free Aspect</code></strong> mode so that you can see the background image always filling the screen. Also, try adding some non-UI 2D sprites to the scene and see how they render on top of the background.</p><p>One thing that is not ideal about this example is that the background image is being allowed to change its aspect ratio. You'll see that <span>the</span><a id="id325636455" class="indexterm"></a> image looks pretty bad at some aspect ratios because of this. This background image will not be a good choice for a game that would be released on multiple aspect ratios. I chose this image for <span>two reasons</span>:</p><p>You can see how it's important to pick an image that doesn't depend so highly on aspect ratio.</p><p>It was free!</p><p>I highly recommend that if you use this method to create a background image, you use one with a pattern that doesn't so obviously display distortion.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec18"></a>Setting up a basic pop-up menu</h3></div></div></div><p>The last example we will cover in this chapter will utilize the <strong class="userinput"><code>Canvas Group</code></strong> component. We won't be able to really see this component in action until we start programming in <a class="link" href="#" linkend="ch04">Chapter 4</a><span class="emphasis"><em>, The Event System and Programming for UI</em></span>, but we can lay <span>the</span><a id="id325636493" class="indexterm"></a> groundwork now. We'll also get a bit more practice with laying out UI with this example.</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/007c8b85-0fe8-45e5-909b-d2de96cdd919.png" /></div><p>To create the pop-up menu shown in the preceding image, complete the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create a new Canvas using <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Canvas</code></strong>.</li><li>In the Canvas Inspector, change the name to <code class="literal">Popup Canvas</code>.</li><li>I want to use the same properties for the <strong class="userinput"><code>Canvas Scaler</code></strong> on this Canvas that I used for the <code class="literal">HUD Canvas</code>. Instead of settingup all that again, I'll use a shortcut and copy the <strong class="userinput"><code>Canvas Scaler</code></strong> from the<code class="literal">HUD Canvas</code>. To do so, select the cog in the right-hand corner of the <strong class="userinput"><code>Canvas Scaler</code></strong> component on the<code class="literal">HUD Canvas</code>and select<strong class="userinput"><code>Copy Component</code></strong>.</li><li>Now select the cog in the right-hand corner of the <strong class="userinput"><code>Canvas Scaler</code></strong> component on the <code class="literal">Popup Canvas</code>and select<strong class="userinput"><code>Paste Component Values</code></strong>.</li><li>We will add a panel that will hold all <span>the</span><a id="id325636645" class="indexterm"></a> items, similar to the way we did with the HUD. This will ensure that everything stays together as it should. Right-click on <code class="literal">Popup Canvas</code>and select<strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Panel</code></strong>. Rename the new Panel as <strong class="userinput"><code>Pause Panel</code></strong>.</li><li>Place the <code class="literal">uiElement_32</code>image in the<strong class="userinput"><code>Source Image</code></strong>slot, give it a full alpha value, and select<strong class="userinput"><code>Preserve Aspect</code></strong>.</li><li>Set the <strong class="userinput"><code>Rect Transform</code></strong>properties, as shown in the following screenshot, and ensure that you hold <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>Alt</em></span> when selecting the <strong class="userinput"><code>Anchor Presets</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/6fd95390-cb2f-4a36-a38f-a9f2578dcefa.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Now let's give the Panel a nice banner at the top. Right-click on <code class="literal">Popup Panel</code> and select <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Panel</code></strong>. Rename the new Panel to <code class="literal">Pause Banner</code>.</li><li>Place the <code class="literal">uiElement_27</code>image in the<strong class="userinput"><code>Source Image</code></strong>slot and select<strong class="userinput"><code>Preserve Aspect</code></strong>.</li><li>Set the Rect Transform properties, as shown in the following screenshot, and ensure that you hold <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>Alt</em></span>when selecting the <strong class="userinput"><code>Anchor Presets</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781787125520/graphics/7c973309-16e8-483e-ad4c-f4a87e1ba897.png" /></div><p>We'll add the text to this banner in a later chapter.</p><p>The main point of this example was to demonstrate <span>the</span><a id="id325636796" class="indexterm"></a> use of the <strong class="userinput"><code>Canvas Group</code></strong> component (and to give you a little more layout practice). You can add a <strong class="userinput"><code>Canvas Group</code></strong> to any UI object. The <strong class="userinput"><code>Canvas Group</code></strong> will then be applied to all the children of the object on which you applied it. We will eventually put more pop-up panels on this Canvas, and we will want to be able to control each of them separately, so I will put the <strong class="userinput"><code>Canvas Group</code></strong> on the <code class="literal">Pause Panel</code>. Select <code class="literal">Pause Panel</code>, and then select <strong class="userinput"><code>Add Component | Layout | Canvas Group</code></strong> (you can also just search for Canvas Group).</p><p>That's it for now! Change the values of Alpha in the <strong class="userinput"><code>Inspector</code></strong> of the <strong class="userinput"><code>Pause</code></strong> Panel, and you will see that as you change it, both the <strong class="userinput"><code>Pause</code></strong> Panel and <span>the</span><a id="id325636840" class="indexterm"></a><strong class="userinput"><code>Pause Banner</code></strong> alpha values change. This is great for pop-up menus you want to hide a show without having to program each item individually. Once we spend more time with this <strong class="userinput"><code>Pause</code></strong> Panel, it will have a lot more items on it, and we will be happy that we don't have to program each piece individually.</p></div></div>