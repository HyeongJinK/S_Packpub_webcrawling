<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec62"></a>Particles in the UI</h2></div></div><hr /></div><p>Using particles in UI is a hot topic. It seems like nearly every mobile game with loot boxes uses particles, but there is no standardized <span>way</span><a id="id325368569" class="indexterm"></a> to implement them. The problem with trying to use participles in the UI is that particles render behind UI on canvases that have t<span>heir</span><strong class="userinput"><code>Render Mode</code></strong> set to <strong class="userinput"><code>Screen Space - Overlay</code></strong>:</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/401bc942-8330-479e-a596-5c2642c57b51.png" /></div><p>The preceding screenshot shows two UI canvases from our working examples and a particle system (the white dots). The pink background is on t<span>h</span>e <code class="literal">Background Canvas</code>, which renders with <strong class="userinput"><code>Screen Space - Camera</code></strong>. The circular meter and the panel with the cat are on <span>th</span>e <code class="literal">HUD Canvas</code>, which renders with <strong class="userinput"><code>Screen Space - Overlay</code></strong>. The particles are rendering in front of the <code class="literal">Background Canvas</code> and behind the <code class="literal">HUD Canvas</code>. However, I want the particles to be displayed also in front of the <code class="literal">HUD Canvas</code>.</p><p>There are a few solutions to this problem. My two preferred solutions are as follows:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Change the <strong class="userinput"><code>Render Mode</code></strong> on <code class="literal">HUD Canvas</code> to <strong class="userinput"><code>Screen Space - Camera</code></strong> and adjust the sorting order of it and the particles to make the particles appear in front</li><li style="list-style-type: disc">Use a second Camera and a Render Texture to display the particles on a raw image in the Canvas</li></ul></div><p>There are benefits and downfalls to both methods. The first method is by far the easiest. It allows you to view particles in front of your UI with only one or two modifications to your scene. However, using <strong class="userinput"><code>Screen Space - Camera</code></strong> for your UI's <strong class="userinput"><code>Rendering Mode</code></strong> may not be practical for your project. If you edit the properties of the Camera in your game, the properties of the UI will be changed. Additionally, changing the Rendering Mode of your Canvas after you have already set everything up can cause your UI to stop displaying the way you initially intended.</p><p>The second method isn't terribly complicated to implement, but does require more work than the first. It's main benefit is that you can render particles in front of UI on Canvases that render with <strong class="userinput"><code>Screen Space - Overlay</code></strong>. Its main downfall, other than needing more work to set up, is that you may have to make some complicated decisions about what your two cameras are going to render and may slightly affect performance. An example covering this method is discussed in the <span class="emphasis"><em><span>Examples</span></em></span> section.</p><p>There are other solutions to this problem, each more complicated (or costly) than the next, and what you choose to do depends on your project. Some projects forego particles entirely and pre-render their particles as sprite sheets using software, such as After Effects. Some projects use assets available in the Asset Store, and others <span>handle</span><a id="id325601408" class="indexterm"></a> everything entirely with scripts and shaders. Although I can't foresee any reason why the second solution I proposed will not work for your project, it's certainly possible that your project has a fringe case I am not considering. Hopefully, if that is the case, you will be able to modify my solution with minimal effort to work in your project.</p><p>My best advice to you would be to decide early whether you will use particles in your UI. If you know you are going to use them, plan ahead with your UI layouts and camera setups. Also, <span>if you and use</span> the first method, do it.</p><p>It's really too bad that there is no standard method for this implemented by Unity. I assume that one day there will be a pre-built UI Particle object that will make the process both simple and performant. </p></div>