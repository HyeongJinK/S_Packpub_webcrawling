<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec55"></a>UI Dropdown and TextMeshPro – Dropdown</h2></div></div><hr /></div><p>There are two Dropdown UI objects available, the UI Dropdown object packaged in Unity and the TextMeshPro—Dropdown object that comes with the TextMeshPro asset we discussed in <a class="link" href="#" linkend="ch06">Chapter 6</a>, <span class="emphasis"><em>Text, Images, and TextMesh Pro-Text</em></span>. Both the Dropdown objects allow the user to select from a list of options. The list becomes visible when the Dropdown is clicked on. Once an object is selected from the list, the list will collapse, making the <span>chosen</span><a id="id325334211" class="indexterm"></a> option visible within the Dropdown (if desired).</p><p>The two Dropdown options are pretty <span>much</span><a id="id325368563" class="indexterm"></a> identical in the way they work. The only difference between the two is the UI Dropdown uses UI Text objects to display text while the TextMeshPro - Dropdown uses TextMeshPro - Text objects. Due to this, I will discuss the two objects at the same time in this section. Additionally, because the two objects are identical in function, you will need to use TextMeshPro - Dropdown over the UI Dropdown if you want to include "fancy" text.</p><p>To create a UI Dropdown, select <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>Dropdown</code></strong>. To create a TextMeshPro - Dropdown, select <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>UI</code></strong> | <strong class="userinput"><code>TextMeshPro - Dropdown</code></strong>. As you can see in the following screenshot, the two Dropdown objects have identical parent/child object relationships and names. By default, the <code class="literal">Dropdown</code> objects have three children: a <code class="literal">Label</code>, an <code class="literal">Arrow</code>, and a <code class="literal">Template</code>. The <code class="literal">Template</code> child is disabled by default (hence, it appears grayed out in the Hierarchy) and has multiple children.</p><p>The <code class="literal">Template</code> child and all of its children are discussed in the <span class="emphasis"><em>Dropdown Template</em></span> section of this chapter:</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/7e316058-16f1-42c6-a16b-b23bacf3f7f1.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note69"></a>Note</h3><p>In the following descriptions, I will discuss all Text objects as if they are UI Text objects. However, remember that the TextMeshPro - Dropdown uses TextMeshPro - Text objects.</p></div><p>The <code class="literal">Label</code> child is a UI Text object. By default, it displays the text within the Dropdown object that represents the selected option. As the player changes the selected option, the <strong class="userinput"><code>Text</code></strong> property of the <strong class="userinput"><code>Text</code></strong> component of <code class="literal">Label</code> changes to the appropriate option. To change the properties of the text that displays within the boxed area of the Dropdown, change the properties of the <strong class="userinput"><code>Text</code></strong> component on the <code class="literal">Label</code>. When new text replaces the text within the <code class="literal">Label</code>, it will automatically display based on the properties set by the Text component of the <code class="literal">Label</code>.</p><p>The <code class="literal">Arrow</code> child is a UI Image. Its only function is to hold the image for the arrow that (by default) appears at the right of the Dropdown. This arrow doesn't actually do anything and is simply an image. It doesn't <span>accept</span> inputs or change with the properties of the Dropdown component.</p><p>The background image of the Dropdown is on the main <code class="literal">Dropdown</code> parent object and not on a child named <code class="literal">Background</code>. Therefore, if you want to change the appearance of the Dropdown's background and Arrow, you change the <strong class="userinput"><code>Source Images</code></strong> of the Image components on the <code class="literal">Dropdown</code> parent and <code class="literal">Arrow</code> child, respectively. The image of the <code class="literal">Dropdown</code> only affects the rectangle that can be selected to display the drop-down menu. The background to the menu that expands outward when the player interacts with the drop-down is handled by the <code class="literal">Template</code> (discussed in the <span class="emphasis"><em>Dropdown Template</em></span> section).</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec79"></a>Dropdown Template</h3></div></div></div><p>Before we discuss the various properties of the <span>Dropdown</span><a id="id325601330" class="indexterm"></a> component, let's look more closely at the Dropdown's <span class="strong"><strong>Template</strong></span>.</p><p>The child of <code class="literal">Dropdown</code> named <code class="literal">Template</code> allows you to <span>set</span><a id="id325601396" class="indexterm"></a> the properties of the "items" that will appear as options in the drop-down menu. It also allows you to set the properties of the background of the menu and the Scrollbar that will appear if the list expands past the viewable area of the drop-down menu.</p><p>Remember that the <code class="literal">Template</code> child is disabled by default. Enabling the <code class="literal">Template</code> (by selecting the checkbox in its <strong class="userinput"><code>Inspector</code></strong>) will display the <code class="literal">Template</code> in the scene.</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/2c0aa1db-77c7-45c4-80b4-0e36feb6c5cc.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip70"></a>Note</h3><p>You can actually leave this permanently enabled in your Editor, because once you enter <strong class="userinput"><code>Play</code></strong> mode, it will hide as it is supposed to.</p></div><p>If you look closely at the parent/child relationships of the <code class="literal">Template</code> within the <strong class="userinput"><code>Hierarchy</code></strong>, you'll note that it is simply a UI Scroll View object with a one <code class="literal">Scrollbar</code>:</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/31d078c8-12f2-4563-bcaa-be4c617e9f4e.png" /></div><p>Viewing the <strong class="userinput"><code>Inspector</code></strong> of the <code class="literal">Template</code> GameObject, shows that it, in fact, is just a UI <code class="literal">Scroll View</code> object, as it has a <strong class="userinput"><code>Scroll Rect</code></strong> component attached to it with no <strong class="userinput"><code>Horizontal Scrollbar</code></strong> assigned:</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/efd1573b-7ff2-493b-b488-7f6936edb47c.png" /></div><p>The <code class="literal">Content</code> of the <code class="literal">Template</code> Scroll View object has a single child named <code class="literal">Item</code>. <code class="literal">Item</code> has three children: <code class="literal">Item Background</code>, <code class="literal">Item Checkmark</code>, and <code class="literal">Item Label</code>. If you look at the <strong class="userinput"><code>Inspector</code></strong> of <code class="literal">Item</code>, you'll see that it is a just a UI Toggle and has the same children and properties as the UI Toggles discussed at the beginning of this chapter.</p><p>So, all <code class="literal">Template</code> is a Scroll View with a <span>single</span><a id="id325368499" class="indexterm"></a> Scrollbar and with a single Toggle as its <code class="literal">Content</code>! It looks way more complicated initially, but after you break down what the individual pieces are, you'll realize that it's just a combination of a few of the UI items we have already discussed!</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/c219d55a-287b-480f-8690-6b55cd787b74.png" /></div><p>When working with the Dropdown <code class="literal">Template</code>, if you want to change the visual properties and the settings, just remember the breakdown <span>shown</span><a id="id325368525" class="indexterm"></a> in the preceding image, and the prospect of editing it will seem a lot less daunting.</p><p>Every item option you set to appear within the Dropdown will follow the exact same visual properties of those you set for the <code class="literal">Item</code> Toggle.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec80"></a>The Dropdown component</h3></div></div></div><p>Now that we've broken down the <code class="literal">Template</code>, we can look at the properties of the <strong class="userinput"><code>Dropdown</code></strong> component.</p><p>The parent <code class="literal">Dropdown</code> object has a <strong class="userinput"><code>Dropdown</code></strong> (TMP_Dropdown for TextMeshPro - Dropdown) component. It has all the properties <span>common</span><a id="id325631219" class="indexterm"></a> to the other interactable UI objects, along with a few that are exclusive to Dropdowns:</p><div class="mediaobject"><img src="/graphics/9781787125520/graphics/8a39537c-bf02-4201-8f7c-f597f1ec35d0.png" /></div><p>As you can see from the preceding image, the properties on the UI Dropdown and TextMeshPro - Dropdown are nearly identical. The only difference is the Text objects in are standard UI Text objects in the UI Dropdown and are TextMeshPro - Text objects in the TextMeshPro - Dropdown.</p><p>The Dropdown component is actually <span>super</span><a id="id325631241" class="indexterm"></a> powerful. It handles all interactions with the Dropdown menu and will switch text displays, open and close the dropdown, and move around the checkbox within the dropdown. It even adds a scrollbar and handle to allow the dropdown menu to have a really long list. The only thing that has to be coded by you is how to interpret the property the player selected.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec58"></a>Caption properties</h4></div></div></div><p>There are two properties <span>related</span><a id="id325631256" class="indexterm"></a> to the <span class="strong"><strong>caption</strong></span> or the option that is currently selected.</p><p>The <strong class="userinput"><code>Caption Text</code></strong> property references the Text component of the GameObject that will display the currently selected option's text. By default, this is the Text component of the <code class="literal">Label</code> child. The <strong class="userinput"><code>Caption Text</code></strong> is optional, so if you do not want the currently selected option displayed within the Dropdown area (and only within the Dropdown list), simply change the <strong class="userinput"><code>Caption Text</code></strong> property to <code class="literal">None (Text)</code>.</p><p>The <strong class="userinput"><code>Caption Image</code></strong> property holds the Image component of the GameObject that will display the currently selected option's image. Nothing is assigned to this property by default and, you will note that the <strong class="userinput"><code>Dropdown</code></strong> does not have a child that can hold the Image. To have an image display with the text, you will have to create a UI Image and assign it to the <strong class="userinput"><code>Caption Image</code></strong> property. It is best that the UI Image you create is created as a child of the Dropdown.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec59"></a>Template properties</h4></div></div></div><p>There are three properties <span>related</span><a id="id325631374" class="indexterm"></a> to assigning the template's properties to all possible options to display in the drop-down list.</p><p>The <strong class="userinput"><code>Template</code></strong> property references the Rect Transform of the template. As stated previously, the template defines the way each option within the drop-down list will look as well as how the drop-down holder will look. By default, this property is assigned to the child <code class="literal">Template</code> object.</p><p>The <strong class="userinput"><code>Item Text</code></strong> property references the <strong class="userinput"><code>Text</code></strong> component of the GameObject that holds the text of the item template. By default, the <strong class="userinput"><code>Text</code></strong> component on the <code class="literal">Item Label</code> (child of the <code class="literal">Item</code>) is assigned to this property.</p><p>The <strong class="userinput"><code>Item Image</code></strong> property references the <strong class="userinput"><code>Image</code></strong><span>component</span><a id="id325631417" class="indexterm"></a> of the GameObject that holds the image of the item template. By default, this property is unassigned, similar to the <strong class="userinput"><code>Caption Image</code></strong>. Just as with the <strong class="userinput"><code>Caption Image</code></strong>, to use this property, a UI Image will need to be created and assigned to this property. If you create one, ensure that you add it as a child of <code class="literal">Item</code> within the <code class="literal">Template</code> child to avoid confusion.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec60"></a>Option properties</h4></div></div></div><p>The <strong class="userinput"><code>Value</code></strong> property represents which option is currently selected. The options are in a list, and the number in the <strong class="userinput"><code>Value</code></strong> property represents the currently selected option's index within the list. Since the options are represented by their indices, the first option has a <strong class="userinput"><code>Value</code></strong> of <code class="literal">0</code> (not <code class="literal">1</code>).</p><p>The <strong class="userinput"><code>Options</code></strong> property lists out all the options <span>within</span><a id="id325631537" class="indexterm"></a> the <strong class="userinput"><code>Dropdown</code></strong> menu. Within the list, each option has a text string and sprite (optional). All strings and sprites within this list will automatically swap into the correct component properties of the children of <code class="literal">Dropdown</code>, based on the properties of the <strong class="userinput"><code>Dropdown</code></strong> component. So, you will not have to write any code to ensure that these items display appropriately when the player interacts with the Dropdown.</p><p>By default, the <strong class="userinput"><code>Options</code></strong> list contains three options. However, you can add or subtract options by selecting the plus and minus sign at the bottom of the list. You can also rearrange the options within the list by dragging and dropping the options' handles (two horizontal lines). Note that rearranging the options in the list will change their indices within the list and then change the <strong class="userinput"><code>Value</code></strong> they send to the <strong class="userinput"><code>Dropdown</code></strong> component.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec61"></a>Dropdown default event – On Value Changed (Int32)</h4></div></div></div><p>The Dropdown component handles all interactions <span>with</span><a id="id325630618" class="indexterm"></a> the Dropdown menu itself. The only thing that has to be coded by you is how to interpret the option the player selected.</p><p>The Dropdown component's default event is the <strong class="userinput"><code>On Value Changed</code></strong> Event, as seen in the <strong class="userinput"><code>On Value Changed (Int32)</code></strong> section of the <strong class="userinput"><code>Dropdown</code></strong> component. This event will trigger whenever a new option is selected by the player. It accepts an <span>integer</span><a id="id325630640" class="indexterm"></a> as an argument and, as with the other events discussed in this chapter, you can choose to pass no argument, a static argument, or a dynamic argument.</p><p>If you want to send the index of the option selected (or the value of the <strong class="userinput"><code>Value</code></strong> property) to a function, you'd send it to a function with a <code class="literal">Int32</code> parameter from the <strong class="userinput"><code>Dynamic int</code></strong> list. Refer to the <span class="emphasis"><em>Creating a Dropdown Menu with Images</em></span> example at the end of the text for an implementation of this.</p></div></div></div>