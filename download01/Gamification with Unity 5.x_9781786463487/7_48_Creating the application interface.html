<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec47"></a>Creating the application interface</h2></div></div><hr /></div><p>Previously, in <a class="link" href="#" linkend="ch02">Chapter 2</a>, <span class="emphasis"><em>Who or What Am I? Understanding the Player</em></span>, we created the profile screen for our application. However, this is only one of application screens that our lateral menu will link to, as shown here:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_005.jpg" /></div><p>
</p><p>Once we click the menu button, we can then toggle our menu to make it appear or disappear. The following is a list of menu items:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Homepage</strong></span>: Here, the user is able to see the unlocked achievements and their progress</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Tasks</strong></span>: This is the main page of our application where the user is able to see all her or his tasks, add new ones, and remove old ones</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Profile</strong></span>: This is the page we have already implemented, in which the user is able to change their profile</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Quit</strong></span>: This is just a button to close the application</p></li></ul></div><p>However, we still need to implement a lot of features in our application, since we also need to consider the logic behind it. However, most of these will be covered later in this chapter.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip30"></a>Tip</h3><p>This is an optional step. If you want, you can create a general background for your application, an UI image that is placed on all the screens and has a single color. Moreover, it must be behind everything, so that it doesn't cover the important parts of the application. However, feel free to create a different background for each screen if you prefer.</p></div><p>Now, let's start with the menu, since it is shared among all the screens.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec81"></a>The lateral menu</h3></div></div></div><p>In this section, we will create our lateral menu. Lateral menus offer an additional type of navigation; many others exist, such as drop-down menus and top navigational bars, which are commonly found on websites. Each different type of menu not only provides a different <span class="emphasis"><em>feel</em></span> for the user, but also some are more suited to an experience than others. For example, if your application is aimed at large screen devices such as tablets, a top navigational bar may be ideal, because there is enough space, and it is unlikely to hinder the experience. On the other hand, having the same type of navigation in a mobile application for a small screen may cause some issues. To solve such problems, it is possible to make the application adapt to the device that it is being experienced on, but this is a topic that we will not cover in this book.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec25"></a>The interface</h4></div></div></div><p>The first thing to do is to create the button for our menu. To begin, let's create a new image by right-clicking on the <span class="strong"><strong>Hierarchy</strong></span> panel and selecting <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Image</strong></span>. Since this button is always visible, we can leave it parented to the Canvas. In fact, it will just be covered by our lateral menu, since it will contain another button to close it. Now, we can rename it <code class="literal">MenuButton</code>. Furthermore, in the image component, select the <code class="literal">menu-icon</code> file from the image pack that we downloaded as a <span class="strong"><strong>Source Image</strong></span>. You should also scale it and place it laterally on the top, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_006.jpg" /></div><p>
</p><p>Now, click on <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Button</strong></span>. Then, change the <span class="strong"><strong>Transition</strong></span> to <span class="strong"><strong>None</strong></span>. In the end, the <span class="strong"><strong>Button</strong></span> component should look like the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_007.jpg" /></div><p>
</p><p>The next step is to create our lateral menu. So, again, create another image by right-clicking on the <span class="strong"><strong>Hierarchy</strong></span> panel and selecting <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Image</strong></span>. Rename the game object <code class="literal">LateralMenu</code> and use <span class="strong"><strong>menu-bar</strong></span> as the sprite. Finally, place it on the left side of your application, as shown here:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_008.jpg" /></div><p>
</p><p>As you can see, the button we have created before is not visible. This is because we want the menu to be on top of everything. If it is not, it is probably because it is not well ordered in the <span class="strong"><strong>Hierarchy</strong></span> panel. Therefore, be sure that the order is like this:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_009.jpg" /></div><p>
</p><p>Now, we need to add another menu button, like the previous one, and parent it to <span class="strong"><strong>LateralMenu</strong></span>. We can also duplicate the button we already have by pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span> (<span class="emphasis"><em>cmd</em></span> + <span class="emphasis"><em>D</em></span> on MacOs) and then parent it to <span class="strong"><strong>LateralMenu</strong></span>. The <span class="strong"><strong>Hierarchy</strong></span> panel should be like the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_010.jpg" /></div><p>
</p><p>Keep in mind that, when you're duplicating items, the filename will retain the original filename plus the number of the duplicated file. For example, if you're duplicating <span class="strong"><strong>MenuButton</strong></span>, its duplicates will be named <span class="strong"><strong>MenuButton (1)</strong></span>, <span class="strong"><strong>MenuButton (2)</strong></span>, and so on for each duplication. Therefore, you will have to rename them manually to suit your own naming convention.</p><p>You need to place this second button at the top of the menu, as shown here:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_011.jpg" /></div><p>
</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec26"></a>Opening and closing the menu</h4></div></div></div><p>Now that we have our two buttons along with the menu, we need to be able to toggle between when the menu opens and when it closes. Let's start by opening the menu.</p><p>We need to consider that the menu at the beginning (when the application is lunched) will be disabled. Therefore, opening the menu means enabling it. So, in the first button that we have created, we need to add a new event. To achieve this, click on the small <span class="strong"><strong>+ </strong></span>in the bottom right corner of the <span class="strong"><strong>On Click ()</strong></span> tab. This is how the component appear:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_012.jpg" /></div><p>
</p><p>We need to drag and drop <span class="strong"><strong>LateralMenu</strong></span> into the object variable. From the drop-down menu, select <span class="strong"><strong>GameObject.SetActive</strong></span> and check the box below it. This is the final result:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_013.jpg" /></div><p>
</p><p>Select the button on the menu and repeat the same steps. However, this time leave the box unchecked, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_014.jpg" /></div><p>
</p><p>As a result, when we press the first button, the menu appears, and when we press the second button, the menu disappears. Press the <span class="strong"><strong>Play</strong></span> button to test the behavior and check that everything works as it should.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec27"></a>Adding items to the menu</h4></div></div></div><p>Similar to what we did in the previous section when opening and closing the menu, we do the same with the other screens of our application. When the user selects an option from the menu a screen, all of the other options will be disabled except the one that is selected. This will be enabled instead.</p><p>First of all, let's add some UI text. Right-click on <span class="strong"><strong>LateralMenu</strong></span> and select <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Text</strong></span>. Change its color to white and its font style to the one that you defined within your GDD. Furthermore, attach the button component, as before, by pressing <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Button</strong></span>. Then, change the <span class="strong"><strong>Transition</strong></span> to <span class="strong"><strong>None</strong></span>. In the end, it should look like the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_015.jpg" /></div><p>
</p><p>Duplicate this game object as many times as the number of items in our menu, which in this case is four. Rename them, and the Hierarchy panel now should look like the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_016.jpg" /></div><p>
</p><p>Also, change their text into the items of our menu, and display them on the screen. This is the final result:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_017.jpg" /></div><p>
</p><p>Before we can toggle between the other menu screens, we need to create them. We will learn how to do this in the following sections.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec82"></a>The Home page</h3></div></div></div><p>In this section, we are going to create a game object for our home page. In fact, here we can trigger the homepage. However, we won't implement this in detail, because it's your occasion to test your acquired skills in Gamification. The reason is because this page contains the gamified part of our application. Since the focus of this chapter is on creating the bones of our application to get it running, we won't go in detail on this. In fact, from <a class="link" href="#" linkend="ch03">Chapter 3</a>, <span class="emphasis"><em>An Engaged Player is a Happy Player</em></span>, we are able to implement different game elements, and along what was discussed in all these chapters, you can put them together in a meaningful way, trying to engage your targeting audience. I suggest you to create this part after you have finished this book, so to add some personalization to your application. For now, just create a new UI image that takes up the whole screen, and name it Homepage. As a result, we will have a game object that we can use in this chapter in get all the references to the right places to speed up the process when you will implement this page.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec83"></a>The Tasks page</h3></div></div></div><p>In this section, we are going to create our Tasks page. However, we will see how to implement all the functionalities with scripting later in this chapter.</p><p>First of all, let's create a background image that covers the entire screen. This game object will also be the root for all the other game objects in the screen. Rename it <code class="literal">Tasks Page</code>. Of course, remember to have this image <span class="emphasis"><em>before</em></span> the menu button and the menu itself in the <span class="strong"><strong>Hierarchy</strong></span> panel. This means they will be visible on the <code class="literal">Tasks Page</code>.</p><p>The main area of the screen will be occupied by tasks. Therefore, we need to create a <span class="strong"><strong>Task Displayer</strong></span>. We can create a UI image and place it in the screen, as shown in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_018.jpg" /></div><p>
</p><p>Now that it is placed, we can rename it to <code class="literal">Task Displayer</code> and remove the image component, since it was only used to place it on the screen. Remember to leave some space at the bottom so that there is room for some buttons that we will add later on.</p><p>The basic idea is that the Task Displayer has different <span class="strong"><strong>Task Panels</strong></span>, which contain a specific task. We will see these panels later in the chapter. However, it's important to know how they will be displayed on the screen. Thus, on our Task Displayer, click on <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Layout</strong></span> | <span class="strong"><strong>Vertical Layout Group</strong></span>. Then, disable both checkboxes for <span class="strong"><strong>Child Force Expand</strong></span> and add <code class="literal">19</code> as <span class="strong"><strong>Spacing</strong></span>. A quick note: if you are having trouble locating the <span class="strong"><strong>Padding</strong></span>, it is likely that the menu is collapsed, so just click on the triangle located next to its name to expand it. At the end, we should have the following:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_019.jpg" /></div><p>
</p><p>Of course, feel free to change these settings at the end of the chapter to suit your needs.</p><p>At the bottom of the page, in the space that we left before, we need to create two buttons. One is to create a new Task, and the other one is to delete the completed tasks. Therefore, right-click on the <span class="strong"><strong>Task Page</strong></span> in the <span class="strong"><strong>Hierarchy</strong></span> and select <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Button</strong></span>.</p><p>In the <span class="strong"><strong>Button</strong></span> component, set <span class="strong"><strong>Transition</strong></span> to <span class="strong"><strong>None</strong></span>. Change the graphics as you prefer and as text insert <code class="literal">New Task</code>. Duplicate the button with <span class="strong"><strong>Ctrl</strong></span> + <span class="strong"><strong>D</strong></span> (<span class="strong"><strong>Cmd</strong></span> + <span class="strong"><strong>D</strong></span> on MacOS) and change the text of the second button to <code class="literal">Delete Completed</code>. Finally, place them as in the following screenshot:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_020.jpg" /></div><p>
</p><p>Once we have done all of this, we have finished with the Tasks Page. However, we still need to create an additional page to allow the user to create a new Task. We will implement this after we have defined exactly what a task is in the context of our application.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec84"></a>Navigating through the different screens</h3></div></div></div><p>Since we have all the different screens, we need to navigate through them. If you remember, we have created different buttons in our lateral menu. Now, we are going to use them.</p><p>Let's start from the <span class="strong"><strong>Homepage</strong></span> button in our menu. In the <span class="strong"><strong>On Click ()</strong></span> tab in the <span class="strong"><strong>Inspector</strong></span>, add an event (similar to what we did to open and close the menu). We need to drag the <span class="strong"><strong>Homepage</strong></span> game object into the object variable. From the drop-down menu, select <span class="strong"><strong>Game Object</strong></span> | <span class="strong"><strong>Set Active (bool)</strong></span> and check the box below. Now, when we click on it, the homepage will be active. However, we need to disable all the other screens, including the later menu.</p><p>So, let's add three more events for the remaining screens. Again, drag them in the object variables, and select <span class="strong"><strong>Game Object</strong></span> | <span class="strong"><strong>Set Active (bool)</strong></span>. This time, don't check the box below, since we have to disable them. This is what it should look like in the <span class="strong"><strong>Inspector</strong></span>:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_021.jpg" /></div><p>
</p><p>Similarly, we need to do this for the other buttons by making sure that we enable the correct screen and disable the others. In the end, you should have the following for the <span class="strong"><strong>Profile</strong></span> button:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_022.jpg" /></div><p>
</p><p>And you should have the following for the <span class="strong"><strong>Tasks</strong></span> button:</p><p>
</p><div class="mediaobject"><img src="/graphics/9781786463487/graphics/image_07_023.jpg" /></div><p>
</p><p>Our menu is now working, with the exception of the <span class="strong"><strong>Quit</strong></span> button, which we still need to implement. However, we will explore this in <a class="link" href="#" linkend="ch09">Chapter 9</a>, <span class="emphasis"><em>Graduating Your Project to Completion</em></span>.</p></div></div>