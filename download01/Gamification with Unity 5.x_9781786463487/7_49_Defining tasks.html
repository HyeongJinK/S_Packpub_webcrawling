<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec48"></a>Defining tasks</h2></div></div><hr /></div><p>As we have already mentioned, tasks have a major role in our application. Hence, we need to define what a task is in the context of our application. When we have done this, we will be able to use them like any other class in our scripts, and this will make our life much easier.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec85"></a>Object-oriented</h3></div></div></div><p>We are programming in C#, which is an object-oriented language. Even though it is not necessary to know exactly how an object-oriented language works to create games in Unity, it is useful. Therefore, I suggest you take a look at any programming book about C# to learn more about the topic.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note31"></a>Note</h3><p>You should check out one from Packt's library: <span class="emphasis"><em>C# Programming Cookbook</em></span> by <span class="emphasis"><em>Dirk Strauss</em></span>, at <a class="ulink" href="https://www.packtpub.com/application-development/c-programming-cookbook" target="_blank">https://www.packtpub.com/application-development/c-programming-cookbook</a>.</p></div><p>In the next section, we are going to define an <span class="strong"><strong>object</strong></span>. It has different properties and functions that can be called on it.</p><p>An example of an object that we are going to use is <code class="literal">DateTime</code>. It is a class that stores information about a specific date. This is an important and complex object, because you can do a lot of operations on it, such as comparing two dates.</p><p>A useful way to imagine these objects is to think them as general and abstract concepts of what we want to represent. Then, they can be an instance and then become that specific object. For instance, we can have the general concept of a horse. This may include the information that it has four legs and one color. Only when we look at a specific horse, can we say that its specific color is brown. However, we need to make sure we represent everything contained in our context or application. For instance, if we include an ordinary horse the information that every horse has four legs is wrong, and must be corrected by including a special case in which the horse has only three legs. In C#, objects are represented by classes. As all the other classes we have used so far, and also Objects are classes. Usually, they don't have any inheritance; for example, when you create a new script in Unity, there is the inheritance of the <code class="literal">MonoBehaviour</code> class.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec86"></a>The Task class</h3></div></div></div><p>As usual, we need to create a new script, so right-click on the <span class="strong"><strong>Project</strong></span> panel in the <span class="strong"><strong>Script</strong></span> folder and then select <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>C# Script</strong></span>. We can rename it <code class="literal">Task</code>, because it will represent the concept of a task. First of all, we need to include the system namespace in order to use the <code class="literal">DateTime</code> class. Then, we need to clean the inheritance from the <code class="literal">MonoBehaviour</code> class, since we don't need it. As a result, we are not able to attach this script to a game object, but it will contain only what we define inside it. Moreover, delete the <code class="literal">Start()</code> and <code class="literal">Update()</code> functions, since this will not be a game object;Â  instead, just a class that we will be able to use in other scripts. At the end, we should have something like the following:</p><pre class="programlisting">using UnityEngine; 
using System; 
 
public class Task { 
 
} 
</pre><p>Now, it's time to add some information about what a Task is. This can be done by including some variables that describe specific aspects of our Task. In particular, we need a string for the title of our Task. We also need a couple of integer variables: one for the priority, since we are going to give them a priority, and another one for the icon, since the user can select one for the task. Finally, we need an expire date, which is the deadline by which the task must to be completed. Therefore, we can write the following:</p><pre class="programlisting">    public string title; 
    public int icon; 
    public int priority; 
    public DateTime expireDate; 
</pre><p>However, we also need a way to check if the Task has already been completed or not. Thus, we can add the following Boolean variable:</p><pre class="programlisting">    public bool isCompleted; 
</pre><p>We have finished describing what a Task is, but we can add some functions to do some operations on them.</p><p>First of all, we need a constructor. This is a special function for object-oriented languages, and basically allows us to define some parameters to add when we use the <code class="literal">new</code> operator. In this case, we can just set all the variables of our Task. As a result, every time we create a Task, we are sure that all its information is stored. So, we can write the following:</p><pre class="programlisting">    public Task(string _title, int _icon, DateTime _expireDate, int _priority) { 
        title = _title; 
        icon = _icon; 
        expireDate = _expireDate; 
        priority = _priority; 
    } 
</pre><p>Another operation that we may want on our Task is to check if it has expired. This can be done easily with a function that returns a Boolean value. If it is true, then the task has expired; otherwise, it returns false. So, by using the properties of the <code class="literal">DateTime</code> class, we can add the following function:</p><pre class="programlisting">    public bool isExpired() { 
        if(DateTime.Now &gt; expireDate) { 
            return true; 
        } 
        else { 
            return false; 
        } 
    } 
</pre><p>There is one last function we would like to implement. When we show the task, we also want to know the status of the task. It can be <span class="emphasis"><em>pending</em></span>, if the task is neither completed or expired. If the deadline has passed, it becomes <span class="emphasis"><em>expired</em></span>, and it is <span class="emphasis"><em>completed</em></span> if the user has completed the task. The return value can be a string in order to easily display it. Therefore, we can write the following:</p><pre class="programlisting">    public string Status() { 
        if (isCompleted) { 
            return "Completed"; 
        } else if(DateTime.Now &gt; expireDate) { 
            return "Expired"; 
        } 
        return "Pending"; 
    } 
</pre><p>At the moment, we don't need to define other functions, but we can always come back to this script and add more. Now that our <code class="literal">Task</code> class is implemented, save the script. If you open any other script, you are able to use the <code class="literal">Task</code> class as we were able to use the <code class="literal">DateTime</code> class, and this is really useful for what we are going to do for the rest of the book.</p></div></div>