<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec236"></a>Time for action – kill kill murder die</h2></div></div><hr /></div><p>An explosion like this can't be allowed to roam the streets, wreaking its flaming spite on unsuspecting civilians. It must be stopped. And you, being a video game programmer, are the only <a id="id752" class="indexterm"></a>person who can stop it.</p><p>Write a quick script to determine when the last particle in the explosion has run its course, and then destroy the explosion. It's the only way.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new JavaScript called <code class="literal">DestroyParticleSystem</code>, and attach it as a component to <span class="strong"><strong>Explosion</strong></span>.</p></li><li><p>Modify the script thusly:</p><div class="informalexample"><pre class="programlisting">function LateUpdate ()
{
  if (!particleSystem.IsAlive())
  {
<span class="strong"><strong>  Destroy (this.gameObject);</strong></span>
  }
}</pre></div><p>The built-in <code class="literal">LateUpdate</code> function fires after all <code class="literal">Update</code> function calls have finished.</p></li><li><p>At the <a id="id753" class="indexterm"></a>moment, if you click to view the <span class="strong"><strong>Explosion</strong></span> Prefab in the <span class="strong"><strong>Project</strong></span> panel, you may notice—to your horror—that all of the recent changes you made to your <span class="strong"><strong>Explosion</strong></span> Particle System have not "stuck" in the Prefab. To commit all of the <span class="strong"><strong>Hierarchy</strong></span> panel's <span class="strong"><strong>Explosion</strong></span> changes to the Prefab mothership, click on the <span class="strong"><strong>Apply</strong></span> button at the top of the <span class="strong"><strong>Inspector</strong></span> panel.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_09_25.jpg" /></div></li></ol></div></div>