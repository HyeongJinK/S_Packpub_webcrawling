<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch12lvl1sec301"></a>Clean-up on aisle code</h2></div></div><hr /></div><p>It's more succinct than it was, <a id="id938" class="indexterm"></a>but this code is still a nightmare to read and update. Let's try to refactor it a little more.</p><p>There's a lot of <code class="literal">GetComponent.&lt;Square&gt;().player</code> happening throughout the line. What if we made one function that would do that job, just to shorten up our code and make it a little more readable?</p><p>By setting up a function<a id="id939" class="indexterm"></a> that accepts <code class="literal">x</code> and <code class="literal">y</code> as arguments, and spits out the value of a square's player variable, we'll have a handy and reusable piece of code for all kinds of situations. You should start writing the code into your project again.</p><div class="informalexample"><pre class="programlisting">function GetPlayer(x:int, y:int):int
{
  return aGrid[x,y].GetComponent.&lt;Square&gt;().player;
}</pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch12lvl2sec118"></a>
<span class="emphasis"><em>What just happened â€“ vending machine</em></span>
</h3></div></div></div><p>Just like our vending machine analogy from an earlier chapter, the <code class="literal">GetPlayer</code> function accepts two integers called <code class="literal">x</code> and <code class="literal">y</code> as inputs (these are like quarters and nickels). It uses these values to look up a Square in the grid and, using the <code class="literal">return</code> keyword, the function spits out an <code class="literal">int</code> referring to the value of the square's player variable (this is like a bag of corn chips).</p><p>This function allows us to easily poll any Square by its grid coordinates to find out which piece has been played on it.</p></div></div>