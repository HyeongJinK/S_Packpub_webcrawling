<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch13lvl1sec313"></a>Herpa derp derp</h2></div></div><hr /></div><p>Just to get this up and running, we'll make the artificial intelligence as dumb as possible. The computer will scan the grid for empty Squares, choose one at random, and place an O there.</p><p>We'll accomplish this by looping through our 1-dimensional array of Square references, adding any empty Squares to a separate list, and then choosing a Square at random from that list.</p><p>Add this code to the <a id="id959" class="indexterm"></a>
<code class="literal">ComputerTakeATurn</code> function:</p><div class="informalexample"><pre class="programlisting">function ComputerTakeATurn()
<span class="strong"><strong>{</strong></span>
<span class="strong"><strong>  var square:GameObject;</strong></span>
<span class="strong"><strong>  var aEmptySquares:List.&lt;GameObject&gt; = new List.&lt;GameObject&gt;();</strong></span>
<span class="strong"><strong>  </strong></span>
<span class="strong"><strong>  for(var i:int = 0; i &lt; aSquares.Length; i++)</strong></span>
<span class="strong"><strong>  {</strong></span>
<span class="strong"><strong>    square = aSquares[i];</strong></span>
<span class="strong"><strong>    if(square.GetComponent.&lt;Square&gt;().player == 0) </strong></span>
<span class="strong"><strong>      aEmptySquares.Add(square);</strong></span>
<span class="strong"><strong>  }</strong></span>
<span class="strong"><strong>  square = aEmptySquares[Random.Range(0,aEmptySquares.Count)];</strong></span>
}</pre></div><p>Add this line to the top of the script:</p><div class="informalexample"><pre class="programlisting"> #pragma strict
<span class="strong"><strong> import System.Collections.Generic;</strong></span>
</pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch13lvl2sec121"></a>
<span class="emphasis"><em>What just happened â€“ making a list, checking it twice</em></span>
</h3></div></div></div><p>Let's break this code down.</p><div class="informalexample"><pre class="programlisting"> var square:GameObject;</pre></div><p>This variable will store a reference to a square that we pull from the array. As before, we declare this variable outside the upcoming for loop.</p><div class="informalexample"><pre class="programlisting"> var aEmptySquares:List.&lt;GameObject&gt; = new List.&lt;GameObject&gt;();</pre></div><p>We're going to get a lot of use out of the Generic Array collection type in this chapter. Here, we declare an <code class="literal">aEmptySquares</code> array<a id="id960" class="indexterm"></a> to store all of the Square GameObjects that do not have a player piece in them. (The <code class="literal">import</code> statement we added to the top of the script makes it possible for us to use Generic Arrays).</p><div class="informalexample"><pre class="programlisting"> for(var i:int = 0; i &lt; aSquares.Length; i++)</pre></div><p>We use a for loop to pick through the squares in the 1-dimensional <code class="literal">aSquares</code> array.</p><div class="informalexample"><pre class="programlisting"> square = aSquares[i];</pre></div><p>Inside the loop, we store a reference to the square in the ith position of the array.</p><div class="informalexample"><pre class="programlisting"> if(square.GetComponent.&lt;Square&gt;().player == 0) aEmptySquares.Add(square);</pre></div><p>If the square has a player value of 0, that means it's empty, so we add it to our list of empty squares.</p><div class="informalexample"><pre class="programlisting"> square = aEmptySquares[Random.Range(0,aEmptySquares.Count)];</pre></div><p>Outside the loop, after we've picked through all of the squares, we randomly choose one of the empty squares from the list.</p></div></div>