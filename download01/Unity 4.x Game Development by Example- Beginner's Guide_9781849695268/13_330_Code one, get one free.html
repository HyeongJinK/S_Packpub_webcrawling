<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch13lvl1sec326"></a>Code one, get one free</h2></div></div><hr /></div><p>I don't know about you, but I'm seeing double. The pseudocode to determine a chance to win and a chance to block looks exactly the same. That means we can probably combine the <code class="literal">Win</code> and <code class="literal">Block</code> checks into one efficient function. Let's give it a shot.</p><p>Start by combining the two <code class="literal">ComputerTakeATurn</code> lines from this:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong> square = Win();</strong></span>
<span class="strong"><strong>  if(square == null) square = Block();</strong></span>
  if(square == null) square = CreateTrap();
  if(square == null) square = PreventTrap();</pre></div><p>Into this:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong> square = WinOrBlock();</strong></span>
  if(square == null) square = CreateTrap();
  if(square == null) square = PreventTrap();</pre></div><p>I'll confess that it took quite a bit of trial and error to write a working <code class="literal">WinOrBlock()</code> function. As with any code, there may be better ways to accomplish the same goal, but this is the solution I painstakingly arrived at. I will step through the conclusions I reached in building this function. As you read, picture the mountains of crumpled-up paper and torn-out hair that led to this amazing breakthrough in computer programming.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch13lvl2sec124"></a>Have a go hero - stump the author</h3></div></div></div><p>Before you hear my solution, puzzle through it yourself and see if you can devise a good way to determine whether the computer can win or block. Full disclosure: the solution we're going to build actually uses two functions!</p></div></div>