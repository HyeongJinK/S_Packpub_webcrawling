<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch13lvl1sec323"></a>Time for action – pseu pseu pseudocode</h2></div></div><hr /></div><p>To translate our prioritized peudocode strategy list into actual code, I propose that we turn each attempt at playing a<a id="id989" class="indexterm"></a> piece into its own function. If we find a valid move, the function will return the square where the computer should play a piece. If there's no valid move, the function will return <code class="literal">null</code>, which is the computer code equivalent of "does not exist/totally isn't a thing".</p><p>In the <code class="literal">ComputerTakeATurn</code> function, let's get rid of (or comment out) the code that randomly chooses a square, which is bolded in the following code:</p><div class="informalexample"><pre class="programlisting">function ComputerTakeATurn()
{
<span class="strong"><strong>  var square:GameObject;</strong></span>
<span class="strong"><strong>  </strong></span>
<span class="strong"><strong>  var aEmptySquares:List.&lt;GameObject&gt; = new List.&lt;GameObject&gt;();</strong></span>
<span class="strong"><strong>  </strong></span>
<span class="strong"><strong>  for(var i:int = 0; i &lt; aSquares.Length; i++)</strong></span>
<span class="strong"><strong>  {</strong></span>
<span class="strong"><strong>    square = aSquares[i];</strong></span>
<span class="strong"><strong>    if(square.GetComponent.&lt;Square&gt;().player == 0) </strong></span>
<span class="strong"><strong>      aEmptySquares.Add(square);</strong></span>
<span class="strong"><strong>  }</strong></span>
<span class="strong"><strong>  square = aEmptySquares[Random.Range(0,aEmptySquares.Count)];</strong></span>
<span class="strong"><strong>  </strong></span>
  PlacePiece(OPiece, square);
}</pre></div><p>We'll replace it with<a id="id990" class="indexterm"></a> our pseudocode-turned-real-code list of attempted moves:</p><div class="informalexample"><pre class="programlisting">var square:GameObject;
<span class="strong"><strong>square = Win();</strong></span>
<span class="strong"><strong>if(square == null) square = Block();</strong></span>
<span class="strong"><strong>if(square == null) square = CreateTrap();</strong></span>
<span class="strong"><strong>if(square == null) square = PreventTrap();</strong></span>
<span class="strong"><strong>if(square == null) square = GetCentre();</strong></span>
<span class="strong"><strong>if(square == null) square = GetEmptyCorner();</strong></span>
<span class="strong"><strong>if(square == null) square = GetEmptySide();</strong></span>
<span class="strong"><strong>if(square == null) square = GetRandomEmptySquare();</strong></span>
PlacePiece(OPiece, square);</pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch13lvl2sec123"></a>
<span class="emphasis"><em>What just happened – stepping through the strategy</em></span>
</h3></div></div></div><p>Each of the items in our prioritized strategy list is represented by a (currently non-existent) function. Each function will attempt to find a valid square for the computer player to place its piece, by returning a reference to a square <code class="literal">GameObject</code>.</p><div class="informalexample"><pre class="programlisting">square = Win();</pre></div><p>By writing this, we're setting the value of the <code class="literal">square</code> variable to whatever gets spit out of the <code class="literal">Win</code> function vending machine. If the <code class="literal">Win</code> function<a id="id991" class="indexterm"></a> finds a winning square, the returned item will be a square <code class="literal">GameObject</code>. If the <code class="literal">Win</code> function fails to find a winning square, it will return a value of null.</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>if(square == null) square = Block();</strong></span>
</pre></div><p>In the next lines, we check to see if the value of square is null. If it is, then we'll try the next strategic move, and the next, in decreasing order of preference, until the computer just plays a random empty square, which is the weakest move it can make.</p></div></div>