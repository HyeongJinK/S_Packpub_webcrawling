<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch13lvl1sec327"></a>The actual intelligence behind artificial intelligence</h2></div></div><hr /></div><p>The function needs to check all eight opportunities to score: 3 columns, 3 rows, and 2 diagonals. The big "aha" moment came when I realized that I <a id="id994" class="indexterm"></a>couldn't just eject out of the function with a return statement the moment I discovered a chance to block, because (according to our handy prioritized strategy list), winning is of higher priority than blocking. By immediately returning the first opportunity to block I came across, I might be leaving an unsearched opportunity to win on the table.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_13_05.jpg" /></div><p>It became clear that I would need to store a list of opportunities to block, and a list of opportunities to win. Once I search through all eight scoring scenarios, the function should return a random opportunity to win from the list (if any exist). If not, the function should return a random opportunity to block from the second list (if any existed). If there are no opportunities to block or win, the function should return null.</p><p>For example, in the<a id="id995" class="indexterm"></a> preceding image, the search will find one opportunity to win (by playing the square on the right side), and one opportunity to block (by playing the square on the left side). Those options will each go into a different list. Since winning is a higher priority than blocking, the code will pull a random item out of the list of opportunities to win (there's only one in the list), and the rest of the function will be skipped over.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_13_04.jpg" /></div><p>In the preceding situation, the search will only find one opportunity to block in the left side square. The code will check the list of opportunities to win, and since that list is empty, it will choose a random square from the list of opportunities to block (there's only one on the list).</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_13_06.jpg" /></div><p>In this example, there are no opportunities to win or block, so the two lists will be empty after the search is conducted. <a id="id996" class="indexterm"></a> Since that's the case, the function will return <code class="literal">null</code>.</p><p>The second important breakthrough was parceling out the actual search steps into a separate function, and accepting three individual squares as inputs. It's tough to write a concise loop to pick through the rows, columns, and particularly diagonals in a Tic Tac Toe game, so defining a function that takes three discrete squares as inputs seems like a great way to keep the code simple and concise.</p></div>