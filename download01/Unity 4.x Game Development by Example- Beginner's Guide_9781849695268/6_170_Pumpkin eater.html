<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec173"></a>Pumpkin eater</h2></div></div><hr /></div><p>If you hail from <a id="id486" class="indexterm"></a>Cheaty-Pants land, you may have figured out that you can flip over the same card twice. This isn't technically cheating, but when you break the game, <span class="emphasis"><em>you're only cheating yourself</em></span>. We also have to be careful because a click-happy player might accidentally double-click the first card, and then think that the game is broken when he can't flip over a second card. Let's wrap the <code class="literal">FlipCardFaceUp</code> in a conditional statement to prevent this from happening:</p><div class="informalexample"><pre class="programlisting">function FlipCardFaceUp(card:Card)
{
   card.isFaceUp = true;
<span class="strong"><strong>   if(aCardsFlipped.IndexOf(card) &lt; 0)</strong></span>
<span class="strong"><strong>   {</strong></span>
      aCardsFlipped.Add(card);
      // (the rest of the code is omitted)   
<span class="strong"><strong>   }</strong></span>
} </pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec70"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>This is where we finally get some mileage out of our <code class="literal">Generic List</code> class. <code class="literal">Generic List</code> has a method called <code class="literal">IndexOf</code> that searches itself for an element, and returns the index point of that element.</p><p>Take a look at this example (the log's "answers" are commented at the end of each line):</p><div class="informalexample"><pre class="programlisting">var aShoppingList: List.&lt;String&gt; = new List.&lt;String&gt;();
aShoppingList.Add("apples");
aShoppingList.Add("milk");
aShoppingList.Add("cheese");
aShoppingList.Add("chainsaw");
Debug.Log(aShoppingList.IndexOf("apples")); // 0
Debug.Log(aShoppingList.IndexOf("cheese")); // 2
Debug.Log(aShoppingList.IndexOf("bicarbonate of soda")); // -1</pre></div><p>Since <code class="literal">"apples"</code> is the first element in the list, the method returns <code class="literal">0</code> when we test <code class="literal">IndexOf("apples")</code>. Since <code class="literal">"cheese"</code> is the third element, <code class="literal">IndexOf("cheese")</code> returns <code class="literal">2</code>, and so on. Note that <code class="literal">List</code> returns <code class="literal">-1</code> when the element can't be found.</p><p>So, for our purposes, we do a quick check of the <code class="literal">aCardsFlipped</code> List to make sure it doesn't already contain a reference to the card that was clicked. If the clicked card is already in <code class="literal">aCardsFlipped</code>, that means that the player clicked on the same card twice. If we do detect a double-flip, we simply don't execute the remainder of the card-flipping code. So there.</p><p>Even though its<a id="id487" class="indexterm"></a> fixed-size feature makes the <code class="literal">Built-in Array</code> class faster, it doesn't have this handy <code class="literal">IndexOf()</code> methodâ€”we would have had to write our own. Thumbs up for less work!</p></div></div>