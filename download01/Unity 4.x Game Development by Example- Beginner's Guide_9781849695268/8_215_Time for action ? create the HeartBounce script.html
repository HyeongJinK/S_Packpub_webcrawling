<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec216"></a>Time for action – create the HeartBounce script</h2></div></div><hr /></div><p>We need to attach a new script<a id="id658" class="indexterm"></a> to the <span class="strong"><strong>heart</strong></span>. The script will respond to two important situations: when the <span class="strong"><strong>heart</strong></span> hits the tray, and when the <span class="strong"><strong>heart</strong></span> misses the tray completely and dive-bombs the Great Beyond. Let's create the script and add some simple code to it.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Right-click/alternate-click the <span class="strong"><strong>Project</strong></span> panel (or use the <span class="strong"><strong>Create</strong></span> button) and choose <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>JavaScript</strong></span>.</p></li><li><p>Rename the new script <code class="literal">HeartBounce</code>.</p></li><li><p>Double-click to open the script in the script editor.</p></li><li><p>Add the following code to the top of the script above the <code class="literal">Update</code> function:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>function OnCollisionEnter(col : Collision) {</strong></span>
<span class="strong"><strong>  if(col.gameObject.CompareTag("tray")) {</strong></span>
<span class="strong"><strong>     Debug.Log("yes! hit tray!");</strong></span>
<span class="strong"><strong>  }</strong></span>
<span class="strong"><strong>}</strong></span>
</pre></div></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec90"></a>
<span class="emphasis"><em>What just happened – charting a collision course</em></span>
</h3></div></div></div><p>There's some new code happening here. <code class="literal">OnCollisionEnter</code> is a built-in function that gets called when the GameObject's collider touches (or collides with) another GameObject's collider, as long as one<a id="id659" class="indexterm"></a> of those colliders is attached to a GameObject with a non-kinematic <span class="strong"><strong>Rigidbody</strong></span> Component (like our <span class="strong"><strong>heart</strong></span>). We use the variable <code class="literal">col</code> (short for collision) to store the argument that gets passed in. That argument contains a reference to whatever it was we hit.</p><p>
<span class="strong"><strong>When Worlds Collide</strong></span>
</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip42"></a>Tip</h3><p>There's a handy matrix in the Unity documentation describing how different colliders interact, and the messages they send when they collide.  Give it a look:</p><p>
<a class="ulink" href="http://docs.unity3d.com/Documentation/Components/class-MeshCollider.html" target="_blank">http://docs.unity3d.com/Documentation/Components/class-MeshCollider.html</a>
</p></div><p>One of the ways we can find out exactly what we hit is to ask for its <code class="literal">tag</code>. Here we're asking whether the Collision's <span class="strong"><strong>GameObject</strong></span> is tagged <span class="strong"><strong>tray</strong></span>. In order for this to work, we need to learn how to tag things.</p></div></div>