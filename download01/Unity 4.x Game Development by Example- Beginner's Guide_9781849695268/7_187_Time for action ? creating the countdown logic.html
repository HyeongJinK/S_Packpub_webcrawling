<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec189"></a>Time for action – creating the countdown logic</h2></div></div><hr /></div><p>Let's set the <code class="literal">startTime</code> variable,<a id="id549" class="indexterm"></a> and<a id="id550" class="indexterm"></a> build the logic to handle the<a id="id551" class="indexterm"></a> counting-down functionality of our clock.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Set the <code class="literal">startTime</code> variable:</p><div class="informalexample"><pre class="programlisting">function Awake() {
<span class="strong"><strong>   startTime = Time.time + 5.0;</strong></span>
}</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note18"></a>Note</h3><p>Five seconds to beat the game is a bit ridiculous. We're just keeping the time tight for testing. You can crank this variable up later.</p></div></li><li><p>Decrease the amount of time on the clock:</p><div class="informalexample"><pre class="programlisting">function DoCountdown()
{
<span class="strong"><strong>   timeRemaining = startTime - Time.time;   </strong></span>
}</pre></div></li><li><p>If the clock hits zero, pause the clock and call the <code class="literal">TimeIsUp()</code> function:</p><div class="informalexample"><pre class="programlisting">timeRemaining = startTime - Time.time;
<span class="strong"><strong>if (timeRemaining &lt; 0)</strong></span>
<span class="strong"><strong>{</strong></span>
<span class="strong"><strong>    timeRemaining = 0;</strong></span>
<span class="strong"><strong>    clockIsPaused = true;</strong></span>
<span class="strong"><strong>    TimeIsUp();</strong></span>
<span class="strong"><strong>}</strong></span>
</pre></div></li><li><p>Add some <code class="literal">Debug</code> statements so that<a id="id552" class="indexterm"></a> you can see something happening:</p><div class="informalexample"><pre class="programlisting">function DoCountdown()
{
   // (other lines omitted for clarity)
<span class="strong"><strong>   Debug.Log("time remaining = " + timeRemaining);</strong></span>
}

function TimeIsUp()
{
<span class="strong"><strong>   Debug.Log("Time is up!");</strong></span>
}</pre></div></li><li><p>Save the script and test your game.</p></li></ol></div><p>You should see the <code class="literal">Debug</code> statements in the information bar at the bottom of the screen. When the clock finishes ticking down through five seconds, you'll see the <span class="strong"><strong>Time is up!</strong></span> message… if you're a mutant<a id="id553" class="indexterm"></a> with super-speed vision. The <span class="strong"><strong>Time is up!</strong></span> message gets wiped out by the next "time remaining" message, which continues to be called whether the clock is at zero or not. If you want to see it with normal-people vision, open the Console window (<span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Console</strong></span> in the menu) and watch for it in the list of printed statements.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note19"></a>Note</h3><p>If the <span class="strong"><strong>building grid!</strong></span> print statement from the previous chapters is cluttering up your console window, it's safe to comment that line out with a double slash <code class="literal">//</code>.</p></div><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_07_11.jpg" /></div></div>