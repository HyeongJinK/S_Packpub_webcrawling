<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec188"></a>Time for action – preparing the clock code</h2></div></div><hr /></div><p>Let's rough in a few empty <a id="id542" class="indexterm"></a>functions and three variables that <a id="id543" class="indexterm"></a>we'll need to make the clock work.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open up the <span class="strong"><strong>ClockScript</strong></span> by double-clicking on it. Update the code:</p><div class="informalexample"><pre class="programlisting">#pragma strict
<span class="strong"><strong>var clockIsPaused : boolean = false;</strong></span>
<span class="strong"><strong>var startTime : float; //(in seconds)</strong></span>
<span class="strong"><strong>var timeRemaining : float; //(in seconds)</strong></span>
function Awake()
{
}

function Update() {
<span class="strong"><strong>  if (!clockIsPaused)</strong></span>
<span class="strong"><strong>  {</strong></span>
<span class="strong"><strong>     // make sure the timer is not paused</strong></span>
<span class="strong"><strong>     DoCountdown();</strong></span>
<span class="strong"><strong>  }</strong></span>
}

<span class="strong"><strong>function DoCountdown() {</strong></span>
<span class="strong"><strong>}</strong></span>

<span class="strong"><strong>function PauseClock()</strong></span>
<span class="strong"><strong>{</strong></span>
<span class="strong"><strong>   clockIsPaused = true;</strong></span>
<span class="strong"><strong>}</strong></span>
<span class="strong"><strong>function UnpauseClock()</strong></span>
<span class="strong"><strong>{</strong></span>
<span class="strong"><strong>   clockIsPaused = false;</strong></span>
<span class="strong"><strong>}</strong></span>

<span class="strong"><strong>function ShowTime()</strong></span>
<span class="strong"><strong>{</strong></span>
<span class="strong"><strong>}</strong></span>

<span class="strong"><strong>function TimeIsUp()</strong></span>
<span class="strong"><strong>{</strong></span>
<span class="strong"><strong>}</strong></span>
</pre></div></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec78"></a>
<span class="emphasis"><em>What just happened – that's a whole lotta nothing</em></span>
</h3></div></div></div><p>Here, we've created a list of functions that we'll probably need to get our clock working. The functions are mostly empty, but that's okay—roughing them in like this is a really valid and useful way to program. We have a <code class="literal">DoCountdown()</code> function<a id="id544" class="indexterm"></a> that we call on every update, as long as our <code class="literal">clockIsPaused</code> flag is <code class="literal">false</code>. We have <code class="literal">PauseClock()</code> and <code class="literal">UnpauseClock()</code> functions—each of them needs only one simple line of code to change the <code class="literal">clockIsPaused</code> flag, so we've<a id="id545" class="indexterm"></a> included that. In the <code class="literal">ShowTime()</code> function,<a id="id546" class="indexterm"></a> we'll display the time in the <span class="strong"><strong>GUIText</strong></span> component. Finally, we'll call the <code class="literal">TimeIsUp()</code> function<a id="id547" class="indexterm"></a> when the clock reaches zero.</p><p>At the top of the script are<a id="id548" class="indexterm"></a> three hopefully self-explanatory variables: a Boolean to hold the clock's paused state, a floating point number to hold the start time, and another to hold the remaining time.</p><p>Now that we have the skeleton of our clock code and we see the scope of work ahead of us, we can dive in and flesh it out.</p></div></div>