<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec165"></a>Time for action – modifying the img argument</h2></div></div><hr /></div><p>Because we're passing a<a id="id464" class="indexterm"></a> new <a id="id465" class="indexterm"></a>argument to the <code class="literal">Card</code> class, we have to modify the <code class="literal">Card</code> class to accept it.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Change the <code class="literal">Card</code> class code from this:</p><div class="informalexample"><pre class="programlisting">  class Card extends System.Object
  {
    // (variables omitted for clarity)
    function Card()
    {
      img = "robot";
    }
  }</pre></div><p>to this:</p><div class="informalexample"><pre class="programlisting">  class Card extends System.Object
  {
     // (variables omitted for clarity)   
     function Card(<span class="strong"><strong>img:String</strong></span>)
     {
<span class="strong"><strong>    </strong></span>  <span class="strong"><strong>  this.img = img</strong></span>;
     }
  }</pre></div></li><li><p>Now, find the nested loop in the <code class="literal">Start</code> function where we added all our new cards to the <code class="literal">aGrid</code> array. Change it from this:</p><div class="informalexample"><pre class="programlisting">   for(j=0; j&lt;cols; j++)
   {
      aGrid[i,j] = new Card();
   }</pre></div><p>to this:</p><div class="informalexample"><pre class="programlisting">   for(j=0; j&lt;cols; j++)
   {
<span class="strong"><strong>     var someNum:int = Random.Range(0,aCards.Count);</strong></span>
<span class="strong"><strong>     aGrid[i,j] = aCards[someNum];</strong></span>
<span class="strong"><strong>     aCards.RemoveAt(someNum);</strong></span>
   }</pre></div></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec67"></a>
<span class="emphasis"><em>What just happened?</em></span>
</h3></div></div></div><p>This code should look<a id="id466" class="indexterm"></a> familiar to you, because we're pulling a very similar trick as<a id="id467" class="indexterm"></a> before. We have a deck of cards—the <code class="literal">aCards</code> List. After the <code class="literal">BuildDeck</code> function is finished, the <code class="literal">aCards</code> list is populated with all of the cards we need to deal out to the table.</p><p>We're grabbing a random number using <code class="literal">Random.Range()</code>, and we're supplying the length of the <code class="literal">aCards</code> array as the maximum value. This gives us a value that stays within the bounds of the total number of cards in <code class="literal">aCards</code>.</p><p>Then, we use that random number to pull a card out of the deck and stuff it in the <code class="literal">aGrid</code> 2D array (it gets <span class="emphasis"><em>visually</em></span> dealt to the table later on, in the <code class="literal">BuildGrid()</code> function). Finally, we remove that card from the deck so that we don't accidentally deal it out in successive loops. This prevents us from dealing duplicate cards to the table.</p><p>Save the script and<a id="id468" class="indexterm"></a> play your game! What you should see is an army of<a id="id469" class="indexterm"></a> amputated androids. Awesome! Because the cards are dealt randomly and the deck itself is being built randomly, any pictures of the game that you see from here on may not match what you have on your screen.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_06_04.jpg" /></div></div></div>