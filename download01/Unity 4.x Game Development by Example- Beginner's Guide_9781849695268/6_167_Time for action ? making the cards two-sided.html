<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec170"></a>Time for action – making the cards two-sided</h2></div></div><hr /></div><p>We'll write some logic so<a id="id474" class="indexterm"></a> that the cards show one image or another depending on whether or not they've been flipped over. </p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Find this line in your <code class="literal">BuildGrid</code> function:</p><div class="informalexample"><pre class="programlisting">  if(GUILayout.Button(Resources.Load(card.img),
     GUILayout.Width(cardW)))</pre></div></li><li><p>Change <code class="literal">card.img</code> to <code class="literal">img</code> so that the line reads like this:</p><div class="informalexample"><pre class="programlisting">  if(GUILayout.Button(Resources.Load(<span class="strong"><strong>img</strong></span>), GUILayout.Width(cardW)))</pre></div></li><li><p>Just above that line, find the <code class="literal">card</code> variable definition:</p><div class="informalexample"><pre class="programlisting">  var card:Object = aGrid[i,j];</pre></div></li><li><p>Insert this line just after it:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>var img:String;</strong></span>
</pre></div></li><li><p>Finally, after that line, write this conditional statement:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>  if(card.isFaceUp)</strong></span>
  <span class="strong"><strong>{</strong></span>
<span class="strong"><strong> </strong></span>  <span class="strong"><strong> img = card.img;</strong></span>
  <span class="strong"><strong>} else {</strong></span>
<span class="strong"><strong>    img = "wrench";</strong></span>
  <span class="strong"><strong>}</strong></span>
</pre></div><p>The whole function should look like this when you're finished:</p><div class="informalexample"><pre class="programlisting">  function BuildGrid()
  {
  
    GUILayout.BeginVertical();
    GUILayout.FlexibleSpace();
    for(var i:int=0; i&lt;rows; i++)
    {
      GUILayout.BeginHorizontal();
      GUILayout.FlexibleSpace();
      for(var j:int=0; j&lt;cols; j++)
      {
        var card:Card = aGrid[i,j];  
        var img:String;    
        if(card.isFaceUp)
        {
          img = card.img;
        } else {
          img = "wrench";
        }   
        if(GUILayout.Button(Resources.Load(img), GUILayout.Width(cardW)))
        {
          Debug.Log(card.img);
        }
      }
      GUILayout.FlexibleSpace();
      GUILayout.EndHorizontal();   
    }
    GUILayout.FlexibleSpace();
    GUILayout.EndVertical();
    //print ("building grid!");
  }</pre></div></li></ol></div><p>So, instead of showing the card's image (<code class="literal">card.img</code>) when we draw each card button, we're showing the name of a card that we're storing in a new variable called <code class="literal">img</code>. Note that <code class="literal">img</code> and <code class="literal">card.img</code> are<a id="id475" class="indexterm"></a> two different variables—<code class="literal">card.img</code> belongs to an instance of our <code class="literal">Card</code> class, while <code class="literal">img</code> is just a temporary variable that we're declaring inside our loop, with the line <code class="literal">var img:String;</code>.</p><p>Next, we have a conditional statement. If the <code class="literal">isFaceUp</code> Boolean flag on the card is <code class="literal">true</code>, we set the value of our temporary <code class="literal">img</code> variable to match the <code class="literal">card.img</code> name. But, if the card is not face up, we'll show a generic "wrench" picture. The wrench picture will be the standard reverse image for all of our cards. You can find it in the <code class="literal">Resources</code> folder of the <span class="strong"><strong>Project</strong></span> panel, if you're the kind of person who likes to peek at presents before your birthday.</p></div>