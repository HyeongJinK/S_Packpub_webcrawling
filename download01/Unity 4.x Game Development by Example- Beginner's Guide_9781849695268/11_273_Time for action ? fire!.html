<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch11lvl1sec271"></a>Time for action – fire!</h2></div></div><hr /></div><p>In order to have something for the ship to fire, we have to create a variable at the top of the script called <code class="literal">bullet</code>, and then click-and-drag the <span class="strong"><strong>Bullet</strong></span> Prefab into the variable slot in the <span class="strong"><strong>Inspector</strong></span> panel. Otherwise, the script will have no idea what we're talking about when we <a id="id871" class="indexterm"></a>try to instantiate something called <code class="literal">bullet</code>.</p><p>Follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Add the variable declaration at the top of the <span class="strong"><strong>HeroShip</strong></span> Script:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>var bullet:GameObject;</strong></span>
</pre></div></li><li><p>Save the script.</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, select the <span class="strong"><strong>HeroShip</strong></span> Prefab.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> panel, find the <span class="strong"><strong>HeroShip</strong></span> Script component.</p></li><li><p>Hook up the <span class="strong"><strong>Bullet</strong></span> Prefab to the <code class="literal">bullet</code> variable.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_11_21.jpg" /></div></li></ol></div><p>Let's add a few lines of code to the <span class="strong"><strong>HeroShip</strong></span> Script to make the bullet fire when you click on the<a id="id872" class="indexterm"></a> mouse button, because shooting is cool.</p><div class="informalexample"><pre class="programlisting">function Update ()
{
    transform.position.x = (Input.mousePosition.x )/20;
<span class="strong"><strong>    if(Input.GetMouseButtonDown(0)){</strong></span>
<span class="strong"><strong>      Instantiate(bullet, transform.position + new Vector3(-3,2,0),</strong></span>
<span class="strong"><strong>      Quaternion.identity);</strong></span>
<span class="strong"><strong>      Instantiate(bullet, transform.position + new Vector3(3,2,0),</strong></span>
<span class="strong"><strong>      Quaternion.identity);</strong></span>
<span class="strong"><strong>      }</strong></span>
}</pre></div><p>Let's review:</p><div class="informalexample"><pre class="programlisting">if(Input.GetMouseButtonDown(0)){</pre></div><p>This line returns <code class="literal">true</code> if the left (or primary) mouse button (which has an ID of 0) has been pushed down within this <code class="literal">Update</code> cycle.</p><div class="informalexample"><pre class="programlisting">Instantiate(bullet, transform.position+new Vector3(-3,2,0),
    Quaternion.identity);
Instantiate(bullet, transform.position+new Vector3(3,2,0),
    Quaternion.identity);</pre></div><p>We've used the <code class="literal">Instantiate</code> command before—this time, we're creating two new <span class="strong"><strong>Bullet </strong></span>Prefab instances in the same position as the <span class="strong"><strong>HeroShip</strong></span>, with the same rotation. In the same statement, we're moving the bullets two units along the Y-axis, which places them at the wings of our hero ship. The left bullet gets nudged <code class="literal">-3</code> units along the X-axis, while the right bullet is nudged <code class="literal">3</code> units the other direction, which places the bullets right around the ship's wing-mounted cannons. The bullets start moving up the screen because of <code class="literal">rigidbody.velocity</code> we applied in the bullet script's <code class="literal">Start</code> function.</p><p>Now test your game. When you click on the left mouse button, two new instances of the <span class="strong"><strong>Bullet </strong></span>Prefab are added to the <span class="strong"><strong>Scene</strong></span>. A force is applied to their <span class="strong"><strong>Rigidbody</strong></span> components that will eventually send them careening up to the top of the screen. Then they're positioned at the wing cannons of the <span class="strong"><strong>HeroShip</strong></span>. The script attached to each bullet detects when the bullet has passed the top edge of the play area, and destroys the <span class="strong"><strong>Bullet </strong></span>Prefab instance and everything in it.</p><p>Put more simply: CLICK MOUSE. MAKE SHOOT.</p></div>