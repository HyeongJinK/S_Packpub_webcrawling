<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch10lvl1sec251"></a>Time for action – add facial explosions</h2></div></div><hr /></div><p>Just as we did when our falling object hit the ground, we'll use the <code class="literal">Instantiate</code> command to <a id="id783" class="indexterm"></a>make a copy of a <span class="strong"><strong>Prefab</strong></span> appear in the game world. This time around, when we determine that the player has been hit in the face by a bomb, we'll instantiate the <span class="strong"><strong>Explosion Prefab</strong></span> on top of his head.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Add the following line to the top of the code:</p><div class="informalexample"><pre class="programlisting">var lastX:float;
var isMoving:boolean = false;
<span class="strong"><strong>var explosion:GameObject;</strong></span>
</pre></div></li><li><p>Later on, in the conditional statement that determines when the player is hit by a bomb, add the <a id="id784" class="indexterm"></a>
<code class="literal">Instantiate</code> command:</p><div class="informalexample"><pre class="programlisting">if(col.gameObject.CompareTag("bomb"))
{
  // I got hit by a bomb!      
  Instantiate(explosion, col.gameObject.transform.position,Quaternion.identity);
       } else if (col.gameObject..CompareTag("stein")) {</pre></div></li><li><p>Save the <span class="strong"><strong>Script</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Project</strong></span> panel, select the <span class="strong"><strong>Character Prefab</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> panel, locate the <span class="strong"><strong>Explosion</strong></span> variable in the <span class="strong"><strong>Script</strong></span> component.</p></li><li><p>Click-and-drag the <span class="strong"><strong>Explosion Prefab</strong></span> into the <span class="strong"><strong>Explosion</strong></span> variable slot.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_10_12.jpg" /></div></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec103"></a>
<span class="emphasis"><em>What just happened – raindrops keep 'sploding on my head</em></span>
</h3></div></div></div><p>We <a id="id785" class="indexterm"></a>already know how the <code class="literal">Instantiate</code> command works, so we won't dissect it again. Suffice it to say, when the bomb drops on the player's head, it appears to explode. The explosion removes itself when it's finished, because it has the <span class="strong"><strong>DestroyParticleSystem</strong></span> script attached. Of course, we know what's really going on: we're just moving the bomb to the top of the building and setting it to some random position along the X-axis so that the player thinks it's a new bomb. Meanwhile, we're instantiating a new copy of the <span class="strong"><strong>Explosion Prefab</strong></span> at the exact spot where the bomb was when it collided with the player. Sneaky!</p></div></div>