<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch11lvl1sec260"></a>Time for action â€“ space the shooter up a bit</h2></div></div><hr /></div><p>I've never known a space shooter to take place in front of an apartment building, so let's get rid of our old backdrop. Then we'll pull a fun trick with multiple cameras to add a space backdrop to our <a id="id826" class="indexterm"></a>game.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Click on the brownstone apartment building GameObject and delete it from the <span class="strong"><strong>Scene</strong></span>.</p></li><li><p>Go to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Other</strong></span> | <span class="strong"><strong>Camera</strong></span> to add a second camera to the scene.</p></li><li><p>Rename the camera <code class="literal">SpaceCam</code>.</p></li><li><p>In the <span class="strong"><strong>Project</strong></span> panel, select the <span class="strong"><strong>starfield</strong></span> texture.</p></li><li><p>Go to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Other</strong></span> | <span class="strong"><strong>GUI Texture</strong></span>.</p><p>Suddenly, the starfield image appears in the <span class="strong"><strong>Game</strong></span> view as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_11_01.jpg" /></div></li></ol></div><p>Suddenly, the starfield image appears in the Game view, but it completely takes over, blocking everything in the Scene! Let's fix this.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In <a id="id827" class="indexterm"></a>the <span class="strong"><strong>Hierarchy</strong></span> panel, click on the <span class="strong"><strong>starfield </strong></span>GUITexture that you just created.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> panel, we'll create a new layer. Click on the <span class="strong"><strong>Layer</strong></span> dropdown and select <span class="strong"><strong>Add Layer...</strong></span>.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_11_02.jpg" /></div></li><li><p>Look <a id="id828" class="indexterm"></a>down the list, past all the built-in layers. The next available slot is going to be <span class="strong"><strong>User Layer 8</strong></span>. Click on the empty field beside that label and type <code class="literal">starfield</code>. Press the <span class="emphasis"><em>Enter</em></span> key when you're finished to commit the layer name.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_11_03.jpg" /></div></li><li><p>In <a id="id829" class="indexterm"></a>the <span class="strong"><strong>Hierarchy</strong></span> panel, click to select <span class="strong"><strong>starfield </strong></span>GUITexture.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> panel, click on the <span class="strong"><strong>Layer</strong></span> dropdown and choose the new <span class="strong"><strong>starfield</strong></span> layer you just created.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_11_04.jpg" /></div><p>With the <span class="strong"><strong>starfield </strong></span>GUITexture placed in a layer, we'll modify the <span class="strong"><strong>SpaceCam</strong></span> camera so that it only ever "sees" that <span class="strong"><strong>GUITexture</strong></span>.</p></li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In <a id="id830" class="indexterm"></a>the <span class="strong"><strong>Hierarchy</strong></span> panel, click to select <span class="strong"><strong>SpaceCam</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> panel, remove the <span class="strong"><strong>Flare Layer</strong></span> and <span class="strong"><strong>Audio Listener</strong></span> components (right-click/secondary-click on the names of the Components and choose <span class="strong"><strong>Remove Component</strong></span>, or pick this option by clicking on the small black gear icon to the right of the <span class="strong"><strong>Component</strong></span> label, next to the blue book icon). We can have only one <span class="strong"><strong>Audio Listener</strong></span> in the Scene, so let's leave that job up to the <span class="strong"><strong>Main Camera</strong></span> by getting rid of this extraneous listener. Likewise, we don't need this secondary camera to render any lens flare effects, which is why we're nixing the <span class="strong"><strong>Flare Layer</strong></span>.</p></li><li><p>Find the <span class="strong"><strong>Clear Flags</strong></span> drop-down at the top of the <span class="strong"><strong>Camera</strong></span> component. It defaults to <span class="strong"><strong>Skybox</strong></span>. Instead, set it to <span class="strong"><strong>Solid Color</strong></span>.</p></li><li><p>Change the <span class="strong"><strong>Depth</strong></span> to <span class="strong"><strong>-1</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Culling Mask</strong></span> dropdown, choose <span class="strong"><strong>Nothing</strong></span>. This deselects all other options in the list, and the little Camera Preview window in the Scene view is cleared.</p></li><li><p>Again in the <span class="strong"><strong>Culling Mask</strong></span> dropdown, select the <span class="strong"><strong>starfield</strong></span> layer.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_11_05.jpg" /></div><p>We've now told our <span class="strong"><strong>SpaceCam</strong></span> component to only render (draw, look at) stuff that's on the <span class="strong"><strong>starfield</strong></span> layer. Currently, the only thing on the <span class="strong"><strong>starfield</strong></span> layer is our <span class="strong"><strong>starfield </strong></span>GUITexture. We changed the <span class="strong"><strong>SpaceCam</strong></span> depth to a low number, because we want whatever it sees to appear behind everything our <span class="strong"><strong>Main Camera</strong></span> sees. Let's make a few changes to the <span class="strong"><strong>Main Camera</strong></span> to blend the two cameras' views.</p></li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In <a id="id831" class="indexterm"></a>the <span class="strong"><strong>Hierarchy</strong></span> panel, select <span class="strong"><strong>Main Camera</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> panel, set its <span class="strong"><strong>Clear Flags</strong></span> to <span class="strong"><strong>Depth only</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Culling Mask</strong></span> dropdown, click to uncheck the <span class="strong"><strong>starfield</strong></span> layer. When you do this, you're deselecting the <span class="strong"><strong>starfield</strong></span> layer so that the <span class="strong"><strong>Main Camera</strong></span> sees everything else. The value of <span class="strong"><strong>Culling Mask</strong></span> changes to <span class="strong"><strong>Mixed</strong></span>, and the character model pops into view.</p></li><li><p>Ensure<a id="id832" class="indexterm"></a> that the <span class="strong"><strong>Depth</strong></span> value of the <span class="strong"><strong>Main Camer</strong></span>a is set to <span class="strong"><strong>1</strong></span>.</p><p>Because the <span class="strong"><strong>Main Camera's</strong></span> depth is 1 and the <span class="strong"><strong>SpaceCam's</strong></span> depth is -1, the <span class="strong"><strong>Main Camera's</strong></span> imagery gets layered in front of the <span class="strong"><strong>SpaceCam's</strong></span> picture.. You should now see the jilted lover character from The Break-Up floating in the vacuum of space. As if the poor guy wasn't having a bad enough day already!</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_11_24.jpg" /></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip52"></a>Tip</h3><p>
<span class="strong"><strong>Resizing a GUI Texture</strong></span>
</p><p>If you're running a very high resolution on your monitor, the 1024 x 768 pixel <span class="strong"><strong>starfield</strong></span> image may not be large enough to cover your screen's real estate. You can always select the GUITexture in the <span class="strong"><strong>Hierarchy</strong></span> panel, and adjust its Width and Height <a id="id833" class="indexterm"></a>properties under the <span class="strong"><strong>Pixel Inset</strong></span> heading. Keep in mind, though, that scaling up a bitmap image will lead to an increasingly poorer-quality picture. The very best thing, as we've learned in other chapters, is to choose your target resolution and to build all of your texture assets to work with that resolution.</p><p>
<span class="strong"><strong>Clear Flags</strong></span>
</p><p>The <span class="strong"><strong>Clear Flags</strong></span> setting we just used determines what a camera renders in all the empty space that isn't <span class="emphasis"><em>stuff</em></span> (models, particle effects, and so on). The default is to render the skybox, which is an inverted cube to which you can map, among other things, a sky texture, to provide the illusion that the open world continues on for miles in any direction (which it does not).</p><p>The <span class="strong"><strong>Clear Flags</strong></span> dropdown lets us fill that empty space with a skybox, a solid color, or depth only. With Depth Only, the camera just draws the stuff in its <span class="strong"><strong>Culling Mask</strong></span> list. Any empty areas are gaping holes that get filled with whatever the camera at a lower depth is showing. The final <span class="strong"><strong>Clear Flags</strong></span> option is <span class="strong"><strong>Don't Clear</strong></span>, which Unity doesn't recommend because of the resulting "smear-looking effect".</p></div></li></ol></div></div>