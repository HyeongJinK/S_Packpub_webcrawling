<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec200"></a>Time for action – positioning and scaling the clock</h2></div></div><hr /></div><p>The pie clock is pretty neat,<a id="id607" class="indexterm"></a> but it's sadly stuck to the top-left corner of the screen. It would<a id="id608" class="indexterm"></a> be great if we could make it any size we wanted, and if we could move it anywhere on the screen.</p><p>We're not far off from that goal. Follow these steps to get a dynamically positioned and scaled pie clock:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create these variables at the top of the <code class="literal">OnGUI</code> function:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>  var pieClockX:int = 100;</strong></span>
<span class="strong"><strong>  var pieClockY:int = 50;</strong></span>
<span class="strong"><strong>   </strong></span>
<span class="strong"><strong>  var pieClockW:int = 64; // clock width</strong></span>
<span class="strong"><strong>  var pieClockH:int = 64; // clock height</strong></span>
<span class="strong"><strong>   </strong></span>
<span class="strong"><strong>  var pieClockHalfW:int = pieClockW * 0.5; // half the clock width</strong></span>
<span class="strong"><strong>  var pieClockHalfH:int = pieClockH * 0.5; // half the clock height</strong></span>
</pre></div><p>In this example, <code class="literal">100</code> and <code class="literal">50</code> are the X and Y values where I'd like the pie clock to appear on the screen. The clock builds out from its top-left corner. <code class="literal">64</code> and <code class="literal">64</code> are the width and height values I'd like to make the clock—that's exactly half the size of the original clock.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note20"></a>Note</h3><p>Scaling the clock will result in some ugly image artifacting, so I don't really recommend it. In fact, plugging in non-uniform scale values like 57 x 64 will destroy the illusion completely! But, learning to make the clock's size dynamic is still a worthwhile coding exercise, so let's keep going.</p></div></li><li><p>Modify the <code class="literal">clockRect</code> declaration to make use of the new x, y, width, and height variables:</p><div class="informalexample"><pre class="programlisting">var clockRect:Rect = Rect(<span class="strong"><strong>pieClockX, pieClockY, pieClockW,</strong></span>
<span class="strong"><strong>   pieClockH</strong></span>);</pre></div></li><li><p>Modify the <code class="literal">centerPoint</code> variable to make sure we're still hitting the dead-center of the clock:</p><div class="informalexample"><pre class="programlisting">var centerPoint:Vector2 = Vector2(<span class="strong"><strong>pieClockX + pieClockHalfW,</strong></span>
<span class="strong"><strong>  pieClockY + pieClockHalfH</strong></span>);</pre></div></li><li><p>Save the script and test your <a id="id609" class="indexterm"></a>game. You should see a pint-sized clock (with a few ugly pixels here and there) at x: 100 y: 50 on your screen.</p></li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec84"></a>Have a go hero – rock out with your clock out</h3></div></div></div><p>There's lots more you could add<a id="id610" class="indexterm"></a> to your clock to juice it up. Here are a few ideas:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Add some logic to the <code class="literal">TimeIsUp()</code> method. You could pop up a new GUI window that says <span class="strong"><strong>Time is up!</strong></span> with a <span class="strong"><strong>Try Again</strong></span> button, or you could link to another <span class="strong"><strong>Scene</strong></span> showing your player's character perishing in a blazing inferno… whatever you like!</p></li><li style="list-style-type: disc"><p>Create a <span class="strong"><strong>pause/unpause</strong></span> button that starts and stops the timer. The <code class="literal">ClockScript</code> is already set up to do this—just toggle the <code class="literal">clockIsPaused</code> variable,<a id="id611" class="indexterm"></a> create a variable to keep track of how many seconds elapse while the game is paused, and subtract that number from <code class="literal">timeRemaining</code>.</p></li><li style="list-style-type: disc"><p>In a few chapters, we'll talk about how to add sound to your games. Bring that knowledge back with you to this chapter to add some ticking and buzzer sound effects to your clock.</p></li><li style="list-style-type: disc"><p>Create a button that says <span class="strong"><strong>More Time!</strong></span>. When you click on it, it should add more time to the clock. When you get this working, you can use this logic to add power-ups to your game that increase clock time.</p></li><li style="list-style-type: disc"><p>Use the skills that you've already acquired to tie this clock into any game that you create in Unity, including the keep-up and robot games you've built with this book.</p></li></ul></div></div></div>