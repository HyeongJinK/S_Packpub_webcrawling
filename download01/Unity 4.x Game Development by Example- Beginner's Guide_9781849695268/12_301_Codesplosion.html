<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch12lvl1sec298"></a>Codesplosion</h2></div></div><hr /></div><p>In earlier chapters, I've said that it's more important to get your code working than to make it elegant. However in some situations, like the one you're about to experience, the code is so preposterously inelegant that it cries out to be refactored on the spot.</p><p>Just like in math class where they make you add numbers up a million times before teaching multiplication, let's start by doing this the long way. Don't bother writing any of this code down. Just<a id="id936" class="indexterm"></a> follow along, and look for ways in which it can be cleaned up.</p><p>We can look for 3-in-a-row as follows:</p><div class="informalexample"><pre class="programlisting">// Check the first row:
if(aGrid[0,0].GetComponent.&lt;Square&gt;().player == currentPlayer &amp;&amp; aGrid[1,0].GetComponent.&lt;Square&gt;().player == currentPlayer &amp;&amp; aGrid[2,0].GetComponent.&lt;Square&gt;().player == currentPlayer) return true;
// Check the second row:
if(aGrid[0,1].GetComponent.&lt;Square&gt;().player == currentPlayer &amp;&amp; aGrid[1,1].GetComponent.&lt;Square&gt;().player == currentPlayer &amp;&amp; aGrid[2,1].GetComponent.&lt;Square&gt;().player == currentPlayer) return true;</pre></div><p>... and so on. That will give us 8 gigantic statements: 3 for the rows, 3 for the columns, and 2 for the diagonals.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note28"></a>Note</h3><p>In this example, we're returning a value of true in two places. That's okay. As soon as the interpreter hits the first return statement, it auto-ejects out of the function and skips the rest of the code like a pilot with his mech on fire.</p></div></div>