<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec227"></a>Time for action – prefabulous</h2></div></div><hr /></div><p>Our game is going to contain not one bomb, but many. As with programming, doing something more than once in Unity completely stinks, so we're going to take a shortcut. We're going <a id="id713" class="indexterm"></a>to create a built-in thing called a Prefab that <a id="id714" class="indexterm"></a>will let us create a reusable bomb, much the same way we created a programmatic function that we could call multiple times in our script.</p><p>Follow these steps to create your first Prefab:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Right-click/secondary-click on the <span class="strong"><strong>Project</strong></span> panel and navigate to <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Prefab</strong></span>, or navigate to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Prefab</strong></span> in the menu. A gray box icon appears in your <span class="strong"><strong>Project</strong></span> panel, labeled <span class="strong"><strong>New Prefab</strong></span>. Because the box is gray, we know this Prefab is empty.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_09_11.jpg" /></div></li><li><p>Rename the <span class="strong"><strong>Prefab</strong></span> <code class="literal">Bomb</code>. Just like <span class="strong"><strong>Spark </strong></span>Material, the icon helps us to keep track of what type of thing it is. For further clarity, consider adding the <span class="strong"><strong>Bomb Prefab</strong></span> to a new folder, which you should call <code class="literal">Prefabs</code>.</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, click-and-drag the <span class="strong"><strong>Sparks</strong></span> Particle System to the <span class="strong"><strong>Bomb GameObject</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, click on the gray arrow next to the <span class="strong"><strong>bomb</strong></span> model parent, and you'll see the <span class="strong"><strong>Bomb</strong></span> model and the <span class="strong"><strong>Sparks</strong></span> Particle System nestled <a id="id715" class="indexterm"></a>safely inside. You've created a parent/child<a id="id716" class="indexterm"></a> relationship between the two <span class="strong"><strong>GameObjects</strong></span>. <span class="strong"><strong>Sparks</strong></span> will follow wherever <span class="strong"><strong>Bomb</strong></span> leads.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_09_12.jpg" /></div></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, click-and-drag the parent <span class="strong"><strong>bomb</strong></span> GameObject label, the one that the <span class="strong"><strong>Bomb</strong></span> model and the <span class="strong"><strong>Sparks</strong></span> Particle System are nestled beneath, onto the <span class="strong"><strong>Bomb</strong></span> Prefab in the <span class="strong"><strong>Project</strong></span> panel (remember, it has an empty gray cube icon next to it). As a shortcut, you can also just drag-and-drop a <span class="strong"><strong>GameObject</strong></span> into the <span class="strong"><strong>Project</strong></span> panel, and a Prefab will automatically be created for you.</p></li></ol></div><p>When you pull the <span class="strong"><strong>bomb</strong></span> GameObject into the empty <span class="strong"><strong>Prefab</strong></span>, the gray <span class="strong"><strong>Prefab</strong></span> icon lights up blue. Filled Prefabs are blue, while empty Prefabs are gray. And 3D model icons look suspiciously like filled Prefab icons, except that they have a little white page on their blue boxes.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_09_13.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec95"></a>
<span class="emphasis"><em>What just happened – what's a Prefab?</em></span>
</h3></div></div></div><p>So what the<a id="id717" class="indexterm"></a> heck is a Prefab, anyway? It's a container that <a id="id718" class="indexterm"></a>holds stuff, and it's magically reusable. Now that <span class="strong"><strong>Sparks</strong></span> and <span class="strong"><strong>Bomb</strong></span> are stowed safely inside a Prefab, we can populate the <span class="strong"><strong>Scene</strong></span> view with a whole pile of bombs. If you make any changes to the Prefab, all other instances of the Prefab receive the same change. Let's see that in action:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Click on the <span class="strong"><strong>bomb</strong></span> parent in the <span class="strong"><strong>Hierarchy</strong></span> panel and press the <span class="emphasis"><em>Delete</em></span> key on your keyboard (<span class="emphasis"><em>Command</em></span> + <span class="emphasis"><em>Delete</em></span> on a Mac) to get rid of it. It's okay. The <span class="strong"><strong>Bomb</strong></span> model and <span class="strong"><strong>Sparks</strong></span> are tucked inside our new <span class="strong"><strong>Prefab</strong></span> down in the <span class="strong"><strong>Project</strong></span> panel.</p></li><li><p>Click-and-drag the <span class="strong"><strong>Bomb</strong></span> Prefab out from the <span class="strong"><strong>Project</strong></span> panel into <span class="strong"><strong>Scene</strong></span> lots of times. Populate your <span class="strong"><strong>Scene</strong></span> with five or more <span class="strong"><strong>Bomb</strong></span> Prefabs.</p></li><li><p>Move the bombs around <span class="strong"><strong>Scene</strong></span>, so that they're not all stacked on top of each other.</p><div class="mediaobject"><img src="/graphics/9781849695268/graphics/5268OT_09_14.jpg" /></div></li><li><p>In <a id="id719" class="indexterm"></a>the <span class="strong"><strong>Project</strong></span> panel, open up the <span class="strong"><strong>Bomb</strong></span> Prefab by clicking on its gray arrow.</p></li><li><p>Click on <a id="id720" class="indexterm"></a>the <span class="strong"><strong>Sparks</strong></span> Particle System inside the <span class="strong"><strong>Bomb</strong></span> Prefab.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> panel, scroll down to the <span class="strong"><strong>Renderer</strong></span> section.</p></li><li><p>Click on the <span class="strong"><strong>Particle Texture</strong></span> swatch, where we originally chose the <span class="strong"><strong>fire4</strong></span> texture, and choose a different texture from the list. Choose something silly, like the <span class="strong"><strong>soapbubble</strong></span> texture.</p></li><li><p>All of the <span class="strong"><strong>Bomb</strong></span> Prefabs in your <span class="strong"><strong>Scene</strong></span> should update to display a <span class="strong"><strong>soapbubble</strong></span> texture on their particle systems! Test your game to see this in action.</p></li><li><p>Be sure to change the texture back to <span class="strong"><strong>fire4</strong></span> before continuing (unless you've got a weird sense of humor).</p></li></ol></div><p>You've just proven that what happens to the master Prefab happens to all Prefabs. We'll come back<a id="id721" class="indexterm"></a> to the bombs in a bit. For now, delete all of<a id="id722" class="indexterm"></a> the <span class="strong"><strong>Bomb</strong></span> Prefab instances from the <span class="strong"><strong>Hierarchy</strong></span> panel to get back to an empty <span class="strong"><strong>Scene</strong></span>.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip46"></a>Tip</h3><p>
<span class="strong"><strong>Flashback</strong></span>
</p><p>If you've ever used Flash, the concept of Prefabs may feel familiar. Prefabs behave very much like Flash Movieclips.</p></div></div></div>