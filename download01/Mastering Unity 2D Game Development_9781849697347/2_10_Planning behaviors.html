<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec15"></a>Planning behaviors</h2></div></div><hr /></div><p>Behaviors are just a fancy way of saying <span class="emphasis"><em>things or interactions that will happen in the game</em></span>. Breaking down these actions or reactions in this way helps to componentize how we think our game<a id="id141" class="indexterm"></a> will work. Stopping and thinking about this from the very beginning means we won't get too many surprises later on. (There are always surprises after a good night's sleep.)</p><p>For example, behaviors can take the following forms:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>Attacking another entity</p></li><li style="list-style-type: disc"><p>Taking damage</p></li><li style="list-style-type: disc"><p>Collecting the loot, which could be money or items</p></li><li style="list-style-type: disc"><p>Teleporting to another land</p></li></ul></div><p>It is also important to note that visual effects as the result of a behavior or action are different to those that affect the characteristics of the game's object. You may have a visual representation as the result of a behavior or action (for example, a particle effect when taking damage or the character swinging their sword to attack), but in Unity especially, you have to keep these separate. We will cover more on this later.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note10"></a>Note</h3><p>In traditional games that are built using other systems, bundling visual interactions or audio with behaviors is quite common. However, Unity forces you to think differently; it recommends you to work with the system, not against it.</p></div><p>Behaviors on classes should only affect the class that it is defined on. If you are going to affect another class's attributes, it should be through another behavior on that class.</p><p>It is far too easy to simply perform <code class="literal">player.health = 10</code> rather than <code class="literal">player.damage(10)</code>; this way any side effects or saves from damage can be taken into account within the class itself. Read on!</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec19"></a>Behaviors for the common game object</h3></div></div></div><p>As we have an existing class for common game objects (<code class="literal">Entity</code>), we can start to define some behaviors that are<a id="id142" class="indexterm"></a> common to all the characters in<a id="id143" class="indexterm"></a> our RPG game, namely, the following objects:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><code class="literal">TakeDamage</code>: This is<a id="id144" class="indexterm"></a> an object where a character can <a id="id145" class="indexterm"></a>be damaged. Keeping this object as common ensures that the calculation of damages is the same for all.</p></li><li style="list-style-type: disc"><p><code class="literal">Attack</code>: This is an<a id="id146" class="indexterm"></a> object where a character can attack another<a id="id147" class="indexterm"></a> character; if successful, it deals with damage, or in rare occurrences, it makes characters hurt themselves. Again, having one way to calculate this helps in battle games so that attacks are balanced.</p></li></ul></div><p>So, if we add these behaviors to our <code class="literal">Entity</code> object, we get something that looks like the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849697347/graphics/7347OT_02_15.jpg" /></div><p>The behaviors shown in the preceding screenshot would add the following to the <code class="literal">Entity</code> class code:</p><div class="informalexample"><pre class="programlisting">public void TakeDamage(int Amount) { Health â€“= Mathf.Clamp((Amount - Armor),0,int.MaxValue);}

public void Attack(Entity Entity)
  { Entity.TakeDamage(Strength); }</pre></div><p>We'll not implement<a id="id148" class="indexterm"></a> these actual behaviors in the<a id="id149" class="indexterm"></a> code just yet as we will cover them in more detail when we visit the battle system. For now, we are just setting the ground work for what we expect to use in the game.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec20"></a>Behaviors for the player's character</h3></div></div></div><p>For now, we won't add <a id="id150" class="indexterm"></a>any further behaviors to<a id="id151" class="indexterm"></a> the player; we will simply evolve it as we require it.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note11"></a>Note</h3><p>If you are feeling adventurous using what was previously detailed, try sketching out what kind of behaviors a player's character might have and then compare/test them against future chapters.</p></div></div></div>