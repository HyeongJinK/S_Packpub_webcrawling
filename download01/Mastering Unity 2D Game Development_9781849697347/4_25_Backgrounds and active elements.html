<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec28"></a>Backgrounds and active elements</h2></div></div><hr /></div><p>A slightly more advanced option when building game worlds is to add a level of immersive <a id="id427" class="indexterm"></a>depth to the scene. Having a static image to show the village looks good, especially when you start adding houses and NPCs to the mix; but to really <a id="id428" class="indexterm"></a>make it shine, you should layer the background and add additional active elements to liven it up.</p><p>We won't add them to the sample project at this time, but it is worth experimenting with in your own projects (or try adding it to this one)—it is a worthwhile effect to look into.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec50"></a>Parallaxing</h3></div></div></div><p>If we look at<a id="id429" class="indexterm"></a> the 2D sample provided by Unity, the background is <a id="id430" class="indexterm"></a>split into several panes—each layered on top of one another and each moving at a different speed when the player moves around. There are also other elements such as clouds, birds, buses, and taxis driving/flying around, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849697347/graphics/7347OT_04_37.jpg" /></div><p>Implementing<a id="id431" class="indexterm"></a> these effects is very easy technically. You just need to<a id="id432" class="indexterm"></a> have the art assets available. There are several scripts in the wiki I described earlier, but the one in Unity's own 2D sample is the best I've seen.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note42"></a>Note</h3><p>To see the script, just download the <span class="strong"><strong>Unity Projects: 2D Platformer</strong></span> asset from <a class="ulink" href="https://www.assetstore.unity3d.com/en/#!/content/11228" target="_blank">https://www.assetstore.unity3d.com/en/#!/content/11228</a>, and check out the <code class="literal">BackgroundParallax</code> script in <code class="literal">Assets\Scripts</code>.</p></div><p>The <code class="literal">BackgroundParallax</code> script in the platformer sample implements the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>An <a id="id433" class="indexterm"></a>array of background images, which is layered correctly in the scene (which is why the script does not just discover the background sprites)</p></li><li style="list-style-type: disc"><p>A scaling factor to control how much the background moves in relation to the camera target, for example, the camera</p></li><li style="list-style-type: disc"><p>A reducing factor to offset how much each layer moves so that they all don't move as one (or else what is the point, might as well be a single image)</p></li><li style="list-style-type: disc"><p>A smoothing factor so that each background moves smoothly with the target and <a id="id434" class="indexterm"></a>doesn't jump around</p></li></ul></div><p>Implementing this same model in your game would be fairly simple provided you have texture assets that could support it. Just replicate the structure used in the platformer 2D sample and <a id="id435" class="indexterm"></a>add the script. Remember to update the <code class="literal">FollowCamera</code> script to be <a id="id436" class="indexterm"></a>able to update the base background, however, to ensure that it can still discover the size of the main area.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec51"></a>Foreground objects</h3></div></div></div><p>The other<a id="id437" class="indexterm"></a> thing you can do to liven up your game is to add random foreground objects that <span class="emphasis"><em>float</em></span> across your scene independently. These <a id="id438" class="indexterm"></a>don't collide with anything and aren't anything to do with the game itself. They are just eye candy to make your game look awesome.</p><p>The process to add these is also fairly simple, but it requires some more advanced Unity features such as coroutines, which we are going to cover in another chapter. So, we will come back to these later.</p><p>In short, if you examine the <code class="literal">BackgroundPropSpawner.cs</code> script from the preceding Unity <a id="id439" class="indexterm"></a>platformer 2D sample, you will have to perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create/instantiate an object to spawn.</p></li><li><p>Set a random position and direction for the object to travel.</p></li><li><p>Update the object over its lifetime.</p></li><li><p>Once it's out of the scene, destroy or hide it.</p></li><li><p>Wait for a time, and then start again.</p></li></ol></div><p>This allows them to run on their own without impacting the gameplay itself and just adds that extra bit of depth. In some cases, I've seen particle effects are also used to add effect, but they are used sparingly.</p></div></div>