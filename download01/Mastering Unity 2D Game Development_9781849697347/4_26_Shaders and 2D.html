<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec29"></a>Shaders and 2D</h2></div></div><hr /></div><p>Believe it or<a id="id440" class="indexterm"></a> not, all 2D elements (even in their default state) are <a id="id441" class="indexterm"></a>drawn using a shader—albeit a specially written shader designed to light and draw the sprite in a very specific way. If you look at the player sprite in the inspector, you will see that it uses a special <span class="strong"><strong>Material</strong></span> called <span class="strong"><strong>Sprites-Default</strong></span>, as <a id="id442" class="indexterm"></a>shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849697347/graphics/7347OT_04_38.jpg" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note43"></a>Note</h3><p>This section is purely meant to highlight all the shading options you have in the 2D system. Shaders have not changed much in this update except for the addition of some 2D global lighting found in the default sprite shader.</p><p>For more detail on shaders in general, I suggest a dedicated Unity shader book as it is more than I can cover here.</p></div><p>Clicking on the <span class="inlinemediaobject"><img src="/graphics/9781849697347/graphics/7347OT_04_39.jpg" /></span> button will bring up the material selector, which also shows the two other built-in default materials, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849697347/graphics/7347OT_04_40.jpg" /></div><p>However, selecting <a id="id443" class="indexterm"></a>either of these will render <a id="id444" class="indexterm"></a>your sprite invisible as they require a texture and lighting to work; they won't inherit from the <span class="strong"><strong>Sprite Renderer</strong></span> texture. You can override this by creating your own material and assigning alternate sprite style shaders.</p><p>To create a new material, just select <code class="literal">Assets\Materials</code> (this is not crucial, but it means we create the material in a sensible place in our project folder structure) and then right <a id="id445" class="indexterm"></a>click on and select <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Material</strong></span>. Alternatively, do the same using the project view's <span class="strong"><strong>Edit...</strong></span> menu option, as shown in the<a id="id446" class="indexterm"></a> following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849697347/graphics/7347OT_04_41.jpg" /></div><p>This gives us a basic default <span class="strong"><strong>Diffuse</strong></span> shader, which is fine for basic 3D objects. However, we also have two default sprite rendering shaders available. Selecting the shader dropdown gives us the screen shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849697347/graphics/7347OT_04_42.jpg" /></div><p>Now, these <a id="id447" class="indexterm"></a>shaders have the following two very specific<a id="id448" class="indexterm"></a> purposes:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><span class="strong"><strong>Default</strong></span>: This shader inherits its texture from the <span class="strong"><strong>Sprite Renderer</strong></span> texture to draw the <a id="id449" class="indexterm"></a>sprite as is. This is a very basic functionality—just enough to draw the sprite. (It contains its own static lighting.)</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Diffuse</strong></span>: This <a id="id450" class="indexterm"></a>shader is the same as the <span class="strong"><strong>Default</strong></span> shader; it inherits the texture of <span class="strong"><strong>Default</strong></span>, but it requires an external light source as it does not contain any lighting—this has to be applied separately. It is a slightly more advanced shader, which includes offsets and other functions.</p></li></ul></div><p>Creating one of these materials and applying it to the <span class="strong"><strong>Sprite Renderer</strong></span> texture of a sprite will override its default constrained behavior. This opens up some additional shader options in the <span class="strong"><strong>Inspector</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849697347/graphics/7347OT_04_43.jpg" /></div><p>These options include the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><span class="strong"><strong>Sprite Texture</strong></span>: Although<a id="id451" class="indexterm"></a> changing the <span class="strong"><strong>Tiling</strong></span> and <span class="strong"><strong>Offset</strong></span> values causes a warning to appear, they still display a function (even though the actual displayed value resets).</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Tint</strong></span>: This<a id="id452" class="indexterm"></a> option allows changing the default light tint of the rendered sprite. It is useful to create different colored objects from the same sprite.</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Pixel snap</strong></span>: This <a id="id453" class="indexterm"></a>option makes the rendered sprite crisper but narrows the drawn area. It is a trial and error feature (see the following sections for more information).</p></li></ul></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip26"></a>Tip</h3><p>Achieving pixel perfection in your game in Unity can be a challenge due to the number of factors that can affect it, such as the camera view size, whether the image texture is a <span class="strong"><strong>Power Of Two</strong></span> (<span class="strong"><strong>POT</strong></span>) size, and the import setting for the image. This<a id="id454" class="indexterm"></a> is basically a trial and error game until you are happy with the intended result.</p></div><p>If you<a id="id455" class="indexterm"></a> are feeling adventurous, you can extend these <a id="id456" class="indexterm"></a>default shaders (although this is out of the scope of this book). The full <a id="id457" class="indexterm"></a>code for these shaders can be found at <a class="ulink" href="http://Unity3d.com/unity/download/archive" target="_blank">http://Unity3d.com/unity/download/archive</a>.</p><p>If you are writing your own shaders though, be sure to add some lighting to the scene; otherwise, they are just going to appear dark and unlit. Only the default sprite shader is automatically lit by Unity. Alternatively, you can use the default sprite shader as a base to create your new custom shader and retain the 2D basic lighting.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip27"></a>Tip</h3><p>Another worthy tip is to check out the latest version of the Unity samples (beta) pack. In it, they have added logic to have two sets of shaders in your project: one for mobile and one for desktop, and a script that will swap them out at runtime depending on the platform. This is very cool; check out on the asset store at <a class="ulink" href="https://www.assetstore.unity3d.com/#/content/14474" target="_blank">https://www.assetstore.unity3d.com/#/content/14474</a> and the full review of the pack at <a class="ulink" href="http://darkgenesis.zenithmoon.com/unity3dsamplesbeta-anoverview/" target="_blank">http://darkgenesis.zenithmoon.com/unity3dsamplesbeta-anoverview/</a>.</p></div></div>