<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec25"></a>Zooming a telescopic camera</h2></div></div><hr /></div><p>In this<a id="id101" class="indexterm"></a> recipe, we will create a telescopic camera that zooms in whenever the left mouse button is pressed. This can be very useful, for instance, if we have a sniper in our game.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec68"></a>Getting ready</h3></div></div></div><p>In order to follow this recipe, please import the <code class="literal">basicTerrain</code> package, available in the <code class="literal">0423_02_04_05</code> folder, into your project. The package includes a basic terrain and a camera that can be rotated via a mouse.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec69"></a>How to do it...</h3></div></div></div><p>To create a telescopic camera, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Import the Unity package and open the <code class="literal">02_04_05</code> scene.</p></li><li><p>We need to create a script. In the <span class="strong"><strong>Project</strong></span> view, click on the <span class="strong"><strong>Create</strong></span> drop-down menu and choose <span class="strong"><strong>C# Script</strong></span>. Rename it <code class="literal">TelescopicView</code> and open it in your editor.</p></li><li><p>Open your script and replace everything with the following code:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

public class TelescopicView : MonoBehaviour{
    public float ZoomLevel = 2.0f;
    public float ZoomInSpeed = 100.0f;
    public float ZoomOutSpeed = 100.0f;
    private float initFOV;
    //private Vignetting vignette;
    //public float vignetteAmount = 10.0f;

    void Start(){
        initFOV = Camera.main.fieldOfView;
		//vignette = this.GetComponent("Vignetting") as Vignetting;
    }
    void Update(){
        if (Input.GetKey(KeyCode.Mouse0)){
            ZoomView();
        }else{
            ZoomOut();
        }
    }
    void ZoomView(){
        if (Mathf.Abs(Camera.main.fieldOfView - (initFOV / ZoomLevel)) &lt; 0.5f){
            Camera.main.fieldOfView = initFOV / ZoomLevel;
			// vignette. intensity = vignetteAmount;
        }else if (Camera.main.fieldOfView - (Time.deltaTime * ZoomInSpeed) &gt;= (initFOV / ZoomLevel)){
            Camera.main.fieldOfView -= (Time.deltaTime * ZoomInSpeed);
           // vignette. intensity = vignetteAmount * (Camera.main.fieldOfView - initFOV)/((initFOV / ZoomLevel) - initFOV);
        }
    }
    void ZoomOut(){
        if (Mathf.Abs(Camera.main.fieldOfView - initFOV) &lt; 0.5f){
            Camera.main.fieldOfView = initFOV;
           // vignette. intensity = 0;
        }else if (Camera.main.fieldOfView + (Time.deltaTime * ZoomOutSpeed) &lt;= initFOV){
            Camera.main.fieldOfView += (Time.deltaTime * ZoomOutSpeed);
            //vignette.intensity = vignetteAmount * (Camera.main.fieldOfView - initFOV)/((initFOV / ZoomLevel) - initFOV);
        }
    }
}</pre></div></li><li><p>Save your script and apply it to the <span class="strong"><strong>Main Camera</strong></span> game object.</p></li><li><p>Play your<a id="id102" class="indexterm"></a> scene. You should be able to zoom in the camera view by clicking the mouse button and zoom out by releasing it.</p></li><li><p>The next steps are for only those using Unity Pro. If you are using Unity Pro, please stop the scene.</p></li><li><p>Import Unity's <span class="strong"><strong>Image Effects</strong></span> package by navigating to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import Package</strong></span> | <span class="strong"><strong>Image Effects (Pro Only)</strong></span>.</p></li><li><p>Select<a id="id103" class="indexterm"></a> the <span class="strong"><strong>Main Camera</strong></span> option and apply the <span class="strong"><strong>Vignette</strong></span> image effect (by navigating to <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Image Effects</strong></span> | <span class="strong"><strong>Vignette</strong></span>).</p></li><li><p>Open the <code class="literal">TelescopicView</code> script and uncomment every commented line (these are the ones referencing the <code class="literal">vignetteAmount</code> variable).</p></li><li><p>Save the script and play the level. You should see an animated vignetting effect in addition to the zooming:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_02_15.jpg" /></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec70"></a>How it works...</h3></div></div></div><p>The zooming effect<a id="id104" class="indexterm"></a> is actually caused by the increment made by the script on the value of the camera's <span class="strong"><strong>Field of View</strong></span> property, while the mouse button is pressed.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec71"></a>There's more...</h3></div></div></div><p>If you are using Unity Pro<a id="id105" class="indexterm"></a>, you could also add a variable to control the <span class="strong"><strong>Blur Vignette</strong></span> level of the <span class="strong"><strong>Vignette</strong></span> image effect.</p></div></div>