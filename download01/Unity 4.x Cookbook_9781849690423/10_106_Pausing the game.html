<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch10lvl1sec103"></a>Pausing the game</h2></div></div><hr /></div><p>As compelling as your next<a id="id749" class="indexterm"></a> game will be, you should always let players pause it for a short break. In this recipe, we will implement a simple and effective pause screen, including controls for changing the display's quality settings.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec356"></a>Getting ready</h3></div></div></div><p>For this recipe, we have prepared a package named <code class="literal">BallShooterGame</code> containing a playable scene. The package is in the <code class="literal">0423_10_01</code> folder.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec357"></a>How to do it...</h3></div></div></div><p>To pause your game upon pressing the <span class="emphasis"><em>Esc</em></span> key, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Import the <code class="literal">BallShooterGame</code> package into your project and open the level named <code class="literal">RoomLevel</code> (from the <code class="literal">Scenes</code> folder).</p></li><li><p>Add the following C# Script (<code class="literal">PauseGame</code>) to <span class="strong"><strong>First Person Controller</strong></span>:</p><div class="informalexample"><pre class="programlisting">// file: PauseGame.cs
using UnityEngine;
using System.Collections;

public class PauseGame : MonoBehaviour {
  public bool expensiveQualitySettings = true;
  private bool isPaused = false;
  private void Update() {
    if (Input.GetKeyDown(KeyCode.Escape)) {
      if (isPaused)
        ResumeGameMode();
      else
        PauseGameMode();
    }
  }
  private void ResumeGameMode() {
    Time.timeScale = 1.0f;
    isPaused = false;
    Screen.showCursor = false;
    GetComponent&lt;MouseLook&gt;().enabled = true;
  }
  private void PauseGameMode() {
    Time.timeScale = 0.0f;
    isPaused = true;
    Screen.showCursor = true;
    GetComponent&lt;MouseLook&gt;().enabled = false;
  }
  private void OnGUI() {
    if(isPaused)
      PauseGameGUI();
  }
  private void PauseGameGUI(){
    string[] names = QualitySettings.names;
    string message = "Game Paused. Press ESC to resume or select a new quality setting below.";
    GUILayout.BeginArea(new Rect(0, 0, Screen.width, Screen.height));
    GUILayout.FlexibleSpace();
    GUILayout.BeginHorizontal();
    GUILayout.FlexibleSpace();
    GUILayout.BeginVertical();
    GUILayout.Label(message, GUILayout.Width(200));
    for (int i = 0; i &lt; names.Length; i++) {
      if (GUILayout.Button(names[i],GUILayout.Width(200)))
        QualitySettings.SetQualityLevel(i, expensiveQualitySettings);
    }
    GUILayout.EndVertical();
    GUILayout.FlexibleSpace();
    GUILayout.EndHorizontal();
    GUILayout.FlexibleSpace();
    GUILayout.EndArea();
  }
}</pre></div></li><li><p>When you play the scene, you should be able to pause/resume the game by pressing the <span class="emphasis"><em>Esc</em></span> key.</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_10_01.jpg" /></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec358"></a>How it works...</h3></div></div></div><p>The value of the <code class="literal">Boolean</code> flag variable <code class="literal">isPaused</code> is used to decide what to do when <span class="emphasis"><em>Esc</em></span> is pressed. If the game is paused, it resumes by calling <code class="literal">ResumeGameMode()</code><a id="id750" class="indexterm"></a>. If the game was not paused, it will be paused by calling the <code class="literal">PauseGameMode()</code> method<a id="id751" class="indexterm"></a>.</p><p>To pause the game, we disable the <code class="literal">MouseLook</code> component<a id="id752" class="indexterm"></a>, reveal the mouse cursor, and set the value of the <code class="literal">Time.timeScale</code> variable to <code class="literal">0</code>â€”this sets the frame rate to <code class="literal">0</code>, so if all logic is frame-based, effectively the game is paused. When the game is in pause mode (<code class="literal">isPaused</code> is <code class="literal">true</code>), <code class="literal">OnGUI()</code> will call <code class="literal">PauseGameGUI()</code><a id="id753" class="indexterm"></a> to use the opportunity to reveal the mouse cursor and display GUI buttons that activate different levels of quality settings.</p><p>To resume the game, we hide the mouse cursor, enable the <code class="literal">MouseLook</code> component, and set <code class="literal">Time.timeScale</code> back to <code class="literal">1.0</code>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec359"></a>There's more...</h3></div></div></div><p>You can always add more functionality to the Pause screen by displaying sound volume controls, save/load buttons, and so on.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch10lvl3sec77"></a>Learning more about quality settings</h4></div></div></div><p>Our code for changing<a id="id754" class="indexterm"></a> quality settings is a slight modification of the example given by Unity's documentation. If you want to learn more about the subject, check it out at <a class="ulink" href="http://docs.unity3d.com/Documentation/ScriptReference/QualitySettings.html" target="_blank">docs.unity3d.com/Documentation/ScriptReference/QualitySettings.html</a>.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch10lvl2sec360"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Implementing slow motion</em></span> recipe</p></li></ul></div></div></div>