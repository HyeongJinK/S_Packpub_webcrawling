<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec73"></a>Loading external resource files – by Unity Default Resources</h2></div></div><hr /></div><p>In this recipe,<a id="id481" class="indexterm"></a> we will load an external image file<a id="id482" class="indexterm"></a> and display it on the screen using the Unity <span class="strong"><strong>Default Resources</strong></span> file (a library created at the time the game is compiled).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note18"></a>Note</h3><p>This method is perhaps the simplest way to store and read external resource files. However, it is only appropriate when the contents of the resource files will not change after compilation since the contents of these text files are combined and compiled into the <code class="literal">resources.assets</code> file.</p><p>The <code class="literal">resources.assets</code> file can be found in the <code class="literal">Data</code> folder for a compiled game.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec249"></a>Getting ready</h3></div></div></div><p>In the <code class="literal">0423_07_01</code> folder we have provided the following for this recipe: an image file, a text file, and an audio file in Ogg format:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><code class="literal">externalTexture.jpg</code></p></li><li style="list-style-type: disc"><p><code class="literal">cities.txt</code></p></li><li style="list-style-type: disc"><p><code class="literal">soundtrack.ogg</code></p></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec250"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In the <span class="strong"><strong>Project</strong></span> window, create a new folder and rename it <code class="literal">Resources</code>.</p></li><li><p>Import the <code class="literal">externalTexture.jpg</code> file and place it into the <code class="literal">Resources</code> folder.</p></li><li><p>Add the following C# script to the <span class="strong"><strong>Main Camera</strong></span>:</p><div class="informalexample"><pre class="programlisting">// file: ReadDefaultResources.cs
using UnityEngine;
using System.Collections;

public class ReadDefaultResources : MonoBehaviour {
  public string fileName = "externalTexture";
  private Texture2D externalImage;

  private void Start () {
    externalImage = (Texture2D)Resources.Load(fileName);
  }
  
  private void OnGUI() {
    GUILayout.Label(externalImage);
  }
}</pre></div></li><li><p>Play the scene. The texture will be loaded and displayed on the screen.</p></li><li><p>If you <a id="id483" class="indexterm"></a>have another<a id="id484" class="indexterm"></a> image file, put a copy into in the <code class="literal">Resources</code> folder, then in the <span class="strong"><strong>Inspector</strong></span> view, change the public filename to the name of your image file and play the scene again. The new image should now be displayed.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec251"></a>How it works...</h3></div></div></div><p>The <code class="literal">Resources.Load(fileName)</code> statement makes Unity look inside its compiled <code class="literal">resources.assets</code> project data file for the contents of file named <code class="literal">externalTexture</code>. The contents are returned as a texture image, which is stored in the <code class="literal">externalImage</code> variable. Our <code class="literal">OnGU()</code> method<a id="id485" class="indexterm"></a> displays <code class="literal">externalImage</code> as <code class="literal">Label()</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note19"></a>Note</h3><p>The filename string passed to <code class="literal">Resources.Load()</code> does <span class="emphasis"><em>not</em></span> include the file extension (such as <code class="literal">.jpg</code> or <code class="literal">.txt</code>).</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec252"></a>There's more...</h3></div></div></div><p>Here are some details you don't want to miss.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec59"></a>Loading text files with this method</h4></div></div></div><p>You can load <a id="id486" class="indexterm"></a>external text files using the same approach. The <a id="id487" class="indexterm"></a>private variable needs to be a String (to store the text file contents). The <code class="literal">Start()</code> method<a id="id488" class="indexterm"></a> uses a temporary <code class="literal">TextAsset</code> object to receive the text file contents, and the <code class="literal">text</code> property of this object contains the String contents to be stored in the private variable:</p><div class="informalexample"><pre class="programlisting">public class ReadDefaultResources : MonoBehaviour {
  public string fileName = "textFileName";
  private string textFileContents;

  private void Start () {
    TextAsset textAsset = (TextAsset)Resources.Load(fileName);
    textFileContents = textAsset.text;
  }
  
  private void OnGUI() {
    GUILayout.Label(textFileContents);
  }
}</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec60"></a>Loading and playing audio files with this method</h4></div></div></div><p>You can load <a id="id489" class="indexterm"></a>external audio files<a id="id490" class="indexterm"></a> using the same approach. The<a id="id491" class="indexterm"></a> private <a id="id492" class="indexterm"></a>variable needs to be an <code class="literal">AudioClip</code> object:</p><div class="informalexample"><pre class="programlisting">// file: ReadDefaultResources.cs
using UnityEngine;
using System.Collections;

[RequireComponent (typeof (AudioSource))]

public class ReadDefaultResources : MonoBehaviour {
  public string fileName = "soundtrack";
  private AudioClip audioFile;
  
  void  Start (){
    audio.clip = (AudioClip)Resources.Load(fileName);
    if(!audio.isPlaying &amp;&amp; audio.clip.isReadyToPlay)
      audio.Play();
  }
  
  private void OnGUI () {
    if(GUILayout.Button("Play")){ audio.Play(); }
    if(GUILayout.Button("Pause")){ audio.Pause(); }
    if(GUILayout.Button("Stop")){ audio.Stop(); }  }
}</pre></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec253"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Loading external resource files – by manually storing files in Unity's Resources folder</em></span> recipe.</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Loading external resource files – by downloading files from the Internet</em></span> recipe.</p></li></ul></div></div></div>