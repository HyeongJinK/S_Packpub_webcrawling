<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch11lvl1sec116"></a>Creating a rearview mirror</h2></div></div><hr /></div><p>In this recipe, we will take<a id="id883" class="indexterm"></a> advantage of Unity Pro's ability to render camera views into textures to make a <span class="strong"><strong>rearview mirror</strong></span>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch11lvl2sec403"></a>Getting ready</h3></div></div></div><p>In order to follow this recipe, please use the example scene <code class="literal">mirrorPackage</code>, available in the Unity Package format in the <code class="literal">0423_11_02</code> folder.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch11lvl2sec404"></a>How to do it...</h3></div></div></div><p>To create a rearview mirror, <a id="id884" class="indexterm"></a>perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Import <span class="strong"><strong>mirrorPackage</strong></span> and open the scene named <span class="strong"><strong>mirrorScene</strong></span>, from the <span class="strong"><strong>11_02</strong></span> folder.</p></li><li><p>Using the Transform tools (Move and Rotate), place the <span class="strong"><strong>Main Camera</strong></span> next to the left-hand side of the car, as shown in the following screenshot. Make sure the rearview mirror is framed.</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_12_02.jpg" /></div></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> view, expand the <span class="strong"><strong>car</strong></span> object. Then, drag the camera into the <span class="strong"><strong>carGroup</strong></span> sub-object, making it a child of the <span class="strong"><strong>carGroup</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_12_03.jpg" /></div></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> view, access the <span class="strong"><strong>Create</strong></span> drop-down menu to add a <span class="strong"><strong>Camera</strong></span> to the scene. Change<a id="id885" class="indexterm"></a> its name to <code class="literal">mirrorCam</code> and in the <span class="strong"><strong>Inspector</strong></span> view, disable its <span class="strong"><strong>Audio Listener</strong></span> property.</p></li><li><p>Position and rotate the camera as if it is inside the rearview mirror object:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_12_04.jpg" /></div></li><li><p>Expand the <span class="strong"><strong>car</strong></span> object and then the <span class="strong"><strong>carGroup</strong></span> sub-object. Make the <span class="strong"><strong>mirrorCam</strong></span> a child of <span class="strong"><strong>carGroup</strong></span>.</p></li><li><p>Now, let's create a new material for the mirror. In the <span class="strong"><strong>Project</strong></span> view, select the <span class="strong"><strong>Create</strong></span> drop-down menu and choose <span class="strong"><strong>Material</strong></span>. Name it as <code class="literal">mirrorMaterial</code>. Next, select the <span class="strong"><strong>Create</strong></span> drop-down menu one more time and choose <span class="strong"><strong>Render Texture</strong></span>. Rename it to <code class="literal">mirrorTex</code>.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> view, set the <span class="strong"><strong>mirrorText</strong></span> size to 1024 x 512.</p></li><li><p>Select the <span class="strong"><strong>mirrorCam</strong></span> object. In the <span class="strong"><strong>Inspector</strong></span> view, change the value of <span class="strong"><strong>Target Texture</strong></span> field to <span class="strong"><strong>mirrorTex</strong></span>.</p></li><li><p>Select <span class="strong"><strong>mirrorMaterial</strong></span> <a id="id886" class="indexterm"></a>and change its <span class="strong"><strong>Main Color</strong></span> texture to <span class="strong"><strong>mirrorTex</strong></span>. This can be done by dragging the <span class="strong"><strong>mirrorTex</strong></span> material from the <span class="strong"><strong>Project</strong></span> view into the <span class="strong"><strong>Main Color</strong></span> texture slot.</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_12_05.jpg" /></div></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> window, select the <span class="strong"><strong>mirror</strong></span> sub-object. Then apply the <span class="strong"><strong>mirrorMaterial</strong></span> by dragging it from the <span class="strong"><strong>Project</strong></span> view into the <span class="strong"><strong>Inspector</strong></span> view (below its current material).</p></li><li><p>Now, the map must be flipped horizontally (more precisely, mirrored). In the <span class="strong"><strong>Project</strong></span> view, select <span class="strong"><strong>mirrorTex</strong></span> and change its <span class="strong"><strong>Wrap Mode</strong></span> to <span class="strong"><strong>Repeat</strong></span>.</p></li><li><p>Select <span class="strong"><strong>mirrorMaterial</strong></span> and change its <span class="strong"><strong>x Tiling</strong></span> value to <code class="literal">-1</code>:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_12_06.jpg" /></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch11lvl2sec405"></a>How it works...</h3></div></div></div><p>As you have learned<a id="id887" class="indexterm"></a> from the recipe, the mirror's camera view is actually being rendered into the Render Texture in real time.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch11lvl2sec406"></a>There's more...</h3></div></div></div><p>The following is a list of interesting things that can be done with Render To Texture:</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch11lvl3sec91"></a>Adding details</h4></div></div></div><p>You could also <a id="id888" class="indexterm"></a>make your mirror material more interesting by changing its <span class="strong"><strong>Shader</strong></span> from <span class="strong"><strong>Diffuse</strong></span> to <span class="strong"><strong>Decal</strong></span>. Then you can add an RGBA texture map to it where the alpha channel would control the opaqueness of the <span class="strong"><strong>Decal</strong></span> texture. This is a great way of adding a layer of dust or stain to the mirror.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch11lvl3sec92"></a>Using Render Texture as a TV screen</h4></div></div></div><p>You could easily adapt this <a id="id889" class="indexterm"></a>recipe to make a TV or monitor screen texture. The only major change would be not changing the <span class="strong"><strong>x</strong></span> tiling value to <code class="literal">-1</code>.</p></div></div></div>