<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec26"></a>Making an inspect camera</h2></div></div><hr /></div><p>Inspect cameras <a id="id106" class="indexterm"></a>are a very popular way of displaying products online. These virtual displays usually feature a camera that orbits around and zooms in and out the product. In this recipe, we will learn how to implement such a camera using a standard Unity component as a starting point.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec72"></a>Getting ready</h3></div></div></div><p>In order to follow this recipe,<a id="id107" class="indexterm"></a> please import the <code class="literal">inspectScene</code> package, available in the <code class="literal">0423_02_06</code> folder, into your project. The package includes a basic scene containing the 3D model of a mobile phone and a camera.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note03"></a>Note</h3><p>Please note this recipe involves editing a JavaScript file provided by Unity. In case you want the C# version of the final script, we have included it in the 0423_02_06 folder.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec73"></a>How to do it...</h3></div></div></div><p>To create an inspect camera, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Import the <code class="literal">inspectScene</code> Unity package and open the scene available in the <code class="literal">02_06</code> folder, also named <code class="literal">inspectScene</code>.</p></li><li><p>Add a directional light to the scene, making it cast light in the same direction the camera is facing.</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> view, drag the <span class="strong"><strong>Directional Light</strong></span> into the <span class="strong"><strong>Main Camera</strong></span> game object, making it a child of the <span class="strong"><strong>Main Camera</strong></span> game object.</p></li><li><p>Make sure the <code class="literal">MouseOrbit</code> script is available at the <span class="strong"><strong>Project</strong></span> view (it should be inside the <span class="strong"><strong>Standard Assets</strong></span> | <span class="strong"><strong>Scripts</strong></span> | <span class="strong"><strong>Camera Scripts</strong></span> folder). If not, import the <span class="strong"><strong>Scripts</strong></span> package by navigating to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import Package</strong></span> | <span class="strong"><strong>Scripts</strong></span>.</p></li><li><p>Duplicate the <code class="literal">MouseOrbit</code> script and rename the new copy to <code class="literal">InspectCamera</code>.</p></li><li><p>Open the <code class="literal">InspectCamera</code> script in your editor.</p></li><li><p>Insert, before the line starting with <code class="literal">@script</code>, insert the following code:</p><div class="informalexample"><pre class="programlisting">var zoomInLimit = 2.0; 
var zoomOutLimit = 1.0; 
private var initialFOV : float;</pre></div></li><li><p>Then, change the line starting with <code class="literal">@script</code> to:</p><div class="informalexample"><pre class="programlisting">@script AddComponentMenu("Camera-Control/Inspect Camera")</pre></div></li><li><p>Also, add the following lines of code right after the <code class="literal">Start</code> function begins:</p><div class="informalexample"><pre class="programlisting">initialFOV = camera.fieldOfView; 
transform.position = new Vector3(0.0f, 0.0f, -distance) + target.position;</pre></div></li><li><p>Then, replace<a id="id108" class="indexterm"></a> all of the <code class="literal">LateUpdate</code> function with the following code:</p><div class="informalexample"><pre class="programlisting">function LateUpdate () {
   if (target &amp;&amp; Input.GetMouseButton(0)) {
		if(Input.GetKey(KeyCode.RightShift) || Input.GetKey(KeyCode.LeftShift)){
 			var zoom = camera.fieldOfView - Input.GetAxis ("Mouse Y");
			if(zoom &gt;= initialFOV / zoomInLimit &amp;&amp; zoom &lt;= initialFOV / zoomOutLimit){
  				camera.fieldOfView -= Input.GetAxis ("Mouse Y");
			} 					  
 		} else {
			x += Input.GetAxis("Mouse X") * xSpeed * 0.02;
             y -= Input.GetAxis("Mouse Y") * ySpeed * 0.02;
             } 
     y = ClampAngle(y, yMinLimit, yMaxLimit);
     var rotation = Quaternion.Euler(y, x, 0);
     var position = rotation * Vector3(0.0, 0.0, -distance) + target.position;
   	transform.rotation = rotation;
    	transform.position = position;
    }
}</pre></div></li><li><p>Save the script. Then, select the <span class="strong"><strong>Main Camera</strong></span> option in the <span class="strong"><strong>Hierarchy</strong></span> view and add the <span class="strong"><strong>Inspect Camera</strong></span> component by navigating to <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Camera-Control</strong></span> | <span class="strong"><strong>Inspect Camera</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_02_16.jpg" /></div></li><li><p>The <span class="strong"><strong>Inspect Camera</strong></span> component should now be available in the <span class="strong"><strong>Inspector</strong></span> window for<a id="id109" class="indexterm"></a> the <span class="strong"><strong>Main Camera</strong></span>. From the <span class="strong"><strong>Hierarchy</strong></span> view, drag the <span class="strong"><strong>mobile</strong></span> game object into the <span class="strong"><strong>Target</strong></span> slot. Then, change the <span class="strong"><strong>Distance</strong></span> value to <span class="strong"><strong>1</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_02_17.jpg" /></div></li><li><p>Play the scene. Move the mouse and keep the left button pressed to look around the object. To zoom in and out, keep the left button and the <span class="emphasis"><em>Shift</em></span> key pressed, and move the mouse vertically.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec74"></a>How it works...</h3></div></div></div><p>Unlike Unity's <code class="literal">MouseOrbit</code>, our <code class="literal">InspectCamera</code> script checks if the mouse button is pressed as a condition <a id="id110" class="indexterm"></a>to move the camera. We have also implemented a zooming feature that changes the value of the camera's <span class="strong"><strong>Field of View</strong></span> when the <span class="emphasis"><em>Shift</em></span> key and a mouse button are pressed, and the mouse is moved vertically.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec75"></a>There's more...</h3></div></div></div><p>If you want a C# version of the script, don't worry; we have included it in the <code class="literal">0423_02_07</code> folder. Also, should you need to use another key instead of <span class="emphasis"><em>Shift</em></span>, check out Unity's documentation for the appropriate key codes at <a class="ulink" href="http://docs.unity3d.com/Documentation/ScriptReference/KeyCode.html" target="_blank">http://docs.unity3d.com/Documentation/ScriptReference/KeyCode.html</a>.</p></div></div>