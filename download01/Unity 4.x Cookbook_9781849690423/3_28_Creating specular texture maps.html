<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec32"></a>Creating specular texture maps</h2></div></div><hr /></div><p>Some surfaces <a id="id160" class="indexterm"></a>can have both glossy and matte areas. In order to achieve that effect, we can use specular maps.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec94"></a>Getting ready</h3></div></div></div><p>For illustration purposes, we will create a rusted metal material to demonstrate how the specular property can be used to enhance realism. If you don't have a base texture to develop into a specular material, please use the one included in the book's <code class="literal">0423_03_03</code> content folder.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec95"></a>How to do it...</h3></div></div></div><p>To create a specular material, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new material called <code class="literal">rustyMetalMaterial</code><a id="id161" class="indexterm"></a>.</p></li><li><p>Select your material. In the <span class="strong"><strong>Inspector</strong></span> view, under the material's name, use the drop-down menu to change its <span class="strong"><strong>Shader</strong></span> value to <span class="strong"><strong>Specular</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_03_10.jpg" /></div></li><li><p>Open the base texture in your image editor (we'll use Adobe Photoshop to illustrate the next steps).</p></li><li><p>Open the <span class="strong"><strong>Channels</strong></span> window (in Photoshop this can be done by navigating to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Channels</strong></span>).</p></li><li><p>There should be three channels: <span class="strong"><strong>Red</strong></span>, <span class="strong"><strong>Green</strong></span>, and <span class="strong"><strong>Blue</strong></span>. Create a new channel. This <a id="id162" class="indexterm"></a>will be the <span class="strong"><strong>Alpha</strong></span> channel that controls the gloss level of our specular material:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_03_11.jpg" /></div></li><li><p>We want our <span class="strong"><strong>Alpha</strong></span> channel to emphasize the contrast between rust and metal. Since <span class="strong"><strong>Blue</strong></span> is the channel with higher level of contrast, we will select it on the <span class="strong"><strong>Channels</strong></span> window and make all the other channels invisible. The resulting image will be displayed in grayscale, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_03_12.jpg" /></div></li><li><p>Select and copy all the image pixels (using <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>A</em></span>/<span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>C</em></span> on Windows, or <span class="emphasis"><em>Command</em></span> + <span class="emphasis"><em>A</em></span>/<span class="emphasis"><em>Command</em></span> + <span class="emphasis"><em>C</em></span> on Mac OS).</p></li><li><p>In the <a id="id163" class="indexterm"></a>
<span class="strong"><strong>Channels</strong></span> window, select the <span class="strong"><strong>Alpha</strong></span> channel and paste the image you have copied.</p></li><li><p>Now, intensify the contrast by going to <span class="strong"><strong>Image</strong></span> | <span class="strong"><strong>Adjustments</strong></span> | <span class="strong"><strong>Brightness/Contrast</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_03_13.jpg" /></div></li><li><p>Still in the <span class="strong"><strong>Channels</strong></span> window, bring the colors back by enabling all RGB channels.</p></li><li><p>In addition to the rusty metal plate, let's simulate a paint layer on the wall: create a type layer in yellow. You can type whatever you want.</p></li><li><p>Change the type layer's blending mode to <span class="strong"><strong>Overlay</strong></span> and set its <span class="strong"><strong>Opacity</strong></span> to <span class="strong"><strong>80%</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_03_14.jpg" /></div></li><li><p>Flatten your image (this is necessary, or Unity might discard the alpha channel you created and use the image layer transparent pixels as the alpha channel instead).</p></li><li><p>Save your <a id="id164" class="indexterm"></a>work as a new image file (<code class="literal">.psd</code> or <code class="literal">.tga</code> formats are good options, as they keep the alpha channel).</p></li><li><p>Inside the Unity Editor, import your image file access through the <span class="strong"><strong>Assets</strong></span> menu, clicking on <span class="strong"><strong>Import New Asset...</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Project</strong></span> view, choose the <code class="literal">rustyMetalMaterial</code> asset. Then, apply the texture you've made as a Base map (by either clicking on the <span class="strong"><strong>Select</strong></span> button or dragging it from the <span class="strong"><strong>Project</strong></span> view to the material slots). Your specular mapped material is ready:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_03_15.jpg" /></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec96"></a>How it works...</h3></div></div></div><p>Unity is able to read four channels of a texture map: R (red), G (green), B (blue), and A (alpha). Specular shaders use RGB channels as the base texture (often called diffuse texture), while using the Alpha to set the specular brightness of the material according to each pixel's brightness level.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec97"></a>There's more...</h3></div></div></div><p>The specular shader features some other parameters that are worth looking into: <span class="strong"><strong>Specular</strong></span> <span class="strong"><strong>Color</strong></span> and <span class="strong"><strong>Shininess</strong></span>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch03lvl3sec27"></a>Changing the specular color of our material</h4></div></div></div><p>If you ever get tired <a id="id165" class="indexterm"></a>of that white shining spot, you can add some variety by changing the specular color.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch03lvl3sec28"></a>Adjusting shininess to focus the highlight</h4></div></div></div><p>Shining spots <a id="id166" class="indexterm"></a>don't look the same on bowling balls (where they are highly concentrated) as they do on brushed metal surfaces (where they spread a bit more). This concentration level is controlled by the <span class="strong"><strong>Shininess</strong></span> parameter.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec98"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Creating transparency texture maps</em></span> recipe.</p></li></ul></div></div></div>