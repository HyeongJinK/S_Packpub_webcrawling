<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec22"></a>Switching between multiple cameras</h2></div></div><hr /></div><p>Choosing<a id="id83" class="indexterm"></a> from a variety of cameras is a common feature in many genres: race sims, sports sims, tycoon/strategy, and many others. In this recipe, we will learn how to give players the ability of choosing an option from many cameras using their keyboard.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec55"></a>Getting ready</h3></div></div></div><p>In order to follow this recipe, we have prepared a package containing a basic level named <code class="literal">basicScene</code>. The package is in the folder <code class="literal">0423_02_01_02</code>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec56"></a>How to do it...</h3></div></div></div><p>To implement switchable cameras, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Import the <code class="literal">basicLevel</code> package into your Unity project.</p></li><li><p>In the <span class="strong"><strong>Project</strong></span> view, open <code class="literal">basicScene</code> from the <code class="literal">02_01_02</code> folder. This is a basic scene featuring a directional light, a camera, and some geometry.</p></li><li><p>Add two <a id="id84" class="indexterm"></a>more cameras to the scene. You can do it through the <span class="strong"><strong>Create</strong></span> drop-down menu on top of the <span class="strong"><strong>Hierarchy</strong></span> view. Rename them <code class="literal">cam1</code> and <code class="literal">cam2</code>.</p></li><li><p>Change the <code class="literal">cam2</code> camera's position and rotation so it won't be identical to <code class="literal">cam1</code>.</p></li><li><p>Create an <span class="strong"><strong>Empty</strong></span> game object by navigating to <span class="strong"><strong>Game Object</strong></span> | <span class="strong"><strong>Create Empty</strong></span>. Then, rename it <code class="literal">Switchboard</code>.</p></li><li><p>In the <span class="strong"><strong>Inspector</strong></span> view, disable the <span class="strong"><strong>Camera</strong></span> and <span class="strong"><strong>Audio Listener</strong></span> components of both <code class="literal">cam1</code> and <code class="literal">cam2</code>.</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_02_05.jpg" /></div></li><li><p>In the <span class="strong"><strong>Project</strong></span> view, create a new C# script. Rename it <code class="literal">CameraSwitch</code> and open it in your editor.</p></li><li><p>Open your script and replace everything with the following code:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;

public class CameraSwitch : MonoBehaviour {
    public GameObject[] cameras;
    public string[] shortcuts;
    public bool  changeAudioListener = true;
    void  Update (){  
  	    int i = 0;
	    for(i=0; i&lt;cameras.Length; i++){  
		    if (Input.GetKeyUp(shortcuts[i]))
        	    SwitchCamera(i);
        }
    }

    void  SwitchCamera ( int index  ){
	   	int i = 0;
	    for(i=0; i&lt;cameras.Length; i++){  
		    if(i != index){
			    if(changeAudioListener){
				    cameras[i].GetComponent&lt;AudioListener&gt;().enabled = false;
			    }
			    cameras[i].camera.enabled = false;
		    } else {
			    if(changeAudioListener){
				    cameras[i].GetComponent&lt;AudioListener&gt;().enabled = true;
			    }
			    cameras[i].camera.enabled = true;
		    }
	    }
    }
}</pre></div></li><li><p>Attach <code class="literal">CameraSwitch</code> to the <code class="literal">Switchboard</code> game object.</p></li><li><p>In the<a id="id85" class="indexterm"></a> <span class="strong"><strong>Inspector</strong></span> view, set both <span class="strong"><strong>Cameras</strong></span> and <span class="strong"><strong>Shortcuts</strong></span> size to <span class="strong"><strong>3</strong></span>. Then, drag the scene cameras into the <span class="strong"><strong>Cameras</strong></span> slots, and type <code class="literal">1</code>, <code class="literal">2</code>, and <code class="literal">3</code> into the <span class="strong"><strong>Shortcuts</strong></span> text fields, as shown in the next screenshot.</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_02_06.jpg" /></div></li><li><p>Play your scene and test your cameras.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec57"></a>How it works...</h3></div></div></div><p>The script is very straightforward. All it does is capture the key pressed and enable its respective camera (and its <span class="strong"><strong>Audio Listener</strong></span>, in case the <span class="strong"><strong>Change Audio Listener</strong></span> option is checked).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec58"></a>There's more...</h3></div></div></div><p>Here are some ideas on how you could try twisting this recipe a bit.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec13"></a>Using a single-enabled camera</h4></div></div></div><p>A different approach<a id="id86" class="indexterm"></a> to the problem would be keeping all <a id="id87" class="indexterm"></a>the secondary cameras disabled and assigning their position and rotation to the main camera via a script (you would need to make a copy of the main camera and add it to the list, in case you wanted to save its transform settings).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec14"></a>Triggering the switch from other events</h4></div></div></div><p>Also, you <a id="id88" class="indexterm"></a>could change your camera from other game object's scripts by using a line of code, such as the one shown here:</p><div class="informalexample"><pre class="programlisting">GameObject.Find("Switchboard").GetComponent("CameraSwitch").SwitchCamera(1);</pre></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec59"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Making an inspect camera</em></span> recipe.</p></li></ul></div></div></div>