<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec48"></a>Displaying a countdown timer graphically (5, 4, 3, 2, 1 – blast off)</h2></div></div><hr /></div><p>Timers<a id="id275" class="indexterm"></a> can have more effects when displayed<a id="id276" class="indexterm"></a> graphically. This recipe illustrates a simple way to display a rocket ship-style countdown, using images for each second (5, 4, 3, 2, 1) and a final image for the "blast off". The following screenshot shows an example of this:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_04_13.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec161"></a>Getting ready</h3></div></div></div><p>If you need a<a id="id277" class="indexterm"></a> set of images for this recipe; you'll find a series of PNG images in the <code class="literal">0423_04_08</code> folder.</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_04_14.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec162"></a>How to do it...</h3></div></div></div><p>To display a countdown timer graphically, please follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Attach the following script class to the <span class="strong"><strong>Main Camera</strong></span>:</p><div class="informalexample"><pre class="programlisting">// file: CountdownGraphical.cs
using UnityEngine;
using System.Collections;

public class CountdownGraphical : MonoBehaviour {
  public Texture2D imageDigit1;
  public Texture2D imageDigit2;
  public Texture2D imageDigit3;
  public Texture2D imageDigit4;
  public Texture2D imageDigit5;
  public Texture2D imageBlastOffText;
  
  private int countdownTimerDelay;
  private float countdownTimerStartTime;
  
  void Awake(){
    CountdownTimerReset( 5 );
  }
  
  void OnGUI(){
    GUILayout.Label( CountdownTimerImage() );
  }
  
  void CountdownTimerReset(int delayInSeconds){
    countdownTimerDelay = delayInSeconds;
    countdownTimerStartTime = Time.time;
  }
  
  int CountdownTimerSecondsRemaining(){
    int elapsedSeconds = (int)(Time.time - countdownTimerStartTime);
    int secondsLeft = (countdownTimerDelay - elapsedSeconds);
    return secondsLeft;
  }

  Texture2D CountdownTimerImage(){
    switch( CountdownTimerSecondsRemaining() ){
    case 5:
      return imageDigit5;
    case 4:
      return imageDigit4;
    case 3:
      return imageDigit3;
    case 2:
      return imageDigit2;
    case 1:
      return imageDigit1;
    default:
      return imageBlastOffText;
    }
  }
}</pre></div></li><li><p>With the <span class="strong"><strong>Main Camera</strong></span> selected in the <span class="strong"><strong>Hierarchy</strong></span> view, drag each of the images into the <span class="strong"><strong>Inspector</strong></span> view for the corresponding public variable.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec163"></a>How it works...</h3></div></div></div><p>An alternative<a id="id278" class="indexterm"></a> method of implementing a countdown timer algorithm is presented in this recipe (whereby the countdown progress is measured by comparing the current elapsed seconds (<code class="literal">Time.time</code>) against the time when the timer was started—<code class="literal">countdownTimerStartTime</code>).</p><p>In this recipe, the <code class="literal">OnGUI()</code> method displays a label with the image returned from the <code class="literal">CountdownTimerImage()</code> method. This method uses a <code class="literal">switch</code> statement to return the corresponding image to the current number of seconds remaining. Six images are public variables, and so can be set via the <span class="strong"><strong>Inspector</strong></span>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec164"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Displaying a digital countdown timer</em></span> recipe.</p></li><li style="list-style-type: disc"><p>The <span class="emphasis"><em>Displaying images for corresponding floats and ranges</em></span> recipe.</p></li></ul></div></div></div>