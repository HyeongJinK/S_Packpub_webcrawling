<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec27"></a>Creating particle effects using Shuriken</h2></div></div><hr /></div><p>From Unity 3.5 onwards, <a id="id111" class="indexterm"></a>much <a id="id112" class="indexterm"></a>more impressive effects can be created using particle systems. Many effects which used to need scripting can be achieved entirely through the Shuriken particle system settings.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec76"></a>Getting ready</h3></div></div></div><p>It is useful to review important properties and the parameter value selection methods of Unity particle systems before actually trying to work with them in the editor itself.</p><p>Some of the fundamental properties of particle systems include the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><span class="strong"><strong>Energy</strong></span>: How<a id="id113" class="indexterm"></a> long a particle will "live" until it is destroyed</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Looping</strong></span>: Whether<a id="id114" class="indexterm"></a> the entire population of particles will be recreated again once the last particle has "died"</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Speed, direction, and rotation</strong></span>: Each <a id="id115" class="indexterm"></a>particle <a id="id116" class="indexterm"></a>has its <a id="id117" class="indexterm"></a>own transform, and when a new particle is created the particle system determines (from the settings you have chosen) that particle's direction and speed of movement and any rotation</p></li></ul></div><p>In addition, it is important to understand the different methods that values are chosen for particle properties:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><span class="strong"><strong>Constant</strong></span>: The same value for all of the particles</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Curve</strong></span>: How the values will change over the duration of each cycle of the particle system (for example, particles start small and get larger over time)</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Random number between maximum and minimum constants</strong></span>: Values are randomly chosen from the same range over each cycle of the particle system</p></li><li style="list-style-type: disc"><p><span class="strong"><strong>Random number between two curves</strong></span>: This allows the range of values from which<a id="id118" class="indexterm"></a> values are<a id="id119" class="indexterm"></a> chosen to change over the duration of each cycle of the particle system</p><p>The following screenshot shows two particle-size curves, that ensures particles start small (between <code class="literal">0.0</code> and <code class="literal">0.2</code>), and get larger over the 3 second (x-axis) cycle length. However, the size of particles is random between the two curves (a value always chosen in the "red" zone), so towards the end of the cycle, particles will be a random size between <code class="literal">1.0</code> and <code class="literal">2.8</code>:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_02_18.jpg" /></div></li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec77"></a>How to do it...</h3></div></div></div><p>To create a particle effects using Shuriken, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new Unity project and import the <span class="strong"><strong>Particles</strong></span> Unity package.</p></li><li><p>Create a new particle system.</p></li><li><p>Reset the particle system to its defaults by choosing <span class="strong"><strong>Reset</strong></span> from the component's <span class="strong"><strong>Context</strong></span> menu in the <span class="strong"><strong>Inspector</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note04"></a>Note</h3><p>To view the <span class="strong"><strong>Context</strong></span> menu, either right-click on the component's name, or click the tiny gear icon at the top-right corner of the component's section in the <span class="strong"><strong>Inspector</strong></span> view, as shown here:</p></div><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_02_19.jpg" /></div></li><li><p>Switch <a id="id120" class="indexterm"></a>on (check) <span class="strong"><strong>Wireframe</strong></span> <a id="id121" class="indexterm"></a>for the <span class="strong"><strong>Render</strong></span> section of the particle system, shown below:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_02_20.jpg" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note05"></a>Note</h3><p>Wireframes can aid in understanding the position and movement of particles by drawing a blue bounding rectangle around each particle in the <span class="strong"><strong>Scene</strong></span> window, and a white bounding rectangle around the complete set of particles of each frame.</p></div></li><li><p>Display the <span class="strong"><strong>Renderer</strong></span> properties (double-click the darker grey title bar) and change the renderer's <span class="strong"><strong>Material</strong></span> parameter to <span class="strong"><strong>SoapBubble</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_02_21.jpg" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note06"></a>Note</h3><p>You'll find materials from the Unity particles package located in the Project folder as follows: <span class="strong"><strong>Standard Assets</strong></span> | <span class="strong"><strong>Particles</strong></span> | <span class="strong"><strong>Sources</strong></span> | <span class="strong"><strong>Materials</strong></span>.</p></div></li><li><p>Set <a id="id122" class="indexterm"></a>
<span class="strong"><strong>Start Speed</strong></span><a id="id123" class="indexterm"></a> to <span class="strong"><strong>2</strong></span> and set <span class="strong"><strong>Start Size</strong></span> to a random number between the constants <span class="strong"><strong>0.2</strong></span> and <span class="strong"><strong>1</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_02_22.jpg" /></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec78"></a>How it works...</h3></div></div></div><p>You've created a <a id="id124" class="indexterm"></a>particle system which emits differently-sized rising particles showing a soap bubble. They move relatively slowly (since you set <span class="strong"><strong>Start Speed</strong></span> to <span class="strong"><strong>2</strong></span>). Each particle shows a soap bubble, since you set the renderer to use a material that had a soap bubble texture image. The bubbles vary in size since you set <span class="strong"><strong>Start Size</strong></span> to be a random number between <code class="literal">0.2</code> and <code class="literal">1</code>. They float upwards because the system is rotated by -90 on the <span class="strong"><strong>X-axis</strong></span> (the default settings you ensured by clicking <span class="strong"><strong>Reset</strong></span>).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec79"></a>There's more...</h3></div></div></div><p>Here is some information on how to fine-tune and customize this recipe.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec17"></a>Scrubbing back and forward through the particle animation</h4></div></div></div><p>A nice <a id="id125" class="indexterm"></a>feature to easily review and ensure that the particle system's behavior is as desired is the ability to "scrub" (move back and forward through the animation). This is achieved by clicking and dragging left or right on <span class="strong"><strong>Playback Time</strong></span> text in the particle <span class="strong"><strong>Preview Panel</strong></span> in the <span class="strong"><strong>Scene</strong></span> window:</p><div class="mediaobject"><img src="/graphics/9781849690423/graphics/0423_02_23.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec18"></a>Learning more from the Unity documentation</h4></div></div></div><p>Unity particle systems<a id="id126" class="indexterm"></a> with Shuriken can be very powerful and therefore complex components of games. The Unity manual provides several pages dedicated to introducing and describing this system. You'll find the <code class="literal">ParticleSystems.html</code> file in the <code class="literal">/Documentation/Manual/</code> section of the Unity website, and also in your own computer's Unity application folder.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec19"></a>Adding effects through Particle Effect</h4></div></div></div><p>Opening<a id="id127" class="indexterm"></a> the <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Particle Effect</strong></span> menu and clicking the plus symbol adds additional particle sub-systems. Complex effects can be created through particle systems working at different times with different settings.</p></div></div></div>