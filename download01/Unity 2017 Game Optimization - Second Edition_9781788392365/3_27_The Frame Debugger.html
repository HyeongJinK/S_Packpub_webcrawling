<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec26"></a>The Frame Debugger</h2></div></div><hr /></div><p>Before we dive into how batching can save us Draw Calls, let's explore a useful tool, which can help us determine how batching is affecting our Scene--the Frame Debugger.</p><p>We can open the Frame Debugger by selecting <strong class="userinput"><code>Window</code></strong> | <strong class="userinput"><code>Frame Debugger</code></strong> from the main window or clicking on the <strong class="userinput"><code>Frame Debugger</code></strong> button in the <strong class="userinput"><code>Breakdown View Options</code></strong> in the Rendering Area of the Profiler. Either approach will open the <strong class="userinput"><code>Frame Debug</code></strong> window.</p><p>Clicking on the <strong class="userinput"><code>Enable</code></strong> button in the <strong class="userinput"><code>Frame Debug</code></strong> window will allow us to observe how our Scene is being constructed, one Draw Call at a time. The following screenshot shows the user interface of the Frame Debugger, with a list of GPU instructions in the left-hand panel, and more detailed information in the right-hand panel:</p><div class="mediaobject"><img src="/graphics/9781788392365/graphics/8d00f11c-5a0e-47d0-b6c1-db085f819c9f.png" /></div><p>There is a lot of information in this window, which can provide useful information if we want to debug the behavior of a single Draw Call, but the most useful area to look at is the <strong class="userinput"><code>Drawing</code></strong> section in the left-hand panel, which lists all of the Draw Calls in our Scene.</p><p>Each item under this section represents a unique Draw Call and what was rendered by it. An amazingly useful feature of this tool is the ability to click on any one of these items and immediately observe only the Draw Calls needed to render the Scene up to that point in the <strong class="userinput"><code>Game</code></strong> window. This lets us perform a quick, visual <span class="emphasis"><em>diff</em></span> of two sequential Draw Calls. This can make it easy to spot exactly which object(s) were rendered by a given Draw Call. This can help determine whether or not a set of objects were batched together by looking at how many of them appear during that Draw Call.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip41"></a>Note</h3><p>A weird bug with the Frame Debugger (which still exists in early builds of Unity 2017) is that if we are observing a Scene making use of a Skybox and click on various items under the <strong class="userinput"><code>Drawing</code></strong> section, only the final Scene presentation can be observed in the <strong class="userinput"><code>Game</code></strong> window. We would need to temporarily disable the Skybox via the Camera's <strong class="userinput"><code>Clear Flags</code></strong> setting to take a look at how Draw Call progression appears in the <strong class="userinput"><code>Game</code></strong> window by setting it to <strong class="userinput"><code>Solid Color</code></strong> instead.</p></div><p>As we can see in the preceding Frame Debugger screenshot, one Draw Call is being consumed to clear the screen (the item labelled <strong class="userinput"><code>Clear</code></strong>), and then our 8 meshes are being rendered in 8 separate Draw Calls (the item labelled <code class="literal">RenderForward.RenderLoopJob</code>).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip42"></a>Note</h3><p>Note that the number next to each item in the left-hand panel actually represents a Graphics API call, of which a Draw Call is but one type of API call. These can be seen in the <code class="literal">Camera.Render</code>, <code class="literal">Camera.ImageEffects</code>, and <code class="literal">RenderTexture.ResolveAA</code> items. Any API call can be just as costly as a Draw Call, but the overwhelming majority of API calls we will make in a complex Scene is in the form of Draw Calls, so it is often best to focus on minimizing Draw Calls before worrying about the API communication overhead of things such as post-processing effects.</p></div></div>