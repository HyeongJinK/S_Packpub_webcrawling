<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec54"></a>Custom Editor scripts and menu tips</h2></div></div><hr /></div><p>While it's common knowledge that we can create an Editor menu item in an Editor script with the <code class="literal">[MenuItem]</code> attribute, a lesser-known ability is being able to set custom hotkeys for menu items. For example, we can make the </p><div class="blockquote"><blockquote class="blockquote"><p>K</p></blockquote></div><p> key trigger our menu item method by defining the <code class="literal">[MenuItem]</code> attribute ending with <code class="literal">_k</code> as follows:</p><pre class="programlisting">[MenuItem("My Menu/Menu Item _k")]</pre><p>We can also include modifier keys such as <span class="emphasis"><em>Ctrl</em></span> (<span class="emphasis"><em>Command</em></span>), <span class="emphasis"><em>Shift</em></span>, and <span class="emphasis"><em>Alt</em></span> using the <code class="literal">%</code>, <code class="literal">#</code>, and <code class="literal">&amp;</code> characters, respectively.</p><p><code class="literal">[MenuItem]</code> also has two overloads, which allows us to set two additional parameters: a Boolean that determines whether the menu item requires a validation method, and an integer that determines the menu item's priority in the <strong class="userinput"><code>Hierarchy</code></strong> window.</p><p>Check out the documentation for <code class="literal">[MenuItems]</code> for a complete list of available hotkey modifiers, special keys, and how to create validation methods at <a class="ulink" href="http://docs.unity3d.com/ScriptReference/MenuItem.html" target="_blank">http://docs.unity3d.com/ScriptReference/MenuItem.html</a>.</p><p>It is possible to <span class="emphasis"><em>ping</em></span> an object in the <strong class="userinput"><code>Hierarchy</code></strong> window, similar to what happens when we click on a <code class="literal">GameObject</code> reference in the <strong class="userinput"><code>Inspector</code></strong> window by calling <code class="literal">EditorGUIUtility.PingObject()</code>.</p><p>The original implementation of the <code class="literal">Editor</code> class, and the way that most people learned how to write Editor scripts, originally involved writing all logic and content drawing in the same class. However, the <code class="literal">PropertyDrawer</code> class is an effective way of delegating <strong class="userinput"><code>Inspector</code></strong> window drawing to a different class from the main <code class="literal">Editor</code> class. This effectively separates input and validation behavior from display behavior, allowing more fine-tuned control of rendering on a per-field basis and more effective reuse of code. We can even use <code class="literal">PropertyDrawer</code> to override default Unity drawing for built-in objects, such as <code class="literal">Vector</code> and <code class="literal">Quaternion</code>.</p><p><code class="literal">PropertyDrawer</code> makes use of the <code class="literal">SerializedProperty</code> class to accomplish serialization of individual fields, and they should be preferred when writing Editor scripts, since they make use of built-in undo, redo, and multi-edit <span>functionality</span>. Data validation can be a little problematic, and the best solution is to use <code class="literal">OnValidate()</code> calls in <span class="emphasis"><em>setter</em></span> properties. A session at Unite 2013 by Unity Technologies developer Tim Cooper explains the benefits and pitfalls of various serialization and validation approaches in great detail at <a class="ulink" href="https://www.youtube.com/watch?v=Ozc_hXzp_KU" target="_blank">https://www.youtube.com/watch?v=Ozc_hXzp_KU</a>.</p><p>We can add entries to Component context menus and even the context menus of individual fields with the <code class="literal">[ContextMenu]</code> and <code class="literal">[ContextMenuItem]</code> attributes. This allows an easy way to customize <strong class="userinput"><code>Inspector</code></strong> window behavior for our Components without needing to write broad Editor classes or custom <strong class="userinput"><code>Inspector</code></strong> windows.</p><p>Advanced users may find it useful to store custom data within Unity metadata files through the <code class="literal">AssetImporter.userData</code> variable. There are also a multitude of opportunities to make use of Reflection of the Unity codebase. Ryan Hipple's session at Unite 2014 outlines a huge number of neat little hacks and tricks one can achieve with Reflection in the Unity Editor at <a class="ulink" href="https://www.youtube.com/watch?v=SyR4OYZpVqQ" target="_blank">https://www.youtube.com/watch?v=SyR4OYZpVqQ</a>.</p></div>