<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec27"></a>Adding more Avatar masks</h2></div></div><hr /></div><p>In the last section, we<a id="id355" class="indexterm"></a> used a mask to blend in a different leg animation. Here we will create more Avatar masks to use the two walk sequences together to create more variations:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In the <span class="strong"><strong>Project</strong></span> panel, click the <code class="literal">PACKT_Masks</code> folder to view its contents in the <span class="strong"><strong>Assets</strong></span> panel.</p><p>The folder contains two additional Avatar Masks: <code class="literal">z_Arms</code> and <code class="literal">z_HeadChestHands</code>.</p></li><li><p>Select the new masks one at a time by clicking them in the <span class="strong"><strong>Assets</strong></span> panel to see how they are set up:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>For <code class="literal">z_Arms</code> only, the arms and hands are highlighted in green</p></li><li style="list-style-type: disc"><p>For <code class="literal">z_HeadChestHands</code>, everything except the head, chest, and hands are masked</p></li></ul></div><div class="mediaobject"><img src="/graphics/9781849696364/graphics/6364OT_05_15.jpg" /></div><p>In order to vary the animation masking for each zombie, we need to set each one up with its own animator controller.</p></li><li><p>Click the<a id="id356" class="indexterm"></a> <code class="literal">PACKT_Controllers</code> folder in the <span class="strong"><strong>Project</strong></span> panel.</p></li><li><p>Select the asset <code class="literal">ch5_3_1</code> and duplicate it using the keyboard shortcut <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span> (<span class="emphasis"><em>Cmd</em></span> + <span class="emphasis"><em>D</em></span> if working on a Mac).</p></li><li><p>Select <code class="literal">zombie_m2</code> in the <span class="strong"><strong>Hierarchy</strong></span> panel.</p></li><li><p>Drag the controller <code class="literal">ch5_3_2</code> into the <span class="strong"><strong>Controller</strong></span> field beneath the <span class="strong"><strong>Animator</strong></span> component in the <span class="strong"><strong>Inspector</strong></span> panel.</p></li><li><p>Repeat this process for the remaining three instances of the male zombie, giving each a unique animator controller.</p></li><li><p>Select <code class="literal">zombie_m1</code> in the <span class="strong"><strong>Hierarchy</strong></span> panel.</p></li><li><p>Click the <span class="strong"><strong>Animator</strong></span> tab to view its animator controller.</p></li><li><p>In the <span class="strong"><strong>Animator</strong></span> panel, remove the <span class="strong"><strong>Legs</strong></span> layer by right-clicking it and selecting <span class="strong"><strong>Delete</strong></span>.</p></li><li><p>Select <code class="literal">zombie_m2</code>.</p></li><li><p>Remove<a id="id357" class="indexterm"></a> the <span class="strong"><strong>Legs</strong></span> layer in this controller, and replace the motion contained in the <span class="strong"><strong>Walk</strong></span> state, in the character's base layer with <code class="literal">zwalk02</code>.</p></li><li><p>Select <code class="literal">zombie_m3</code>.</p></li><li><p>Rename the second layer <code class="literal">Arms</code> and use the radio button to replace the <code class="literal">z_Legs</code> mask with <code class="literal">z_Arms</code> from the selection list.</p></li><li><p>Select <code class="literal">zombie_m4</code> and rename the second layer within its controller <code class="literal">HeadChestHands</code>.</p></li><li><p>Use the radio button to select the appropriate Avatar mask asset.</p><p>We can leave the fifth zombie as it is already set up with the <code class="literal">z_Legs</code> mask.</p></li><li><p>When you have finished configuring the controllers, preview the game by pressing the <span class="strong"><strong>Play</strong></span> button.</p></li><li><p>Once the zombies start walking, press <span class="emphasis"><em>B</em></span> to trigger the masked layers.</p></li></ol></div><p>The result should be five unique walk cycles using just two animation sequences:</p><div class="mediaobject"><img src="/graphics/9781849696364/graphics/6364OT_05_16.jpg" /></div></div>