<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec23"></a>The draggable panel</h2></div></div><hr /></div><p>We <a id="id121" class="indexterm"></a>will <a id="id122" class="indexterm"></a>now learn how to turn our menu into a draggable window. Let's add the correct component to it and study its parameters, which are as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <span class="strong"><strong>Panel</strong></span> GameObject.</p></li><li><p>Rename it as <code class="literal">MainMenu</code>.</p></li><li><p>Attach the <span class="strong"><strong>Draggable Panel</strong></span> component to it by navigating to <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>NGUI</strong></span> | <span class="strong"><strong>Interaction</strong></span>.</p></li></ol></div><p>The <span class="strong"><strong>MainMenu</strong></span> GameObject now has a <span class="strong"><strong>UIDraggable Panel</strong></span> component<a id="id123" class="indexterm"></a> attached to it.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec39"></a>Parameters</h3></div></div></div><p>The following <a id="id124" class="indexterm"></a>are the 13 parameters for setting values in the <span class="strong"><strong>UIDraggable Panel</strong></span>:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Drag Effect</strong></span>: This is the effect used while dragging the panel to have a smoother drag.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Restrict Within Panel</strong></span>: This uses the parent panel to restrain the draggable panel within its clipping bounds.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Disable Drag If Fits</strong></span>: If the content fits the parent panel's clipping bounds, dragging will be disabled.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Smooth Drag Start</strong></span>: This avoids a "jump" effect on drag start.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Reposition Clipping</strong></span>: This repositions the <span class="strong"><strong>Clipping</strong></span> to the <span class="strong"><strong>Top Left Corner</strong></span> immediately.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>IOS Drag Emulation</strong></span>: Dragging movement speed is reduced when overpassing the clipping edges.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Scroll Wheel Factor</strong></span>: If you want the scroll wheel to drag the panel on the y axis, set this value to greater than 0.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Momentum Amount</strong></span>: This is the effect applied when the panel is dropped. The panel will keep moving after releasing the scroll wheel.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Horizontal Scroll Bar</strong></span>: This lets you drag a scroll bar to define it as the panel's horizontal scroll bar.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Vertical Scroll Bar</strong></span>: This lets you drag another scroll bar to define it as the panel's vertical scroll bar.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Show Scroll Bars</strong></span>: This allows you to show scroll bars always, show them only if necessary, or show them while dragging.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Scale</strong></span>: This defines which axis the panel should drag on: <code class="literal">0</code> means no dragging, <code class="literal">1</code> allows full dragging on this axis.</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Relative Position On Reset</strong></span>: This is the offset relative to the mouse's position. It is useful if you want an offset from the mouse's position while dragging.</p></li></ul></div><p>Now that we have seen the component's parameters, let's use them to drag our main menu.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec40"></a>Dragging the MainMenu</h3></div></div></div><p>We have <a id="id125" class="indexterm"></a>added the <span class="strong"><strong>UIDraggable Panel</strong></span> component that sets this <span class="strong"><strong>UIPanel</strong></span> as a <span class="strong"><strong>Draggable Panel</strong></span>. Now, we must mark our <span class="strong"><strong>MainMenu</strong></span> as the GameObject that holds the draggable content.</p><p>We will also add a <span class="strong"><strong>Box Collider</strong></span> component to define where the user must click to drag the panel:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <span class="strong"><strong>MainMenu</strong></span> GameObject and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Set the <span class="strong"><strong>Clipping</strong></span> parameter of <span class="strong"><strong>UIPanel</strong></span> to <span class="strong"><strong>Alpha Clip</strong></span>.</p></li><li><p>Set the <span class="strong"><strong>Size</strong></span> field in <span class="strong"><strong>Clipping</strong></span> to <code class="literal">1920</code> x <code class="literal">1080</code>.</p></li><li><p>Uncheck the <span class="strong"><strong>IOS Drag Emulation</strong></span> Boolean.</p></li></ol></div></li><li><p>Add the <span class="strong"><strong>Drag Panel Contents</strong></span> component to it.</p></li><li><p>Add the <span class="strong"><strong>Box Collider</strong></span> component to it and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Check the <span class="strong"><strong>Is Trigger</strong></span> Booleanâ€”we don't need collisions, just a trigger to receive Raycasts from the <span class="strong"><strong>UICamera</strong></span>.</p></li><li><p>Set its <span class="strong"><strong>Center</strong></span> coordinates to {<code class="literal">0</code>, <code class="literal">395</code>, <code class="literal">0</code>}.</p></li><li><p>Set its <span class="strong"><strong>Size</strong></span> coordinates to {<code class="literal">1300</code>, <code class="literal">62</code>, <code class="literal">1</code>}.</p></li></ol></div></li></ol></div><p>Click on the play button. By clicking on the window's title, you can drag the main menu. But still, it isn't configured correctly; you can only move it on the x axis.</p><p>Let's change an important parameter of the <span class="strong"><strong>UIDraggable Panel</strong></span> component of <span class="strong"><strong>MainMenu</strong></span> to allow dragging on the x axis by performing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <span class="strong"><strong>MainMenu</strong></span> GameObject.</p></li><li><p>Set <span class="strong"><strong>Scale</strong></span> in <span class="strong"><strong>UIDraggable Panel</strong></span> to {<code class="literal">1</code>, <code class="literal">1</code>, <code class="literal">0</code>}.</p></li></ol></div><p>And that's it! Our <span class="strong"><strong>MainMenu</strong></span> is now draggable on both the axes. If you drag it outside the screen, it will move back inside when dropped. We had to define a clipping of the screen's size for this <span class="strong"><strong>Restrict Within Panel</strong></span> function to work.</p></div></div>