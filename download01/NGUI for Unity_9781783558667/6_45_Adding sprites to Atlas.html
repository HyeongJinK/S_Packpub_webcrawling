<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec46"></a>Adding sprites to Atlas</h2></div></div><hr /></div><p>Let's add <a id="id267" class="indexterm"></a>some sprites to our new <span class="strong"><strong>Game</strong></span> atlas. We will add the following <a id="id268" class="indexterm"></a>three different types:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>
<span class="strong"><strong>Simple</strong></span> sprite: As its name suggests, it is simply an image displayed on screen</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Sliced</strong></span> sprite: In this, the image is sliced in nine parts and it is resizable without stretching corners</p></li><li style="list-style-type: disc"><p>
<span class="strong"><strong>Tiled</strong></span> sprite: In this, the tiling pattern is repeatable indefinitely</p></li></ul></div><p>Let's start with the <span class="strong"><strong>Simple</strong></span> sprites.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec61"></a>Simple sprites</h3></div></div></div><p>It is time<a id="id269" class="indexterm"></a> to <a id="id270" class="indexterm"></a>create two sprites, Bomb and Time, which will illustrate our powers. First, we need to create the sprites and add them to our <span class="strong"><strong>Game</strong></span> atlas. They will look as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783558667/graphics/8667OT_06_02.jpg" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note20"></a>Note</h3><p>You may either create them yourself, or download the <code class="literal">Assets.zip</code> file from <a class="ulink" href="http://goo.gl/bZu4mF" target="_blank">http://goo.gl/bZu4mF</a>.</p></div><p>If you wish<a id="id271" class="indexterm"></a> to create your own sprites, a size of 128 x 128 will be enough. You can save them either as <code class="literal">.png</code> to support transparency, or as <code class="literal">.psd</code> files—they will be converted to the correct format when they will be imported in the Unity project.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl3sec21"></a>Adding sprites to Atlas</h4></div></div></div><p>When your Bomb and Time sprites are ready, or downloaded from the previous link, place them in a new <code class="literal">Assets</code>/<code class="literal">Textures</code> folder in your project. Then, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open <span class="strong"><strong>Atlas Maker</strong></span> from <span class="strong"><strong>NGUI</strong></span>, or <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>M</em></span>.</p></li><li><p>Make sure that our new <span class="strong"><strong>Game</strong></span> Atlas is selected, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783558667/graphics/8667OT_06_03.jpg" /></div></li><li><p>In the <span class="strong"><strong>Project</strong></span> view, select both our new <span class="strong"><strong>Bomb</strong></span> and <span class="strong"><strong>Time</strong></span> textures.</p></li><li><p>Click on the <span class="strong"><strong>Add/Update All</strong></span> button in <span class="strong"><strong>Atlas Maker</strong></span>.</p></li></ol></div><p>Good. Our two new sprites have been added to the <span class="strong"><strong>Game</strong></span> atlas.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl3sec22"></a>Available powers icons</h4></div></div></div><p>Let's add the icons to<a id="id272" class="indexterm"></a> our <span class="strong"><strong>Time</strong></span> and <span class="strong"><strong>Bomb</strong></span> prefabs on the scene and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> view, select <span class="strong"><strong>Background</strong></span> by navigating to <span class="strong"><strong>PowersContainer</strong></span> | <span class="strong"><strong>Grid</strong></span> | <span class="strong"><strong>Bomb</strong></span> and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Duplicate it.</p></li><li><p>Rename this new duplicate as <code class="literal">Icon</code>.</p></li><li><p>Change its <span class="strong"><strong>Sprite Type</strong></span> parameter in <span class="strong"><strong>UISprite</strong></span> to <span class="strong"><strong>Simple</strong></span>.</p></li><li><p>Set its <span class="strong"><strong>Depth</strong></span> to <code class="literal">6</code> so that it can be displayed over the background.</p></li></ol></div></li><li><p>Click on the <span class="strong"><strong>Atlas</strong></span> button in <span class="strong"><strong>UISprite</strong></span> and in the pop-up window, select our new <span class="strong"><strong>Game</strong></span> atlas.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note21"></a>Note</h3><p>If the new <span class="strong"><strong>Game</strong></span> Atlas is not visible in the list, drag it from the <span class="strong"><strong>Project</strong></span> view in the field next to the <span class="strong"><strong>Atlas</strong></span> button.</p></div></li><li><p>Click on the <span class="strong"><strong>Sprite</strong></span> button in <span class="strong"><strong>UISprite</strong></span> and in the pop-up window, select our <span class="strong"><strong>Bomb</strong></span> sprite.</p></li><li><p>Select the <span class="strong"><strong>Label</strong></span> GameObject from <span class="strong"><strong>Bomb</strong></span> and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Delete it—the icon and tool tip are enough!</p></li><li><p>A pop-up window appears, asking you if you want to continue because you will lose the prefab connection. Click on <span class="strong"><strong>Continue</strong></span>.</p></li></ol></div></li><li><p>Select the <span class="strong"><strong>Bomb</strong></span> GameObject from our <span class="strong"><strong>Grid</strong></span>.</p></li><li><p>Click on the <span class="strong"><strong>Apply</strong></span> button in the <span class="strong"><strong>Inspector</strong></span> view to update the prefab.</p></li></ol></div><p>Good, our <span class="strong"><strong>Bomb</strong></span> prefab is up to date with its new icon. Let's add the icon for the <span class="strong"><strong>Time</strong></span> prefab by performing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select our <span class="strong"><strong>Icon</strong></span> GameObject <span class="strong"><strong>Bomb</strong></span> and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Duplicate it.</p></li><li><p>Drag this duplicate inside the <span class="strong"><strong>Time</strong></span> GameObject.</p></li><li><p>Reset its <span class="strong"><strong>Transform</strong></span> position to {<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>}.</p></li><li><p>Change its <span class="strong"><strong>Sprite</strong></span> parameter to our own <span class="strong"><strong>Time</strong></span> sprite.</p></li><li><p>Change its <span class="strong"><strong>Dimensions</strong></span> to <code class="literal">75</code> x <code class="literal">75</code>.</p></li></ol></div></li><li><p>Select the <span class="strong"><strong>Label</strong></span> GameObject from <span class="strong"><strong>Time</strong></span> and then perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Delete it—the icon and tool tip are enough!</p></li><li><p>A pop-up window appears, asking you if you want to continue because you will lose the prefab connection. Click on <span class="strong"><strong>Continue</strong></span>.</p></li></ol></div></li><li><p>Select the <span class="strong"><strong>Time</strong></span> GameObject from <span class="strong"><strong>Grid</strong></span>.</p></li><li><p>Click on the <span class="strong"><strong>Apply</strong></span> button in the <span class="strong"><strong>Inspector</strong></span> view to update the prefab.</p></li></ol></div><p>Ok, our <a id="id273" class="indexterm"></a>draggable powers prefabs now have their own icons.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl3sec23"></a>Selected powers icons</h4></div></div></div><p>Let's<a id="id274" class="indexterm"></a> also add icons for our <span class="strong"><strong>SelectedBomb</strong></span> and <span class="strong"><strong>SelectedTime</strong></span> prefabs so that they look nicer:</p><div class="mediaobject"><img src="/graphics/9781783558667/graphics/8667OT_06_04.jpg" /></div><p>Perform the following steps to achieve this:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>From the <span class="strong"><strong>Project</strong></span> view, drag the <span class="strong"><strong>SelectedBomb</strong></span> prefab in our <span class="strong"><strong>Surface</strong></span> GameObject.</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> view, select our <span class="strong"><strong>Icon</strong></span> GameObject from <span class="strong"><strong>Grid</strong></span>/<span class="strong"><strong>Bomb</strong></span> and perform the given steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Duplicate it.</p></li><li><p>Drag this duplicate inside our new <span class="strong"><strong>SelectedBomb</strong></span> instance.</p></li><li><p>Reset its <span class="strong"><strong>Transform</strong></span> position to {<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>}.</p></li><li><p>Set its <span class="strong"><strong>Depth</strong></span> to <code class="literal">5</code>.</p></li><li><p>Change its <span class="strong"><strong>Dimensions</strong></span> to <code class="literal">120</code> x <code class="literal">120</code>.</p></li></ol></div></li><li><p>Select the <span class="strong"><strong>Label</strong></span> GameObject from <span class="strong"><strong>SelectedBomb</strong></span> and delete it.</p></li><li><p>Select the <span class="strong"><strong>SelectedBomb</strong></span> GameObject from <span class="strong"><strong>Surface</strong></span> and perform the given steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Click on the <span class="strong"><strong>Apply</strong></span> button in the <span class="strong"><strong>Inspector</strong></span> view to update the prefab.</p></li><li><p>Delete the <span class="strong"><strong>SelectedBomb</strong></span> instance from the scene.</p></li></ol></div></li></ol></div><p>Let's follow<a id="id275" class="indexterm"></a> the same steps for our <span class="strong"><strong>SelectedTime</strong></span> prefab:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>From the <span class="strong"><strong>Project</strong></span> view, drag the <span class="strong"><strong>SelectedTime</strong></span> prefab in our <span class="strong"><strong>Surface</strong></span> GameObject.</p></li><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> view, select our <span class="strong"><strong>Icon</strong></span> GameObject from <span class="strong"><strong>Time</strong></span> and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Duplicate it.</p></li><li><p>Drag this duplicate inside our new <span class="strong"><strong>SelectedTime</strong></span> instance.</p></li><li><p>Reset its <span class="strong"><strong>Transform</strong></span> position to {<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>}.</p></li><li><p>Set its <span class="strong"><strong>Depth</strong></span> to <code class="literal">5</code>.</p></li><li><p>Change its <span class="strong"><strong>Dimensions</strong></span> to <code class="literal">100</code> x <code class="literal">100</code>.</p></li></ol></div></li><li><p>Select the <span class="strong"><strong>Label</strong></span> GameObject from <span class="strong"><strong>SelectedTime</strong></span>, and delete it.</p></li><li><p>Select the <span class="strong"><strong>SelectedTime</strong></span> GameObject from <span class="strong"><strong>Surface</strong></span> and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Click on the <span class="strong"><strong>Apply</strong></span> button in the <span class="strong"><strong>Inspector</strong></span> view to update the prefab.</p></li><li><p>Delete the <span class="strong"><strong>SelectedTime</strong></span> instance from the scene.</p></li></ol></div></li></ol></div><p>That's it. We have our own two icons for our powers. Now, we can learn how to create and configure our own nine-sliced sprite.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec62"></a>Sliced sprites</h3></div></div></div><p>We used<a id="id276" class="indexterm"></a> the <a id="id277" class="indexterm"></a>dark sliced sprite all along this book. Let's create our own. Then, we will change the power selection box and the background sprites of <span class="strong"><strong>Main Menu</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783558667/graphics/8667OT_06_05.jpg" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl3sec24"></a>Adding a sprite to Atlas</h4></div></div></div><p>You can use a<a id="id278" class="indexterm"></a> 16 x 16 square sprite, such as the dark sprite. If you wish to have larger corners or add more details, simply use a larger texture size. You can also use the 64 x 64 <code class="literal">Window.png</code> file available in my <code class="literal">Assets.zip</code> archive.</p><p>When your new Window sprite is ready, place it in the <code class="literal">Assets/Textures</code> folder and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open <span class="strong"><strong>Atlas Maker</strong></span> by navigating to <span class="strong"><strong>NGUI</strong></span> | <span class="strong"><strong>Atlas Maker</strong></span>, or <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>M</em></span> and make sure our new <span class="strong"><strong>Game</strong></span> atlas is selected.</p></li><li><p>Select the new <code class="literal">Window.png</code> sprite file from <span class="strong"><strong>Textures</strong></span> in the <span class="strong"><strong>Project</strong></span> view.</p></li><li><p>Click on the green <span class="strong"><strong>Add/Update All</strong></span> button in the <span class="strong"><strong>Atlas Maker</strong></span> window.</p></li></ol></div><p>Ok, <code class="literal">Window.png</code> has been added to our <span class="strong"><strong>Game</strong></span> atlas, but it isn't configured. Yet.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl3sec25"></a>Configuring a sliced sprite</h4></div></div></div><p>The Window sprite has<a id="id279" class="indexterm"></a> been added to the atlas, but we still need to indicate the <span class="strong"><strong>UIAtlas</strong></span> component where the slicing must occur on the sprite. Let's replace our <span class="strong"><strong>Background</strong></span> of <span class="strong"><strong>Powers</strong></span>, and configure its slicing parameters.</p><p>In the <span class="strong"><strong>Hierarchy</strong></span> view, select the <span class="strong"><strong>Background</strong></span> GameObject from <span class="strong"><strong>Powers</strong></span> and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Change its <span class="strong"><strong>Atlas</strong></span> parameter in <span class="strong"><strong>UISprite</strong></span> to our <span class="strong"><strong>Game</strong></span> Atlas.</p></li><li><p>Change its <span class="strong"><strong>Sprite</strong></span> to our new <span class="strong"><strong>Window</strong></span> sprite.</p></li><li><p>Click on the <span class="strong"><strong>Edit</strong></span> button next to the <span class="strong"><strong>Sprite</strong></span> field, as shown in the following screenshot:</p></li></ol></div><div class="mediaobject"><img src="/graphics/9781783558667/graphics/8667OT_06_06.jpg" /></div><p>We are now<a id="id280" class="indexterm"></a> in the sprite's parameter window. Here, we can configure its <span class="strong"><strong>Dimensions</strong></span>, <span class="strong"><strong>Border</strong></span>, and <span class="strong"><strong>Padding</strong></span>. Set these <span class="strong"><strong>Border</strong></span> values to define the slicing lines:</p><div class="mediaobject"><img src="/graphics/9781783558667/graphics/8667OT_06_07.jpg" /></div><p>The values shown in the previous screenshot might be different if you created your own sprite.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note22"></a>Note</h3><p>As you change the <span class="strong"><strong>Border</strong></span> values, dotted lines appear on the sprite at the bottom of the <span class="strong"><strong>Inspector</strong></span> view in the <span class="strong"><strong>Preview</strong></span> window.</p></div><p>The <span class="strong"><strong>Window</strong></span> sprite should be sliced (as shown in the following screenshot) in the <span class="strong"><strong>Preview</strong></span> window:</p><div class="mediaobject"><img src="/graphics/9781783558667/graphics/8667OT_06_08.jpg" /></div><p>When you have entered your four values, you can click on the green <span class="strong"><strong>Return to Background</strong></span> button in order to go back to where we were.</p><p>We now have<a id="id281" class="indexterm"></a> a functional sliced sprite, but we need to adjust the  title position of the powers. In the <span class="strong"><strong>Hierarchy</strong></span> view, select our <span class="strong"><strong>TitleLabel</strong></span> GameObject from <span class="strong"><strong>Powers</strong></span>, and change its <span class="strong"><strong>Pixel Offset</strong></span> in <span class="strong"><strong>UIAnchor</strong></span> to {<code class="literal">0</code>, <code class="literal">-18</code>}.</p><p>Good! We configured our first sliced sprite and changed the power selection box's background sprite with it.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch06lvl3sec26"></a>The Main Menu window</h4></div></div></div><p>Let's change our <a id="id282" class="indexterm"></a>
<span class="strong"><strong>Window</strong></span> sprite <span class="strong"><strong>Main Menu</strong></span> too. In the <span class="strong"><strong>Hierarchy</strong></span> view, select our <span class="strong"><strong>Window</strong></span> GameObject from <span class="strong"><strong>Container</strong></span> and perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Change its <span class="strong"><strong>Atlas</strong></span> to our <span class="strong"><strong>Game</strong></span> Atlas.</p></li><li><p>Change its <span class="strong"><strong>Sprite</strong></span> to our new <span class="strong"><strong>Window</strong></span> sprite.</p></li></ol></div><p>The <span class="strong"><strong>Main Menu</strong></span> title is not placed exactly inside the title bar. Let's change this by performing the following steps.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <span class="strong"><strong>Title</strong></span> GameObject from <span class="strong"><strong>Container</strong></span>, and change its <span class="strong"><strong>Pixel Offset</strong></span> value in <span class="strong"><strong>UIAnchor</strong></span> to {<code class="literal">0</code>, <code class="literal">10</code>}.</p></li><li><p>Select the <span class="strong"><strong>Background</strong></span> GameObject from <span class="strong"><strong>Title</strong></span> and deactivate it for now.</p></li><li><p>Select the <span class="strong"><strong>Background</strong></span> GameObject from <span class="strong"><strong>Container</strong></span> and then perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Change its <span class="strong"><strong>Relative Size</strong></span> in <span class="strong"><strong>UIStretch</strong></span> to {<code class="literal">1</code>, <code class="literal">0.95</code>}.</p></li><li><p>Change its <span class="strong"><strong>Pixel Offset</strong></span> in <span class="strong"><strong>UIAnchor</strong></span> to {<code class="literal">0</code>, <code class="literal">-17</code>}.</p></li></ol></div></li></ol></div><p>Great. That looks better. If you wish, you may change the nickname box's background sprites with our new Window sprite. You can even change the buttons by using the sliced sprite <code class="literal">Button.png</code> included in the <code class="literal">Assets.zip</code> file.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note23"></a>Note</h3><p>The <code class="literal">Button.png</code> file can be used for non-button backgrounds too, such as the notification or tool tip backgrounds. Try it out!</p></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec63"></a>Tiled sprites</h3></div></div></div><p>Let's <a id="id283" class="indexterm"></a>add a<a id="id284" class="indexterm"></a> tiled sprite to create a space background for our <span class="strong"><strong>Game</strong></span> scene.</p><p>You can use the <code class="literal">Space.jpg</code> file from the <code class="literal">Assets.zip</code> archive, or you may create a 256 x 256 tiling sprite representing stars in space. Place the <code class="literal">Space.jpg</code> sprite in the <code class="literal">Assets/Textures</code> folder, and then perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open our <span class="strong"><strong>Game</strong></span> scene.</p></li><li><p>Open <span class="strong"><strong>Atlas Maker</strong></span> by navigating to <span class="strong"><strong>NGUI</strong></span> | <span class="strong"><strong>Atlas Maker</strong></span>, or <span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>M</em></span>. Then perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In the <span class="strong"><strong>Project</strong></span> view, select our new <code class="literal">Space.jpg</code> file from <span class="strong"><strong>Textures</strong></span>.</p></li><li><p>Click on the <span class="strong"><strong>Add/Update All</strong></span> button of the <span class="strong"><strong>Atlas Maker</strong></span> window.</p></li></ol></div></li></ol></div><p>Ok, the new <code class="literal">Space.jpg</code> sprite has now been added to our <span class="strong"><strong>Game</strong></span> Atlas. Let's change our <span class="strong"><strong>Game</strong></span> scene's background to make it look like we're in space.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <span class="strong"><strong>Background</strong></span> GameObject from <span class="strong"><strong>Viewport</strong></span>.</p></li><li><p>Change its <span class="strong"><strong>Atlas</strong></span> to our <span class="strong"><strong>Game</strong></span> Atlas.</p></li><li><p>Change its <span class="strong"><strong>Sprite</strong></span> to our new <span class="strong"><strong>Space</strong></span> sprite.</p></li><li><p>Change its <span class="strong"><strong>Color Tint</strong></span> to {<code class="literal">140</code>, <code class="literal">200</code>, <code class="literal">200</code>, <code class="literal">255</code>}.</p></li></ol></div><p>That's it! Small stars are now tiling in the background. Now, it is time to add a font.</p></div></div>