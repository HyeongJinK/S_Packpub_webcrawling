<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec30"></a>Building for Oculus Rift</h2></div></div><hr /></div><p>To build for Oculus Rift you can use OpenVR. But if you <span>plan</span><a id="id325549819" class="indexterm"></a> to publish in the Oculus Store and/or use Oculus-specific SDK for other high-value features offered in the Oculus ecosystem, you will need to build to the Oculus SDK, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Configure your Unity <strong class="userinput"><code>Build Settings</code></strong> to target the <strong class="userinput"><code>Standalone</code></strong> platform</li><li>In <span class="strong"><strong><strong class="userinput"><code>Player Settings</code></strong></strong></span>, under <strong class="userinput"><code>XR Settings</code></strong>, set <span class="strong"><strong><strong class="userinput"><code>Virtual Reality Enabled</code></strong></strong></span></li><li>Ensure <span class="strong"><strong><strong class="userinput"><code>Oculus</code></strong></strong></span> is at the top of the <span class="strong"><strong><strong class="userinput"><code>Virtual Reality SDKs</code></strong></strong></span> list.</li><li>Download and <span class="strong"><strong><strong class="userinput"><code>Install</code></strong></strong></span> the Oculus Integration package from the Asset Store, as instructed previously</li></ol></div><p>Now we will add the OVR camera rig to the <code class="literal">MeMyselfEye</code> object in our scene:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Look in your Project window, under the <span class="emphasis"><em>Assets</em></span> folder you should have a folder named <span class="emphasis"><em>OVR</em></span>.</li><li>Within that is a subfolder called <code class="literal">Prefabs</code>. Drag the prefab named <code class="literal">OVRCameraRig</code> from the <code class="literal">Assets/OVR/Prefabs/</code> folder into your Hierarchy. Place it as a child object of <code class="literal">MeMyselfEye</code>.</li><li>Set its Y position to 1.6 by setting its <strong class="userinput"><code>Transform</code></strong> to <strong class="userinput"><code>Position</code></strong> to (<code class="literal">0</code>, <code class="literal">1.6</code>, <code class="literal">0</code>).</li><li>Disable the <code class="literal">Main Camera</code> object, also under <code class="literal">MeMyselfEye</code>. You can disable objects by unchecking the enable checkbox in the top-left of its Inspector window. Alternatively, you can just delete the <code class="literal">Main Camera</code> object.</li><li>Save the prefab by selecting <code class="literal">MeMyselfEye</code> in Hierarchy, then press its <span class="strong"><strong><strong class="userinput"><code>Apply</code></strong></strong></span>button in the Inspector.</li></ol></div><p>Note that the OVR camera rig should be set to your desired height (1.6 in this case), which will be accommodated at runtime based on the height you configured in the Oculus runtime device configuration.</p><p>To test it out, make sure that the VR device is properly connected and turned on. You should have the Oculus runtime app opened on the Windows desktop. Click on the game <strong class="userinput"><code>Play</code></strong> button at the top-center of the Unity Editor. Put on the headset, and it should be awesome! Within VR, you can look all around—left, right, up, down, and behind you. You can lean over and lean in. Using the hand controller’s thumbstick, you can make Ethan walk, run, and jump just like we did earlier.</p><p>Note that the Oculus package installs helpful menu items on the Unity Editor menu bar. We won't go into details here, and they are subject to change. We encourage you to explore the options and shortcuts they provide. See the screenshot:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/b5a3eeab-4ce8-4e61-a845-32f2fefe4c9c.png" /></div><p>To include Oculus Dash support, you must use Oculus OVR version 1.19 or later (included with Unity 2017.3 or later). Then:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>In <strong class="userinput"><code>Player Settings, XR</code></strong> panel, unfold the <strong class="userinput"><code>Oculus SDK</code></strong> for additional settings</li><li>Check the <span class="strong"><strong><strong class="userinput"><code>Shared Depth Buffer</code></strong></strong></span> checkbox</li><li>Check the <span class="strong"><strong><strong class="userinput"><code>Dash Support</code></strong></strong></span> checkbox:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788478809/graphics/3846a7ee-3971-41b3-98c4-d79ae6ed2144.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note28"></a>Note</h3><p>For more information on Oculus Dash support in Unity, see <a class="ulink" href="https://developer.oculus.com/documentation/unity/latest/concepts/unity-dash/" target="_blank">https://developer.oculus.com/documentation/unity/latest/concepts/unity-dash/</a>.</p></div><p>Now you can build your game as a separate executable app using the following steps. Most likely, you've done this before, at least for non-VR apps. It's pretty much the same:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>From the main menu bar, navigate to <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Build Settings...</code></strong></li><li>If the current scene is not already in the <span class="strong"><strong><strong class="userinput"><code>Scenes to Build</code></strong></strong></span> list, press <span class="strong"><strong><strong class="userinput"><code>Add Open Scenes</code></strong></strong></span></li><li>Click on <strong class="userinput"><code><span class="strong"><strong>Build</strong></span></code></strong> and set its name to <code class="literal">Diorama</code></li><li>I like to keep my builds in a subdirectory named <code class="literal">Build</code>; create one if you want to</li><li>Click on <strong class="userinput"><code><span class="strong"><strong>Save</strong></span></code></strong></li></ol></div><p>An executable will be created in your <code class="literal">Build</code> folder. Run <code class="literal">Diorama</code> as you would do for any executable application: double-click on it.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note29"></a>Note</h3><p>For more information on Unity support for Oculus, see <a class="ulink" href="https://developer.oculus.com/documentation/unity/latest/concepts/book-unity-gsg/" target="_blank">https://developer.oculus.com/documentation/unity/latest/concepts/book-unity-gsg/.</a></p></div></div>