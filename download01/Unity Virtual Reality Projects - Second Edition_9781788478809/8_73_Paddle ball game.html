<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec74"></a>Paddle ball game</h2></div></div><hr /></div><p>Next, we'll add hand <span>controlled</span><a id="id325317294" class="indexterm"></a> paddles to hit the ball. To keep things somewhat generic, our game paddles will be simple objects parented by the hand controllers in your camera rig. We'll move the target to be on a wall instead of the floor, and serve the balls a little further out in front of you so they're reachable</p><p>To set up the scene, you can Save As a new name and we'll work from here. I'll name my <code class="literal">PaddleBallGame</code>.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Select <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Save Scene As</code></strong> and name it <code class="literal">PaddleBallGame</code></li><li>Disable the head <strong class="userinput"><code>Cube</code></strong> we previously added as child of the camera, if present</li></ol></div><p>First, let's create a paddle. We'll construct a very simple model using cylinders. You can find better ones, shaped and textured, online. </p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>In the <strong class="userinput"><code>Hierarchy</code></strong> root, <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Create Empty</code></strong>, name it <code class="literal">Paddle</code>, and reset its <strong class="userinput"><code>Transform</code></strong></li><li>Add a child cylinder object (<strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>3D Object</code></strong> | <strong class="userinput"><code>Cylinder</code></strong>) and name it <code class="literal">Handle</code></li><li>Set the Handle's <strong class="userinput"><code>Scale</code></strong> to (<code class="literal">0.02</code>, <code class="literal">0.1</code>, <code class="literal">0.02</code>)</li><li>Add another <strong class="userinput"><code>Cylinder</code></strong> as a sibling of Handle and name it <code class="literal">Pad</code></li><li>Set the pad's <strong class="userinput"><code>Scale</code></strong> to (<code class="literal">0.2</code>, <code class="literal">0.005</code>, <code class="literal">0.2</code>), <strong class="userinput"><code>Rotation</code></strong> (<code class="literal">90</code>, <code class="literal">0</code>, <code class="literal">0</code>), and <strong class="userinput"><code>Position</code></strong> (<code class="literal">0</code>, <code class="literal">0.2</code>, <code class="literal">0</code>)</li><li>In your Project Materials folder, create a new material (<strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Material</code></strong>) and name it <code class="literal">Paddle</code><code class="literal">Material</code></li><li>Give the material <strong class="userinput"><code>Albedo</code></strong> a wooden color, such as (<code class="literal">107</code>, <code class="literal">79</code>, <code class="literal">54</code>, <code class="literal">255</code>), then drag the material onto the <strong class="userinput"><code>Handle</code></strong> and <strong class="userinput"><code>Pad</code></strong> objects</li></ol></div><p>Now, modify the colliders:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Select the <strong class="userinput"><code>Handle</code></strong>, and delete its <strong class="userinput"><code>Capsule Collider</code></strong></li><li>Select the <strong class="userinput"><code>Pad</code></strong>, and delete its <strong class="userinput"><code>Capsule Collider</code></strong></li><li>With Pad selected, add a Mesh Collider (<strong class="userinput"><code>Add Component</code></strong> | <strong class="userinput"><code>Physics</code></strong> | <strong class="userinput"><code>Mesh Collider</code></strong>)</li><li>Check the <strong class="userinput"><code>Convex</code></strong> checkbox</li></ol></div><p>Save the paddle as a prefab:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Drag the <strong class="userinput"><code>Paddle</code></strong> into your Project Prefabs folder</li><li>Delete the <strong class="userinput"><code>Paddle</code></strong> from your Hierarchy
</li></ol></div><p>We want to parent the Paddle to your hands. This is platform-specific. If you are using OpenVR, for example, that may be <code class="literal">MeMyselfEye / [CameraRig] / Controller</code><span class="emphasis"><em>(right)</em></span>. On Daydream, that might be <code class="literal">MeMyselfEye / Player / GvrControllerPointer.</code></p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>In <strong class="userinput"><code>Hierarchy</code></strong>, select the hand controller within <code class="literal">MeMyselfEye</code> (such as Controller (right). or <code class="literal">GvrControllerPointer</code>)</li><li>Create <strong class="userinput"><code>Empty</code></strong> child game object and name it <code class="literal">Hand</code> (reset its <strong class="userinput"><code>Transform</code></strong> if needed)</li><li>Create another <strong class="userinput"><code>Empty</code></strong> child beneath <strong class="userinput"><code>Hand</code></strong> and name it <code class="literal">Attach Point</code> (and reset its Transform if needed)</li><li>Drag the <strong class="userinput"><code>Paddle</code></strong> prefab from Project into <strong class="userinput"><code>Hierarchy</code></strong> as a child of <strong class="userinput"><code>Attach Point</code></strong></li></ol></div><p>Now, we can adjust the paddle's relative position and rotation so its grip feels natural within your hand. The follow values seem to work for me:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">In OpenVR, use the attach point <strong class="userinput"><code>Rotation</code></strong> (<code class="literal">20</code>, <code class="literal">90</code>, <code class="literal">90</code>)</li><li style="list-style-type: disc">In Daydream, use <strong class="userinput"><code>Position</code></strong> (<code class="literal">0</code>,  <code class="literal">0</code>,  <code class="literal">0</code>, <code class="literal">05)</code> and <strong class="userinput"><code>Rotation</code></strong> (<code class="literal">0</code>, <code class="literal">90</code>, <code class="literal">90</code>)</li></ul></div><p>On Daydream, the <code class="literal">GvrControllerPointer</code> includes a <code class="literal">GvrArmModel</code> component that can be configured for simulating arm, elbow, and wrist movement with the simple 3DOF controller. Setting this up yourself can be confusing. Fortunately, a bunch of examples are provided in the <strong class="userinput"><code>ArmModelDemo</code></strong> scene the Daydream Elements package (in the <code class="literal">DaydreamElements/Elements/ArmModels/D<span class="emphasis"><em>emo/</em></span></code> folder) including prefabs with some preconfigured arm models. Let's add one. If you are on Daydream:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Find the <code class="literal">Elements/ArmModels/Prefabs</code> folder in Project Assets</li><li>Drag the <code class="literal">SwingArm</code> prefab into <code class="literal">MeMyselfEye / Player</code> as a sibling of <code class="literal">GvrControllerPointer</code></li><li>Move <code class="literal">GvrControllerPointer</code> as a child of <strong class="userinput"><code>SwingArm</code></strong></li></ol></div><p>This will give more arm extension for using the paddle. You can further adjust the settings as needed, including try moving the SwingArm transform <strong class="userinput"><code>Position</code></strong> further in front (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0.3</code>). </p><p>Lastly, you might want to extend the ball drop location a little further out in front of you so it's more readily within hand reach. In the earlier version of <span>the</span><a id="id325581678" class="indexterm"></a> project, we defined a <strong class="userinput"><code>Drop Point</code></strong>; modify its position as desired (for example, z = <code class="literal">0.6</code>).</p><p>The paddle in play using HTC Vive is shown here:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/2b864992-1662-4ebe-81dd-e4d1b8d57e28.png" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec112"></a>Deflector versus paddle</h3></div></div></div><p>As implemented, our paddle acts <span>more</span><a id="id325581712" class="indexterm"></a> like a deflector shield than a paddle. The ball will bounce off the paddle's Pad in a direction based on the Pad's surface normal orientation. But if you whack the ball, that doesn't transfer any physics. We can change this by adding a RigidBody to the Pad, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Select the <strong class="userinput"><code>Pad</code></strong> of your <strong class="userinput"><code>Paddle</code></strong></li><li><strong class="userinput"><code>Add Component</code></strong> | <strong class="userinput"><code>Physics</code></strong> | <strong class="userinput"><code>RigidBody</code></strong></li><li>Uncheck <strong class="userinput"><code>Use Gravity</code></strong> checkbox</li><li>Check the <strong class="userinput"><code>Is Kinematic</code></strong> checkbox</li><li>Click the <strong class="userinput"><code>Apply</code></strong> button at top of Inspector to save your changes in the prefab</li></ol></div><p>By making it kinematic, our Pad will apply physics to objects colliding with it, but will not react to collisions itself. This is good, otherwise, the paddle would shatter when hit by a ball. </p><p>One important lesson in this project is the use of attach points for defining relative positions for specific behaviors. We used a Drop Point to mark the X, Z position where balls are dropped from. We used an Attach Point to mark the relative position and rotation of the paddle in your hand. We could have added a Grip Point to the paddle itself to specify its relative origin. And so on.</p></div></div>