<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec67"></a>Resetting center and position </h2></div></div><hr /></div><p>Sometimes in VR, the view presented in the headset is not quite in sync with your body's orientation. Device SDKs provide functions to reset the orientation of the headset with respect to the real-world space. This is often referred to as the <span class="strong"><strong>recentering</strong></span> of the view.</p><p>Unity <span>provides</span><a id="id325317272" class="indexterm"></a> an API call that maps to the underlying device SDK to recenter the device, <code class="literal">UnityEngine.VR.InputTracking.Recenter()</code>. This function will center tracking to the current position and orientation of the HMD. It only works with seated and standing experiences. Room scale experiences are not affected.</p><p>At the time of this writing, Recenter does not work in SteamVR, even for seated configuration. The solution is to call the following code instead:</p><pre class="programlisting">Valve.VR.OpenVR.System.ResetSeatedZeroPose();
Valve.VR.OpenVR.Compositor.SetTrackingSpace(Valve.VR.ETrackingUniverseOrigin.TrackingUniverseSeated);</pre><p>The Daydream controller has reset built into the underlying system (press and hold the system button). This is because unwanted drift is so common on mobile VR devices. Also, for Cardboard (and Daydream users without a controller), there is a standard floor canvas menu you should include in your player rig (as we did in <a class="link" href="#" linkend="ch03">Chapter 3</a>, <span class="emphasis"><em>VR Build and Run</em></span>), that includes a reset and recenter buttons.</p><p>On other systems, you can choose a button that triggers a call to <code class="literal">Recenter</code> as needed.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec108"></a>Supporting room scale teleportation</h3></div></div></div><p>As mentioned, the Unity Recenter function does not have <span>any</span><a id="id325547510" class="indexterm"></a> affect on room scale setups. We assume that room scale players are standing <span>and</span><a id="id325547518" class="indexterm"></a> mobilized, so they can just turn themselves to face "forward" within the VR scene.</p><p>When teleporting, however, we are moving the player to a new location, and possibly to an entirely different scene. When we reposition MyMyselfEye or any parent of the positionally tracked camera, the player is not necessary located at origin of that rig. If the player teleports to a new location, his whole play space should be ported and the player should end up standing on the virtual location he specifically chose.</p><p>The following function will compensate the teleport transform to the player's relative pose within the playspace. As written, it assumes it is a component on the MeMyselfEye player root object:</p><pre class="programlisting">private void TeleportRoomscale( Vector3 targetPosition )
{
    Transform camera = Camera.main.transform;
    float cameraAngle = camera.eulerAngles.y;
    transform.Rotate( 0f, -cameraAngle, 0f);
    Vector3 offsetPos = camera.position - transform.position;
    transform.position = targetPosition.position - offsetPos;
}</pre><p>To use it in our previous teleport script examples, replace the <code class="literal">transform.position = target.transform.position;</code> line with a call to<code class="literal">TeleportRoomscale( target.transform.position )</code>instead. </p></div></div>