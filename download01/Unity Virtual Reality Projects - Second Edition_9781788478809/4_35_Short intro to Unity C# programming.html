<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec40"></a>Short intro to Unity C# programming</h2></div></div><hr /></div><p>As we just saw, Unity does a lot of things: it <span>manages</span><a id="id325317294" class="indexterm"></a> objects, renders them, animates them, calculates the physics of those objects, and so on. Unity itself is a program. It's made of code. Probably a lot of good code written by some very smart people. This internal Unity code can be accessed by you, the game developer, through the Unity Editor point-and-click interface that we've already been using. Within the Unity Editor, scripts are manifested as configurable components. However, it's also made more directly accessible to you through the Unity scripting API.</p><p><span class="strong"><strong>API</strong></span> (short for <span class="strong"><strong>Application Programming Interface</strong></span>), refers to published software functions that you can access from your own scripts. Unity's API is very rich <span>and</span><a id="id325317310" class="indexterm"></a> nicely designed. That's one reason why people have written amazing applications and plugin add-ons for Unity.</p><p>There are many programming languages in the world. Unity has chosen to support the C# language from Microsoft. Computer languages have a specific syntax that must be obeyed. Otherwise, the computer will not understand your script. In Unity, script errors (and warnings) appear in the <strong class="userinput"><code>Console</code></strong> panel of the editor as well as in the bottom footer of the app window.</p><p>The default script editor for Unity is an integrated development environment, or an IDE, called <span class="strong"><strong>MonoDevelop</strong></span>. You can configure a different editor or an IDE if you want, such as Microsoft's Visual Studio. MonoDevelop has some <span>nice</span><a id="id325549816" class="indexterm"></a> features such as autocompletion and pop-up help that understand the Unity documentation. C# scripts are text files that are named with a <code class="literal">.cs</code> extension.</p><p>In a Unity C# script, some of the words and symbols are a part of the C# language itself, some come from the Microsoft .NET Framework, and others are provided by the Unity API. And then there's the code that you write.</p><p>An empty default Unity C# script looks like this:</p><pre class="programlisting">using UnityEngine; 
using System.Collections; 
 
public class RandomPosition : MonoBehaviour { 
 
  // Use this for initialization 
  void Start () { 
 
  } 
 
  // Update is called once per frame 
  void Update () { 
 
  } 
}</pre><p>Let's dissect it.</p><p>The first two lines indicate that this script needs some other stuff to run. The <code class="literal">using</code> keyword belongs to the C# language. The line using <code class="literal">UnityEngine</code> says that we'll be using the <code class="literal">UnityEngine</code> API. The line using <code class="literal">System.Collections</code> says that we also might use a library of functions named <code class="literal">Collections</code> to access lists of objects.</p><p>In C#, each line of code ends with a semicolon. Double slashes (<code class="literal">//</code>) indicate comments in the code, and anything from there to the end of that line will be ignored.</p><p>This Unity script defines a class named <code class="literal">RandomPosition</code>. <span class="strong"><strong>Classes</strong></span> are like code templates <span>with</span><a id="id325552139" class="indexterm"></a> their own properties (variables) and behavior (functions). Classes derived from the <code class="literal">MonoBehaviour</code> base class are recognized by Unity and used when your game runs. For example, in the first script we wrote at the top of this chapter, the line <code class="literal">public class RandomPosition : MonoBehaviour</code> basically says <span class="emphasis"><em>we are defining a new public class named</em></span><code class="literal">RandomPosition</code><span class="emphasis"><em>," which inherits all the abilities of the</em></span><code class="literal">MonoBehaviour</code><span class="emphasis"><em> Unity base class</em></span>, including the capabilities of the <code class="literal">Start()</code> and <code class="literal">Update()</code> functions. The body of the class is enclosed in a pair of curly braces (<code class="literal">{}</code>).</p><p>When something is <code class="literal">public</code>, it can be seen by other code outside this specific script file. When it's <code class="literal">private</code>, it can only be referenced within this file. We want Unity to see the <code class="literal">RandomPosition</code> class.</p><p>Classes define variables and functions. A <span class="strong"><strong>variable</strong></span> holds <span>data</span><a id="id325555202" class="indexterm"></a> values of a specific type, such as <code class="literal">float</code>, <code class="literal">int</code>, <code class="literal">boolean</code>, <code class="literal">GameObject</code>, <code class="literal">Vector3</code>, and so on. <span class="strong"><strong>Functions</strong></span> implement logic (step-by-step instructions). Functions can receive <span class="emphasis"><em>arguments</em></span>-variables enclosed in a parenthesis used <span>by</span><a id="id325563572" class="indexterm"></a> its code-and can return new values when it's done.</p><p>Numeric <code class="literal">float</code> constants, such as <code class="literal">5.0f</code>, require an <code class="literal">f</code> at the end in C# to ensure
that the data type is a <span class="emphasis"><em>simple</em></span> floating point value and not a <span class="emphasis"><em>double-precision</em></span> floating point value.</p><p>Unity will automatically call some special functions if you've defined them <code class="literal">Start()</code> and <code class="literal">Update()</code> are two examples. Empty versions of these are provided in the default C# script. The datatype in front of a function indicates the type of value returned. <code class="literal">Start()</code> and <code class="literal">Update()</code> do not return values, so they're <code class="literal">void</code>.</p><p>Each <code class="literal">Start()</code> function from all <code class="literal">MonoBehaviour</code> scripts in your game is called before the gameplay begins. It's a good place for data initialization. All the <code class="literal">Update()</code> functions are called during each time slice, or frame, while the game is running. This is where most of the action lies.</p><p>Once you've written or modified a script in the MonoDevelop or Visual Studio editor, save it. Then, switch to the Unity Editor window. Unity will automatically recognize that the script has changed and will reimport it. If errors are found, it will report them right away in the <strong class="userinput"><code>Console</code></strong> panel.</p><p>This is just a cursory introduction to Unity programming. As we work through the projects in this book, I will explain additional bits as they're introduced.</p></div>