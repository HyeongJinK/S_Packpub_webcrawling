<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec34"></a>Building for Google VR</h2></div></div><hr /></div><p>The Google VR SDK supports <span>both</span><a id="id325549819" class="indexterm"></a> Daydream and Cardboard. <span class="strong"><strong>Daydream</strong></span> is the higher-end <span>version</span><a id="id325549870" class="indexterm"></a> limited to faster, more capable Daydream-ready Android phones. <span class="strong"><strong>Cardboard</strong></span> is <span>lower</span><a id="id325555078" class="indexterm"></a> end and supported on many more mobile devices including Apple iOS iPhones. You can build projects in Unity that target both.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec49"></a>Google Daydream</h3></div></div></div><p>To build for <span class="emphasis"><em>Google Daydream</em></span> on <span>mobile</span><a id="id325555197" class="indexterm"></a> Android devices, you will use the Daydream SDK. You must set up your development machine for Android development as <span>described</span><a id="id325560700" class="indexterm"></a> above. Then complete the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Configure your Unity <strong class="userinput"><code><span class="strong"><strong>Build Settings</strong></span></code></strong> to target the <span class="strong"><strong><strong class="userinput"><code>Android</code></strong></strong></span> platform</li><li>In <strong class="userinput"><code>Player Settings</code></strong>, under <strong class="userinput"><code>XR Settings</code></strong>, set <strong class="userinput"><code>Virtual Reality Enabled</code></strong></li><li>Ensure <strong class="userinput"><code>Daydream</code></strong> is at the top of the <strong class="userinput"><code>Virtual Reality SDKs</code></strong> list</li><li>Download and <strong class="userinput"><code>Install</code></strong> the Google VR SDK package, as instructed previously</li></ol></div><p>We will now build the <code class="literal">MeMyselfEye</code> camera rig for our scene. At the present time, the best example we have is the <strong class="userinput"><code>GVRDemo</code></strong> example scene provided with the Google VR SDK (can be found in the <code class="literal">Assets/GoogleVR/Demos/Scenes/</code> folder):</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>In your scene Hierarchy, create an empty game object under the <code class="literal">MeMyselfEye</code> (select the <code class="literal">MeMyselfEye</code> object, right-click, select <strong class="userinput"><code>Create Empty</code></strong>). Name it <code class="literal">MyGvrRig</code>.</li><li>Set its height to 1.6 by setting its <span class="strong"><strong>Transform</strong></span> to <span class="strong"><strong>Position</strong></span> to (<code class="literal">0</code>, <code class="literal">1.6</code>, <code class="literal">0</code>).</li><li>From the Project folders, locate the provided prefabs (<code class="literal">Assets/GoogleVR/Prefabs</code>).</li><li>Drag a copy of each of the following prefabs from the Project folder to Hierarchy as a child of <code class="literal">MyGvrRig</code>:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Headset/GvrHeadset</li><li style="list-style-type: disc">Controllers/GvrControllerMain</li><li style="list-style-type: disc">EventSystem/GvrEventSystem</li><li style="list-style-type: disc">GvrEditorEmulator</li><li style="list-style-type: disc">GvrInstantPreviewMain</li></ul></div></li><li>Leave the <code class="literal">Main Camera</code> object under <code class="literal">MeMyselfEye</code> and enable it. The GoogleVR uses the existing <code class="literal">Main Camera</code> object.</li><li>Save the prefab by selecting <code class="literal">MeMyselfEye</code> in Hierarchy, then press its <strong class="userinput"><code>Apply</code></strong> button in the Inspector.</li></ol></div><p>The <code class="literal">GvrHeadset</code> is a VR camera properties manager. The G<code class="literal">vrControllerMain</code> provides support for the Daydream 3DOF hand controller. We will use <code class="literal">GvrEventSystem</code> in later chapters; it provides a drop-in replacement for Unity's Event System object. The <code class="literal">GvrEditorEmulator</code> is not actually part of your app but enables previewing your scene in the Unity Editor when you press Play. Likewise, adding <code class="literal">GvrInstantPreviewMain</code> lets you preview your app on your phone when you press Play in the editor.</p><p>These are the prefabs that we know we’re going to want to use. Certainly, go ahead and explore the other prefabs provided in the SDK. See <a class="ulink" href="https://developers.google.com/vr/unity/reference/" target="_blank">https://developers.google.com/vr/unity/reference/</a>.</p><p>We also recommend you take a look at Google Daydream Elements which provides additional demos and scripts "for developing high-quality VR experiences." We introduce this in the next chapter. See <a class="ulink" href="https://developers.google.com/vr/elements/overview" target="_blank">https://developers.google.com/vr/elements/overview.</a></p><p>When you’re ready, you can build your game as a separate executable app using the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>From the main menu bar, navigate to <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Build Settings...</code></strong>.</li><li>If the current scene is not already in the <strong class="userinput"><code>Scenes to Build</code></strong> list, press <strong class="userinput"><code>Add Open Scenes</code></strong>.</li><li>Click on <strong class="userinput"><code>Build and Run</code></strong> and set its name to <code class="literal">Diorama</code>.</li><li>I like to keep my builds in a subdirectory named Build; create one if you want to.</li><li>Click on <strong class="userinput"><code>Save</code></strong>.</li></ol></div><p>An Android APK file will be created in your Build folder and uploaded to your attached Android phone.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec50"></a>Google Cardboard</h3></div></div></div><p>Building for Google Cardboard is similar, but simpler, than Daydream. Also, Cardboard apps <span>can</span><a id="id325577772" class="indexterm"></a> run on iPhones. You must set up your development machine for Android development as described. Or if you’re developing for iOS, see <span>the</span><a id="id325577781" class="indexterm"></a> next section for details. Then set up your project as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Configure your Unity Build Settings to target <span class="strong"><strong><strong class="userinput"><code>Android</code></strong></strong></span> or <span class="strong"><strong><strong class="userinput"><code>iOS</code></strong></strong></span> platform.</li><li>In Player Settings, under <strong class="userinput"><code>XR Settings</code></strong>, set <strong class="userinput"><code>Virtual Reality Enabled</code></strong>, and</li><li>Ensure Cardboard is in the <strong class="userinput"><code>Virtual Reality SDKs</code></strong> list.</li><li>Download and <strong class="userinput"><code>Install</code></strong> the Google VR SDK package, as instructed previously.</li></ol></div><p>We will now build the <code class="literal">MeMyselfEye</code> camera rig for our scene.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>In your scene Hierarchy, create an empty game object under the <code class="literal">MeMyselfEye</code> (select the <code class="literal">MeMyselfEye</code> object, right-click, select <strong class="userinput"><code>Create Empty</code></strong>). Name it <code class="literal">MyGvrRig</code>.</li><li>Set its height to 1.6 by setting its <span class="strong"><strong>Transform</strong></span> to <span class="strong"><strong>Position</strong></span> to (<code class="literal">0</code>, <code class="literal">1.6</code>, <code class="literal">0</code>).</li><li>From the Project folders, locate the provided prefabs (<code class="literal">Assets/GoogleVR/Prefabs</code>).</li></ol></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Drag a copy of each of the following prefabs from the Project folder to Hierarchy as <span>a child</span> of MyGvrRig:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Headset/GvrHeadset</li><li style="list-style-type: disc">GvrEditorEmulator</li></ul></div></li><li>Leave the <code class="literal">Main Camera</code> object under <code class="literal">MeMyselfEye</code> and enable it. The GoogleVR uses the existing <code class="literal">Main Camera</code> object.</li><li>Save the prefab by selecting <code class="literal">MeMyselfEye</code> in Hierarchy, then press its <strong class="userinput"><code>Apply</code></strong> button in the Inspector</li></ol></div><p>When you’re ready, you can build your game as a separate executable app using the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>From the main menu bar, navigate to <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Build Settings...</code></strong>.</li><li>If the current scene is not already in the <strong class="userinput"><code>Scenes to Build</code></strong> list, press <strong class="userinput"><code>Add Open Scenes</code></strong>.</li><li>Click on <strong class="userinput"><code>Build and Run</code></strong> and set its name to <code class="literal">Diorama</code>.</li><li>I like to keep my builds in a subdirectory named Build; create one if you want to.</li><li>Click on <strong class="userinput"><code>Save</code></strong>.</li></ol></div><p>An Android APK file will be created in your Build folder and uploaded to your attached Android phone.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec51"></a>Google VR Play Mode</h3></div></div></div><p>When your project is <span>configured</span><a id="id325578007" class="indexterm"></a> for Google VR (Daydream or Cardboard), and you press Play in Unity can you preview the scene and use keyboard keys to emulate device motion:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Use <span class="emphasis"><em>Alt</em></span> + mouse-move to pan and tilt forward or backwards.</li><li style="list-style-type: disc">Use <span class="emphasis"><em>Ctrl</em></span> + mouse-move to tilt your head from side to side.</li><li style="list-style-type: disc">Use <span class="emphasis"><em>Shift</em></span> + mouse control the Daydream hand controller (Daydream only).</li><li style="list-style-type: disc">Click the mouse to select.</li></ul></div><p>For more details, see <a class="ulink" href="https://developers.google.com/vr/unity/get-started" target="_blank">https://developers.google.com/vr/unity/get-started</a>.</p><p>With Daydream, you also have the option to use Instant Preview which allows you to test your VR app instantly on your device. Follow the instructions in the Google VR docs (<a class="ulink" href="https://developers.google.com/vr/tools/instant-preview" target="_blank">https://developers.google.com/vr/tools/instant-preview</a>) to set up your project and device to take advantage of this feature.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note33"></a>Note</h3><p>For more information on Unity support for Google VR SDK for Daydream, see <a class="ulink" href="https://docs.unity3d.com/Manual/VRDevices-GoogleVR.html" target="_blank">https://docs.unity3d.com/Manual/VRDevices-GoogleVR.html</a>.</p></div></div></div>