<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec29"></a>Building for SteamVR</h2></div></div><hr /></div><p>To target your app to use <span class="emphasis"><em>HTC VIVE</em></span> you will use the <span class="emphasis"><em>OpenVR SDK</em></span>. This SDK also <span>supports</span><a id="id325577446" class="indexterm"></a> Oculus Rift with Touch controllers, and <span><span class="strong"><strong>Windows Immersive Mixed Reality</strong></span> (<span class="strong"><strong>IMR</strong></span>)</span> devices:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Configure your Unity <strong class="userinput"><code>Build Settings</code></strong> to <span>target</span><a id="id325577479" class="indexterm"></a> the <strong class="userinput"><code>Standalone</code></strong> platform.</li><li>In <strong class="userinput"><code>Player Settings</code></strong>, under <strong class="userinput"><code>XR Settings</code></strong>, set Virtual Reality to Enabled</li><li>Ensure <strong class="userinput"><code>OpenVR</code></strong> is at the top of the <strong class="userinput"><code>Virtual Reality SDKs</code></strong> list.</li><li>Download and <strong class="userinput"><code>Install</code></strong> the SteamVR Plugin from the Asset Store, as instructed previously.</li></ol></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>When you install <strong class="userinput"><code>SteamVR</code></strong> you may be prompted to accept recommended changes to your project settings. Unless you know better, we recommend you accept them.</li></ol></div><p>Now we will add the SteamVR camera rig to the <code class="literal">MeMyselfEye</code> object in our scene:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Look in your <strong class="userinput"><code>Project</code></strong> window; under the <code class="literal">Assets</code> folder, you should have a folder named <code class="literal">SteamVR</code>.</li><li>Within that is a subfolder called <code class="literal">Prefabs</code>. Drag the prefab named <code class="literal">[CameraRig]</code> from the <code class="literal">Assets/SteamVR/Prefabs/</code> folder into your h<span>ierarchy</span>. Place it as a child object of <code class="literal">MeMyselfEy<span class="emphasis"><em>e</em></span></code>.</li><li>If necessary, reset its <strong class="userinput"><code>Transform</code></strong> to <strong class="userinput"><code>Position</code></strong> (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>).</li><li>Disable the <code class="literal">Main Camera</code> object, also under <code class="literal">MeMyselfEye</code>; you can disable objects by unchecking the enable checkbox in the top-left of its Inspector window. Alternatively, you can just delete the <code class="literal">Main Camera</code> object.</li><li>Save the prefab by selecting <code class="literal">MeMyselfEye</code> in Hierarchy, then press its <strong class="userinput"><code>Apply</code></strong> button in the Inspector.</li></ol></div><p>Note that the SteamVR camera rig Y position should be set to 0 as it will use the real-life height of the player to set the camera height in real time.</p><p>To test it out, make sure that the VR device is properly connected and turned on. You should have the SteamVR app opened on the Windows desktop. Click on the game <strong class="userinput"><code>Play</code></strong> button at the top-center of the Unity Editor. Put on the headset, and it should be awesome! Within VR, you can look all around—left, right, up, down, and behind you. You can lean over and lean in. Using the hand controller's thumb pad, you can make Ethan walk, run, and jump just like we did earlier.</p><p>Now you can build your game as a separate executable app using the following steps. Most likely, you've done this before, at least for non-VR apps. It's pretty much the same:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>From the main menu bar, navigate to <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Build Settings...</code></strong></li><li>If the current scene is not already in the <strong class="userinput"><code>Scenes to Build</code></strong> list, press <strong class="userinput"><code>Add Open Scenes.</code></strong></li><li>Click on <strong class="userinput"><code>Build</code></strong> and set its name to <code class="literal">Diorama</code>.</li><li>I like to keep my builds in a subdirectory named <code class="literal">Build</code>; create one if you want to.</li><li>Click on <strong class="userinput"><code>Save</code></strong>.</li></ol></div><p>An executable will be created in your Build folder. Run <code class="literal">Diorama</code> as you <span>would</span><a id="id325594738" class="indexterm"></a> do for any executable application: double-click on it.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note27"></a>Note</h3><p>For more information on Unity support for OpenVR, see <a class="ulink" href="https://docs.unity3d.com/Manual/VRDevices-OpenVR.html" target="_blank">https://docs.unity3d.com/Manual/VRDevices-OpenVR.html</a>.</p></div></div>