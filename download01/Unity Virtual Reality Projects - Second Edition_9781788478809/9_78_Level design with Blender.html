<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec78"></a>Level design with Blender</h2></div></div><hr /></div><p>For this project, we're going to <span>design</span><a id="id325317294" class="indexterm"></a> an art gallery layout. We just need something simple, a small art gallery exhibit room about 24 by 36 feet. The room is so simple, in fact, it could easily be built within Unity using 3D cube primitives, but we'll <span>take</span><a id="id325577538" class="indexterm"></a> this opportunity to use Blender a little more since we introduced it in <a class="link" href="#" linkend="ch02">Chapter 2</a>, <span class="emphasis"><em>Content, Objects, and Scale,</em></span> keeping it minimal and instructive. If you prefer, you can skip this section and build the floor and walls using Unity cubes. Or, use the <code class="literal">Gallery.blend</code> file provided in the files for this chapter.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec116"></a>Defining the walls</h3></div></div></div><p>To start, draw a simple floor plan on a <span>piece</span><a id="id325577600" class="indexterm"></a> of paper or use a drawing app. Mine is just an open space with two entrances and interior walls to display artwork (<code class="literal">Gallery-floorplan.jpg</code>), which looks like the following image:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/21e6c847-beb2-4b90-9026-0879e8b77596.jpg" /></div><p>Now, open Blender. We'll use a common technique of starting with a simple object (plane) and then extruding it to make each of the wall segments. To accomplish this, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Start with an empty scene, press the <span class="strong"><strong><strong class="userinput"><code>A</code></strong></strong></span> key to select all, and then press the <span class="strong"><strong><strong class="userinput"><code>X</code></strong></strong></span> key to delete.</li></ol></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Add the floor plan image for reference by pressing the <span class="strong"><strong><strong class="userinput"><code>N</code></strong></strong></span> key to open the properties panel. In the <strong class="userinput"><code>Background Images</code></strong> pane, select <strong class="userinput"><code>Add Image</code></strong>, click on <strong class="userinput"><code>Open</code></strong> and select your image (<code class="literal">Gallery-floorplan.jpg</code>).
Depending on the size and scale of your floor plan reference image, you'll want to choose a scale factor so that it's correct in the Blender world coordinate space. A scale of <code class="literal">6.25</code> works for me. Actually, the most important thing is the relative scale of the features in the diagram, since we can always adjust the scale in Unity in the <strong class="userinput"><code>Import</code></strong> settings, or even in the <strong class="userinput"><code>Scene</code></strong> view itself.</li><li>In the <strong class="userinput"><code>Background Images</code></strong> pane, set <strong class="userinput"><code>Size</code></strong> to <code class="literal">6.25</code>. This pane, with the <strong class="userinput"><code>Size</code></strong> field highlighted, is shown in the following screenshot:
<div class="mediaobject"><img src="/graphics/9781788478809/graphics/8602b499-a05d-4b7f-b4a4-5ecacb9a51c1.png" /></div></li><li>Go to a top-down orthographic <span>view</span><a id="id325577705" class="indexterm"></a> by pressing <span class="strong"><strong><strong class="userinput"><code>7</code></strong></strong></span> on the numpad (or navigating to <strong class="userinput"><code>View</code></strong> | <strong class="userinput"><code>Top</code></strong>) and the orthographic view by pressing <span class="strong"><strong><strong class="userinput"><code>5</code></strong></strong></span> (or navigating to <strong class="userinput"><code>View</code></strong> | <strong class="userinput"><code>Persp/Ortho</code></strong>). Note that the background image only gets drawn when it's in the <strong class="userinput"><code>top-ortho</code></strong> view.</li></ol></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Now, we'll make a tiny square in one corner of the room that will be extruded into a wall. Add a pane by pressing <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>A</em></span> and select <strong class="userinput"><code><span class="strong"><strong>Plane.</strong></span></code></strong> Then, press <span class="emphasis"><em>Tab</em></span> to go into the <strong class="userinput"><code>Edit</code></strong> mode. Press <span class="emphasis"><em>Z</em></span> to toggle from the solid to the <strong class="userinput"><code>wireframe</code></strong> view. Press <span class="emphasis"><em>G</em></span> to drag it into a corner, click <span class="emphasis"><em>Enter</em></span> to confirm. Press <span class="emphasis"><em>S</em></span> to scale it to fit the width of the corner of the wall, as shown in the following screenshot (you may recall that you can use the mouse scroll wheel to zoom and <span class="emphasis"><em><span class="strong"><strong>Shift</strong></span></em></span> and click on the middle mouse button to pan):</li></ol></div><div class="mediaobject"><img src="/graphics/9781788478809/graphics/eda1886d-018b-46f5-8710-1057aa4cc48a.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Extrude the corner to make the outer walls. Go into the <strong class="userinput"><code>Edge Select</code></strong> mode (via the icon shown in the following screenshot), press <span class="emphasis"><em>A</em></span> to unselect all, and then <strong class="userinput"><code>right-click</code></strong> on the edge that you want to extrude. Press <span class="emphasis"><em>E</em></span> to begin extruding, press <span class="strong"><strong><strong class="userinput"><code>X</code></strong></strong></span> or <span class="strong"><strong><strong class="userinput"><code>Y</code></strong></strong></span> to constrain it to that axis, and then press <span class="emphasis"><em>Enter</em></span> to complete the extrusion where you want it:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788478809/graphics/9da65157-6cc5-477b-bf09-94ea76ddd828.png" /></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Repeat the previous steps for each outer wall. Create a small square at the corners so that you can extrude in the perpendicular direction. Leave gaps for the doorways. (You may recall that if you need to modify the existing edges, select it with a right-click, <span class="emphasis"><em>Shift</em></span> and right-click to select multiple, and move with <span class="emphasis"><em>G</em></span>. You can also duplicate the selected items.) Also, you can use <span class="emphasis"><em>Shift</em></span><strong class="userinput"><code>+</code></strong><span class="emphasis"><em>D</em></span> to duplicate in Object mode.</li></ol></div><div class="mediaobject"><img src="/graphics/9781788478809/graphics/6c48ac1f-75e8-4903-ae26-f1fc17e31784.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>To extrude out a face from the middle, we need to add an <span class="emphasis"><em>edge loop</em></span>. With the mouse over the face, press <span class="emphasis"><em>Ctrl</em></span><strong class="userinput"><code>+</code></strong><span class="emphasis"><em>R</em></span> and left-click to create the cut. Slide the mouse to position it and left-click <span>again</span><a id="id325577995" class="indexterm"></a> to confirm. Repeat these steps for the width of the wall (making a square cut in the outer wall). Select the edge segment and press <span class="strong"><strong><strong class="userinput"><code>E</code></strong></strong></span> to extrude it into the room:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788478809/graphics/0f90ec67-9cc6-4633-9ee1-c2e18e351e07.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="9" type="1"><li>Once the floor plan is done, we can extrude it along the <span class="emphasis"><em>z</em></span> axis to create the walls. Change the view from <strong class="userinput"><code>Ortho</code></strong> to <strong class="userinput"><code>Persp</code></strong> by pressing <span class="emphasis"><em>5</em></span>. Tilt it back using the middle mouse click and move. Select all by pressing <span class="emphasis"><em>A</em></span>. Extrude with <span class="emphasis"><em>E</em></span>. Begin to extrude with the mouse, press <span class="emphasis"><em>Z</em></span> to constrain, and left-click to confirm.</li></ol></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="10" type="1"><li>Save the model to a file named <code class="literal">gallery.blend</code>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788478809/graphics/eb71e08d-e21e-460e-afd1-11d5e3ba3177.png" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec117"></a>Adding a ceiling</h3></div></div></div><p>Now, add a ceiling with two skylights. The ceiling <span>will</span><a id="id325578076" class="indexterm"></a> just be a flat slab build from a single cube. Let's see the steps to add a ceiling:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Return to <strong class="userinput"><code>Object</code></strong> mode using <span class="emphasis"><em>Tab</em></span></li><li>Add a cube using <span class="emphasis"><em>Shift</em></span><strong class="userinput"><code>+</code></strong><span class="emphasis"><em>A</em></span><span class="strong"><strong>and select <strong class="userinput"><code>Cube</code></strong></strong></span></li><li>Position it at the center using <span class="emphasis"><em>G</em></span><span class="strong"><strong>and the mouse (</strong></span><span class="emphasis"><em>Alt</em></span> + <span class="emphasis"><em>G</em></span><span class="strong"><strong>resets all its transforms</strong></span>)</li><li>Scale it along <span class="emphasis"><em>x</em></span> and <span class="emphasis"><em>y</em></span> so that it's size is the same as that of the room using <span class="emphasis"><em>S</em></span><strong class="userinput"><code>+</code></strong><span class="emphasis"><em>X</em></span> and <span class="emphasis"><em>S</em></span><strong class="userinput"><code>+</code></strong><span class="emphasis"><em>Y</em></span>)</li><li>Switch to <strong class="userinput"><code>Front</code></strong> view using <span class="emphasis"><em>1</em></span>, scale it so that it is flattened using <span class="emphasis"><em>S</em></span><strong class="userinput"><code>+</code></strong><span class="emphasis"><em>Z</em></span>, and move it to the top of the walls using <span class="emphasis"><em>G</em></span><strong class="userinput"><code>+</code></strong><span class="emphasis"><em>Z</em></span>)</li></ol></div><p>The skylights will be holes cut out of the ceiling using another cube as a modifier, as show in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/5d483085-d216-4bea-b119-a5f147d2f5f9.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Add a cube, using <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>A</em></span>, scale it to size, and move it to the position where you want the skylight.</li><li>Position the cube's <span class="emphasis"><em>z</em></span> axis so that it cuts through the ceiling slab.</li><li>Duplicate the cube by pressing <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>D</em></span> and move it to the other skylight's position, as shown in the following screenshot:
<div class="mediaobject"><img src="/graphics/9781788478809/graphics/0a01da64-9585-48d5-8c39-b33366a455ae.png" /></div></li><li>Select the ceiling <span>slab</span><a id="id325578264" class="indexterm"></a> with a right-click.</li><li>In the far right <strong class="userinput"><code>Properties Editor</code></strong> panel, select the <strong class="userinput"><code>wrench-icon</code></strong>.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Then, navigate to <strong class="userinput"><code>Add Modifier</code></strong> | <strong class="userinput"><code>Boolean</code></strong> and for the <strong class="userinput"><code>Operation</code></strong> option, select <strong class="userinput"><code>Difference</code></strong>. For the <strong class="userinput"><code>Object</code></strong> option, select the first cube (<code class="literal">Cube.001</code>):</li></ol></div><div class="mediaobject"><img src="/graphics/9781788478809/graphics/605fdc3c-8cae-4f5e-aa2b-0293950f470a.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>Click on <strong class="userinput"><code>Apply</code></strong> to make the operation permanent. Then, delete the cube (select it and press <span class="strong"><strong><strong class="userinput"><code>X</code></strong></strong></span>).</li><li>Repeat the process, adding another <strong class="userinput"><code>Boolean</code></strong> modifier for the second cube.</li></ol></div><p>If you get stuck, I've included a copy of the finished model with the files for this book. This model is simple enough. You can build it using Unity cubes alone. So much more can, of course, be done to make this a more realistic architectural model, but we're going to move ahead as is:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/a20d6bc1-1922-4599-87c4-6602e58f2db5.png" /></div></div></div>