<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec54"></a>The windshield HUD</h2></div></div><hr /></div><p>The term <span class="emphasis"><em>heads-up display</em></span>, or HUD, originates from its <span>use</span><a id="id325317298" class="indexterm"></a> in aircrafts, where a pilot is able to view information with their head positioned in such a way that they are looking forward rather down at their instrument panels. Owing to this usage, I'll refer it as <span class="emphasis"><em>windshield HUD</em></span>. Like visor HUD, the information panel overlays the gameplay, but it isn't attached to your head. Instead, you can think of it as being attached to your seat while you are in a cockpit or at the dentist.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip61"></a>Note</h3><p>A visor HUD is like the UI canvas—it is attached to your head. A windshield HUD is like it's attached to a glass dome around you.</p></div><p>Let's create a simple windshield HUD by performing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>From the <strong class="userinput"><code>Project</code></strong> panel, drag the <code class="literal">DefaultCanvas</code> prefab onto the <code class="literal">MeMyselfEye</code> object in the <strong class="userinput"><code>Hierarchy</code></strong> panel so that it becomes an immediate child of <code class="literal">MeMyselfEye</code> (not under the camera this time).</li><li>Rename it to <code class="literal">WindshieldCanvas</code>.</li><li>With <code class="literal">WindshieldCanvas</code> selected, set the <strong class="userinput"><code>Rect Transform</code></strong> component's <strong class="userinput"><code>Pos X</code></strong>, <strong class="userinput"><code>Pos Y</code></strong>, <strong class="userinput"><code>Pos Z</code></strong> to (<code class="literal">0</code>, <code class="literal">1.4</code>, <code class="literal">1</code>).</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Now, we'll set the <strong class="userinput"><code>Text</code></strong> component. With <strong class="userinput"><code>Text</code></strong> under <code class="literal">WindshieldCanvas</code> selected, change the text to <strong class="userinput"><code>Welcome! My reality is your reality</code></strong>. Also, change the color to something bright, such as green.</li><li>This time, we'll make the panel translucent. Select the image from <strong class="userinput"><code>Image</code></strong> under <code class="literal">WindshieldCanvas</code> and select its color swatch. Then in the <strong class="userinput"><code>Color</code></strong> dialog, modify the <code class="literal">Alpha ("A")</code> channel from <code class="literal">255</code> to about <code class="literal">115</code>.</li></ol></div><p>That's pretty straightforward. When you view it in VR, the canvas starts out just in front of you, but as you look around, its position seems to remain stationary and relative to the other objects in the scene, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/22a16ab7-0f2c-43c5-8e15-fd980412dffa.png" /></div><p>As we'll see in the next chapter, <a class="link" href="#" linkend="ch07"><span>Chapter 7</span></a>, <span class="emphasis"><em>Locomotion and Comfort</em></span>, when a first-person character moves through the scene, the HUD canvas will stay in front of you, at the same relative position to your body object, <code class="literal">MeMyselfEye</code>. You can try it now in the editor:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select <code class="literal">MeMyselfEye</code> in <strong class="userinput"><code>Hierarchy</code></strong>.</p></li><li>Press <strong class="userinput"><code>Play</code></strong>.</li></ol></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Then in the <strong class="userinput"><code>Scene</code></strong> window, using the <strong class="userinput"><code>Move gizmo</code></strong>, move the <code class="literal">MeMyselfEye</code> position. In VR, you'll see the HUD follows along like it's part of your body or a spaceship's cockpit.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note62"></a>Note</h3><p>You might have realized that it's possible for objects in the scene to obfuscate the HUD panel since they're all occupying the same world space. If you need to prevent this, you have to ensure that the canvas is always rendered last so that it appears in front of any other objects regardless of its position in 3D space. In a conventional monoscopic game, you can do this by adding a second camera for the UI and changing its render priority. In stereoscopic VR, you have to accomplish this differently, possibly by writing a custom shader for your UI object or doing per-layer occlusion culling. This is an advanced topic; see the <span class="emphasis"><em>World Space canvas on top of everything</em></span>? discussion thread for details: <a class="ulink" href="https://answers.unity.com/questions/878667/world-space-canvas-on-top-of-everything.html" target="_blank">https://answers.unity.com/questions/878667/world-space-canvas-on-top-of-everything.html</a>.</p></div><p>A variant of this HUD is to turn the canvas so that it's always facing you, while its position in 3D space is fixed. See the <span class="emphasis"><em>Info bubble</em></span> section of this chapter to learn how to code this.</p><p>For kicks, let's write a script that removes the welcome message canvas after 15 seconds, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>With <code class="literal">WindshieldCanvas</code> selected, click on <strong class="userinput"><code>Add Component</code></strong> | <strong class="userinput"><code>New Script</code></strong>, name the script as <code class="literal">DestroyTimeout</code>, and click on <strong class="userinput"><code>Create</code></strong> and <strong class="userinput"><code>Add</code></strong>.</li><li>Open the script in MonoDevelop.</li></ol></div><p>Here's the <code class="literal">DestroyTimeout.cs</code> script:</p><pre class="programlisting">using UnityEngine; 
 
public class DestroyTimeout : MonoBehaviour 
{ 
  public float timer = 15f; 
 
  void Start () 
  { 
    Destroy (gameObject, timer); 
  } 
} </pre><p>The <code class="literal">WindshieldCanvas</code> will disappear after the timer runs out when the game starts up.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip63"></a>Note</h3><p>A windshield HUD canvas is set as a child object of the first-person avatar, a sibling object of the camera.</p></div><p>In this example, we start to move further <span>towards</span><a id="id325581668" class="indexterm"></a> a first-person experience. Imagine sitting in a car or the cockpit of an aircraft. The HUD is projected on the windshield in front of you, but you're free to move your head to look around. In the scene's <strong class="userinput"><code>Hierarchy</code></strong> panel, there's a first-person object (<code class="literal">MeMyselfEye</code>) that contains the camera rig, possibly your avatar body, and the other furnishings surrounding you. When the vehicle moves in the game, the entire cockpit moves in unison, including the camera rig and the windshield. We'll work with this more later in this chapter and <span><a class="link" href="#" linkend="ch08"><span>Chapter 7</span></a>, <span class="emphasis"><em>Playing with Physics and Fire</em></span></span>.</p></div>