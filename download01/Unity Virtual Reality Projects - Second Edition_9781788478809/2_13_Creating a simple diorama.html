<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec20"></a>Creating a simple diorama</h2></div></div><hr /></div><p>Now, we will add a few objects to the <span>scene</span><a id="id325552430" class="indexterm"></a> to set up the environment, including a unit cube, a flat plane, a red ball, and a photographic backdrop. Here is a photograph of a physical mock-up of the diorama we will build in VR:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/59dfefdb-69c5-4b2b-b842-1c404b977898.png" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec12"></a>Adding a cube</h3></div></div></div><p>Let's add the first <span>object</span><a id="id325555192" class="indexterm"></a> to the scene: a unit-sized cube.</p><p>Within the <strong class="userinput"><code>Hierarchy</code></strong> panel, use the <strong class="userinput"><code>Create</code></strong> menu <span>and</span><a id="id325560702" class="indexterm"></a> choose <strong class="userinput"><code>3D Object</code></strong> | <strong class="userinput"><code>Cube</code></strong>. The same selection can also be found in the main menu bar's <strong class="userinput"><code>GameObject</code></strong> drop-down menu.</p><p>A default white cube is added to the scene, centered on the ground plane at the (0, 0, 0) position, with no rotation, and a scale of one, as you can see in the <strong class="userinput"><code>Inspector</code></strong> panel. This is the <strong class="userinput"><code>Reset</code></strong> setting, which can be found in the object's <strong class="userinput"><code>Transform</code></strong> component of the <strong class="userinput"><code>Inspector</code></strong> panel.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip8"></a>Note</h3><p>The <strong class="userinput"><code>Reset</code></strong> values of the <strong class="userinput"><code>Transform</code></strong> component are <strong class="userinput"><code>Position</code></strong> (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>), <strong class="userinput"><code>Rotation</code></strong> (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>), and <strong class="userinput"><code>Scale</code></strong> (<code class="literal">1</code>, <code class="literal">1</code>, <code class="literal">1</code>).</p></div><p>If for some reason your cube has other <span>Transform</span> values, set these in the <strong class="userinput"><code>Inspector</code></strong> panel or locate the small <span class="emphasis"><em>gear</em></span> icon in the upper right-hand side of the <strong class="userinput"><code>Inspector</code></strong> panel's <strong class="userinput"><code>Transform</code></strong> component, click on it, and select <strong class="userinput"><code>Reset</code></strong>.</p><p>This cube has the dimensions of one unit on each side. As we'll see later, one unit in Unity corresponds to one meter in world coordinates. Its local center is the center of the cube.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec13"></a>Adding a plane</h3></div></div></div><p>Now, let's add a ground <span>plane</span><a id="id325572786" class="indexterm"></a> object into the scene.</p><p>In the <strong class="userinput"><code>Hierarchy</code></strong> panel, click <span>on</span><a id="id325572800" class="indexterm"></a> the <strong class="userinput"><code>Create</code></strong> menu (or main <strong class="userinput"><code>GameObject</code></strong> menu) and choose <strong class="userinput"><code>3D Object</code></strong> | <strong class="userinput"><code>Plane</code></strong>.</p><p>A default white plane is added to the scene, centered on the ground plane at <strong class="userinput"><code>Position</code></strong> (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>). (If necessary, select <strong class="userinput"><code>Reset</code></strong> from the <strong class="userinput"><code>Inspector</code></strong> panel's <strong class="userinput"><code>Transform</code></strong> component's <span class="emphasis"><em>gear</em></span> icon). Rename it to <code class="literal">GroundPlane</code>.</p><p>Note that at a scale of (<code class="literal">1</code>, <code class="literal">1</code>, <code class="literal">1</code>), Unity's plane object actually measures 10 by 10 units in X and Z. In other words, the size of <code class="literal">GroundPlane</code> is 10 by 10 units and its transform's <span>Scale</span> is 1.</p><p>The cube is centered at <strong class="userinput"><code>Position</code></strong> (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>), just like the ground plane. However, maybe it doesn't look like it to you. The <strong class="userinput"><code>Scene</code></strong> panel may show a <strong class="userinput"><code>Perspective</code></strong> projection that renders 3D scenes onto a 2D image. The <strong class="userinput"><code>Perspective</code></strong> distortion makes the cube not seem centered on the ground plane, but it is. Count the grid lines on either side of the cube. As you'll see, when it is viewed in VR and you're actually standing in the scene, it won't look distorted at all. This is shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/4a7f23d7-5764-4647-acd6-f46d3a0a6782.png" /></div><p>The cube is submerged in the ground plane because its local origin is at its geometric center—it measures 1 by 1 by 1 and its middle point is (0.5, 0.5, 0.5). This might sound obvious, but it is possible for the origin of a model to not be its geometric center (such as one of its corners). The <strong class="userinput"><code>Transform</code></strong> component's position is the world space location of the object's local origin. Let's move the cube as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Move the cube onto the surface of the ground plane—in the <strong class="userinput"><code>Inspector</code></strong> panel, set its <strong class="userinput"><code>Y</code></strong> position to 0.5: <strong class="userinput"><code>Position</code></strong> (<code class="literal">0</code>, <code class="literal">0.5</code>, <code class="literal">0</code>).</li><li>Let's rotate the cube a bit around the <span class="emphasis"><em>y</em></span> axis. Enter 20 into its <strong class="userinput"><code>Y </code></strong>rotation: <strong class="userinput"><code>Rotation</code></strong> (<code class="literal">0</code>, <code class="literal">0.5</code>, <code class="literal">0</code>).</li></ol></div><p>Note the direction in which it rotates. That's 20 degrees clockwise. Using your left hand, give a thumbs-up gesture. See the direction your fingers are pointing? Unity uses a left-handed coordinate system. (There is no standard for the coordinate system <span class="emphasis"><em>handedness</em></span>. Some software uses left-handedness, others use right-handedness).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip9"></a>Note</h3><p>Unity uses a left-handed coordinate system. And the <span class="emphasis"><em>y</em></span> axis is up.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec14"></a>Adding a sphere and some material</h3></div></div></div><p>Next, let's <span>add</span><a id="id325581678" class="indexterm"></a> a sphere. Select <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>3D Object</code></strong> | <strong class="userinput"><code>Sphere</code></strong> from the menu.</p><p>Like the cube, the <span>sphere</span><a id="id325577498" class="indexterm"></a> has a radius of 1.0, with its origin at the center. (If necessary, select <strong class="userinput"><code>Reset</code></strong> from the <strong class="userinput"><code>Inspector</code></strong> panel <strong class="userinput"><code>Transform</code></strong> component's <span class="emphasis"><em>gear</em></span> icon). It's hard to see the sphere as it is embedded in the cube. We need to move the sphere's position.</p><p>This time, let's use the <strong class="userinput"><code>Scene</code></strong> panel's <span class="strong"><strong>Gizmos</strong></span> component to move the object. In the <strong class="userinput"><code>Scene</code></strong> view, you can select graphical controls, or Gizmos, to manipulate the <span>objects</span> transforms, as illustrated in the following screenshot from the Unity documentation (<a class="ulink" href="http://docs.unity3d.com/Manual/PositioningGameObjects.html" target="_blank"><span>http://docs.unity3d.com/Manual/PositioningGameObjects.html</span></a>):</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/21a0c782-cc75-4f99-94b0-88314226854b.png" /></div><p>In the <strong class="userinput"><code>Scene</code></strong> panel, with the sphere selected, make sure that the <strong class="userinput"><code>Translate</code></strong> tool is active (second icon on the top-left icon toolbar) and use the arrows of the <span class="emphasis"><em>x</em></span>, <span class="emphasis"><em>y</em></span>, and <span class="emphasis"><em>z </em></span>axes to position it. I left mine at <strong class="userinput"><code>Position</code></strong> (<code class="literal">1.6</code>, <code class="literal">0.75</code>, <code class="literal">-1.75</code>).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip10"></a>Note</h3><p>A <span class="strong"><strong>G<span>izmo</span></strong></span> is a graphical control that lets you manipulate the parameters of an object or a view. Gizmos have grab points or handles that you can click and drag with the mouse.</p></div><p></p><p>Before we go much further, let's save our work as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>From the main menu bar, select <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Save Scene As...</code></strong> and name it <code class="literal">Diorama</code>.</li><li>Also, navigate to <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>Save Project</code></strong> for good measure. Note that in the <strong class="userinput"><code>Project</code></strong> panel, the new scene object was saved in the top-level <strong class="userinput"><code>Assets</code></strong> folder.</li></ol></div><p>Let's add some color to the scene by making a couple of colored materials and applying them to our objects. Follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>In the <strong class="userinput"><code>Project</code></strong> panel, select the top-level <strong class="userinput"><code>Assets</code></strong> folder and select <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Folder</code></strong>. Rename the folder to <code class="literal">Materials</code>.</li><li>With the <code class="literal">Materials</code> folder selected, select <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Material</code></strong> and rename it to <code class="literal">Red Material</code>.</li><li>In the <strong class="userinput"><code>Inspector</code></strong> panel, click the white rectangle to the right of <strong class="userinput"><code>Albedo</code></strong>, which opens the <strong class="userinput"><code>Color</code></strong> panel. Choose a nice juicy red.</li><li>Repeat the preceding steps to make a <code class="literal">Blue Material</code> too.</li><li>Select <strong class="userinput"><code>Sphere</code></strong> from the <strong class="userinput"><code>Hierarchy</code></strong> (or <strong class="userinput"><code>Scene</code></strong>) panel.</li><li>Drag the <code class="literal">Red Material</code> from the <strong class="userinput"><code>Project</code></strong> panel into the <strong class="userinput"><code>Inspector</code></strong> panel for the sphere. The sphere should now look red.</li><li>Select <strong class="userinput"><code>Cube</code></strong> from the <strong class="userinput"><code>Scene</code></strong> (or <strong class="userinput"><code>Hierarchy</code></strong>) panel.</li><li>This time, drag the <code class="literal">Blue Material</code> from the <code class="literal"><span>Project</span></code> panel into the scene and drop it onto the cube. It should now look blue.</li></ol></div><p>Save your scene and save the project. Here's what my scene looks like now (yours might be a little different, but that's OK):</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/982e9015-32c9-4ab5-ac1d-57f41d85de14.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note11"></a>Note</h3><p>Note that we're using the folders in the Project panel <code class="literal">/Assets/</code> directory to organize our stuff.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec15"></a>Changing the scene view</h3></div></div></div><p>You can change the scene <span>view</span><a id="id325552443" class="indexterm"></a> any time in a number of ways, and this varies depending on whether you have a mouse with three-buttons, or two-buttons, or Mac with only one button. Read up <span>on</span><a id="id325552452" class="indexterm"></a> it in the Unity manual, which can be found at <a class="ulink" href="http://docs.unity3d.com/Manual/PositioningGameObjects.html" target="_blank"><span>http://docs.unity3d.com/Manual/SceneViewNavigation.html</span></a>, to find <span>out</span><a id="id325552466" class="indexterm"></a> what works for you.</p><p>In general, combinations of left/right mouse clicks with the <span><span class="strong"><strong><span class="emphasis"><em>Shift</em></span> + </strong></span><span class="strong"><strong><span class="emphasis"><em>Ctrl</em></span> + </strong></span><span class="emphasis"><em><span class="strong"><strong>Alt</strong></span></em></span></span> keys will let you perform the following actions:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Drag the camera around.</li><li style="list-style-type: disc">Orbit the camera around the current pivot point.</li><li style="list-style-type: disc">Zoom in and out.</li><li style="list-style-type: disc"><span class="strong"><strong>Press <span class="emphasis"><em><span>Alt</span></em></span></strong></span> and right-click to swing the current eye orbit up, down, left, and right.</li><li style="list-style-type: disc">When the <span class="strong"><strong>Hand</strong></span> tool is selected (in the upper-left icon bar), the right mouse button moves the eye. The <span>middle-click</span> of the mouse does a similar thing.</li></ul></div><p>In the upper right-hand side of the <strong class="userinput"><code>Scene</code></strong> panel, you have the <span class="strong"><strong>Scene View</strong></span> Gizmo, which depicts the current scene view orientation as shown in the following screenshot. It may indicate, for example, a <strong class="userinput"><code>Perspective</code></strong> view, with <strong class="userinput"><code>x</code></strong> extending back to the left and <strong class="userinput"><code>z</code></strong> extending back to the right:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/7a599194-2ecf-4c1c-baca-dd520143d9ce.png" /></div><p></p><p>You can change the view to look directly along any of the three axes by clicking on the corresponding colored cone as shown in the following screenshot. Clicking on the small cube in the center changes the <strong class="userinput"><code>Perspective</code></strong> view to the <strong class="userinput"><code>Orthographic</code></strong> (non-distorted) view:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/e3f360f8-3fc4-42e3-bb9b-cb7a09e549f4.png" /></div><p>Before moving on, let's first align the scene view with the <strong class="userinput"><code>Main Camera</code></strong> direction. You may recall me saying that the default camera orientation, (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>), is looking down the positive <strong class="userinput"><code>z</code></strong> direction (back to front). Follow the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Click on the white z cone on the Scene View Gizmo to adjust the view from the <strong class="userinput"><code>Back</code></strong> (back direction), <span>looking forward</span>.</li><li>Also, use the Hand tool (or the <span>middle mouse button</span>) to slide the view up a tad.</li></ol></div><p>Now, when you select the <strong class="userinput"><code>Main Camera</code></strong> component (from the <strong class="userinput"><code>Hierarchy</code></strong> panel), you will see that the <strong class="userinput"><code>Scene</code></strong> view is roughly similar to the <strong class="userinput"><code>Camera Preview</code></strong>, looking in the same direction. (See the screen capture image shown in the following section for what the scene and preview looks like with this view direction after we add the photo.)</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip12"></a>Note</h3><p>For a full list of Unity shortcut hotkeys, see <a class="ulink" href="https://docs.unity3d.com/Manual/UnityHotkeys.html" target="_blank">https://docs.unity3d.com/Manual/UnityHotkeys.html</a>.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec16"></a>Adding a photo</h3></div></div></div><p>Now, let's add a <span>photo</span><a id="id325552685" class="indexterm"></a> for the big-screen backdrop of <span>our</span><a id="id325552694" class="indexterm"></a> diorama.</p><p>In computer graphics, an image that is mapped onto an object is called a <span class="strong"><strong>texture</strong></span>. While objects are represented in the <strong class="userinput"><code>x</code></strong>, <strong class="userinput"><code>y</code></strong>, and <strong class="userinput"><code>z</code></strong> world coordinates, textures are said to be in the U, V coordinates (such as pixels). We'll see that textures and UV maps can have their own scaling issues. Follow the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create a plane by navigating to <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>3D Object</code></strong> | <strong class="userinput"><code>Plane</code></strong> and rename it <code class="literal">PhotoPlane</code>.</li><li>Reset the plane's transform. In the <strong class="userinput"><code>Inspector</code></strong> panel, find the <span class="emphasis"><em>gear</em></span> icon on the upper right-hand side of the <strong class="userinput"><code>Transform</code></strong> panel. Click on this icon and select <strong class="userinput"><code>Reset</code></strong>.</li><li>Next, rotate it by 90 degrees around the <span class="emphasis"><em>z </em></span>axis (set its <strong class="userinput"><code>Transform</code></strong> component's <strong class="userinput"><code>Rotation</code></strong> value of <strong class="userinput"><code>z</code></strong> to -90). That's <span class="emphasis"><em>minus 90</em></span>. So, it's standing up, perpendicular to the ground.</li><li>Rotate it by 90 degrees around the <span class="emphasis"><em>y </em></span>axis so that its front is facing us.</li><li>Move it to the end of the ground plane at <strong class="userinput"><code>Position</code></strong> value of <span class="emphasis"><em><strong class="userinput"><code>z</code></strong></em></span> = <code class="literal">5</code> and above, at <strong class="userinput"><code>Position</code></strong> value of <strong class="userinput"><code>y</code></strong> = <code class="literal">5</code> (you may recall that the ground plane is 10 x 10 units).</li><li>Choose any photo from your computer to paste on this photo plane using Windows Explorer or Mac Finder. (Alternatively, you can use the <code class="literal">GrandCanyon.jpg</code> image that comes with this book).</li><li>In the <strong class="userinput"><code>Project</code></strong> panel, select the top-level <strong class="userinput"><code>Assets</code></strong> folder and navigate to <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Folder</code></strong>. Rename the folder to <code class="literal">Textures</code>.</li><li>Drag the photo file into the <code class="literal">Assets/Textures</code> folder. It should automatically import as a texture object. Alternatively, you can right-click on the <strong class="userinput"><code>Assets</code></strong> folder, select <strong class="userinput"><code>Import New Asset...</code></strong>, and import the picture.</li></ol></div><p>Select the new image <strong class="userinput"><code>Texture</code></strong> in the <strong class="userinput"><code>Project</code></strong> panel and review its settings in the <strong class="userinput"><code>Inspector</code></strong> panel. For Unity's rendering purposes, even if the original photo was rectangular, the texture is square now (for example, 2048 x 2048) and looks squished. When you map it onto a square-shaped face, it will be squished there too. Let's perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Drag the photo texture from the <strong class="userinput"><code>Project</code></strong> panel onto the photo plane (in the <strong class="userinput"><code>Scene</code></strong> panel).</li></ol></div><p>Oops! In my case, the picture is rotated sideways—yours, too?</p><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Select <code class="literal">PhotoPlane</code> (the photo plane) and set the <strong class="userinput"><code>Transform</code></strong> component's <strong class="userinput"><code>Rotation</code></strong> value of <strong class="userinput"><code>X</code></strong> to <code class="literal">90</code> degrees.
</li></ol></div><p>OK, it's upright, but still squished. Let's fix this. Check the original resolution of your photo and determine its aspect ratio. My <code class="literal">Grand Canyon</code> image was 2576 x 1932. When you divide its width by its height, you get the 0.75 ratio.</p><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>In Unity, set the <code class="literal">PhotoPlane</code> plane <strong class="userinput"><code>Transform</code></strong> component's <strong class="userinput"><code>Scale</code></strong> value of <strong class="userinput"><code>Z</code></strong> to <code class="literal">0.75</code>.</li></ol></div><p>Because its scale origin is the center, we also have to move it back down a bit.</p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Set the <strong class="userinput"><code>Position</code></strong> value of <strong class="userinput"><code>y</code></strong> to <code class="literal">3.75</code>.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note13"></a>Note</h3><p>Why 3.75? The height started at 10. So, we scaled it to 7.5. The scaling of objects is relative to their origin. So now, the half of the height is 3.75. We want to position the center of the backdrop 3.5 unit above the ground plane.</p></div><p>We have the size and position set up, but the photo looks washed out. That's because the ambient lighting in the scene is affecting it. You might want to keep it that way, especially as you build more sophisticated lighting models and materials in your scenes. But for now, we'll un-light it.</p><p>With <code class="literal">PhotoPlane</code> selected, note that the photo's <strong class="userinput"><code>Texture</code></strong> component in the <strong class="userinput"><code>Inspector</code></strong> panel has its default <strong class="userinput"><code>Shader</code></strong> component set as <strong class="userinput"><code>Standard</code></strong>. Change it to <strong class="userinput"><code>Unlit</code></strong> | <strong class="userinput"><code>Texture</code></strong>.</p><p>Here's what mine looks like; yours should be similar:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/551e5573-14a8-40ba-af7a-705a6e82f9ec.png" /></div><p></p><p>There! That looks pretty good. Save your scene and project.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip14"></a>Note</h3><p>You may notice that Planes are only visible from their front. All surfaces in computer graphics have a front-facing direction (normal vector). The view camera must be towards the front face or else the object will not be rendered. This is a performance optimization. If you require a <span class="emphasis"><em>plane</em></span> with faces on both sides, use a Cube scaled thinly, or two separate Planes facing away from each other.</p></div><p>Notice that if you check your Materials folder now, you'll find that Unity has automatically created a <code class="literal">GrandCanyon.mat</code> material for you that uses the <code class="literal">GrandCanyon.jpg</code> texture.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec17"></a>Coloring the ground plane</h3></div></div></div><p>If you want to change <span>the</span><a id="id325553043" class="indexterm"></a> ground plane color, create a new material (in the <strong class="userinput"><code>Project</code></strong> panel), name it <code class="literal">Ground</code>, and drag it onto the ground plane. Then, change its <strong class="userinput"><code>Albedo</code></strong> color. I suggest using the dropper (icon) to pick an earth tone from the image in your photo plane.</p></div></div>