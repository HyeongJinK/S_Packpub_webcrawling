<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec79"></a>Assembling the scene in Unity</h2></div></div><hr /></div><p>Now, we can use the gallery room <span>model</span><a id="id325317266" class="indexterm"></a> in Unity and add a floor and a ceiling with skylights. We will apply textures to the walls and add lighting.</p><p>We can start a new Unity scene, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create a new scene by navigating to <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>New Scene</code></strong>. Then, <strong class="userinput"><code>Save Scene As</code></strong> and name it <code class="literal">Gallery</code>.</li><li>Drag a copy of your <code class="literal">MeMyselfEye</code> prefab into the <strong class="userinput"><code>Hierarchy</code></strong>.</li><li>Delete the default <strong class="userinput"><code>Main Camera</code></strong> from <strong class="userinput"><code>Hierarchy</code></strong>.</li></ol></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec118"></a>The gallery room level</h3></div></div></div><p>First, we'll build the art gallery's room <span>structure</span><a id="id325547516" class="indexterm"></a> by performing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create a floor plane by navigating to <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>3D Object</code></strong>|<strong class="userinput"><code>Plane</code></strong>. Reset its<strong class="userinput"><code>Transform</code></strong>option and rename it to<code class="literal">Floor</code>.</li><li>Create the material for the floor and color it brown. <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Material</code></strong>, rename it, set its <strong class="userinput"><code>Albedo</code></strong> (<code class="literal">70</code>, <code class="literal">25</code>, <code class="literal">5</code>), and drag the material onto the <code class="literal">Floor</code>.</li><li>Our room is sized 24 by 36 feet, which in meters is roughly 7.3 by 11. A Unity plane is 10 units square. So, <strong class="userinput"><code>Scale</code></strong> it to (<code class="literal">0.73</code>, <code class="literal">2</code>, <code class="literal">1.1</code>).</li><li>Import the gallery model (for instance, <code class="literal">Gallery.blend</code>). Drag a copy from <strong class="userinput"><code>Project Assets</code></strong> into the <strong class="userinput"><code>Scene</code></strong>. Reset its <strong class="userinput"><code>Transform</code></strong> option.</li><li>Manually rotate and/or scale it to fit the floor, as needed (mine fits, but its <strong class="userinput"><code>Rotate Y</code></strong> value needed to be set to <code class="literal">90</code>). It may help if you first change the <strong class="userinput"><code>Scene</code></strong> view to <strong class="userinput"><code>Top Iso</code></strong>.</li><li>It is a good idea to add a collider to the walls so that a character doesn't just walk through them. To accomplish this, navigate to <strong class="userinput"><code>Add Component</code></strong> | <strong class="userinput"><code>Physics</code></strong> | <strong class="userinput"><code>Mesh Collider</code></strong>.</li></ol></div><p>Note that when imported, as we defined in Blender, the <strong class="userinput"><code>Gallery</code></strong> has separate objects for the walls from the ceiling. A material is created (perhaps named <code class="literal">unnamed</code>) that has a neutral gray Albedo (<code class="literal">204</code>, <code class="literal">204</code>, <code class="literal">204</code>). I like this color for the walls, but I <span>made</span><a id="id325563577" class="indexterm"></a> a new material, all White (<code class="literal">255</code>, <code class="literal">255</code>, <code class="literal">255</code>) for the ceiling.</p><p>For a good default skybox, we recommend <span class="strong"><strong>Wispy Skybox</strong></span>, a free <span>package</span><a id="id325567255" class="indexterm"></a> on the Asset Store (<a class="ulink" href="https://assetstore.unity.com/packages/2d/textures-materials/sky/wispy-skybox-21737" target="_blank">https://assetstore.unity.com/packages/2d/textures-materials/sky/wispy-skybox-21737</a>). Go ahead and download and import it into your project now if you want to use it.</p><p>Next, add some sky and sunlight, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>If a <strong class="userinput"><code>Lighting</code></strong> tab is not visible in your Unity Editor, navigate to <strong class="userinput"><code>Window</code></strong> | <strong class="userinput"><code>Lighting | Settings</code></strong></li><li>In the <strong class="userinput"><code>Lighting</code></strong> pane, select the <strong class="userinput"><code>Scene</code></strong> tab</li><li>For sunlight, in the <strong class="userinput"><code>Lighting Scene</code></strong> pane, at the <strong class="userinput"><code>Sun</code></strong> input, select the (default) Directional Light from the Hierarchy and drag it onto the Sun Source slot</li><li>For the sky, if you imported Wispy Skybox (see previously), then in the Lighting Scene tab, select the doughnut icon on the Skybox Material slot and select the material named <code class="literal">WispySkyboxMat</code></li></ol></div><p>Since we selected the <code class="literal">Directional Light</code> for the sun source, you can play with the angle by selecting the Directional Light and modifying its <strong class="userinput"><code>Rotation</code></strong>, with the gizmo in the <strong class="userinput"><code>Scene</code></strong> window or directly in the <strong class="userinput"><code>Inspector</code></strong>, perhaps one that is consistent with the Skybox you chose (such as <strong class="userinput"><code>Rotation</code></strong><code class="literal">60</code>, <code class="literal">175</code>, <code class="literal">0</code>).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip86"></a>Note</h3><p>You may consider textured materials for the floor and other surfaces. For example,  search the Asset Store for "Floor Materials." There are many free packages as well as paid ones.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec119"></a>The artwork rig</h3></div></div></div><p>Now, we can plan the art exhibition. We'll create a  <span>reusable</span><a id="id325572843" class="indexterm"></a> artwork rig prefab with a picture frame, lighting, positioning, artist info, and a teleportation viewing position. Then, we'll hang the art on the walls of the gallery. Later, we'll apply the actual images. The artwork rig will consist of a picture frame (cube), a photo plane (quad), and a spotlight, all relative to the artwork's placement on the wall. We will create the first one inside our <strong class="userinput"><code>Scene</code></strong>, save it as a <code class="literal">Prefab</code>, and then place duplicates on the walls throughout the gallery. I suggest doing this in the <strong class="userinput"><code>Scene</code></strong> view. Let's get started:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create a container object by navigating to <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>Create Empty</code></strong>. Name it<code class="literal">ArtworkRig</code>.</li><li>Create the frame. With <code class="literal">ArtworkRig</code> selected, right-click and navigate to <strong class="userinput"><code>GameObject</code></strong> | <strong class="userinput"><code>3D Object</code></strong> | <strong class="userinput"><code>Cube</code></strong>. Name it <code class="literal">ArtFrame</code>. In <strong class="userinput"><code>Inspector</code></strong>, set its <strong class="userinput"><code>Scale Z</code></strong> to <code class="literal">0.05</code>. Also, let's assume a <code class="literal">3:4</code> aspect ratio. So, set its <strong class="userinput"><code>Scale Y</code></strong> value to <code class="literal">0.75</code>.</li><li>Position the rig on a wall (the one facing the entrance at the upper right of the original floor plan). It may help to hide the ceiling child of the <code class="literal">Gallery</code> object (uncheck its <strong class="userinput"><code>Enable</code></strong> checkbox option). Then, change the <strong class="userinput"><code>Scene</code></strong> view to <strong class="userinput"><code>Top and Iso</code></strong> using <strong class="userinput"><code>Scene View Gizmo</code></strong> on the upper right of the <strong class="userinput"><code>Scene</code></strong> panel. Click on the green Y icon for the <strong class="userinput"><code>Top</code></strong> view and the middle square icon for the <strong class="userinput"><code>Iso</code></strong> view.</li><li>Select <code class="literal">ArtworkRig</code>, ensure that the <strong class="userinput"><code>Translate</code></strong> gizmo is active (the second icon in the top left icon toolbar), and use the <span class="emphasis"><em>x</em></span> and <span class="emphasis"><em>z</em></span> axis arrows to position it. Be sure to select and move the <code class="literal">ArtworkRig</code>. Leave the frame position at (<code class="literal">0</code>,<code class="literal">0</code>,<code class="literal">0</code>). Set the height at eye level (<code class="literal">Y=1.4</code>). The <strong class="userinput"><code>Transform Position</code></strong> value that works for me is (<code class="literal">2</code>, <code class="literal">1.4</code>, <code class="literal">-1.82</code>) and no <strong class="userinput"><code>Rotation</code></strong> at (<code class="literal">0</code>,<code class="literal">0</code>,<code class="literal">0</code>), <span>as shown in the screenshot that follows</span>.</li><li>Make the frame black. Navigate to <strong class="userinput"><code>Assets</code></strong> | <strong class="userinput"><code>Create</code></strong> | <strong class="userinput"><code>Material</code></strong>, name it <code class="literal">FrameMaterial</code>, and set its Albedo color to black. Then in <strong class="userinput"><code>Hierarchy</code></strong>, select the <strong class="userinput"><code>Frame</code></strong> option and drag the <code class="literal">FrameMaterial</code> material onto <code class="literal">ArtFrame</code>.</li></ol></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Make the image placeholder. With <code class="literal">ArtFrame</code> selected in Hierarchy, right-click and navigate to <strong class="userinput"><code>3D Object</code></strong> | <strong class="userinput"><code>Quad</code></strong>. Name it to <code class="literal">Image</code>. Position it just in front of the frame so that it's visible; set <strong class="userinput"><code>Position</code></strong> to (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">-0.8</code>) and scale it so that it's slightly smaller than the frame by setting <strong class="userinput"><code>Scale</code></strong> to (<code class="literal">0.9</code>, <code class="literal">0.9</code>, <code class="literal">1</code>).</li><li>To better appreciate the current scale and eye level, try inserting a copy of <strong class="userinput"><code>Ethan</code></strong> into the scene:
<div class="mediaobject"><img src="/graphics/9781788478809/graphics/a66fc67e-9246-4dc8-b5e6-2b6742d6cfaa.png" /></div></li></ol></div><p>Next, we'll add a <span>spotlight</span><a id="id325586435" class="indexterm"></a> to the rig, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>First, put the ceiling back in by checking off the <strong class="userinput"><code>Enable</code></strong> checkbox option for the child object of <strong class="userinput"><code>Gallery</code></strong>.</li><li>With <code class="literal">ArtworkRig</code> selected in <strong class="userinput"><code>Hierarchy</code></strong>, right-click, navigate to <strong class="userinput"><code>Light</code></strong> | <strong class="userinput"><code>Spotlight</code></strong>, and position it one and half meters away from the wall (<strong class="userinput"><code>Z</code></strong>=<code class="literal">-1.5</code>) and up near the ceiling. The exact height doesn't matter much since we don't actually have a light fixture. We just have a Vector3 location for the source. I set <strong class="userinput"><code>Position</code></strong> to (<code class="literal">0</code>, <code class="literal">1.5</code>, <code class="literal">-1</code>).</li></ol></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Now, adjust the <code class="literal">Spotlight</code> value so that it appropriately illuminates the artwork. I set <strong class="userinput"><code>Rotation X</code></strong> to <code class="literal">2</code>, and adjust the light parameters to your liking, such as <strong class="userinput"><code>Range</code></strong> to <code class="literal">5</code>, <strong class="userinput"><code>Spot Angle</code></strong> to <code class="literal">45</code>, and <strong class="userinput"><code>Intensity</code></strong> to <code class="literal">3</code>. The results are shown in the following screenshot:
<div class="mediaobject"><img src="/graphics/9781788478809/graphics/bcecf49c-749f-4ba6-b880-df189e86562e.png" /></div></li><li>Notice the spotlight is passing through the wall, illuminating the floor on the other side. We don't want that. Select the Spotlight and enable shadows via <strong class="userinput"><code>Shadow Type: Soft Shadows</code></strong>. </li><li>To preserve the rig as a prefab, select <code class="literal">ArtworkRig</code> in <strong class="userinput"><code>Hierarchy</code></strong> and drag it into your <strong class="userinput"><code>Project Assets</code></strong> Prefabs folder.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip87"></a>Note</h3><p>Getting to know your Lighting settings can be important. If you see holes in your objects or shadows, for example, try sliding the Directional Light's Normal Bias to <code class="literal">0</code> and Bias to a low value like <code class="literal">0.1</code>. For more information on shadows and the bias property, see <a class="ulink" href="https://docs.unity3d.com/Manual/ShadowOverview.html" target="_blank">https://docs.unity3d.com/Manual/ShadowOverview.html</a>.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec120"></a>The exhibition plan</h3></div></div></div><p>The next step is to duplicate <code class="literal">ArtworkRig</code> on each <span>wall</span><a id="id325577653" class="indexterm"></a> where we want to display the images. Position it and rotate as needed. If you follow the plan shown in the following diagram, your exhibition will display ten images, indicated by the stars:</p><div class="mediaobject"><img src="/graphics/9781788478809/graphics/11671306-daad-46d4-a515-bd1dbd8e699a.png" /></div><p>The following are the steps to duplicate <code class="literal">ArtworkRig</code> on each wall:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>As before, it may be easier to hide the ceiling and change the <strong class="userinput"><code>Scene View</code></strong> panel to <strong class="userinput"><code>Top and Iso</code></strong>.</li><li>On the top left of the <strong class="userinput"><code>Scene View</code></strong> panel, change the <strong class="userinput"><code>Transform Gizmo</code></strong> toggles so that the tool handle is placed at the <strong class="userinput"><code>Pivot</code></strong> point rather than <strong class="userinput"><code>Center</code></strong>.</li><li>Create a new <strong class="userinput"><code>Empty</code></strong> game object, <strong class="userinput"><code>Reset</code></strong> its transform, and name it <code class="literal">Artworks</code>.</li><li>Move the existing <code class="literal">ArtworkRig</code> so it's a child of <code class="literal">Artworks</code>.</li></ol></div><p>For each location, place an <span>artwork</span><a id="id325577729" class="indexterm"></a> in the gallery, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Select an existing <code class="literal">ArtworkRig</code> in the <strong class="userinput"><code>Hierarchy</code></strong></li><li>Duplicate <code class="literal">Artworkrig</code> with right-click on <strong class="userinput"><code>Duplicate</code></strong>, or press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span></li><li>Rotate the rig so that it faces the correct direction by setting <strong class="userinput"><code>Rotation Y</code></strong> to <code class="literal">0</code>, <code class="literal">90</code>, <code class="literal">180</code>, or <code class="literal">-90</code></li><li>Position the rig on the wall</li></ol></div><p>The settings that work for my gallery are provided in the following table (and assume your Artworks transform is reset to the origin):</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p></p></th><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Position X</p></th><th style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Position Z</p></th><th style="border-bottom: 0.5pt solid ; "><p>Rotation Y</p></th></tr></thead><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>0</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>2</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>-1.8</p></td><td style="border-bottom: 0.5pt solid ; "><p>0</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>1</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>-1.25</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>-5.28</p></td><td style="border-bottom: 0.5pt solid ; "><p>-180</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>2</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>-3.45</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>-3.5</p></td><td style="border-bottom: 0.5pt solid ; "><p>-90</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>3</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>-3.45</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>-0.7</p></td><td style="border-bottom: 0.5pt solid ; "><p>-90</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>4</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>-2</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>1.6</p></td><td style="border-bottom: 0.5pt solid ; "><p>0</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>5</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>2</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>-1.7</p></td><td style="border-bottom: 0.5pt solid ; "><p>180</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>6</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>3.5</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>0</p></td><td style="border-bottom: 0.5pt solid ; "><p>90</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>7</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>3.5</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>3.5</p></td><td style="border-bottom: 0.5pt solid ; "><p>90</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>8</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>1.25</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>5.15</p></td><td style="border-bottom: 0.5pt solid ; "><p>0</p></td></tr><tr><td style="border-right: 0.5pt solid ; "><p>9</p></td><td style="border-right: 0.5pt solid ; "><p>-2</p></td><td style="border-right: 0.5pt solid ; "><p>1.7</p></td><td style=""><p>180</p></td></tr></tbody></table></div><p>Note that the objects are listed in the same order that we'll use in the animated ride-through of the scene. Place them, as children of <code class="literal">Artworks</code>, in this order in <strong class="userinput"><code>Hierarchy</code></strong>.</p></div></div>