<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec44"></a>Adding Rigidbody</h2></div></div><hr /></div><p>Another approach to control a game character is to use a <span class="strong"><strong>Rigidbody</strong></span> component and make it subject to physics.</p><p>The<a id="id265" class="indexterm"></a> Rigidbody adds several features to make a character behave as if it were a real physical object—it tends to fall down, it is pushed by other objects, and pushes them as well. If you want your game to have a realistic feel, then a Rigidbody is what you need.</p><p>The problem is that, more often than you may think, realism doesn't necessarily mean fun and engagement. As a matter of fact, the control style dependent on a Rigidbody is pretty realistic, but it is also not very precise. Momentum, friction, weight... these are all examples of variables you need to manage and appropriately tweak to get optimal game controls. In other words, with a Rigidbody you get fluidity, but you need to be comfortable with physics and have excellent programming skills to get true control.</p><p>With regard to gravity management, a Rigidbody has a parameter called <a id="id266" class="indexterm"></a>
<span class="strong"><strong>Mass</strong></span> that defines how strong the character is attracted by the ground based on its physics properties. Imagine you have several GameObjects in your scene, each with its own Rigidbody. Should you decide to change the physics model as a consequence of a game event, you can change the defintion of gravity in your game and your changes will affect all Rigidbodies in the scene. With a Character Controller, you couldn't do that!</p><p>Another difference is that Rigidbodies allow us to use physics materials. A Rigidbody offers the opportunity to create special surfaces where the character slides as if it were ice, or slows down, or anything you may think of. This can be pretty useful for a platform game; however, the Character Controller doesn't support it!</p><p>With this recipe, we show you how you can add a <span class="strong"><strong>Rigidbody</strong></span> component to a game character and how to tweak its parameters for a platform game.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec107"></a>Getting ready</h3></div></div></div><p>Clean the game scene of <a id="id267" class="indexterm"></a>any former character and add a new one. Follow the recipe to know what to do next.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec108"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Go to the <span class="strong"><strong>Project</strong></span> panel and access the <span class="strong"><strong>Prefabs</strong></span> folder. Now drag a new <span class="strong"><strong>Character prefab</strong></span> into the scene and be sure it has no <span class="strong"><strong>Character Controller</strong></span> attached to it.</p></li><li><p>With <span class="strong"><strong>Character</strong></span> selected in the Hierarchy, click on the Component menu item and navigate to <span class="strong"><strong>Physics|Rigidbody</strong></span> from the menu, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_04_10.jpg" /></div></li><li><p>If you <a id="id268" class="indexterm"></a>now move to the <span class="strong"><strong>Inspector</strong></span> window, you can take a look at the parameters to control the behavior of the <span class="strong"><strong>Rigidbody</strong></span>. <span class="strong"><strong>Mass</strong></span> represents...well, the mass of a game object—how much it is subject to physics forces. Objects with high mass tend to fall down quickly, keep their momentum if they collide, and push other objects.</p><p>An important thing to say about <span class="strong"><strong>Mass</strong></span> is that it may happen that your imported models act strangely when added with a Rigidbody. The reason may be that the scale of your imported model is wrong. Always consider that in Unity, 1 unit = 1 meter, and that the physics engine works on the same exact scale.</p></li><li><p><span class="strong"><strong>Drag</strong></span> is another important parameter that defines the inertia of a game object. Low values of drag mean that the object is heavy, while high values mean it is light. Checking the manual, you may learn that <code class="literal">0.001</code> means a solid block of metal, while a value of <code class="literal">10</code> <a id="id269" class="indexterm"></a>corresponds to a feather. Please refer to <a class="ulink" href="http://docs.unity3d.com/Manual/class-Rigidbody.html" target="_blank">http://docs.unity3d.com/Manual/class-Rigidbody.html</a> for an explanation of the <span class="strong"><strong>Drag</strong></span> parameter.</p></li><li><p><span class="strong"><strong>Is Kinematic</strong></span> is an interesting option if you want a game object to detect collisions but don't want it to react to physics. For example, a classic 2D shooter requires collision detection but doesn't implement physics forces. Since an <span class="strong"><strong>Rigidbody</strong></span> component may be necessary for detecting the collisions on a game object (check the collision detection <a id="id270" class="indexterm"></a>tables at: <a class="ulink" href="http://docs.unity3d.com/Manual/CollidersOverview.html" target="_blank">http://docs.unity3d.com/Manual/CollidersOverview.html</a>), the <span class="strong"><strong>Is Kinematic</strong></span> option is a welcome feature of the <span class="strong"><strong>Rigidbody</strong></span> component.</p></li><li><p>Finally, we <a id="id271" class="indexterm"></a>have a set of properties called <span class="strong"><strong>Constraints</strong></span>. By flagging these properties, we decide which axis the character can move to and rotate on. For example, for a side-scrolling game, you may want the character to not move on the <span class="emphasis"><em>Z</em></span> axis, and freeze its rotations on the <span class="emphasis"><em>X</em></span> and <span class="emphasis"><em>Z</em></span> axes.</p></li></ol></div><p>The following screenshot shows the settings to use a Rigidbody in our platform game:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_04_11.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec109"></a>How it works...</h3></div></div></div><p>A Rigidbody is one <a id="id272" class="indexterm"></a>of those components you will keep making use of as you work with Unity. Game objects with Rigidbodies attached to them fall, push and can be pushed, have mass, provide a large collection of methods to interact with them, and can be fully controlled through physics. The settings we previously defined are those that meet the needs of our prototype; you may find yourself experimenting with them to find yours! With the <span class="strong"><strong>Rigidbody</strong></span> component added to the character, we now have physics, but we still miss control. If we want to use physics forces interacting with the <span class="strong"><strong>Rigidbody</strong></span> component to control the character, we need to script them. This is the topic of our next recipe.</p></div></div>