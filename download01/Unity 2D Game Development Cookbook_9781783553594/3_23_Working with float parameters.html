<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec35"></a>Working with float parameters</h2></div></div><hr /></div><p>In the following recipe, we <a id="id207" class="indexterm"></a>will show you how to use a <code class="literal">float</code> type to switch between clips based on a value that changes continuously, such as the character speed.</p><p>Let's assume we have an animation loop for the walking state of the character and another for running. As the character speed increases, it switches between the two states. How can we achieve that? Check out the following recipe to know.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec79"></a>Getting ready</h3></div></div></div><p>As usual, we follow on from the previous recipe. Have the FBX files named <code class="literal">Char@Walk</code> and <code class="literal">Char@Run</code> imported and available in the project panel and the <span class="strong"><strong>Animator</strong></span> window open in the editor.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec80"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Go to the <span class="strong"><strong>Project</strong></span> panel and find the <span class="strong"><strong>Walk</strong></span> and <span class="strong"><strong>Run</strong></span> clips of your character. Drag them from the <span class="strong"><strong>Project</strong></span> panel into the <span class="strong"><strong>Animator</strong></span> window.</p></li><li><p>Right-click on the <span class="strong"><strong>Walk</strong></span> animation and make a transition to <span class="strong"><strong>Run</strong></span> and another back from <span class="strong"><strong>Run</strong></span> to <span class="strong"><strong>Walk</strong></span>.</p></li><li><p>Create a new parameter, this time a <code class="literal">float</code> variable, and name it <code class="literal">fSpeed</code>. The following screenshot shows the result you should have so far:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_03_18.jpg" /></div></li><li><p>Click on the<a id="id208" class="indexterm"></a> <span class="strong"><strong>transition</strong></span> field to access its properties in the <span class="strong"><strong>Inspector</strong></span> window.</p></li><li><p>Set <code class="literal">fSpeed</code> as the parameter to blend between <span class="strong"><strong>Walk</strong></span> and <span class="strong"><strong>Jump</strong></span>.</p></li><li><p>Once we set a <code class="literal">float</code> variable as the condition for the transition, we are also required to refine the condition itself by setting whether we want the transition to be performed once the value gets larger or smaller than a threshold we set. Set the <code class="literal">threshold</code> condition for our <code class="literal">float</code> parameter to <span class="strong"><strong>Greater</strong></span> and set its value to <code class="literal">0.5</code>. This way, the running clip is played as the character speed grows. Please refer to the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_03_19.jpg" /></div></li><li><p>This time,<a id="id209" class="indexterm"></a> we also flag the <span class="strong"><strong>Atomic</strong></span> option, because we want this transition to be interrupted whenever the character meets the threshold we set.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec81"></a>How it works...</h3></div></div></div><p>We added some complexity to the animation system of our character by adding a transition controlled by a <code class="literal">float</code> value. We used the <code class="literal">float</code> value to blend between the <span class="strong"><strong>Walk</strong></span> and <span class="strong"><strong>Run</strong></span> clips, based on the character speed. Assuming an analog control system, with this setup, the character switches between the <span class="strong"><strong>Walk</strong></span> and <span class="strong"><strong>Run</strong></span> clips based on the player's input.</p></div></div>