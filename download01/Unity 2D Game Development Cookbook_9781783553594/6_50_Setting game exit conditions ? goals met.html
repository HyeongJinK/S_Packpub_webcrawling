<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec59"></a>Setting game exit conditions – goals met</h2></div></div><hr /></div><p>To set the <a id="id379" class="indexterm"></a>winning conditions for the level, we need to count the items collected and check that value against a default number of items we want the level to end with. Once the number of items collected equals the goal, the player receives a message.</p><p>This is the topic of our next recipe.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec151"></a>Getting ready</h3></div></div></div><p>We have already counted the number of items collected in the <code class="literal">runner</code> script, through the <code class="literal">collected</code> <code class="literal">int</code> variable. Thus we can take advantage of the code we already implemented and improve it to manage the additional functionality.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec152"></a>How to do it…</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open the <code class="literal">runner</code> script in Monodevelop. In the upper section with the variable declaration, modify the declaration for <code class="literal">collected</code>, as shown here:</p><div class="informalexample"><pre class="programlisting">  public int collected, levelGoal;</pre></div></li><li><p>In the <code class="literal">Start()</code> function, add the initialization for <code class="literal">levelGoal</code> with the value of <code class="literal">5</code>:</p><div class="informalexample"><pre class="programlisting">  collected = 0;
  levelGoal= 5;</pre></div></li><li><p>In the <code class="literal">Update()</code> function, add the following lines to check whether the winning conditions are met, and send a message to the player if they are met:</p><div class="informalexample"><pre class="programlisting">  if(collected == levelGoal){
    Time.timeScale = 0;
    Debug.Log("level complete!");
  }</pre></div></li><li><p>If you try the game now, you should see that upon collecting five items, the game stops and the <span class="strong"><strong>Level complete</strong></span>! message is displayed in the <span class="strong"><strong>Console</strong></span>.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec153"></a>How it works…</h3></div></div></div><p>The logic is <a id="id380" class="indexterm"></a>pretty easy here; whenever the player collects an item, the number of total items collected is increased by one. When this number equals the goal value we set for the level, the game ends.</p><p>In this book, we will gradually work to improve the feedback provided for the player and the game flow.</p></div></div>