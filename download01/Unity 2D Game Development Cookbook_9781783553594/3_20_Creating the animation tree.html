<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec32"></a>Creating the animation tree</h2></div></div><hr /></div><p>In this recipe, we show you how to add animation clips to the animator component of a game object (our game character). This being done, we will be able to set the transitions between the clips and create the logic for the animations to be correctly played.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec70"></a>Getting ready</h3></div></div></div><p>First of all, we need a set of <a id="id189" class="indexterm"></a>animation clips, imported in Unity and configured in <span class="strong"><strong>Inspector</strong></span>. We explained these operations in <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Importing 3D Models and Animations</em></span>, so we suggest going back to it in case you haven't checked that part yet. As usual, we provide the <code class="literal">Assets</code> folder you need, in case you don't have your own to use.</p><p>Before we proceed, be sure you have these four animation clips imported into your Unity project as FBX files: <code class="literal">Char@Idle</code>, <code class="literal">Char@Run</code>, <code class="literal">Char@Jump</code>, and <code class="literal">Char@Walk</code>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec71"></a>How to do it...</h3></div></div></div><p>The first operation is to create a folder to store the <span class="strong"><strong>Animator Controller</strong></span>.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>From the project panel, select the <code class="literal">Assets</code> folder and create a new folder for the Animation Controller. Name this folder <code class="literal">Animators</code>.</p></li><li><p>In the <code class="literal">Animators</code> folder, create a new <code class="literal">Animator</code> <code class="literal">Controller</code> option by navigating to <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Animator Controller</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_03_03.jpg" /></div></li><li><p>Name the <a id="id190" class="indexterm"></a>asset <code class="literal">Character_Animator</code>, or any other name you like.</p></li><li><p>Double-click on <code class="literal">Character_Animator</code> to open the <span class="strong"><strong>Animator</strong></span> panel in Unity. Refer to the following screenshot; you should have an empty grid with a single magenta box called <span class="strong"><strong>Any State</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_03_04.jpg" /></div></li><li><p>Access <a id="id191" class="indexterm"></a>the <code class="literal">Models/Animations</code> folder and select <code class="literal">Char@Idle</code>. Expand its hierarchy to access the actual animation clip named <code class="literal">Idle</code>; animation clips are represented by small play icons. Refer to the following screenshot for more clarity:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_03_05.jpg" /></div></li><li><p>Now drag<a id="id192" class="indexterm"></a> the clip into the <span class="strong"><strong>Animator</strong></span> window. The clip should turn into a box inside the panel (colored in orange to represent that). Being the first clip imported into the <span class="strong"><strong>Animator</strong></span> window, it is assumed to be the default animation for the character. That's exactly what we want!</p></li><li><p>Repeat this operation with the clip named <code class="literal">Jump</code>, taken from the <code class="literal">Char@Jump</code> FBX file. The following screenshot shows what should appear in the <span class="strong"><strong>Animator</strong></span> window:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_03_06.jpg" /></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec72"></a>How it works...</h3></div></div></div><p>By dragging<a id="id193" class="indexterm"></a> animation clips from the project panel into the <span class="strong"><strong>Animator</strong></span> editor, Mecanim creates a logic state for each of them. As states, the clips are available to connect through transitions and the animation tree of the character can come to life.</p><p>With the <span class="strong"><strong>Idle</strong></span> and <span class="strong"><strong>Jump</strong></span> animations added to the <span class="strong"><strong>Animator</strong></span> window, we can define the logic to control the conditions to switch between them.</p><p>In the following recipe, we <a id="id194" class="indexterm"></a>create the transition to blend between these two animation clips.</p></div></div>