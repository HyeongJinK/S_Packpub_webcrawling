<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec69"></a>Game options â€“ volume level</h2></div></div><hr /></div><p>Among the extra features we are adding to the prototype, we'd like to provide an example of options screen functionality by showing you how to set up a horizontal slider to control the volume of the background music carpet.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec179"></a>Getting ready</h3></div></div></div><p>For this recipe, we will use the <a id="id447" class="indexterm"></a>
<span class="strong"><strong>bkgd_01</strong></span> audio clip we imported at the beginning of this chapter. Open your project in Unity and ensure that <span class="strong"><strong>bkgd_01</strong></span> is configured in the <span class="strong"><strong>Inspector</strong></span> window, as we did in the first recipe of this chapter.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec180"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>To make <span class="strong"><strong>Option Screen</strong></span> for the prototype, we begin by creating a new scene and naming it <span class="strong"><strong>Option Screen</strong></span>.</p></li><li><p>Next, add an empty game object to the scene and name it <span class="strong"><strong>GUI</strong></span>.</p></li><li><p>Add an <span class="strong"><strong>Audio Source</strong></span> component to the <span class="strong"><strong>GUI</strong></span> game object in the scene. Remember that whenever you want a game object to play a sound, an Audio Source component must be attached to it.</p></li><li><p>Now we add a script to the game object, with the instructions to draw the interface and control its functionality. Create a new C# script and name it <span class="strong"><strong>VolumeController</strong></span>.</p></li><li><p>Double-click on the script to open it in <span class="strong"><strong>Monodevelop</strong></span>.</p></li><li><p>First of all, we need two public variables, one to store the reference to the audio clip we want to be played, and the other to store the actual volume level based on the position of the horizontal slider. We make this second variable static so that we can access its value anywhere. Add the following lines to the script:</p><div class="informalexample"><pre class="programlisting">public AudioClip bkgdClip;
static private float volumeLevel;</pre></div></li><li><p>Now we need the <code class="literal">OnGUI()</code> function to draw the slider on screen and set the volume level. Add these lines to the script:</p><div class="informalexample"><pre class="programlisting">void OnGUI(){
    volumeLevel = GUI.HorizontalSlider( new Rect(30,30,110, 30), volumeLevel, 0.0f, 			10.0f);
}</pre></div></li><li><p>To end with scripting, we need to add a line to the <code class="literal">Update()</code> function to check whether the volume at which the sound is played is the same as the volume that is set on the slider. This is done with the following instruction in the <code class="literal">Update()</code> function:</p><div class="informalexample"><pre class="programlisting">void Update () {

    audio.volume = volumeLevel;
    
}</pre></div></li><li><p>The final step is to<a id="id448" class="indexterm"></a> drag the audio clip asset named <code class="literal">bkgd_01</code> from the <span class="strong"><strong>Project</strong></span> panel into the <span class="strong"><strong>Audio Clip</strong></span> slot of the script, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_07_20.jpg" /></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec181"></a>How it works...</h3></div></div></div><p>The <a id="id449" class="indexterm"></a>horizontal slider works as expected. By moving the cursor left or right you adjust the volume the background music is played at, in a range that goes from volume = 0 to volume = 10.</p><p>Let's improve the <span class="strong"><strong>Options Screen</strong></span> functionality by allowing the user to toggle the audio clip on or off with the next recipe.</p></div></div>