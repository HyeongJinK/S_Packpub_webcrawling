<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec75"></a>Animating with spritesheets</h2></div></div><hr /></div><p>Now that the spritesheet <a id="id482" class="indexterm"></a>with the animation cycle is correctly split up, we can use the multiple sprites to create a walking animation for our character.</p><p>In this recipe, we will use the spritesheet we set up in the previous recipe to create an animation cycle for a character sprite.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec196"></a>Getting ready</h3></div></div></div><p>We keep up from where we left, so have Unity open and be ready to follow our leads!</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec197"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Let's start with a clean game scene. Remove all game objects from the scene, except for <span class="strong"><strong>Main Camera</strong></span>.</p></li><li><p>Create a new game object in the scene and name it <span class="strong"><strong>2D_Walker</strong></span>.</p></li><li><p>Drag the <span class="strong"><strong>2D_walk</strong></span> sprite from the <span class="strong"><strong>Project</strong></span> panel onto <span class="strong"><strong>2D_Walker</strong></span> in the scene, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_08_20.jpg" /></div></li><li><p>The <a id="id483" class="indexterm"></a>
<span class="strong"><strong>Sprite Rendere</strong></span>r component has now been added to <span class="strong"><strong>2D_Walker</strong></span>. In the <span class="strong"><strong>Sprite</strong></span> property, you should have a frame named <span class="strong"><strong>2D_walk_0</strong></span>. If you don't, you can click on the small button in the bottom-right corner of the <span class="strong"><strong>Sprite Renderer</strong></span> panel in the <span class="strong"><strong>Inspector</strong></span> window, and select the frame named <span class="strong"><strong>2D_walk_0</strong></span> from the window that opens, as shown in this screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_08_21.jpg" /></div></li><li><p>The next step is to add an<a id="id484" class="indexterm"></a> animation clip to the object to store the frames of the walking cycle. From top main menu of Unity, navigate to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Animation</strong></span> to open the <span class="strong"><strong>Animation</strong></span> panel, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_08_22.jpg" /></div></li><li><p>Click on the small<a id="id485" class="indexterm"></a> arrows in the left-top corner of the panel to add a new clip, as shown here:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_08_24.jpg" /></div></li><li><p>A window opens, where we need to set a destination folder to save the animation clip. Name the clip <code class="literal">walk</code> and save it in the <span class="strong"><strong>Anims</strong></span> folder inside <span class="strong"><strong>Assets</strong></span>, which is in <span class="strong"><strong>Sprites</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_08_25.jpg" /></div></li><li><p>Now expand the <a id="id486" class="indexterm"></a>hierarchy of <span class="strong"><strong>2D_walk</strong></span> in the <span class="strong"><strong>Project</strong></span> panel to display all its frames, and select them by pressing <span class="emphasis"><em>Shift</em></span> and clicking, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_08_23.jpg" /></div></li><li><p>Drag all the frames onto the <span class="strong"><strong>Animation</strong></span> panel, as shown here:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_08_26_bis.jpg" /></div></li><li><p>Check whether the <a id="id487" class="indexterm"></a>
<span class="strong"><strong>Sample</strong></span> parameter is set to 24 frames (instead of the default value of 60, because 60 frames per second would be too much for this walking cycle), as displayed in the previous screenshot.</p></li><li><p>Click on the small red recording button in the <span class="strong"><strong>Animation</strong></span> panel so that the clip gets saved. When you hit the play button to launch the game in Unity, you should see Mario walking in a looped cycle.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec198"></a>How it works...</h3></div></div></div><p>Once a spritesheet is split into several frames, Unity is automatically capable of displaying them within an animation clip in a given order and at a given frame rate. The clip is then attached to the <span class="strong"><strong>Animation</strong></span> component of a game object so that the game object can perform the animation clip defined in the spritesheet.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec199"></a>There's more...</h3></div></div></div><p>Using spritesheets is not the only way to animate sprites. Actually, there are cases where keyframe animation<a id="id488" class="indexterm"></a> may be preferred.</p><p>With keyframe animation, a clip is obtained as a sequence of keyframes on a timeline. In each keyframe, the character is set in a pose that is a step of the final animation we aim to create. Unity takes care of interpolating the movement of each individual animated part of the sprite between one keyframe and the next. Thus, when we play the animation clip on the timeline, the result we get is coherent, progressive animation.</p><p>This is the same concept of spritesheet animation after all; the difference is that no predrawn spritesheet is required with skeletal animation and the character can be directly animated. As such, animating sprites with keyframe animation is actually an optimization technique, as it reduces the amount of data required to store several spritesheets in the project. We suggest you visit the following <a id="id489" class="indexterm"></a>links to go deeper into this matter:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><a class="ulink" href="http://www.reddit.com/r/gamedev/comments/27ede3/sprite_animation_vs_skeletal_animation/" target="_blank">http://www.reddit.com/r/gamedev/comments/27ede3/sprite_animation_vs_skeletal_animation/</a></p></li><li style="list-style-type: disc"><p><a class="ulink" href="http://www.ganggarrison.com/forums/index.php?topic=27445.0" target="_blank">http://www.ganggarrison.com/forums/index.php?topic=27445.0</a></p></li><li style="list-style-type: disc"><p><a class="ulink" href="http://www.gamasutra.com/view/news/176663/5_tips_for_making_great_animations_for_2D_games.php" target="_blank">http://www.gamasutra.com/view/news/176663/5_tips_for_making_great_animations_for_2D_games.php</a>
</p></li></ul></div><p>In order to use skeletal animation, the character must be provided with so-called joints. This is the topic of our next recipe.</p></div></div>