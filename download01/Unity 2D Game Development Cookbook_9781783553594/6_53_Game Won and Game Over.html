<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec62"></a>Game Won and Game Over</h2></div></div><hr /></div><p>Before we end this <a id="id398" class="indexterm"></a>chapter, we need to do a last thing: add the <span class="strong"><strong>Game Won</strong></span> and <a id="id399" class="indexterm"></a>
<span class="strong"><strong>Game Over</strong></span> screens to the prototype. At this point, our project consists of two screens: the home screen, where the game starts, and <code class="literal">level_01</code>, our actual game stage. Now we are going to add two more scenes: a <span class="strong"><strong>Game Over</strong></span> screen to send the application to if the player loses, and a <span class="strong"><strong>Game Won</strong></span> scene to be displayed if the player completes the game goals. For each new screen, we need a new scene and a script. In each screen we add, we plan to display a message and a button to send the application back to the <span class="strong"><strong>Home</strong></span> screen.</p><p>Let's get to work!</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec161"></a>Getting ready</h3></div></div></div><p>Save your project and the scenes you built so far, which should be two: the <span class="strong"><strong>Home</strong></span> screen and <code class="literal">level_01</code>.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec162"></a>How to do it…</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>From the top menu, create <a id="id400" class="indexterm"></a>a new<a id="id401" class="indexterm"></a> scene by navigating to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New Scene</strong></span> (or press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>N</em></span>).</p></li><li><p>Name this scene <code class="literal">game_won</code>.</p></li><li><p>Add <span class="strong"><strong>3D Text</strong></span> to the scene as we did before, by going to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Other</strong></span> | <span class="strong"><strong>3D Text</strong></span>.</p></li><li><p>Select the text in the scene and name it <span class="strong"><strong>message_won</strong></span>.</p></li><li><p>With the text selected in the scene, move to the <span class="strong"><strong>Inspector</strong></span> to access its properties. Set the values as what you consider fit for your camera and scene settings. The following screenshot shows the settings I used with my game camera:</p><div class="mediaobject"><img src="/graphics/9781783553594/graphics/3594OT_06_19.jpg" /></div></li><li><p>If you want <a id="id402" class="indexterm"></a>more than one text line in the message, you <a id="id403" class="indexterm"></a>can do so in two ways.</p><p>You can duplicate the <span class="strong"><strong>3D Text</strong></span> in the scene, change its text (and its font size and style too), set the position for the second line, and then make it a child of the first line, or add a script to the <span class="strong"><strong>3D Text</strong></span> game object with a line like this:</p><div class="informalexample"><pre class="programlisting">  public class Texter : MonoBehaviour {
    private string wonText;
    void Start () {
      wonText = "Congratulations \n Level Complete";
      GetComponent&lt;TextMesh&gt;().text = wonText;
    }
  }</pre></div><p>The <code class="literal">\n</code> operator is used to tell the parser that it must go to a new line.</p></li><li><p>Let's also add to this script the code used to display a button to send the application back to the <span class="strong"><strong>Home</strong></span> screen.</p></li><li><p>Please add the following lines to the <code class="literal">OnGUI()</code> section of the script:</p><div class="informalexample"><pre class="programlisting">  void OnGUI() {
    if(GUI.Button(new Rect (120, 120, 150, 30), "Home")){
      Application.loadedLevel("home");
    }
  }</pre></div></li><li><p>The <a id="id404" class="indexterm"></a>operations to make the <span class="strong"><strong>Game Over</strong></span> screen <a id="id405" class="indexterm"></a>are exactly the same as those required to make the <span class="strong"><strong>Game Won</strong></span> screen. Create the scene, name it <code class="literal">game_lost</code>, add the <span class="strong"><strong>3D Text</strong></span> to it, and drag a script onto the text. The code to be added is as follows:</p><div class="informalexample"><pre class="programlisting">  public class Texter : MonoBehaviour {

    private string lostText;
    void Start () {
      lostText = "Too bad, you run out of lives! \n Play again";
      GetComponent&lt;TextMesh&gt;().text = lostText;
    }
    void OnGUI() {
      if(GUI.Button(new Rect (120, 120, 150, 30), "Home")){
        Application.loadedLevel("home");
      }
    }
  }</pre></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec163"></a>How it works…</h3></div></div></div><p>We keep up<a id="id406" class="indexterm"></a> with the logic we implemented so far. Each game<a id="id407" class="indexterm"></a> state sends the application to a different scene. Each scene handles itself autonomously and provides options to send the application to the next state depending on the player's input. Should we need to change anything from any state, our changes won't affect the other states.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec164"></a>There's more…</h3></div></div></div><p>The 3D Text game object<a id="id408" class="indexterm"></a> is a newcomer with the latest Unity version, and it is a welcome addition for many HUD- and interface-related needs. Refer to <a class="ulink" href="http://docs.unity3d.com/Manual/class-TextMesh.html" target="_blank">http://docs.unity3d.com/Manual/class-TextMesh.html</a> for a detailed description of the control<a id="id409" class="indexterm"></a> parameters of <code class="literal">TextMesh</code>.</p></div></div>