<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec61"></a>The Robots versus Aliens project</h2></div></div><hr /></div><p>This chapter comes with a sample <a id="id435" class="indexterm"></a>project called Robots versus Aliens that demonstrates the use of Behave behavior trees in a real-game prototype. Open the project in <a id="id436" class="indexterm"></a>Unity3D and we'll walk through briefly. The game demo and the agents' AI are pretty simple. This is how the scene is set up, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849693400/graphics/3400OT_09_09.jpg" /><div class="caption"><p>Scene hierarchy</p></div></div><p>There are two AI agents in this game, robot and alien. At the start of the game, units from each side will be spawned and each of <a id="id437" class="indexterm"></a>them will march toward the enemy's base. The <a id="id438" class="indexterm"></a>Alien base looks similar to the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849693400/graphics/3400OT_09_02.jpg" /><div class="caption"><p>Alien base</p></div></div><p>And the Robot base looks similar to the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849693400/graphics/3400OT_09_03.jpg" /><div class="caption"><p>Robot base</p></div></div><p>Once they are <a id="id439" class="indexterm"></a>at a certain distance they'll start attacking, and once the other side has died it'll move forward again until they reach the base. Once they reach the base, they'll just attack the base. Click on <span class="strong"><strong>AgentBehaveLibrary</strong></span> in the project <a id="id440" class="indexterm"></a>panel and click on <span class="strong"><strong>Edit Library</strong></span> from the property inspector. We have one collection and one tree called <span class="strong"><strong>AgentAI</strong></span>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849693400/graphics/3400OT_09_04.jpg" /><div class="caption"><p>Behave browser</p></div></div><p>This is how their AI behavior tree is structured, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781849693400/graphics/3400OT_09_05.jpg" /><div class="caption"><p>Robot versus Alien behavior tree</p></div></div><p>There are three main scripts in this project, <code class="literal">AlienController</code> for the alien AI, <code class="literal">RobotController</code> for the robot AI and the base <a id="id441" class="indexterm"></a>
<code class="literal">AgentAI</code> class, which is inherited by both of the controller classes. <a id="id442" class="indexterm"></a>You can run through the project and check <a id="id443" class="indexterm"></a>the action states using the Behave debugger. We'll not list and go through all the code here since all the scripts are well commented on, and you should be able to understand it by reading it yourself.</p><div class="mediaobject"><img src="/graphics/9781849693400/graphics/3400OT_09_11.jpg" /><div class="caption"><p>Robots versus Aliens</p></div></div></div>