<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec13"></a>The bullet class</h2></div></div><hr /></div><p>Next our <span class="strong"><strong>Bullet</strong></span> prefab is set <a id="id70" class="indexterm"></a>up with <a id="id71" class="indexterm"></a>two orthogonal planes using laser-like materials, and a <span class="strong"><strong>Particles/Additive</strong></span> in the <span class="strong"><strong>Shader</strong></span> field.</p><div class="mediaobject"><img src="/graphics/9781849693400/graphics/3400_02_03.jpg" /><div class="caption"><p>Bullet prefab</p></div></div><p>The code <a id="id72" class="indexterm"></a>in the <a id="id73" class="indexterm"></a>
<code class="literal">Bullet.cs</code> file is as follows:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

public class Bullet : MonoBehaviour
{
    //Explosion Effect
    public GameObject Explosion;

    public float Speed = 600.0f;
    public float LifeTime = 3.0f;
    public int damage = 50;

    void Start()
    {
      Destroy(gameObject, LifeTime);
    }

    void Update()
    {
      transform.position += 
      transform.forward * Speed * Time.deltaTime;
    }

    void OnCollisionEnter(Collision collision)
    {
      ContactPoint contact = collision.contacts[0];
      Instantiate(Explosion, contact.point, 
      Quaternion.identity);
      Destroy(gameObject);
    }
}</pre></div><p>We have three properties, <code class="literal">damage</code>, <code class="literal">Speed</code>, and <code class="literal">Lifetime</code> for our bullet, so that the bullet will be automatically destroyed after its lifetime.</p><p>You can see the <span class="strong"><strong>Explosion</strong></span> <a id="id74" class="indexterm"></a>property of the <a id="id75" class="indexterm"></a>bullet is linked to the <span class="strong"><strong>ParticleExplosion</strong></span> prefab, <a id="id76" class="indexterm"></a>which we're not going to discuss in detail. There's a prefab called <span class="strong"><strong>ParticleExplosion</strong></span> under the <code class="literal">ParticleEffects</code> folder. We just drop that prefab into this field. <a id="id77" class="indexterm"></a>This particle effect is played when the bullet is hit with something as described in the <code class="literal">OnCollisionEnter</code> method. This <span class="strong"><strong>ParticleExplosion</strong></span> prefab uses a script called <code class="literal">AutoDestruct</code> to destroy the <code class="literal">Explosion</code> object automatically after a certain amount of time.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip03"></a>Tip</h3><p><span class="strong"><strong>Downloading the example code</strong></span></p><p>You can download the example code files for all Packt books you have purchased from your account at <a class="ulink" href="http://www.packtpub.com" target="_blank">http://www.packtpub.com</a>. If you purchased this book elsewhere, you can visit <a class="ulink" href="http://www.packtpub.com/support" target="_blank">http://www.packtpub.com/support</a> and register to have the files e-mailed directly to you.</p></div></div>