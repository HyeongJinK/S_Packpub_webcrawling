<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec34"></a>Blob shadows</h2></div></div><hr /></div><p>Blob<a id="id292" class="indexterm"></a> shadows are a simple and cheap method by which you can add a shadow to a character. They have been around since the dawn of video games. A normal shadow is a solid, dark projection of an object onto another surface. The contours of the shadow exactly match the shape of the object. This becomes expensive to calculate when characters start to move around randomly.</p><p>A blob <a id="id293" class="indexterm"></a>shadow is a blot of black texture underneath a character or an object. It usually does not have a clearly definable shape and never matches the exact shape of the object it is meant to be the shadow of. The blob shadow also, generally, does not change sizes. This makes it significantly easier to calculate, making it the shadow of choice for many generations of video games. This also means that it is a better option for our mobile devices where processing speed can quickly become an issue.</p><p>We are going to add a blob shadow to our tank. Unity has already done the bulk of the work for us; we just need to add it to the tank. With these steps, we can add a blob shadow:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>We start this one off by importing Unity's blob shadow. Go to the top of the Unity Editor and navigate to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import Package</strong></span> | <span class="strong"><strong>Projectors</strong></span>.</p></li><li><p>Click on <span class="strong"><strong>Import</strong></span> in the new window and look in the <span class="strong"><strong>Project</strong></span> window for a new folder called <code class="literal">Projectors</code> created under <code class="literal">Standard Assets</code>.</p></li><li><p>Drag the <code class="literal">Blob Shadow Projector</code> prefab from the <span class="strong"><strong>Project</strong></span> window to the scene and position it above the tank, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781784394691/graphics/4691OT_04_11.jpg" /></div></li><li><p>Unfortunately, the<a id="id294" class="indexterm"></a> shadow appears on top of our tank. To fix this, we again need to make use of layers. So, select the tank.</p></li><li><p>From the <span class="strong"><strong>Layer</strong></span> drop-down list, select <span class="strong"><strong>Add Layerâ€¦</strong></span>.</p></li><li><p>Click on the text field at the right-hand side of <span class="strong"><strong>User Layer 9</strong></span> and give it the name <code class="literal">PlayerTank</code>.</p></li><li><p>Select your tank once more, but select <span class="strong"><strong>PlayerTank</strong></span> from the <span class="strong"><strong>Layer</strong></span> drop-down list this time.</p></li><li><p>When<a id="id295" class="indexterm"></a> the new window pops up, be sure to select <span class="strong"><strong>Yes, change children</strong></span> to change the layer of the whole tank. If you don't select this, the blob shadow may appear on some parts of the tank, while it may not appear on other parts.</p></li><li><p>Now, select <code class="literal">Blob Shadow Projector</code> from the <span class="strong"><strong>Hierarchy</strong></span> window.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note09"></a>Note</h3><p>The blob shadow is created by the <span class="strong"><strong>Projector</strong></span> component. This component functions in a similar manner to the <span class="strong"><strong>Camera</strong></span> component. However, it puts an image on the world rather than turning the world into an image and putting it on your screen.</p></div></li><li><p>Take a look at the <span class="strong"><strong>Inspector</strong></span> window. The value we are concerned with right now is that of <span class="strong"><strong>Ignore Layers</strong></span>. Right now, it is set to <span class="strong"><strong>Nothing</strong></span>.</p></li><li><p>Click on <span class="strong"><strong>Nothing</strong></span> and select <code class="literal">PlayerTank</code> from the <span class="strong"><strong>Layers</strong></span> drop-down list. This will make the projector ignore the tank and only make the blob shadow appear underneath it.</p></li><li><p>The next step is to change the size of the shadow to roughly match the size of the tank. Adjust the value of the <span class="strong"><strong>Field of View</strong></span> attribute until the size is just about right. A value of <code class="literal">70</code> seems to be a good size to start with.</p><div class="mediaobject"><img src="/graphics/9781784394691/graphics/4691OT_04_12.jpg" /></div></li><li><p>The<a id="id296" class="indexterm"></a> final step is to make <code class="literal">Blob Shadow Projector</code> a child of the tank. We need to be able to bring our shadow with us; we don't want to lose it.</p></li></ol></div><p>We gave our tank a shadow. Shadows are great for making objects, and especially characters, look like they are actually touching the ground. The blob shadow that we used is better than a real-time shadow because it is processed faster.</p><p>The texture that the blob shadow comes with is round, but our tank is mostly square. Try creating your own texture for the blob shadow and use it. Some sort of a rectangle should work well. If you end up with long black streaks on your scene, make sure that your texture has a completely white border around the edge of the image.</p><p>If you managed to add your own texture to the blob shadow, then how about taking a look at that cannon? The cannon sticks out of our tank and ruins its otherwise square profile. Use a second blob shadow, attached to the turret, to project a shadow for the cannon. The<a id="id297" class="indexterm"></a> texture for this will also have to be rectangle shaped.</p></div>