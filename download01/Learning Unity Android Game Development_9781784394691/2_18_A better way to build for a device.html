<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec23"></a>A better way to build for a device</h2></div></div><hr /></div><p>Now, for the<a id="id144" class="indexterm"></a> part of the build process that everyone itches to learn. There is a quicker and easier way to have your game built and play it on your <a id="id145" class="indexterm"></a>Android device. The long and complicated way is still very good to know. Should this shorter method fail, and it will at some point, it is helpful to know the long method so that you can debug any errors. Also, the short path is only good for building for a single device. If you have multiple devices and a large project, it will take significantly more time to load them all with the short build process. Follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Start by opening the <span class="strong"><strong>Build Settings</strong></span> window. Remember, it can be found under <span class="strong"><strong>File</strong></span> at the top of the Unity Editor.</p><p>If you have not already done so, save your scene. The option to save your scene is also found under <span class="strong"><strong>File</strong></span> at the top of the Unity Editor.</p></li><li><p>Click on the <span class="strong"><strong>Add Current</strong></span> button to add our current scene, also the only scene, to the <span class="strong"><strong>Scenes In Build</strong></span> list. If this list is empty, there is no game.</p></li><li><p>Be sure to change your <span class="strong"><strong>Platform</strong></span> to <span class="strong"><strong>Android</strong></span> if you haven't already done so. It is, after all, still the point of this book.</p></li><li><p>Do not forget to set the <span class="strong"><strong>Player Settings</strong></span>. Click on the <span class="strong"><strong>Player Settings</strong></span> button to open them up in the <span class="strong"><strong>Inspector</strong></span> window. You might remember this from <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Saying Hello to Unity and Android</em></span>.</p></li><li><p>At the top, set the <span class="strong"><strong>Company Name</strong></span> and <span class="strong"><strong>Product Name</strong></span> fields. Values of <code class="literal">TomPacktAndroid</code> and <code class="literal">Ch2 TicTacToe</code>, respectively, for these fields will match the included completed project. Remember, these fields will be seen by the people playing your game.</p></li><li><p>The <span class="strong"><strong>Bundle Identifier</strong></span> field under <span class="strong"><strong>Other Settings</strong></span> needs to be set, as well. The format is still <code class="literal">com.CompanyName.ProductName</code>, so <code class="literal">com.TomPacktAndroid.Ch2.TicTacToe</code> will work well. In order to see our cool dynamic GUI in action on a device, there is one other setting that should be changed. Click on <span class="strong"><strong>Resolution</strong></span> and <span class="strong"><strong>Presentation</strong></span> to expand the options.</p></li><li><p>We are interested in <span class="strong"><strong>Default Orientation</strong></span>. The default is <span class="strong"><strong>Portrait</strong></span>, but this option means that the game will be fixed in the portrait display mode. Click on the drop-down menu and select <span class="strong"><strong>Auto Rotation</strong></span>. This option tells Unity to automatically adjust the game to be upright irrespective of the orientation in which it is being held.</p><p>The new set of options that popped up when <span class="strong"><strong>Auto Rotation</strong></span> was selected allows the limiting of the orientations that are supported. Perhaps you are making a game that needs to be wider and held in landscape orientation. By unchecking <span class="strong"><strong>Portrait</strong></span> and <span class="strong"><strong>Portrait Upside Down</strong></span>, Unity will still adjust (but only for the remaining orientations).</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note02"></a>Note</h3><p>On your Android device, the controls are along one of the shorter sides; these usually are the home, menu, and back or recent apps buttons. This side is generally recognized as the bottom of the device and it is the position of these buttons that dictates what each orientation is. The <span class="strong"><strong>Portrait</strong></span> mode is when these buttons are down relative to the screen. The <span class="strong"><strong>Landscape Right</strong></span> mode is when they are to the right. The pattern begins to become clear, does it not?</p></div></li><li><p>For<a id="id146" class="indexterm"></a> now, leave all the orientation options checked and we will go back to <span class="strong"><strong>Build Settings</strong></span>.</p></li><li><p>The next step (and this very important) is to connect your device to your computer and give it a moment to be recognized. If your device is not the first one connected to your computer, this shorter build path will fail.</p></li><li><p>In the bottom-right corner of the <span class="strong"><strong>Build Settings</strong></span> window, click on the <span class="strong"><strong>Build And Run</strong></span> button. You will be asked to give the application file, the APK, a relevant name, and save it to an appropriate location. A name such as <code class="literal">Ch2_TicTacToe.apk</code> will be fine, and it is suitable enough to save the file to the desktop.</p></li><li><p>Click on <span class="strong"><strong>Save</strong></span> and sit back to watch the wonderful loading bar that is provided. If you paid attention to the loading bar we built in the <span class="emphasis"><em>Hello World</em></span> project in <a class="link" href="#" linkend="ch01">Chapter 1</a>, <span class="emphasis"><em>Saying Hello to Unity and Android</em></span>, you will notice we took an extra step this time around. After the application is built, there is a pushing to device step. This means that the build was successful and Unity is now putting the application on your device and installing it. Once this is done, the game will start on the device and the loading will be done.</p></li></ol></div><p>We just learned about the <span class="strong"><strong>Build And Run</strong></span> button provided by the <span class="strong"><strong>Build Settings</strong></span> window. This is quick, easy, and free from the pain of using the command prompt; isn't the short build path wonderful? However, if the build process fails for any reason, including being unable to find the device, the application file will not be saved. You will have to go through the entire build process again, if you want to try installing again. This isn't so bad for our simple Tic-tac-toe game, but it might consume a lot of time for a larger project. Also, you can only have one Android device connected to your computer while building. Any <a id="id147" class="indexterm"></a>more devices and the build process is a guaranteed failure. Unity also doesn't check for multiple devices until after it has gone through the rest of the potentially long build process.</p><p>Other than these words of caution, the <span class="strong"><strong>Build And Run</strong></span> option is really quite nice. Let Unity handle the hard part of getting the game to your device. This gives us much more time to focus on testing and making a great game.</p><p>If you are up for a challenge, this is a tough one: creating a single player mode. You will have to start by adding an extra button to the opening screen for selecting the second game mode. Any logic for the computer player should go in the <code class="literal">Update</code> function. Also, take a look at <code class="literal">Random.Range</code> for randomly selecting a square to take control. Otherwise, you could do a little more work and make the computer search for a square where it can win or create a line of two matches.</p></div>