<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec37"></a>Creating confetti Particle Effect</h2></div></div><hr /></div><p>For the confetti, we create a Particle System as usual. For the initial values, we keep the position to be 0,0,-7.5. For rotation and scale value, we keep at default.</p><p>We keep the duration at 4 and uncheck the Looping option as we don't want the confetti to be created over and over. <strong class="userinput"><code>Start Delay</code></strong> is set to 0.</p><p><strong class="userinput"><code>Start Speed</code></strong> is set to 5 and <strong class="userinput"><code>3D Start Size</code></strong> is set to 0.25 in the <code class="literal">X</code>, <code class="literal">Y</code>, and <code class="literal">Z</code> directions. The <strong class="userinput"><code>3D Start Rotation</code></strong> option is disabled. <strong class="userinput"><code>Start Rotation</code></strong> and <strong class="userinput"><code>Randomize Rotation</code></strong> are set to 0.</p><p><strong class="userinput"><code>Start Color</code></strong> is set to randomize between two colors, red and blue. <strong class="userinput"><code>Gravity Multipler</code></strong> is set to 0.125, and we want the confetti to fall down after it has reached its maximum height.</p><p>The rest of the initial values are set to default:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_030.png" /></div><p><strong class="userinput"><code>Emission</code></strong> is set to 20 for <strong class="userinput"><code>Rate over Time</code></strong>, and <strong class="userinput"><code>Shape</code></strong> is set to <strong class="userinput"><code>Cone</code></strong>.</p><p>To make the confetti more colorful and also change color over time, the color over lifetime is changed. So, change it to your needs. The <strong class="userinput"><code>Color over Speed</code></strong> parameter is also changed similarly. Both are set to <strong class="userinput"><code>Random Between 2 Gradients</code></strong>.</p><p>Size over lifetime is changed so that the size of the particles changes over time. <strong class="userinput"><code>Size</code></strong> is set to a curve so that the particle starts out small and then becomes full size at the end of the lifecycle.</p><p>The shape of the curve is as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_031.png" /></div><p>The <strong class="userinput"><code>Rotation over Lifetime</code></strong> and <strong class="userinput"><code>Rotation by Speed</code></strong> options are set to 45 so that the particles rotate in air once created:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_032.png" /></div><p>For <strong class="userinput"><code>Renderer</code></strong>, I wanted to take 3D objects as particles, so I selected <strong class="userinput"><code>Mesh</code></strong>, and for <strong class="userinput"><code>Mesh</code></strong>, I selected <strong class="userinput"><code>Cube</code></strong>, <strong class="userinput"><code>Cylinder</code></strong>, and <strong class="userinput"><code>Sphere</code></strong> by clicking the <strong class="userinput"><code>+</code></strong> sign at the bottom. Rest of the values are kept as default:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_033.png" /></div><p>Now, our Particle System is created. We will now create a prefab object in the <code class="literal">Assets</code> folder and drag the Particle System in it so that we can instantiate the prefab at gameover. Call the prefab <strong class="userinput"><code>particleSystem</code></strong>. You will notice that once you drag the Particle System into the prefab, it becomes blue, as shown in the following screenshot. Now, delete the Particle System from the Hierarchy:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_034.png" /></div><p>Next in <strong class="userinput"><code>gameScript</code></strong>, create a new <code class="literal">GameObject</code> at the top and call it <code class="literal">particlePrefab</code> and make the variable <code class="literal">public</code>, as given in the following code:</p><pre class="programlisting">    public GameObject particlePrefab; </pre><p>In the <code class="literal">Update</code>  function, after the <code class="literal">gameover</code> Boolean variable is set to instantiate the particle prefab as following:</p><pre class="programlisting">    if (playerHealth&lt;= 0 || enemyHealth&lt;= 0) { 
        bGameover = true; 
        gameOverText.enabled = true; 
<span class="strong"><strong>        Instantiate(particlePrefab);</strong></span>
        Debug.Log(" +++++ GAMEOVER +++++"); 
    } </pre><p>Don't forget to drag and drop the <strong class="userinput"><code>particleSystem</code></strong> prefab on to <strong class="userinput"><code>Particle Prefab</code></strong> in the <strong class="userinput"><code>gameScript</code></strong> script component that is attached to the MainCamera:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_035.png" /></div><p>Now, when you run the game and when it is gameover, you will have a nice confetti Particle System:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_036.png" /></div></div>