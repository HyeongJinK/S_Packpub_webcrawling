<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec34"></a>Understanding Unity uGUI</h2></div></div><hr /></div><p>With the introduction of the Unity's <span class="strong"><strong>uGUI</strong></span> system, it has been very convenient to set up GUI elements in Unity. We will look at how uGUI works and how to display image and text on to the scene. We will also see how to change the text dynamically in the next topic when we implement the health for the player and the enemy.</p><p>All the UI elements in Unity are present in the <strong class="userinput"><code>GameObject</code></strong> dropdown in the menu in Unity, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_003.png" /></div><p>You can create three types of basic UI elements: <strong class="userinput"><code>Text</code></strong>, <strong class="userinput"><code>Image</code></strong>, and <strong class="userinput"><code>Raw Image</code></strong>.</p><p>The <strong class="userinput"><code>Text</code></strong> option in the menu is a basic text element used to display text-like score, health, energy, and so on. So, like any text element, you can specify text height and font, such as bold or italic. When you create a new text element, there are options such as <strong class="userinput"><code>Canvas</code></strong>, <strong class="userinput"><code>Text</code></strong>, and <strong class="userinput"><code>EventSystem</code></strong> added for each text element that you add:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_004.png" /></div><p>When a new text UI element is created, it is placed at the center by default, with the default text <strong class="userinput"><code>New Text</code></strong>, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_005.png" /></div><p>The <strong class="userinput"><code>Canvas</code></strong> option in the menu represents where the text component exists in the scene and is also responsible for rendering the text on to the scene. Components to the canvas element can also be added directly by right-clicking on it. You can also add empty game objects to it:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_006.png" /></div><p>Canvas is made up three scripts: <strong class="userinput"><code>Canvas</code></strong>, <strong class="userinput"><code>Canvas Scalar</code></strong>, and <strong class="userinput"><code>Graphics Ray Caster</code></strong>.</p><p>By default, the canvas is set to <strong class="userinput"><code>Screenspace Overlay</code></strong>. There is also <strong class="userinput"><code>Screenspace Camera</code></strong> and <strong class="userinput"><code>World Space</code></strong> options. In <strong class="userinput"><code>Screenspace Overlay</code></strong>, the text will set on top of everything in the scene irrespective of whether the camera is in focus. This is used in traditional games where the UI needs to sit on top of the game.</p><p>If you want different UIs depending on which camera is selected, you can use <strong class="userinput"><code>ScreenSpace Camera</code></strong> and then you can attach different UIs to the cameras. To navigate between the different UIs, you will go back and forth between the cameras for the two UIs.</p><p>In <strong class="userinput"><code>World Space</code></strong>, the canvas is placed with respect to the world position. So, you can place the button or text in 3D space and position it accordingly. You can move, rotate, and scale the text as well. The user will still be able to navigate and use the UI element. This gives absolute freedom to place the UI element wherever you want in the 3D space.</p><p>You can select the <strong class="userinput"><code>Pixel Perfect</code></strong> option if you want your text to be aligned to a pixel grid. <strong class="userinput"><code>Canvas Scalar</code></strong> will scale the text up and down based on the resolution. By default, it is set to <strong class="userinput"><code>Constant Pixel Size</code></strong>. You can also set it to <strong class="userinput"><code>Scale with Screen Size</code></strong> or <strong class="userinput"><code>Constant Physical size</code></strong>.</p><p>The <strong class="userinput"><code>Graphics RayCaster</code></strong> script is responsible for getting input from the keyboard, mouse, or touch. If removed, the UI element will no longer accept mouse clicks and keyboard events.</p><p>Talking about the <strong class="userinput"><code>EventSystem</code></strong> option, let us look at the EventSystem components.</p><p>An EventSystem is also created. The event system handles input from mouse, keyboard, and controllers. If you want certain events to be triggers at the click of the mouse, this would be specified here:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_007.png" /></div><p>Whenever you create and new UI component and new Canvas and EventSystem is automatically created. Select the text so that we can have a closer look at the component in detail:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_008.png" /></div><p>A UI game object is just like any other game object, but unlike others, it has <code class="literal">RectTransform</code> instead of a regular transform, has a Canvas Renderer, and also has a <strong class="userinput"><code>Text (Script)</code></strong> option attached to it.</p><p><strong class="userinput"><code>Rect Transform</code></strong> is made up of different properties. The important one is positions;the others are width and height. These depend on how our anchors are set up. By default, <strong class="userinput"><code>Rect Transform</code></strong> is set to middle and center. You can click on the <strong class="userinput"><code>Anchor Presents</code></strong> option to change the preset:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_009.png" /></div><p>Changing <strong class="userinput"><code>Anchor Presets</code></strong> will also affect the <strong class="userinput"><code>X</code></strong> and <strong class="userinput"><code>Y</code></strong> positions of the button or text on the scene. Anchors can also be manually changed as per your requirement:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_010.png" /></div><p>Next, we will talk about the <strong class="userinput"><code>Pivot</code></strong> field. The pivot is the position around which the UI will rotate. Then, there are <strong class="userinput"><code>Rotate</code></strong> and <strong class="userinput"><code>Scale</code></strong> fields, which work as other transform objects.</p><p>Now, let's look at the Text Script. The Text Script has a text box. This is where you can type whatever text you want be displayed on to the scene.</p><p>After that, there is the <strong class="userinput"><code>Character</code></strong> section. Here, you can change the property of the character. You can change the font, font style--that is, if you want normal, bold, or italic; size of the font--and line spacing. Note that Unity doesn't let you set the distance between the characters horizontally.</p><p>The <strong class="userinput"><code>Paragraph</code></strong> section lets you control the position, color, and material of the paragraph itself. You can center align the paragraph, set the horizontal and vertical overflow, or set it to best fit.</p><p>Instead of a <strong class="userinput"><code>Text</code></strong>, if you add an <strong class="userinput"><code>Image</code></strong> UI element, <strong class="userinput"><code>Canvas</code></strong> and <strong class="userinput"><code>EventSystem</code></strong> are maintained, but the image itself has the usual <strong class="userinput"><code>Rect Transform</code></strong> and <strong class="userinput"><code>Canvas Renderder</code></strong> properties. Instead of the Text (Script), there is an Image (Script) that is added:</p><div class="mediaobject"><img src="/graphics/9781783550777/graphics/image_05_011.png" /></div><p><strong class="userinput"><code>Image (Script)</code></strong> has fewer objects in it. We have the <strong class="userinput"><code>Source Image</code></strong> option in which you can specify the image to be displayed. You can change the color or material of the image as well.</p><p>With all this information, let's add player and enemy text and also a gameover text overlay, which will appear once the game is over.</p></div>