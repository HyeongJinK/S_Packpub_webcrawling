<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec30"></a>Introduction</h2></div></div><hr /></div><p>All the lighting models encountered in <a class="link" href="#" linkend="ch03">Chapter 3</a>, <span class="emphasis"><em>Understanding Lighting Models</em></span>, were very primitive descriptions of how light behaves. The most important aspect during their making was <span class="emphasis"><em>efficiency</em></span>. Real-time <a id="id201" class="indexterm"></a>shading is expensive, and techniques such as Lambertian or BlinnPhong are a compromise between computational cost and <a id="id202" class="indexterm"></a>realism. Having a more powerful <span class="strong"><strong>graphics processing unit</strong></span> (<span class="strong"><strong>GPU</strong></span>) has allowed us to write progressively more sophisticated lighting models and rendering engines, with the aim of simulating how light actually behaves. This is, in a nutshell, the philosophy behind PBR. As the name suggests, it tries to get as close as possible to the physics behind the processes that give a unique look to each material. Despite this, the term PBR has been widely used in marketing campaigns and is more of a synonym for <span class="emphasis"><em>state-of-the-art rendering</em></span> rather than a well-defined technique. Unity 5 implements PBR by introducing two important changes. The first is a completely new lighting model (called <span class="strong"><strong>Standard</strong></span>). Surface <a id="id203" class="indexterm"></a>Shaders allow developers to specify the physical properties of a material, but they do not impose actual physical constraints on them. PBR fills this gap using a lighting model that enforces principles of physics such as <span class="emphasis"><em>energy conservation</em></span> (an object cannot reflect more light than the amount it receives), <span class="emphasis"><em>microsurface scattering</em></span> (rough surfaces reflect light more erratically compared to smooth ones), <span class="emphasis"><em>Fresnel reflectance</em></span> (specular reflections appear at grazing angles), and <span class="emphasis"><em>surface occlusion</em></span> (the darkening of corners and other geometries that are hard to light). All these aspects, and many others, are used to calculate the Standard lighting model. The second aspect that makes PBR so realistic is called <span class="strong"><strong>Global Illumination</strong></span> (<span class="strong"><strong>GI</strong></span>) and <a id="id204" class="indexterm"></a>is the simulation of physically-based light transport. It means that objects are not drawn in the scene as if they were separate entities. They all contribute to the final rendering as light can reflect on them before hitting something else. This aspect is not captured in the shaders themselves but is an essential part of how the rendering engine works. Unfortunately, accurately simulating how light rays actually bounce over surfaces in real time is beyond the capabilities of modern GPUs. Unity 5 makes some clever optimizations that allow retaining visual fidelity without sacrificing performance. Some of the most advanced techniques (such as reflections), however, require the user input. All of these aspects will be covered in this chapter. It is important to remember that PBR and GI do not automatically guarantee that your game will be photorealistic. Achieving photorealism is a very challenging task and, like every art, it requires great expertize and exceptional skills.</p></div>