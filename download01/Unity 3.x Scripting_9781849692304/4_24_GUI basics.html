<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec27"></a>GUI basics</h2></div></div><hr /></div><a id="id448" class="indexterm"></a><p><span class="strong"><strong>GUI</strong></span> stands for <span class="strong"><strong>Graphical</strong></span> <span class="strong"><strong>User</strong></span> <span class="strong"><strong>Interface</strong></span> and is mainly used to get the user interface to the screen. When it comes to interactivity, GUI won't be a perfect choice, and it will give you lots of trouble if you decide to do something beyond its basic functionality. GUI elements are also located in the screen space. Let's talk about basic classes of GUI, functionality, and its uses in games.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec26"></a>GUI.Box</h3></div></div></div><p>The following code snippet gives an example of the <code class="literal">GUI.Box</code> class<a id="id449" class="indexterm"></a><a id="id450" class="indexterm"></a>:</p><div class="informalexample"><pre class="programlisting">static function Box (position : Rect, text : String) : void
static function Box (position : Rect, image : Texture) : void
static function Box (position : Rect, content : GUIContent) : void
static function Box (position : Rect, text : String, style : GUIStyle) : void
static function Box (position : Rect, image : Texture, style : GUIStyle) : void
static function Box (position : Rect, content : GUIContent, style : GUIStyle) : void</pre></div><p><code class="literal">struct</code> <code class="literal">Rect</code> is a basic structure used by all GUI classes to mark its position on the screen. <code class="literal">Rect</code> is simple to create and use; for that we need four variables—x and y <a id="id451" class="indexterm"></a><a id="id452" class="indexterm"></a>coordinates on the screen, as well as width and length of the rectangular box.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note11"></a>Note</h3><p><code class="literal">Rect</code>
<a id="id453" class="indexterm"></a> is just an abstract entity; it contains information about <span class="strong"><strong>GUI</strong></span> position and doesn't render anything on the screen.</p></div><p><code class="literal">GUI.Box</code> is a basic class of GUI that creates a non-interactive graphical box. We are asked to specify its position with <code class="literal">Rect</code> and can add any component such as texture or a string to be displayed in the box.</p><div class="mediaobject"><img src="/graphics/9781849692304/graphics/2304EXP_04_01.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec27"></a>GUI.Button</h3></div></div></div><a id="id454" class="indexterm"></a><a id="id455" class="indexterm"></a><p><code class="literal">GUI.Button</code> is a first interactive GUI, and we will be using it in the following example.</p><div class="informalexample"><pre class="programlisting">
static function Button (position : Rect, text : String) : boolean
static function Button (position : Rect, image : Texture) : boolean
static function Button (position : Rect, content : GUIContent) : boolean
static function Button (position : Rect, text : String, style : GUIStyle) : boolean
static function Button (position : Rect, image : Texture, style : GUIStyle) : boolean
static function Button (position : Rect, content : GUIContent, style : GUIStyle) : boolean</pre></div><p>Its creation is similar to <code class="literal">GUI.Box</code> with one major difference—the creation of <code class="literal">GUI.Button</code> is usually being put inside a <code class="literal">if</code> statement. That works because <code class="literal">GUI.Button</code> is a function with a <code class="literal">boolean</code> return value<a id="id456" class="indexterm"></a>. It returns <code class="literal">true</code> if we have pressed the button and <code class="literal">false</code> if we haven't pressed it. Inside a <code class="literal">if</code> statement<a id="id457" class="indexterm"></a>, we can add any functionality for this button.</p><div class="mediaobject"><img src="/graphics/9781849692304/graphics/2304EXP_04_02.jpg" /></div><p><code class="literal">GUI.RepeatButton</code> is the same as <code class="literal">GUI.Button</code>, but will return <code class="literal">true</code> only if the user clicks and holds the left mouse button while hovering over the button.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec28"></a>GUI.Label</h3></div></div></div><a id="id458" class="indexterm"></a><a id="id459" class="indexterm"></a><p><code class="literal">GUI.Label</code> is a non-interactive label that can be used to display text or image at a specified position. The following code snippet gives an example of <code class="literal">GUI.Label</code>:</p><div class="informalexample"><pre class="programlisting">static function Label (position : Rect, text : String) : void
static function Label (position : Rect, image : Texture) : void
static function Label (position : Rect, content : GUIContent) : void
static function Label (position : Rect, text : String, style : GUIStyle) : void
static function Label (position : Rect, image : Texture, style : GUIStyle) : void
static function Label (position : Rect, content : GUIContent, style : GUIStyle) : void</pre></div><p>A <code class="literal">GUI.Label</code> may look as follows:</p><div class="mediaobject"><img src="/graphics/9781849692304/graphics/2304EXP_04_03.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec29"></a>GUI.TextField</h3></div></div></div><a id="id460" class="indexterm"></a><a id="id461" class="indexterm"></a><p><code class="literal">GUI.TextField</code> creates areas where a user can type in one-line string. The following code snippet gives an example of a <code class="literal">GUI.TextField</code>:</p><div class="informalexample"><pre class="programlisting">static function TextField (position : Rect, text : String) : String
static function TextField (position : Rect, text : String, maxLength : int) : String
static function TextField (position : Rect, text : String, style : GUIStyle) : String
static function TextField (position : Rect, text : String, maxLength : int, style : GUIStyle) : String<a id="id462" class="indexterm"></a><a id="id463" class="indexterm"></a>
</pre></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec30"></a>GUI.TextArea</h3></div></div></div><a id="id464" class="indexterm"></a><a id="id465" class="indexterm"></a><p><code class="literal">GUI.TextArea</code> creates areas where the user can type in multi-line string. The following code snippet gives an example of a <code class="literal">GUI.TextArea</code>:</p><div class="informalexample"><pre class="programlisting">static function TextArea (position : Rect, text : String) : String
static function TextArea (position : Rect, text : String, maxLength : int) : String
static function TextArea (position : Rect, text : String, style : GUIStyle) : String
static function TextArea (position : Rect, text : String, maxLength : int, style : GUIStyle) : String</pre></div><p>A <code class="literal">GUI.TextArea</code> may look as follows:</p><div class="mediaobject"><img src="/graphics/9781849692304/graphics/2304EXP_04_04.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec31"></a>GUI.Toggle</h3></div></div></div><a id="id466" class="indexterm"></a><a id="id467" class="indexterm"></a><p><code class="literal">GUI.Toggle</code> makes a toggling button on/off. The following code snippet gives an example of <code class="literal">GUI.Toggle</code>:</p><div class="informalexample"><pre class="programlisting">static function Toggle (position : Rect, value : boolean, text : String) : boolean
static function Toggle (position : Rect, value : boolean, image : Texture) : boolean
static function Toggle (position : Rect, value : boolean, content : GUIContent) : boolean
static function Toggle (position : Rect, value : boolean, text : String, style : GUIStyle) : boolean
static function Toggle (position : Rect, value : boolean, image : Texture, style : GUIStyle) : boolean
static function Toggle (position : Rect, value : boolean, content : GUIContent, style : GUIStyle) : boolean</pre></div><p>A <code class="literal">GUI.Toggle</code> may look as follows:</p><div class="mediaobject"><img src="/graphics/9781849692304/graphics/2304EXP_04_05.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec32"></a>GUI.Toolbar and GUI.SelectionGrid</h3></div></div></div><a id="id468" class="indexterm"></a><a id="id469" class="indexterm"></a><a id="id470" class="indexterm"></a><a id="id471" class="indexterm"></a><p><code class="literal">GUI.Toolbar</code> creates a row of buttons and <code class="literal">GUI.SelectionGrid</code> creates rows and columns of buttons. The following code snippet gives an example of a <code class="literal">GUI.Toolbar</code>:</p><div class="informalexample"><pre class="programlisting">static function Toolbar (position : Rect, selected : int, texts : string[]) : int
static function Toolbar (position : Rect, selected : int, images : Texture[]) : int
static function Toolbar (position : Rect, selected : int, content : GUIContent[]) : int
static function Toolbar (position : Rect, selected : int, texts : string[], style : GUIStyle) : int
static function Toolbar (position : Rect, selected : int, images : Texture[], style : GUIStyle) : int
static function Toolbar (position : Rect, selected : int, contents : GUIContent[], style : GUIStyle) : int</pre></div><p>The following code snippet gives an example of a <code class="literal">GUI.SelectionGrid</code>:</p><div class="informalexample"><pre class="programlisting">static function SelectionGrid (position : Rect, selected : int, texts : string[], xCount : int) : int
static function SelectionGrid (position : Rect, selected : int, images : Texture[], xCount : int) : int
static function SelectionGrid (position : Rect, selected : int, content : GUIContent[], xCount : int) : int
static function SelectionGrid (position : Rect, selected : int, texts : string[], xCount : int, style : GUIStyle) : int
static function SelectionGrid (position : Rect, selected : int, images : Texture[], xCount : int, style : GUIStyle) : int
static function SelectionGrid (position : Rect, selected : int, contents : GUIContent[], xCount : int, style : GUIStyle) : int</pre></div><p>Only one of the buttons can be selected at a time and will be assigned a unique integer. This can be used as extended toggle button, where we can have more than on or off options.</p><div class="mediaobject"><img src="/graphics/9781849692304/graphics/2304EXP_04_06.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec33"></a>GUI.HorizontalSlider and GUI.VerticalSlider</h3></div></div></div><a id="id472" class="indexterm"></a><a id="id473" class="indexterm"></a><a id="id474" class="indexterm"></a><a id="id475" class="indexterm"></a><p><code class="literal">GUI.HorizontalSlider</code> and <code class="literal">GUI.VerticalSlider</code> create interactive sliders. They are very useful as they allow us to withdraw integer values based on the current slider position. The following code snippet gives an example of a <code class="literal">GUI.HorizontalSlider</code>:</p><div class="informalexample"><pre class="programlisting">static function HorizontalSlider (position : Rect, value : float, leftValue : float, rightValue : float) : float
static function HorizontalSlider (position : Rect, value : float, leftValue : float, rightValue : float, slider : GUIStyle, thumb : GUIStyle) : float</pre></div><p>The following code snippet gives an example of a <code class="literal">GUI.VerticalSlider</code>:</p><div class="informalexample"><pre class="programlisting">static function VerticalSlider (position : Rect, value : float, topValue : float, bottomValue : float) : float
static function VerticalSlider (position : Rect, value : float, topValue : float, bottomValue : float, slider : GUIStyle, thumb : GUIStyle) : float</pre></div><a id="id476" class="indexterm"></a><a id="id477" class="indexterm"></a><a id="id478" class="indexterm"></a><a id="id479" class="indexterm"></a><p>A <code class="literal">GUI.HorizontalSlider</code> may look as follows:</p><div class="mediaobject"><img src="/graphics/9781849692304/graphics/2304EXP_04_07.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec34"></a>GUI.HorizontalScrollBar and GUI.VerticalScrollBar</h3></div></div></div><a id="id480" class="indexterm"></a><a id="id481" class="indexterm"></a><a id="id482" class="indexterm"></a><a id="id483" class="indexterm"></a><p><code class="literal">GUI.HorizontalScrollBar</code> and <code class="literal">GUI.VerticalScrollBar</code> create scrollbars that can be used to scroll through documents or, in our case, inventory slots. The following code snippet gives an example of a <code class="literal">GUI.HorizontalScrollBar</code>:</p><div class="informalexample"><pre class="programlisting">static function HorizontalScrollbar (position : Rect, value : float, size : float, leftValue : float, rightValue : float) : float
static function HorizontalScrollbar (position : Rect, value : float, size : float, leftValue : float, rightValue : float, style : GUIStyle) : float</pre></div><p>The following code snippet gives an example of a <code class="literal">GUI.VerticalScrollBar</code>:</p><div class="informalexample"><pre class="programlisting">static function VerticalScrollbar (position : Rect, value : float, size : float, topValue : float, bottomValue : float, style : GUIStyle) : float</pre></div><p>A <code class="literal">GUI.HorizontalScrollBar</code> may look as follows:</p><div class="mediaobject"><img src="/graphics/9781849692304/graphics/2304EXP_04_08.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec35"></a>GUI.BeginGroup and GUI.EndGroup</h3></div></div></div><a id="id484" class="indexterm"></a><a id="id485" class="indexterm"></a><a id="id486" class="indexterm"></a><a id="id487" class="indexterm"></a><p><code class="literal">GUI.BeginGroup</code> and <code class="literal">GUI.EndGroup</code> will group together all GUIs that are put in between those two functions, and their positioning will be based on group origin and not screen origin.</p><div class="mediaobject"><img src="/graphics/9781849692304/graphics/2304EXP_04_09.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec36"></a>GUI.BeginScrollView, GUI.EndScrollView, and ScrollTo</h3></div></div></div><a id="id488" class="indexterm"></a><a id="id489" class="indexterm"></a><a id="id490" class="indexterm"></a><a id="id491" class="indexterm"></a><a id="id492" class="indexterm"></a><a id="id493" class="indexterm"></a><p><code class="literal">GUI.BeginScrollView</code>, <code class="literal">GUI.EndScrollView</code>, and <code class="literal">ScrollTo</code> are used together to create a scrolling document with horizontal and vertical scrollbars. They will be used in our inventory example.</p><div class="mediaobject"><img src="/graphics/9781849692304/graphics/2304EXP_04_10.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch04lvl2sec37"></a>Other GUI classes</h3></div></div></div><a id="id494" class="indexterm"></a><a id="id495" class="indexterm"></a><p><code class="literal">GUI.Window </code>creates a window that calls its personal function and groups all GUIs that are being created from there. With windows, we can utilize the <code class="literal">GUI.DragWindow</code> function<a id="id496" class="indexterm"></a> that will allow us to create an area where we can drag our window around.</p><div class="mediaobject"><img src="/graphics/9781849692304/graphics/2304EXP_04_11.jpg" /></div><p><code class="literal">GUIContent</code>
<a id="id497" class="indexterm"></a><a id="id498" class="indexterm"></a> is a special class for contents of the GUI. It can contain text, image, or a tooltip, and the last one is a text that is displayed when the mouse is hovering over the GUI.</p><p><code class="literal">GUILayout</code>
<a id="id499" class="indexterm"></a><a id="id500" class="indexterm"></a> is a special type of GUI that automatically lays out <code class="literal">GUIContent</code> for us. Sounds amazing, however, when it comes down to practical use, take great care, as any automatic layout can potentially be more headache than help and is therefore not recommended. To use it, simply substitute <code class="literal">GUI</code> with <code class="literal">GUILayout</code> and call any of the preceding functions.</p><p><code class="literal">GUIStyle</code>
<a id="id501" class="indexterm"></a><a id="id502" class="indexterm"></a> is what makes GUI worth our time. <code class="literal">GUIStyle</code> allows us to change GUI texture based on various events such as click, button press, hover, and so on. We can directly control it through the code or to specify them in the <span class="strong"><strong>Inspector</strong></span> view, we can even switch multiple <code class="literal">GUIStyle</code> classes for the same buttons.</p><p>There are some other GUI classes that we won't talk about here, simply because they have been created for very specific uses.</p><p>Before we start scripting, there is one thing that we should know and remember at all times when we deal with GUIs. Unlike screen origin point that is located at the bottom-left corner of the screen, GUIs are located in the top-left corner. This helps to visualize where GUIs will be created, however, it creates huge frustration when it comes to indicating GUI position based on mouse location. There are a couple of ways around that and we will look into them later in this chapter. Now let's start scripting.</p></div></div>