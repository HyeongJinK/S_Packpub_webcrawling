<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec16"></a>Adding in sound effects/music</h2></div></div><hr /></div><p>Another <a id="id57" class="indexterm"></a>thing that we can do to give the project a little more polish is add in sound effects and background music. Let's do that now. Perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select your enemy prefab, and add an <span class="strong"><strong>Audio Source</strong></span> component to it by selecting <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Audio</strong></span> | <span class="strong"><strong>Audio Source</strong></span>. An audio source lets the audio listener into Main Camera knowing that this is an object that can play sounds. Once you create the Audio Source, open the <span class="strong"><strong>3D Sound Settings</strong></span> and change the <span class="strong"><strong>Min Distance</strong></span> of the <span class="strong"><strong>Volume Rolloff</strong></span> to <code class="literal">10</code>. Unity will attempt to alter the volume and pan sounds to make the project sound nicer, but for this project, it just makes everything much softer, so we're going to undo the effect unless it's far away.</p></li><li><p>After <a id="id58" class="indexterm"></a>this, let's go into our <code class="literal">EnemyBehaviour</code> script! As usual, we'll need to add in a new variable for us to use to play whenever we're hit:</p><div class="informalexample"><pre class="programlisting">// What sound to play when we're hit 
public AudioClip hitSound;</pre></div></li><li><p>Next, go into the <code class="literal">CollisionEnter2D</code> function. After the <code class="literal">Destroy(theCollision.gameObject)</code> line, add the following code:</p><div class="informalexample"><pre class="programlisting">// Plays a sound from this object's AudioSource
audio.PlayOneShot(hitSound);</pre></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note19"></a>Note</h3><p>For more information about the <code class="literal">PlayOneShot</code> function, check out <a class="ulink" href="http://docs.unity3d.com/ScriptReference/AudioSource.PlayOneShot.html" target="_blank">http://docs.unity3d.com/ScriptReference/AudioSource.PlayOneShot.html</a>.</p><p>For more information on the <span class="strong"><strong>Audio Source</strong></span> component (audio), check out <a class="ulink" href="http://docs.unity3d.com/ScriptReference/AudioSource.html" target="_blank">http://docs.unity3d.com/ScriptReference/AudioSource.html</a>.</p></div></li></ol></div><p>Now, we need some actual sounds to play. I've set aside a folder of assets for you in the <code class="literal">Example Code</code> folder, so drag-and-drop the <code class="literal">Sounds</code> folder into your project's <code class="literal">Assets</code> folder:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Back in the inspector for our enemy, let's set the <code class="literal">Hit Sound</code> variable in the <code class="literal">EnemyBehaviour</code> script to the hit sound that we've imported by using drag-and-drop. Now if we play the game, when we hit an enemy, the sound will be played! Now, let's have a sound if we destroy the enemy!</p></li><li><p>Go to the <span class="strong"><strong>Explosion</strong></span> prefab, and add an <span class="strong"><strong>Audio Source</strong></span> component in the same way we did in step 1. Once you create the audio source, open up the <span class="strong"><strong>3D Sound Settings</strong></span>, and change the <span class="strong"><strong>Min Distance</strong></span> of the <span class="strong"><strong>Volume Rolloff</strong></span> to <code class="literal">10</code>. After this, set the <span class="strong"><strong>Audio Clip</strong></span> property in the component to the <code class="literal">explode</code> sound.</p></li><li><p>Now, going back to our <code class="literal">EnemyBehaviour</code> script, go to the line after we instantiate the <code class="literal">exploder</code> object, and add the following line before we destroy the exploder:</p><div class="informalexample"><pre class="programlisting">exploder.audio.Play();</pre></div><p>Now, if you play the game, hitting the object will play one sound, and when the object is destroyed, the explosion will play a sound. Because the sound is in the <span class="strong"><strong>Audio Clip</strong></span> property, we can just call the <code class="literal">Play</code> function. However, if you want an object to play multiple sounds, it's better to have separate <code class="literal">AudioClip</code> variables just as we did with <code class="literal">EnemyBehaviour</code>.</p></li><li><p>Finally, I <a id="id59" class="indexterm"></a>want to play a sound whenever we fire a shot. To do that, let's go to <code class="literal">playerShip</code> and add an audio source. Once you create the audio source, open <span class="strong"><strong>3D Sound Settings</strong></span>, and change the <span class="strong"><strong>Min Distance</strong></span> of <span class="strong"><strong>Volume Rolloff</strong></span> to <code class="literal">10</code>.</p></li><li><p>Next, go into <code class="literal">PlayerBehaviour</code>, and add in a new variable, as follows:</p><div class="informalexample"><pre class="programlisting">// What sound to play when we're shooting
public AudioClip shootSound;</pre></div></li><li><p>After this, whenever we shoot a bullet, let's play the new sound at the beginning of the <code class="literal">ShootLasers</code> function:</p><div class="informalexample"><pre class="programlisting">audio.PlayOneShot(shootSound);</pre></div></li><li><p>Coming back to <span class="strong"><strong>Inspector</strong></span>, set the <span class="strong"><strong>Shoot Sound</strong></span> property in the <code class="literal">PlayerBehaviour</code> component to the <code class="literal">shoot</code> sound effect.</p></li><li><p>Finally, let's add in our background music. Go to your <span class="strong"><strong>Main Camera</strong></span> object in <span class="strong"><strong>Hierarchy</strong></span>. Add an <span class="strong"><strong>Audio Source</strong></span> component. There's no need to set <span class="strong"><strong>Min Distance</strong></span> in this case, because this object is where the audio listener is. Change <span class="strong"><strong>Audio Clip</strong></span> to <span class="strong"><strong>bgm</strong></span>, check the <span class="strong"><strong>Loop</strong></span> option, and set the <span class="strong"><strong>Volume</strong></span> to <code class="literal">.25</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note20"></a>Note</h3><p>The background music is provided for this project by Stratkat (Kyle Smith). If you are interested in more of his work, check out his website at <a class="ulink" href="http://daydreamanatomy.bandcamp.com/" target="_blank">http://daydreamanatomy.bandcamp.com/</a>.</p></div></li><li><p>Save everything, and run the game!</p></li></ol></div><p>While we won't see any changes at this point for those of you actually running the game, you'll notice quite a change when the game is started. It's already feeling much more like a game.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note21"></a>Note</h3><p>If you don't want to deal with the 3D settings, you can also select the sound files and uncheck the 3D sound option, but this will give you less control.</p></div></div>