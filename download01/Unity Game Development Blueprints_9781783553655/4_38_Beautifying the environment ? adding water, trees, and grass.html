<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec41"></a>Beautifying the environment – adding water, trees, and grass</h2></div></div><hr /></div><p>We now have a base for our <a id="id298" class="indexterm"></a>environment with the <a id="id299" class="indexterm"></a>terrain, but we're still missing a lot of polish that can make the area stand out and look like a quality environment. Let's add some of those details now:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>First, let's add water. This time we will use another asset from Unity, but we will not have to go to the Asset Store as it is included by default in our Unity installation. Navigate to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import Package</strong></span> | <span class="strong"><strong>Water (Basic)</strong></span> and import all of the files included in the package.</p></li><li><p>We will be creating a level for the night time, so navigate to <span class="strong"><strong>Standard Assets</strong></span> | <span class="strong"><strong>Water Basic</strong></span> and drag-and-drop the <span class="strong"><strong>Nighttime Simple Water</strong></span> prefab onto the scene. Once there, set the <span class="strong"><strong>Position</strong></span> values to (<code class="literal">1000</code>,<code class="literal">50</code>, <code class="literal">1000</code>) and the <span class="strong"><strong>Scale</strong></span> values to (<code class="literal">1000</code>,<code class="literal">1</code>,<code class="literal">1000</code>):</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_04_13.jpg" /></div><p>At this point, you want to repaint your cliff materials to reflect being next to the water better.</p></li><li><p>Next, let's <a id="id300" class="indexterm"></a>add some<a id="id301" class="indexterm"></a> trees to make this forest level come to life. Navigate to <span class="strong"><strong>Terrain Assets</strong></span> | <span class="strong"><strong>Trees Ambient-Occlusion</strong></span> and drag-and-drop a tree into your world (I'm using <span class="strong"><strong>ScotsPineTree</strong></span>).</p><p>By default, these trees do not contain collision information, so our player could just walk through it. This is actually great for areas that the player will not reach as we can add more trees without having to do meaningless calculations, but we need to stop the player from walking into these. To do that, we're going to need to add a collider.</p></li><li><p>To do so, navigate to <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Physics</strong></span> | <span class="strong"><strong>Capsule Collider</strong></span> and then change the <span class="strong"><strong>Radius</strong></span> value to <code class="literal">2</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note50"></a>Note</h3><p>You have to use a Capsule Collider in order to have the collision carried over to the terrain.</p></div></li><li><p>After this, move <a id="id302" class="indexterm"></a>our newly <a id="id303" class="indexterm"></a>created tree into the <code class="literal">Assets</code> folder under the <span class="strong"><strong>Project</strong></span> tab and change its name to <code class="literal">CollidingTree</code>. Then, delete the object from the <span class="strong"><strong>Hierarchy</strong></span> view. With this finished, go back to our <span class="strong"><strong>Terrain</strong></span> object and then click on the <span class="strong"><strong>Place Trees</strong></span> mode button. Just like working with painting textures, there are no trees here by default, so navigate to <span class="strong"><strong>Edit Trees…</strong></span> | <span class="strong"><strong>Add Tree</strong></span>, add our <code class="literal">CollidingTree</code> object created earlier in this step, and then select <span class="strong"><strong>Add</strong></span>.</p></li><li><p>Next, under the <span class="strong"><strong>Settings</strong></span> section, change the <span class="strong"><strong>Tree Density</strong></span> value to <span class="strong"><strong>15</strong></span> and then with our new tree selected, paint the areas on the main island that do not have paths on them. Once you've finished with placing those trees, up the <span class="strong"><strong>Tree Density</strong></span> value to <span class="strong"><strong>50</strong></span> and then paint the areas that are far away from paths to make it less likely that players go that way.</p></li><li><p>You should also enable <span class="strong"><strong>Create Tree Collider</strong></span> in the terrain's <span class="strong"><strong>Terrain Collider</strong></span> component:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_04_14.jpg" /></div></li><li><p>In our last step to <a id="id304" class="indexterm"></a>create an<a id="id305" class="indexterm"></a> environment, let's add some details. The mode next to the <span class="strong"><strong>Plant Trees</strong></span> mode is <span class="strong"><strong>Paint Details</strong></span>. Next, click on the <span class="strong"><strong>Edit Details…</strong></span> button and select <span class="strong"><strong>Add Grass Texture</strong></span>. Select the <span class="strong"><strong>Grass</strong></span> texture for the <span class="strong"><strong>Detail Texture</strong></span> option and then click on <span class="strong"><strong>Add</strong></span>. In the terrain's <span class="strong"><strong>Settings</strong></span> mode (the one on the far right), change the <span class="strong"><strong>Detail Distance</strong></span> value to <span class="strong"><strong>250</strong></span>, and then paint the grass where there isn't any dirt along the route in the <span class="strong"><strong>Paint Details</strong></span> mode:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_04_15.jpg" /></div><p>You may not see the results unless you zoom your camera in, which you can do by using the mouse wheel. Don't go too far in though, or the results may not show as well.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note51"></a>Note</h3><p>This aspect of<a id="id306" class="indexterm"></a> level <a id="id307" class="indexterm"></a>creation isn't very difficult, just time consuming. However, it's taking time to enter these details that really sets a game apart from the other games. Generally, you'll want to playtest and make sure your level is fun before performing these actions; but I feel it's important to have an idea of how to do it for your future projects.</p></div></li><li><p>Lastly, our current island is very flat, and while that's okay for cities, nature is random. Go back into the <span class="strong"><strong>Raise/Lower Height</strong></span> tool and gently raise and lower some areas of the level to give the illusion of depth. Do note that your trees and grass will raise and fall with the changes that you make, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_04_16.jpg" /></div></li><li><p>With this done, let's<a id="id308" class="indexterm"></a> now add <a id="id309" class="indexterm"></a>some details to the areas that the player will not be visiting, such as the outer hills. Go into the <span class="strong"><strong>Place Trees</strong></span> mode and create another tree, but this time select the one without collision and then place it around the edges of the mountains, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_04_17.jpg" /></div></li></ol></div><p>At this point, we have<a id="id310" class="indexterm"></a> a nice exterior<a id="id311" class="indexterm"></a> shape created with the terrain tools!</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note52"></a>Note</h3><p>If you want to add even more detail to your levels, you can add additional trees and/or materials to the level area as long as it makes sense for them to be there.</p><p>For more information on the terrain engine<a id="id312" class="indexterm"></a> that Unity has, please visit <a class="ulink" href="http://docs.unity3d.com/Manual/script-Terrain.html" target="_blank">http://docs.unity3d.com/Manual/script-Terrain.html</a>.</p></div></div>