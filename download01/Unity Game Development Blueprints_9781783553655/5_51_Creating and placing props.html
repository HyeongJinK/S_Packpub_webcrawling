<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec53"></a>Creating and placing props</h2></div></div><hr /></div><p>Now, it's great that we have a<a id="id387" class="indexterm"></a> layout, but just a floor plan would get<a id="id388" class="indexterm"></a> really boring really quickly in a first-person <a id="id389" class="indexterm"></a>game. Luckily, we have a number of props<a id="id390" class="indexterm"></a> that we can use to spice up the level a bit and add additional detail to our world. Perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>First, let's move our <span class="strong"><strong>Level 1</strong></span> object out of the way for now by making it a prefab and then deleting it from the <span class="strong"><strong>Hierarchy</strong></span> tab.</p></li><li><p>Next, go to the <code class="literal">Props</code> folder, and select all of your models. Under the <span class="strong"><strong>Model</strong></span> tab, check the <span class="strong"><strong>Generate Colliders</strong></span> option, and click on <span class="strong"><strong>Apply</strong></span>.</p><p>This will create collisions for all the objects that we want to use. We didn't choose to generate colliders for the modular pieces, because we will generate them from scratch for our rooms.</p></li><li><p>Move the <a id="id391" class="indexterm"></a>
<span class="strong"><strong>Bedframe</strong></span> object to your <a id="id392" class="indexterm"></a>scene, and change the <span class="strong"><strong>Position</strong></span> <a id="id393" class="indexterm"></a>property of the <a id="id394" class="indexterm"></a>object to (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>) from the <span class="strong"><strong>Transform</strong></span> section. To focus on the object, select it in <span class="strong"><strong>Hierarchy</strong></span>, and then press the <span class="emphasis"><em>F</em></span> key (this only works if the scene is selected). Alternatively, you can also double-click on it. You'll notice that in spite of being in the center of the world when the position is reset, the bed is off on the <span class="strong"><strong>X</strong></span> axis, and that's again because of the art that we were provided with.</p></li><li><p>The first thing that we want to do is assign the <span class="strong"><strong>Props</strong></span> material to all of these objects. We could do the same as before, but instead, I'm going to place each of the objects at (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>), then select the actual mesh for all of them by holding down the <span class="emphasis"><em>Ctrl</em></span> key (<span class="emphasis"><em>Command</em></span> on Mac), selecting them, and then setting the material.</p><p>You'll notice that the material fits really nicely with the models that were created. This is because the artist who created this used a UV map to tell the engine how to cut up the material and place it onto the faces that make up the object (the vertices). The texture that we have on the material is drawn in such a way that it has the appropriate part of the image at the right place. Setting up the UVs of an object is something that is done in a 3D modeling program, but when we load the model file, it contains this information. Have a look at the screenshot following the next information box.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note68"></a>Note</h3><p>For more information on <a id="id395" class="indexterm"></a>UV mapping, check out <a class="ulink" href="http://en.wikipedia.org/wiki/UV_mapping" target="_blank">http://en.wikipedia.org/wiki/UV_mapping</a>.</p></div><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_05_18.jpg" /></div></li><li><p>Just as we <a id="id396" class="indexterm"></a>did with each of the modular <a id="id397" class="indexterm"></a>pieces, make each of these a <a id="id398" class="indexterm"></a>prefab inside a new<a id="id399" class="indexterm"></a> <code class="literal">Props</code> folder, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_05_19.jpg" /></div></li><li><p>Now with<a id="id400" class="indexterm"></a> that in mind, let's bring the<a id="id401" class="indexterm"></a> <span class="strong"><strong>Level 01</strong></span> prefab back to the<a id="id402" class="indexterm"></a> level. Let's start off by<a id="id403" class="indexterm"></a> adding the simplest of props to add, the chair. Drag-and-drop a chair object in your level; you should notice that it automatically gets placed on the floor at the right position, aside from the pivot looking quite out of place. Have a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_05_20.jpg" /></div></li><li><p>We could <a id="id404" class="indexterm"></a>go back to our 3D modeling <a id="id405" class="indexterm"></a>software to fix this problem, but <a id="id406" class="indexterm"></a>perhaps you don't<a id="id407" class="indexterm"></a> have access to the software, so let's fix the problem in Unity. Create a cube by going to <span class="strong"><strong>Game Object</strong></span> | <span class="strong"><strong>Create Other</strong></span> | <span class="strong"><strong>Cube</strong></span>. (in case of Unity 4.6 or above, create a cube by going to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>3D Objects</strong></span> | <span class="strong"><strong>Cube</strong></span>) Change the cube's <span class="strong"><strong>Position</strong></span> property to (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>) and <span class="strong"><strong>Scale</strong></span> to (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>). Then, we'll use <span class="strong"><strong>Vertex Snapping</strong></span> to move the bottom of the chair's leg to be at (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">0</code>), so it looks like it does in the following image. Feel free to hide other objects in the scene to make it easier to see by selecting them in <span class="strong"><strong>Hierarchy</strong></span> and then toggling the check by their name in <span class="strong"><strong>Inspector</strong></span>:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_05_21.jpg" /></div></li><li><p>Once this is <a id="id408" class="indexterm"></a>done, delete the <span class="strong"><strong>Cube</strong></span> object, and<a id="id409" class="indexterm"></a> create <span class="strong"><strong>GameObject</strong></span> (empty) <a id="id410" class="indexterm"></a>with the <a id="id411" class="indexterm"></a>name <code class="literal">FixedChair</code>, and have the previous <span class="strong"><strong>Chair</strong></span> be the child of our new one. After that, create a prefab named <code class="literal">FixedChair</code> in our <code class="literal">Prefabs</code>\<code class="literal">Props</code> folder, and then delete it from <span class="strong"><strong>Hierarchy</strong></span>.</p></li><li><p>After this, bring back our <span class="strong"><strong>Level 01</strong></span> prefab, and now drop a chair in. As I'm sure you can see, it's much easier to place them now. Have a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_05_22.jpg" /></div></li><li><p>With this <a id="id412" class="indexterm"></a>in mind, we can also use the <span class="strong"><strong>Rotation</strong></span><a id="id413" class="indexterm"></a> tool <a id="id414" class="indexterm"></a>to rotate the chairs a little bit and create some <a id="id415" class="indexterm"></a>duplicates. The <span class="emphasis"><em>E</em></span> key will switch to the <span class="strong"><strong>Rotation</strong></span> tool:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_05_23.jpg" /></div></li><li><p>Now, we <a id="id416" class="indexterm"></a>can continue with this with the <a id="id417" class="indexterm"></a>other props as<a id="id418" class="indexterm"></a> well, placing them how you feel <a id="id419" class="indexterm"></a>would make the environment look more realistic.</p></li><li><p>Turning down the Direction Light's<span class="strong"><strong> Intensity</strong></span> to <code class="literal">.5</code>, I got the following screenshot with some quick placement of objects:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_05_24.jpg" /></div></li><li><p>Next, make sure <a id="id420" class="indexterm"></a>all the newly added props<a id="id421" class="indexterm"></a> are added to the <a id="id422" class="indexterm"></a>
<span class="strong"><strong>Level 01</strong></span> prefab, and click on<a id="id423" class="indexterm"></a> the <span class="strong"><strong>Apply</strong></span> button to save all the changes we made.</p><p>We now have a first story all fixed; let's now show how simple it is to create a second level.</p></li><li><p>Find a spot in your level that has an open space, and add in the <span class="strong"><strong>LeftStairs</strong></span> object, adding in walls if needed to finish the space. After this, start placing tiles just as we did with Level 01. </p></li></ol></div><p>A nice thing to keep in mind if you want to only focus on one level at a time, you can select the <span class="strong"><strong>Level 01</strong></span> game object and click on the checkbox next to its name to disable everything about it, which will let you focus on just what you are doing with this level. In addition, we can use this in the future to also turn off and turn on levels to help with the frame rate if we have too many objects on the screen. Have a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_05_25.jpg" /></div></div>