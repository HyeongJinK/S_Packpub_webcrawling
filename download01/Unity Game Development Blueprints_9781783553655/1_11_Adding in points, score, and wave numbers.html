<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec17"></a>Adding in points, score, and wave numbers</h2></div></div><hr /></div><p>One of the <a id="id60" class="indexterm"></a>most important things to do in a game is reward the player and give them a sense of progression. For now, let's reward the <a id="id61" class="indexterm"></a>player with a score we will display for<a id="id62" class="indexterm"></a> them and also let the player know exactly which wave he is on. Perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new <span class="strong"><strong>GUI Text</strong></span> object by going to the <span class="strong"><strong>Hierarchy</strong></span> tab and selecting <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>GUI Text</strong></span>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note22"></a>Note</h3><p>If you are using the Unity 4.6 beta or higher versions, instead of creating the object in this way, you will need to select <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Empty</strong></span> to create an empty object. Once you've done that with the object selected, then click on <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Rendering</strong></span> | <span class="strong"><strong>GUIText</strong></span> to add the component there.</p></div></li><li><p>After <a id="id63" class="indexterm"></a>this, switch to the<span class="strong"><strong> Game</strong></span> tab, as <a id="id64" class="indexterm"></a>you will be unable to see <span class="strong"><strong>GUI Text</strong></span> in the <span class="strong"><strong>Scene</strong></span> view. Note that the game should still not be <a id="id65" class="indexterm"></a>started as yet, so don't hit the <span class="strong"><strong>Play</strong></span> button. Have a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_01_24.jpg" /></div></li><li><p>Change the <span class="strong"><strong>GUI Text</strong></span> object's name to <code class="literal">Score Counter</code>. Under the <span class="strong"><strong>GUI Text</strong></span> component, change the <span class="strong"><strong>Text</strong></span> to <code class="literal">Score: 0</code>. After that, change the <span class="strong"><strong>Position</strong></span> of <span class="strong"><strong>Transform</strong></span> to (<code class="literal">0</code>, <code class="literal">1</code>, <code class="literal">0</code>) to put it on the left-hand side of the screen.</p><p>GUI elements are placed in viewport space, which means that the space of the GUI is a value from (<code class="literal">0</code>,<code class="literal">0</code>) in the bottom-left corner to (<code class="literal">1</code>,<code class="literal">1</code>) in the top-right corner.</p></li><li><p>Though this is technically fine, it would be nice to have some space so that the text isn't completely off the screen. To give us a bit of padding, let's set the <span class="strong"><strong>Pixel Offset</strong></span> property to (<code class="literal">10</code>, <code class="literal">-10</code>) to move it 10 pixels toward the right-hand side and 10 pixels down. Note that <span class="strong"><strong>Pixel Offset</strong></span> uses pixel space. Have a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_01_25.jpg" /></div></li><li><p>Now that <a id="id66" class="indexterm"></a>we have the text <a id="id67" class="indexterm"></a>set up, let's set the font. Drag-and-drop the <span class="strong"><strong>Font</strong></span> folder into your project. Then <a id="id68" class="indexterm"></a>set <span class="strong"><strong>Font</strong></span> to <code class="literal">OSP-DIN</code> and <span class="strong"><strong>Font Size</strong></span> to <code class="literal">25</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note23"></a>Note</h3><p>The font used in this project was created by the OSP Foundry. For more information about their stuff check out <a class="ulink" href="http://ospublish.constantvzw.org/foundry/" target="_blank">http://ospublish.constantvzw.org/foundry/</a>.</p></div></li><li><p>Next, duplicate the <span class="strong"><strong>Score Counter</strong></span> object by right-clicking and selecting <span class="strong"><strong>Duplicate</strong></span>. Set this duplicate's name to <code class="literal">Waves Counter</code>, and change its text to <code class="literal">Wave: 0</code>.</p></li><li><p>Set the <span class="strong"><strong>Waves Counter</strong></span> object's <span class="strong"><strong>Position</strong></span> to (<code class="literal">1</code>, <code class="literal">1</code>, <code class="literal">0</code>). Then set <span class="strong"><strong>Anchor</strong></span> to <code class="literal">upper right</code> and <span class="strong"><strong>Pixel Offset</strong></span> to (<code class="literal">-10</code>, <code class="literal">-10</code>). Have a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_01_26.jpg" /></div></li><li><p>Now that <a id="id69" class="indexterm"></a>we have our text files <a id="id70" class="indexterm"></a>created, let's now have <a id="id71" class="indexterm"></a>them function correctly! First, let's go into the <code class="literal">GameController</code> class. Inside, we need to create some new variables as follows:</p><div class="informalexample"><pre class="programlisting">// The values we'll be printing
private int score = 0;
private int waveNumber = 0;

// The actual GUI text
public GUIText scoreText;
public GUIText waveText;</pre></div></li><li><p>Next, we will need to add a function to call whenever our score increases, as follows:</p><div class="informalexample"><pre class="programlisting">public void IncreaseScore(int increase)
{
  score += increase;
  scoreText.text = "Score: " + score;
}</pre></div><p>The <code class="literal">+=</code> operator will take the current value and add the right-hand side's value to it.</p></li><li><p>Then, we'll <a id="id72" class="indexterm"></a>need to call this <a id="id73" class="indexterm"></a>function inside our <code class="literal">EnemyBehaviour</code> component. After the <code class="literal">controller.KilledEnemy()</code> line, add the following line:</p><div class="informalexample"><pre class="programlisting">controller.IncreaseScore(10);</pre></div></li><li><p>Finally, whenever <a id="id74" class="indexterm"></a>we increase the wave number we need to change its text as well. Back in the <code class="literal">GameController</code> class after the <code class="literal">if(currentNumberOfEnemies &lt;= 0)</code> line, add the following lines:</p><div class="informalexample"><pre class="programlisting">waveNumber++;
waveText.text = "Wave: " + waveNumber;</pre></div><p>The <code class="literal">++</code> operator will take the current value of a number and increment it by 1.</p></li><li><p>Save all the script files, go back to <span class="strong"><strong>Inspector</strong></span>, and set the <span class="strong"><strong>Score Text</strong></span> and <span class="strong"><strong>Wave Text</strong></span> objects to the proper variables. After that, run the game. Have a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_01_27.jpg" /></div></li></ol></div><p>And with <a id="id75" class="indexterm"></a>that, you can see that everything is <a id="id76" class="indexterm"></a>working together, killing enemies <a id="id77" class="indexterm"></a>rewards points, and killing all the enemies in a wave triggers the next wave to start!</p></div>