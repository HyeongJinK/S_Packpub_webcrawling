<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec54"></a>Lightmapping quickstart</h2></div></div><hr /></div><p>Lightmapping <a id="id424" class="indexterm"></a>is the process of baking or precalculating the lighting on a texture to static objects to make the game run faster and allow us to get the most out of our projects.</p><p>This generally isn't done as an optimization until you have your entire level finished, but I think this is probably the best place to talk about it. If you prefer to wait, come back to this section when you are done with your level, as doing a lightmapping pass can take a long time:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Go to <span class="strong"><strong>Edit</strong></span> | <span class="strong"><strong>Render Settings</strong></span>, and set <span class="strong"><strong>Ambient Light</strong></span> to <span class="strong"><strong>Black</strong></span>, as we want to have all the light to be from our lighting.</p></li><li><p>Next, we will need to select all of our model files in the <code class="literal">Models</code>/<code class="literal">Props</code> and <code class="literal">Models</code>/<code class="literal">Modular Pieces</code> folders (not the prefabs). From there, check <span class="strong"><strong>Generate Lightmap UVs</strong></span> from the <span class="strong"><strong>Model</strong></span> tab, and then click on the <span class="strong"><strong>Apply</strong></span> button.</p></li><li><p>Lightmapping <a id="id425" class="indexterm"></a>only works with static objects, that is, objects that will not be moving. That's our level stuff for sure, so select our <span class="strong"><strong>Level 01</strong></span> parent object, and click on the <span class="strong"><strong>Static</strong></span> option. It will ask if you want the change for the children as well, and you should click on <span class="strong"><strong>Yes, change children</strong></span>. Have a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_05_26.jpg" /></div></li><li><p>Next, go to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Lightmapping</strong></span>. This opens <span class="strong"><strong>Lightmapping Editor</strong></span>, which we can use to bake our object, and more.</p></li><li><p>Once you're ready, click on the <span class="strong"><strong>Bake Scene</strong></span> option. This may take a while on your larger projects. Once the process is completed, your scene will be ligtmapped. Have a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_05_27.jpg" /></div></li><li><p>Let's see <a id="id426" class="indexterm"></a>everything put together. Go back to the level we created in the previous chapter, <span class="emphasis"><em>First Person Shooter Part 1 â€“ Creating Exterior Environments</em></span>, and create a prefab of the controller with the <span class="strong"><strong>Flashlight</strong></span> object named <code class="literal">Flashlight Controller</code>.</p></li><li><p> Go back to the interior level we just created, and replace the previously created controller with it.</p></li><li><p>Back in our level, select the <span class="strong"><strong>Main Camera</strong></span> object of <span class="strong"><strong>Flashlight Controller</strong></span>, and set <span class="strong"><strong>Background</strong></span> to <span class="strong"><strong>Black</strong></span>, and lower the magnitude of the <span class="strong"><strong>Bobbing Animation</strong></span> component to <code class="literal">.1</code>.</p></li></ol></div><p>To see it in action, let's <a id="id427" class="indexterm"></a>take a look inside our game! Have a look at the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_05_28.jpg" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note69"></a>Note</h3><p>For more information on <a id="id428" class="indexterm"></a>lightmapping, check out <a class="ulink" href="http://docs.unity3d.com/Documentation/Manual/LightmappingInDepth.html" target="_blank">http://docs.unity3d.com/Documentation/Manual/LightmappingInDepth.html</a>.</p></div></div>