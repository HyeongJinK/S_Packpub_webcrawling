<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec25"></a>Restarting the game</h2></div></div><hr /></div><p>There may come a time in a game<a id="id135" class="indexterm"></a> when a player makes a mistake and would like to restart <a id="id136" class="indexterm"></a>the level in the game they're currently playing. If you prepared your project ahead of time like we have, it's actually quite easy to get this functionality placed into your game. With that being said, let's implement that functionality now! We will perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Open up the <code class="literal">PauseMenu</code> script and add the following highlighted code:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>GUILayout.BeginHorizontal();</strong></span>

    if (GUILayout.Button ("Resume")) 
    {
      //resume the game
      isPaused = false;
    }

<span class="strong"><strong>    if (GUILayout.Button ("Restart")) </strong></span>
<span class="strong"><strong>    {</strong></span>
<span class="strong"><strong>      Application.LoadLevel(Application.loadedLevelName);</strong></span>
<span class="strong"><strong>    }</strong></span>
<span class="strong"><strong>    GUILayout.EndHorizontal();</strong></span>
</pre></div></li><li><p>Once finished, save your file and move back into Unity and play the game! The following screenshot depicts the game screen:</p><div class="mediaobject"><img src="/graphics/9781783553655/graphics/3655OT_02_8.jpg" /></div></li></ol></div><p>Simple enough! We've <a id="id137" class="indexterm"></a>now added a new button to our menu and when we <a id="id138" class="indexterm"></a>click on it, we load the currently loaded level.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note29"></a>Note</h3><p>If you use this implementation in your own projects, be sure to initialize all static variables inside your <code class="literal">Start</code> function unless you want them to be consistent between run-throughs.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec17"></a>More on the GUILayout class</h3></div></div></div><p>By default, when you use<a id="id139" class="indexterm"></a> the <code class="literal">GUILayout</code> class, controls will appear one after another, from top to bottom, by default. However, there will be times in which you'd like to have more control over what's going on without wanting to hardcode the positions of each element. Some of the various options available to you is horizontal and vertical groups.</p><p>Just like we called <code class="literal">GUILayout.BeginArea</code> and <code class="literal">GUILayout.EndArea</code> previously, you will need to call functions to start or end these groups, such as the <code class="literal">GUILayout.BeginVertical</code> and <code class="literal">GUILayout.EndVertical</code> methods we used in the preceding example.</p><p>Any controls placed inside a <a id="id140" class="indexterm"></a>horizontal group will always be laid out horizontally. Any controls inside a vertical group will always be laid out vertically. This sounds simple enough, and it is. However, when you realize that we can use these groups inside each other, it gives us the ability to create whatever you can imagine for the UI.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note30"></a>Note</h3><p>For more information on <a id="id141" class="indexterm"></a>the <code class="literal">GUILayout</code> class, check out <a class="ulink" href="http://docs.unity3d.com/ScriptReference/GUILayout.html" target="_blank">http://docs.unity3d.com/ScriptReference/GUILayout.html</a>.</p></div></div></div>