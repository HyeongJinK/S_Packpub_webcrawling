<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec22"></a>Creating a symbolic lives counter</h2></div></div><hr /></div><p>This recipe teaches us how to use multiple <span class="strong"><strong>Image (Script)</strong></span> components inside a script in order to create a<a id="id100" class="indexterm"></a> symbolic lives counter. The number of lives are not displayed as a number, but with heart symbols on the screen. It is similar to the counter in the <span class="emphasis"><em>Implementing a lives counter</em></span> recipe, but the logic to manage different icons is different.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec51"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>To begin, let's create a new empty game object. To do this, right-click on the <span class="strong"><strong>Canvas</strong></span> object, since we want it as parent, and then <span class="strong"><strong>Create Empty</strong></span>. Finally, rename it as <span class="strong"><strong>SymbolicLivesCounter</strong></span>.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip13"></a>Tip</h3><p>If there isn't the <span class="strong"><strong>Canvas</strong></span> object in the scene, for example, in new scenes, we can create it by right-clicking on <span class="strong"><strong>Hierarchy</strong></span> panel and then go to <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Canvas</strong></span>.</p></div></li><li><p>Next, click on <span class="strong"><strong>SymbolicLivesCounter</strong></span> and add a new image by selecting <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Image</strong></span>, and then rename the object just created as <span class="strong"><strong>Heart1</strong></span>.</p></li><li><p>Take a heart icon image, or create on our own, and import it in to our project. If our project is not set as 2D, remember to set the <span class="strong"><strong>Texture Type</strong></span> of the icon into <span class="strong"><strong>Sprite (2D and UI)</strong></span> and then click on <span class="strong"><strong>Apply</strong></span>.</p></li><li><p>Let's duplicate <span class="strong"><strong>Heart1</strong></span> with <span class="emphasis"><em>Ctr</em></span>+<span class="emphasis"><em>D</em></span> as many times as the maximum amount of lives that the player will have. Rename them consecutively, such as <span class="strong"><strong>Heart1</strong></span>, <span class="strong"><strong>Heart2</strong></span>, <span class="strong"><strong>Heart3</strong></span>, and so on. In this example, we have five hearts, and so in the <span class="strong"><strong>Hierarchy</strong></span> panel, we should have the following:</p><div class="mediaobject"><img src="/graphics/9781785885822/graphics/B04903_02_06.jpg" /></div></li><li><p>Distribute them in the <span class="strong"><strong>Scene View</strong></span>, keeping their order. For example, <span class="strong"><strong>Heart2</strong></span>  must be after <span class="strong"><strong>Heart1</strong></span> and before <span class="strong"><strong>Heart3</strong></span>. This order is important because the script that<a id="id101" class="indexterm"></a> we are going to write uses this order. The following is an image of the correct way to order your hearts:</p><div class="mediaobject"><img src="/graphics/9781785885822/graphics/B04903_02_07.jpg" /></div></li><li><p>In the <span class="strong"><strong>SymbolicLivesCounter</strong></span>, go to <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>New Script</strong></span> and name it <span class="strong"><strong>SymbolicLivesCounterScript</strong></span>, and then press <span class="strong"><strong>Create and Add</strong></span>.</p></li><li><p>Double-click on the script to edit it. This time, the <code class="literal">using UnityEngine.UI;</code> statement at the beginning of the script it is not needed since we will not use any UI classes.</p></li><li><p>Before we add any functions, we need a two variables, one <code class="literal">private</code> and one <code class="literal">public</code>, to set this last one in the <span class="strong"><strong>Inspector</strong></span> so that we can write:</p><div class="informalexample"><pre class="programlisting">  public GameObject[] hearts;
  private int lives;</pre></div></li><li><p>In the <code class="literal">Start()</code> function, we need to set up the lives value, so:</p><div class="informalexample"><pre class="programlisting">  void Start () {
    lives = hearts.Length;
  }</pre></div></li><li><p>As in the <span class="emphasis"><em>Implementing a lives counter</em></span> recipe, we need to write a function to <code class="literal">addLife()</code>, and also<a id="id102" class="indexterm"></a> here there is a return value to understand if the life is added or not. The function is as follows:</p><div class="informalexample"><pre class="programlisting">  public booladdLife(){
    if (lives &lt;hearts.Length) {
      lives++;
      updateSymbolicLivesCounter();
      return true;
    }
    return false;
  }</pre></div></li><li><p>And now the <code class="literal">loseLife()</code> function, again with a return value to check whether the player has finished his life:</p><div class="informalexample"><pre class="programlisting">  public boolloseLife(){
    lives--;
    if (lives &gt; 0) {
      updateSymbolicLivesCounter();
      return false;
    }
    lives = 0;
    updateSymbolicLivesCounter();
    return true;
  }</pre></div></li><li><p>Finally, we need to update our <code class="literal">updateSymbolicLivesCounter()</code> function. Here the logic is different from the <span class="emphasis"><em>Implementing a lives counter</em></span> recipe. According to the number of lives, we have to either enable or disable the hearts. The following is the function to achieve this:</p><div class="informalexample"><pre class="programlisting">  private void updateSymbolicLivesCounter () {
    for (int i=0; i&lt;hearts.Length; i++) {
      if(i&lt;lives){
        hearts[i].SetActive(true);
      }else{
        hearts[i].SetActive(false);
      }
    }
  }</pre></div></li><li><p>Let's save the script, but keep in mind that we haven't finish yet. We will have to set up<a id="id103" class="indexterm"></a> the hearts in the <span class="strong"><strong>Inspector</strong></span>.</p></li><li><p>Now, inside the <span class="strong"><strong>Inspector</strong></span>, set the size of the hearts variable to <span class="strong"><strong>5</strong></span>, then link each <span class="strong"><strong>Heart1</strong></span>, <span class="strong"><strong>Heart2</strong></span>, and so on to fill the array. At the end, you should have something that looks like the following:</p><div class="mediaobject"><img src="/graphics/9781785885822/graphics/B04903_02_08.jpg" /></div></li><li><p>Now the <span class="strong"><strong>Symbolic Lives Counter</strong></span> is ready.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec52"></a>How it works...</h3></div></div></div><p>We have created several hearts icons inside a <span class="strong"><strong>GameObject</strong></span> named <span class="strong"><strong>Symbolic Lives Counter</strong></span>. Finally, we have attached our script to it.</p><p>In our script, we have two variables. The first one is an array of game object, called hearts, and as the name suggests us, it will store all the hearts contained in the <span class="strong"><strong>Symbolic Lives Counter</strong></span>. The second one is the number of lives possessed by the player.</p><p>This time, we didn't have a variable that stores the maximum number of lives allowed. So, in the <code class="literal">Start()</code> function, we set the <code class="literal">lives</code> variable to be equal to the length of the array. Since we will set it in the <span class="strong"><strong>Inspector</strong></span> and it contains all the hearts in the scene, its length represents the <a id="id104" class="indexterm"></a>maximum number of lives allowed.</p><p>Furthermore, we have also written a function called <code class="literal">addLife()</code> that adds lives to the player that returns back a Boolean value: <code class="literal">true</code> if a life is added, otherwise <code class="literal">false</code> if the number of lives is equal to the maximum number of lives allowed and the function. It is quite similar to its homonymous function in implementing a lives counter. In fact, at the beginning, there is an <code class="literal">if</code> statement that checks whether lives are less than the hearts.Length, which is the maximum number of lives. If so, we increase the lives by one, <code class="literal">lives++;</code>, then we call <code class="literal">updateSymbolicLivesCounter()</code> function to update the interface, and, finally, we return <code class="literal">true</code>, otherwise we just return <code class="literal">false</code>.</p><p>Now, we also have a function for <code class="literal">loseLife()</code>.This function returns back a Boolean value: <code class="literal">true</code> if the player has no more lives, otherwise <code class="literal">false</code>. First, we decrease the number of lives by one, <code class="literal">lives--;</code>, then we check to see whether lives are more than zero, and, if so, we call the <code class="literal">updateSymbolicLivesCounter()</code> function to update the interface and finally, we return <code class="literal">false</code>. Otherwise, we set <code class="literal">lives = 0;</code> since we don't want a negative number of lives, and, after <code class="literal">updateSymbolicLivesCounter()</code>, we return <code class="literal">true</code>.</p><p>In the <code class="literal">updateSymbolicLivesCounter()</code> function, we have to set active or no each heart. In order to do so, we have a for-cycle for every entries of the hearts array. Then, there is an <code class="literal">if</code> statement that checks if the number of lives is more than the heart of that iteration. For example, if the player has just three lives left, we only want to display the first three hearts on screen and not the last two. Therefore, we enable only the first three hearts, and if there are no hearts in the array, we disable them.</p><p>In the last step, we assigned each heart objects to the entries of our hearts array.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec53"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>See <span class="emphasis"><em>Animating hearts of the symbolic lives counter</em></span> and <span class="emphasis"><em>Changing animation of the hearts of the symbolic lives counter through script</em></span> recipes in <a class="link" href="#" linkend="ch06">Chapter 6</a>, <span class="emphasis"><em>Animating the UI</em></span> for animating the hearts on this counter.</p></li></ul></div></div></div>