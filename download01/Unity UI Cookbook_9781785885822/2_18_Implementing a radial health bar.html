<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec24"></a>Implementing a radial health bar</h2></div></div><hr /></div><p>In this recipe, we are <a id="id109" class="indexterm"></a>going to create a radial health bar. The health of the player will be displayed as a ring that reduces circularly when health decreases and fills with increasing health. To achieve this, we will use the <span class="strong"><strong>Image (Script)</strong></span> component and develop a script to manage the length of the bar.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec58"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>First of all, we need to create our ring, so let's open a graphic program and create it. It should look like the following:</p><div class="mediaobject"><img src="/graphics/9781785885822/graphics/B04903_02_11.jpg" /></div></li><li><p>Then, import it in to our project and, if the project isn't set to 2D, set the <span class="strong"><strong>Texture Type</strong></span> of the image to <span class="strong"><strong>Sprite (2D and UI)</strong></span>, and then click on <span class="strong"><strong>Apply</strong></span>.</p></li><li><p>Next, create a <a id="id110" class="indexterm"></a>new image, so right-click on the <span class="strong"><strong>Hierarchy</strong></span> panel and then <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Image</strong></span>, and, finally, rename it <span class="strong"><strong>Radial Healthbar</strong></span>.</p></li><li><p>Selecting inside the <span class="strong"><strong>Image (Script)</strong></span> component we need to change <span class="strong"><strong>Image Type</strong></span> into <span class="strong"><strong>Filled</strong></span>. The component should change appearance a little bit in the <span class="strong"><strong>Inspector</strong></span>.</p></li><li><p>Ensure that <span class="strong"><strong>Fill Method</strong></span> is set on <span class="strong"><strong>Radial 360</strong></span> and <span class="strong"><strong>Fill Origin</strong></span> on <span class="strong"><strong>Bottom</strong></span>.</p></li><li><p>Since the logic is the same of the previous recipe, we have only to add the <span class="strong"><strong>HelathBarScript</strong></span> created before. To learn how to create it, please refer to <span class="emphasis"><em>Implementing a linear health bar</em></span> recipe. Now, <span class="strong"><strong>our Radial Healthbar</strong></span> is ready to use.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec59"></a>How it works...</h3></div></div></div><p>First of all, we <a id="id111" class="indexterm"></a>created our ring in a graphic programs. After importing the image and setting it to be a <span class="strong"><strong>Sprite (2D and UI)</strong></span>, if needed, we created a new image and this time set its <span class="strong"><strong>Fill Method</strong></span> to <span class="strong"><strong>Radial</strong></span>, so the image can disappear or appear gradually, as the health goes down or increases, in a 360° radius. Finally, we added the <span class="strong"><strong>HealthBarScript</strong></span> created in the <span class="emphasis"><em>Implementing a linear health bar</em></span> recipe.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec60"></a>There's more...</h3></div></div></div><p>The following section provide us another way to let designers to customize the bar in our game.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch02lvl3sec15"></a>Having a health bar that isn't necessarily 360°</h4></div></div></div><p>In order to<a id="id112" class="indexterm"></a> change how many degrees are between the beginning and the end of the health bar. To do this, let's add a variable to our script called <code class="literal">startingFilling</code> and set it as <code class="literal">float</code>:</p><div class="informalexample"><pre class="programlisting">public float startingFilling = 1;</pre></div><p>Now, take the following line in our function:</p><div class="informalexample"><pre class="programlisting">healthbarFilling.fillAmount = health / maxHealth;</pre></div><p>Substitute the preceding line with the following:</p><div class="informalexample"><pre class="programlisting">healthbarFilling.fillAmount = (health / maxHealth)*startingFilling;</pre></div><p>We multiply the <code class="literal">startingFilling</code> variable to scale the <code class="literal">health / maxHealth</code> ratio on the new shorten bar. By doing this, if we want the bar starting at 3/4, we can just set <span class="strong"><strong>startingFilling</strong></span> in the <span class="strong"><strong>Inspector</strong></span> to <span class="strong"><strong>0.75</strong></span>. But remember to not insert a value bigger than 1 in the <span class="strong"><strong>startingFilling</strong></span> variable.</p><div class="mediaobject"><img src="/graphics/9781785885822/graphics/B04903_02_EXTRA01.jpg" /></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec61"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>If we want<a id="id113" class="indexterm"></a> learn how to create the <span class="strong"><strong>HealthBarScript</strong></span>, we can refer to <span class="emphasis"><em>Implementing a linear health bar</em></span> recipe.</p></li><li style="list-style-type: disc"><p>For more complex health bars, see <span class="emphasis"><em>Implementing a linear health bar</em></span>, <span class="emphasis"><em>Creating a health bar with armor</em></span>, <span class="emphasis"><em>Using multiple bars to make a multibar</em></span>, and <span class="emphasis"><em>Developing a kingdom hearts health bar style</em></span> recipes, all included in this chapter.</p></li></ul></div></div></div>