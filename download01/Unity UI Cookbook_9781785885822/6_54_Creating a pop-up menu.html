<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec56"></a>Creating a pop-up menu</h2></div></div><hr /></div><p>In this recipe, we are going to see how we can use the techniques learned in the <span class="emphasis"><em>Creating a menu with an entrance transition</em></span> recipe to create a pop-up menu. Pop-up menus are useful when you want to <a id="id341" class="indexterm"></a>give instant feedback or even instructions to the player. They can be an unobtrusive way of providing information to the user at specific points during the game.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec155"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In the first step, let's create a new menu — a panel called <span class="strong"><strong>Pop-up Menu</strong></span> — and three buttons as its children.</p></li><li><p>After we have selected it, we then click on <span class="strong"><strong>Add Property</strong></span> in the <span class="strong"><strong>Animation</strong></span> window. Unity asks us to choose a folder and a name for our animation, and we can rename it to <span class="strong"><strong>MenuEntryPopUp</strong></span>.</p></li><li><p>The next step is to create the animation, so click on the <span class="strong"><strong>Rec</strong></span> button and move the vertical bar in the timeline to <span class="strong"><strong>1</strong></span> second; this means the sixtieth key frame if the sample is set to <span class="strong"><strong>60</strong></span>. Using <span class="strong"><strong>Rect tool</strong></span>, reduce the dimensions of all the buttons to zero:</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip24"></a>Tip</h3><p>The vertical bar is not shown by default. In order to make it show up, we can just click on the top section <a id="id342" class="indexterm"></a>of the <span class="strong"><strong>Animation</strong></span> window, where the time is displayed.</p></div><div class="mediaobject"><img src="/graphics/9781785885822/graphics/B04903_06_12.jpg" /></div></li><li><p>Then, move the vertical bar to the 120th key frame, at <span class="strong"><strong>2</strong></span> seconds, and reduce the panel vertically as well, as<a id="id343" class="indexterm"></a> shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781785885822/graphics/B04903_06_13.jpg" /></div></li><li><p>Click on the drop-down menu, find <span class="strong"><strong>MenuEntryPopUp</strong></span>, and select <span class="strong"><strong>[Create new Clip]</strong></span>.</p></li><li><p>Again, Unity will ask us to save the animation, so let's select the same folder as the previous one and rename it to <span class="strong"><strong>MenuExitPopUp</strong></span>.</p></li><li><p>Now, it's time to make the same animation, but in reverse. At the zeroth key frame, we should have the same situation of the last frame as that of the other animation. Move the vertical bar in the timeline to <span class="strong"><strong>1</strong></span> second, and using <span class="strong"><strong>Rect tool</strong></span>, expand the panel to its original position. Lastly, move the bar to the 120th key frame, at <span class="strong"><strong>2 </strong></span>seconds, and expand all the buttons as well.</p></li><li><p>The next step is to<a id="id344" class="indexterm"></a> get the animations that we have just created and put them into a controller. If we search in the same folder where we saved the animations, we can find a controller called <span class="strong"><strong>MenuEntryPopUp</strong></span>. Double-click on it to open it in the <span class="strong"><strong>Animator</strong></span> widow.</p></li><li><p>Since multi-editing of animations is not supported by Unity, we have to select the animations one at a time in the <span class="strong"><strong>Project</strong></span> panel. In addition, we will also need to uncheck the <span class="strong"><strong>Loop Time</strong></span> variable for both in the <span class="strong"><strong>Inspector</strong></span>. By doing this, we are setting the animation as a single shot and not as a loop.</p></li><li><p>Now, we just need to create another button, above <span class="strong"><strong>MenuEntryPopUp</strong></span>. By following the second recipe of this chapter, starting from step 11, we can trigger the animation accordingly. Just remember to change the animation names with the names of this recipe. After this, click on the play button to see your animated <span class="strong"><strong>Pop-up</strong></span> menu.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec156"></a>How it works...</h3></div></div></div><p>First, we created a couple of animations with the <span class="strong"><strong>Animation</strong></span> window, and then we put them inside an <span class="strong"><strong>Animator</strong></span> controller. Here, we used the controller just as a set of animation, since they are triggered by the <span class="strong"><strong>OnClick()</strong></span> events from our buttons. When the trigger arrives, <span class="strong"><strong>Animator</strong></span> plays the animation specified by us.</p></div></div>