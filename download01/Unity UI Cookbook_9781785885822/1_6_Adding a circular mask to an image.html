<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec13"></a>Adding a circular mask to an image</h2></div></div><hr /></div><p>Often in games, UI<a id="id29" class="indexterm"></a> elements are not designed to be rectangular. Thus, a<a id="id30" class="indexterm"></a> quick way to change their shape is through masking. One of the basic shapes is a circle. Therefore, in this recipe, you will learn how to make an image circular. This could be useful, for example, to surround a character icon circularly or to create special circular buttons. In order to achieve this, we will use the <span class="strong"><strong>Mask</strong></span> component.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec24"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>First of all, we need to create a mask, which in this case should be circular. Since the mask is just another image, let's open a graphic program that we have. Then, we need to create a new image with the same pixels for the height and <a id="id31" class="indexterm"></a>width so that the drawing canvas is a square.</p></li><li><p>This step and the<a id="id32" class="indexterm"></a> following step depend on the graphics program that you are using. Now, we have to draw a white circle in the middle of the image.</p></li><li><p>Furthermore, we should also ensure that the background is transparent. From the following screenshot, you can get an idea of what the final outcome will look like (the program used for this is Photoshop):</p><div class="mediaobject"><img src="/graphics/9781785885822/graphics/B04903_01_05.jpg" /></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip07"></a>Tip</h3><p>If you are using Photoshop, you can easy create this mask using the ellipse tool. While holding down the <span class="emphasis"><em>Shift</em></span> key, click on the top-left corner and drag it to the bottom-right corner.</p><p>If you don't have a graphics program or you don't want to use a graphics program, you can use the image provided along with the code featured in this book.</p></div></li><li><p>The next step is to import this mask into the project. To do this, right-click on the <span class="strong"><strong>Project</strong></span> panel and select <span class="strong"><strong>Import new asset</strong></span>.</p></li><li><p>Unity will ask us to select the mask that we have just created. Therefore, locate the folder<a id="id33" class="indexterm"></a> where you saved it and then import it.</p></li><li><p>In order to see the <a id="id34" class="indexterm"></a>settings of the imported mask as an image in the <span class="strong"><strong>Inspector</strong></span>, we need to select it in the <span class="strong"><strong>Project</strong></span> panel.</p></li><li><p>Thus, if our project is not set in 2D, we should change the <span class="strong"><strong>Texture Type</strong></span> in <span class="strong"><strong>Sprite (2D and UI) </strong></span>in the <span class="strong"><strong>Inspector</strong></span> and then click on <span class="strong"><strong>Apply</strong></span>.</p></li><li><p>Now, we need to create a new panel. We can do this by right-clicking on the <span class="strong"><strong>Hierarchy</strong></span> panel and then going to <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Panel</strong></span>. We should also ensure that we have it inside the <span class="strong"><strong>Canvas</strong></span> object.</p></li><li><p>Inside the <span class="strong"><strong>Image (Script)</strong></span> component, we need to set our mask to the <span class="strong"><strong>Source Image</strong></span> variable.</p></li><li><p>In order to get the exact shape that we created in our graphics program, we need to bring the image back to its original proportions. This can be done by clicking on <span class="strong"><strong>Set Native Size</strong></span> and then scaling uniformly (keeping <span class="emphasis"><em>Shift</em></span> pressed) if needed.</p></li><li><p>The next thing to do is transform our panel into a mask. So, we need to add the <span class="strong"><strong>Mask (Script)</strong></span> component to our panel.</p></li><li><p>Then, we need an image to put the mask on. Therefore, let's create an image inside the panel. To do this, we need to right-click on the <span class="strong"><strong>Hierarchy</strong></span> panel and then go to <span class="strong"><strong>UI</strong></span> | <span class="strong"><strong>Image</strong></span>.</p></li><li><p>Inside the <span class="strong"><strong>Image (Script)</strong></span> component of the image, we need to select the picture that we want to mask. This can be done by dragging it into the <span class="strong"><strong>Source Image</strong></span> variable of the component. As a result, it will be masked with a circle.</p></li><li><p>If needed, we can click on <span class="strong"><strong>Set Native Size</strong></span> and scale it uniformly.</p></li><li><p>In this case, by using an ancient map, we can see what the final outcome should look like in the following picture:</p><div class="mediaobject"><img src="/graphics/9781785885822/graphics/B04903_01_Extra02.jpg" /></div></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec25"></a>How it works...</h3></div></div></div><p>As we have seen, Unity <a id="id35" class="indexterm"></a>uses another image to create the<a id="id36" class="indexterm"></a> mask. This is the reason the <span class="strong"><strong>Mask (Script)</strong></span> component is attached to the object that has an <span class="strong"><strong>Image (Script)</strong></span> component. As a result, it is possible to create any shape that we want for the mask. In fact, the only thing we need to keep in mind is that the white sections of the mask texture will be the parts that are visible.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec26"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p>If you are looking for more information<a id="id37" class="indexterm"></a> about the <span class="strong"><strong>Mask</strong></span> component, you can refer to the Unity official documentation at<a class="ulink" href="http://docs.unity3d.com/Manual/script-Mask.html" target="_blank"> http://docs.unity3d.com/Manual/script-Mask.html</a>.</p></li></ul></div></div></div>