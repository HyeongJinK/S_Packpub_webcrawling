<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec57"></a>Animating hearts of the symbolic lives counter</h2></div></div><hr /></div><p>In this recipe, we <a id="id345" class="indexterm"></a>will discover how to animate the hearts of the<a id="id346" class="indexterm"></a> symbolic lives counter made in the second chapter. In fact, we will use an <span class="strong"><strong>Animator</strong></span> controller to handle the animation and use the <span class="strong"><strong>Animation</strong></span> window to animate them. Also, we want to make all the hearts beat. As a result, the UI will be more dynamic and immersive.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec157"></a>How to do it...</h3></div></div></div><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>You might remember that when we attached the script created in the <span class="emphasis"><em>Creating a symbolic lives counter</em></span> recipe in <a class="link" href="#" linkend="ch02">Chapter 2</a>, <span class="emphasis"><em>Implementing Counters and Health Bars</em></span>, we needed to assign different images (in this case, hearts) in the <span class="strong"><strong>Inspector</strong></span>. Now select one of them, for instance, <span class="strong"><strong>Heart1</strong></span>, and then open the <span class="strong"><strong>Animation</strong></span> window.</p></li><li><p>Click on <span class="strong"><strong>Add Property</strong></span>, and Unity will ask you to choose a folder in which you want to save <a id="id347" class="indexterm"></a>your animation and a name. Just choose one and click on <span class="strong"><strong>Save</strong></span>.</p></li><li><p>Next, we should notice<a id="id348" class="indexterm"></a> that Unity has added an <span class="strong"><strong>Animator</strong></span> component to our image and filled the controller variable with a controller named <span class="strong"><strong>Heart1</strong></span>. We can rename it to <span class="strong"><strong>HeartAnimationController</strong></span>. If we open the controller by double-clicking on it, we should see in the <span class="strong"><strong>Animator</strong></span> window that we have a node with the name that we gave to the animation.</p></li><li><p>Now, it should already be in record mode. Put the red bar at the zeroth key frame and set the scale of the image to <span class="strong"><strong>1</strong></span> for both the <span class="strong"><strong>x</strong></span> axis and the <span class="strong"><strong>y</strong></span> axis. In this way, <span class="strong"><strong>Heart1</strong></span> starts with the normal scale.</p></li><li><p>Next, move the red bar to half second, if the samples are <span class="strong"><strong>60</strong></span>, this means the thirtieth key frame. Change the scale to <span class="strong"><strong>1.2</strong></span>, on both the <span class="strong"><strong>x</strong></span> and <span class="strong"><strong>y</strong></span> axes. Therefore, in this case, we are going to enlarge the heart a little so that we can simulate a beat.</p></li><li><p>Finally, move the red bar to one second, again at <span class="strong"><strong>60</strong></span> samples (which means at the sixtieth key frame). Now we have to conclude the heartbeat animation, so we set the scale back to <span class="strong"><strong>1</strong></span>, on both the <span class="strong"><strong>x</strong></span> and <span class="strong"><strong>y</strong></span> axes.</p></li><li><p>After this, we need to interrupt the recording. To do this, just click on the red <span class="strong"><strong>Rec</strong></span> button in the <span class="strong"><strong>Animation</strong></span> window.</p></li><li><p>Finally, if we have already set up all the other images to interact with <span class="strong"><strong>SymbolicLivesCounterScript</strong></span>, we select all of them except the first one, which we have already animated. In the <span class="strong"><strong>Inspector</strong></span>, go to <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Miscellaneous</strong></span> | <span class="strong"><strong>Animator</strong></span>.</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip25"></a>Tip</h3><p>If you haven't set the other images yet, please consider using the <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span> shortcut to duplicate <span class="strong"><strong>Heart1</strong></span>. By doing this, you will also duplicate the <span class="strong"><strong>Animator</strong></span> component and its <span class="strong"><strong>Controller</strong></span>, so you don't have to set them. As a result, you can skip this and the next step.</p></div></li><li><p>Now, we find the controller that we created indirectly when Unity asked us to save the animation file. It is in the same folder. Drag it into the <span class="strong"><strong>Controller</strong></span> variable in the <span class="strong"><strong>Inspector</strong></span>.</p></li><li><p>Finally, you can click on the play button and see all the hearts animated.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec158"></a>How it works...</h3></div></div></div><p>We used an <span class="strong"><strong>Animator</strong></span> with a<a id="id349" class="indexterm"></a> controller to handle all the animations. In fact, when the game starts, the controller triggers the only animation available, and since it is set as a loop, Unity reproduces it consequently. Each heart has the same controller, so all of them are animated in the<a id="id350" class="indexterm"></a> same way. When <span class="strong"><strong>SymbolicLivesCounterScript</strong></span> handles the hearts in order to make them appear and disappear respectively if the player gains a life or loses it, it doesn't change the animation, and so our symbolic lives counter has an animation in our UI.</p></div></div>