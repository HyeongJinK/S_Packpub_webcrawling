<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec44"></a>Transparent cutoff shader</h2></div></div><hr /></div><p>Unity actually provides us with another type of parameter for our <code class="literal">#pragma</code> statement that will give us the ability to create a simpler transparent effect, called the cutoff transparency<a id="id399" class="indexterm"></a>. This type of transparency uses a value to simply not draw certain pixels to the screen, thereby giving us a way to have either a completely opaque or completely transparent Shader, while in the last recipe our Shader gave us the ability to use the full range of gray scale to affect the transparency, otherwise called a<a id="id400" class="indexterm"></a> semi-transparent shader.</p><p>Let's continue and see how to construct this type of Shader in Unity.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec118"></a>Getting ready</h3></div></div></div><p>Let's start our Shader writing process by getting a few items together.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>First, create a new <a id="id401" class="indexterm"></a>scene and populate it with a simple sphere and a directional light.</p></li><li><p>Let's then create a new Shader and a new material.</p></li><li><p>Finally, assign the Shader to the Material and the Material to the sphere in our scene.</p></li><li><p>We are going to need a new texture this time. It would be best if you could find a texture with gray scale values, so we can see the effect of the cutoff value in action.</p></li></ol></div><p>The following screenshot shows the texture we will be using for this recipe. We created this texture simply by using the<a id="id402" class="indexterm"></a> Render Difference Clouds filter<a id="id403" class="indexterm"></a> in <a id="id404" class="indexterm"></a>Photoshop. The texture we created is also available from the book's support page at <a class="ulink" href="http://www.packtpub.com/support" target="_blank">www.packtpub.com/support</a>.</p><div class="mediaobject"><img src="/graphics/9781849695084/graphics/5084OT_06_06.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec119"></a>How to do it…</h3></div></div></div><p>Now that we have our new scene and our assets gathered, let's take a look at what we have to write, in terms of code, in our new Shader.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>To begin with, let's fill in our <code class="literal">Properties</code> block with a float value that will let us pick the cutoff value we want to use in our Shader:</p><div class="mediaobject"><img src="/graphics/9781849695084/graphics/5084OT_06_07.jpg" /></div></li><li><p>Then, we need to tell our Shader that we are going to be setting this Shader to a cutoff type Shader:</p><div class="mediaobject"><img src="/graphics/9781849695084/graphics/5084OT_06_08.jpg" /></div></li><li><p>Finally, we fill <code class="literal">O.Alpha</code> with the values we want to use on a per-pixel basis for our surface:</p><div class="mediaobject"><img src="/graphics/9781849695084/graphics/5084OT_06_09.jpg" /></div></li></ol></div><p>The following <a id="id405" class="indexterm"></a>screenshot displays the result of our cutoff Shader with the cutoff slider at different values between 0 and 1:</p><div class="mediaobject"><img src="/graphics/9781849695084/graphics/5084OT_06_10.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec120"></a>How it works…</h3></div></div></div><p>Unity has provided us with quite a few parameters we can use with our <code class="literal">#pragma</code> directive. All of them give us the power to change and optimize our Surface Shader. It's one more reason why Surface Shaders are so powerful and efficient when it comes to writing Shaders and the iterative process.</p><p>Our cutoff shader uses a new parameter to our <code class="literal">#pragma </code>directive called <code class="literal">alphatest:VariableName</code>. This immediately sets the Shader into a simplified version of transparency. Instead of our transparency being semi-transparent, meaning each value of gray in the range of black to white affects transparency; only the value being passed by our <code class="literal">_CutOff </code>variable will determine the transparency. This means that if we put the <code class="literal">_CutOff</code> value to something like 0.4 in the <span class="strong"><strong>Inspector</strong></span>, every value of gray below 0.4 will be considered transparent, and everything above that value will be opaque or solid.</p><p>It's <a id="id406" class="indexterm"></a>advantageous to use this type of transparency when performance becomes an issue, as dealing with the blending of a semi-transparent Shader is more expensive than a cutoff transparency. On mobile devices it's the opposite, as testing the pixel values for a texture becomes quite expensive for those little GPUs. So if you are producing a mobile application with Unity3D, remember to use the semi-transparent technique and use the cutoff transparency technique sparingly.</p></div></div>