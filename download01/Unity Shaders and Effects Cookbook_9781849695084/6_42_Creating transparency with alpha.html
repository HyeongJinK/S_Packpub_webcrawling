<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch06lvl1sec43"></a>Creating transparency with alpha</h2></div></div><hr /></div><p>Our first<a id="id390" class="indexterm"></a> step in understanding how to write a transparent <a id="id391" class="indexterm"></a>Surface Shader is to understand what code we need to include in our Shader to allow for transparency to be enabled. Unity again has provided us with a few new built-in parameters that we can include in our Shaders to get transparency working quickly.</p><p>It is simply a process of using the alpha parameter in our <code class="literal">#pragma</code> statement in our Shader. This basically tells Unity that we are going to be using transparency in the Shader. There are a few things one has to be aware of though when creating transparent Shaders, since drawing order becomes an element in our code. We will cover the basics in this recipe, just so we can get a transparent object in our Unity scene. We will then begin to cover other means of transparency in the following recipes.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec115"></a>Getting ready</h3></div></div></div><p>To begin this<a id="id392" class="indexterm"></a> recipe, we will need to gather a few resources <a id="id393" class="indexterm"></a>and set up a new scene in the Unity editor. Let's take the following steps to prepare for our Shader writing process:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new scene in Unity and populate it with a sphere, a plane, and a simple directional light.</p></li><li><p>We then need to create a new Shader and a new Material. The Shader should be assigned to the Material and the Material to the sphere in your scene.</p></li><li><p>Finally, we need to gather a texture to act as the driving factor as to what is transparent and what is not on our object in the scene.</p></li></ol></div><p>The following diagram is an example of the texture we are going to be using for this recipe. Since its colors are pure RGB and white, we can use the individual channels of the texture to act as a transparency value of 0 or 1, meaning white is opaque and black is completely transparent.</p><div class="mediaobject"><img src="/graphics/9781849695084/graphics/5084OT_06_01.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec116"></a>How to do it…</h3></div></div></div><p>With our assets ready to go, we can start the process of filling in our Surface Shader to create our first transparent Shader.</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Let's populate our <code class="literal">Properties</code> block with a new property that will give us a global control over our Shader:</p><div class="mediaobject"><img src="/graphics/9781849695084/graphics/5084OT_06_02.jpg" /></div></li><li><p>We then need to modify our <code class="literal">#pragma</code> statement with a new parameter we haven't seen yet, the <code class="literal">alpha</code> parameter.</p><div class="mediaobject"><img src="/graphics/9781849695084/graphics/5084OT_06_03.jpg" /></div></li><li><p>Finally, <a id="id394" class="indexterm"></a>we complete the Shader by adding<a id="id395" class="indexterm"></a> the <code class="literal">O.Alpha</code> line to <a id="id396" class="indexterm"></a>our <code class="literal">surf()</code> function:</p><div class="mediaobject"><img src="/graphics/9781849695084/graphics/5084OT_06_04.jpg" /></div></li></ol></div><p>The following screenshot is the result of our transparent Shader in the Unity editor:</p><div class="mediaobject"><img src="/graphics/9781849695084/graphics/5084OT_06_05.jpg" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch06lvl2sec117"></a>How it works…</h3></div></div></div><p>As you can see, it is very easy to get a transparent Shader up and running using Unity's Surface Shaders. The Shader relies on two elements to be present when writing a transparent Shader, the <code class="literal">alpha</code> parameter for the <code class="literal">#pragma</code> statement and the value to be used for the <code class="literal">alpha</code> value in the <code class="literal">SurfaceOutput</code> struct.</p><p>Once we declare the parameter <code class="literal">alpha</code> in our <code class="literal">#pragma </code>statement, this tells Unity to allow for a transparent surface to be rendered to the screen. All that is needed to be done is to feed the <code class="literal">O.Alpha</code> value of our <code class="literal">SurfaceOuput</code> struct (the built-in one in this case) with a value of 0 or 1 on a per-pixel basis. In color terms, a value of white, or 1, gives us a completely <a id="id397" class="indexterm"></a>opaque surface, while a value of black, or 0, gives us a completely transparent surface.</p><p>While there <a id="id398" class="indexterm"></a>comes many items, we have to keep in mind when using transparent Shaders that this is the most basic implementation. As we move through this chapter, we will start to discuss the issues that arise when using alpha or semi-transparent Shaders in a real-time renderer such as Unity.</p></div></div>