<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec42"></a>Movie textures</h2></div></div><hr /></div><p>Textures <a id="id252" class="indexterm"></a>are images that are displayed on a 3D geometry. Most textures are two-dimensional, static images, such as JPEG and PNG files. However, Unity also supports animated textures in the form of video or movie textures. These allow you to import movie files into your project and use them as textures. The movies can play with sound and be presented in-game. Therefore, they are especially useful for creating cut-scenes, credit sequences, flashbacks, advertisements, and other special effects. They are, however, resource heavy, making them a big hitter on performance. For this reason, you should use them sparingly. Unity supports different movie formats, but the recommended format is <a id="id253" class="indexterm"></a>OGV (the Ogg Theora video). More information on this format can be found online at <a class="ulink" href="http://www.theora.org/" target="_blank">http://www.theora.org/</a>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note23"></a>Note</h3><p>Even if your movies are not in OGV format, you can easily convert them using the VLC media player software, which is available for free at <a class="ulink" href="http://www.videolan.org/vlc/index.en_GB.html" target="_blank">http://www.videolan.org/vlc/index.en_GB.html</a>.</p></div><p>To import<a id="id254" class="indexterm"></a> a movie texture, drag and drop the OGV file into the Unity Project panel. Once it is imported, you can preview the movie by clicking on <span class="strong"><strong>Play</strong></span> from the Preview panel in the Object Inspector.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_07_19.jpg" /><div class="caption"><p>Importing movie textures from OGV files</p></div></div><p>Next, create a plane object<a id="id255" class="indexterm"></a> in the scene to act as a surface on which the movie will play at runtime. To create a plane, go to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>3D Object</strong></span> | <span class="strong"><strong>Plane</strong></span> from the application menu. Once it is created, add an <span class="strong"><strong>Audio Source</strong></span> component to the object, which will be responsible for playing the movie audio. To do this, select the <span class="strong"><strong>Plane</strong></span> object and go to <span class="strong"><strong>Component</strong></span> | <span class="strong"><strong>Audio</strong></span> | <span class="strong"><strong>Audio Source</strong></span> from the application menu.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_07_20.jpg" /><div class="caption"><p>Creating a plane object to play movie files</p></div></div><p>Then create a new<a id="id256" class="indexterm"></a> material to be applied to the mesh for showing the movie texture. To create a new material, right-click inside the Project panel and go to <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Material</strong></span> from the context menu. For the shader type, navigate to <span class="strong"><strong>Unlit</strong></span> | <span class="strong"><strong>Texture</strong></span>. This will show the movie texture without being affected by the scene lighting.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_07_21.jpg" /><div class="caption"><p>Create a texture material to show a movie texture</p></div></div><p>Assign the <a id="id257" class="indexterm"></a>material to the plane by dragging and dropping it from the Project panel onto the <span class="strong"><strong>Plane</strong></span> object in the scene.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_07_22.jpg" /><div class="caption"><p>Assigning a material to the plane</p></div></div><p>Now create a new C# script file to play the movie texture and its associated audio. The following sample<a id="id258" class="indexterm"></a> demonstrates the code required:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

public class MoviePlay : MonoBehaviour 
{
  //Reference to movie to play
  public MovieTexture Movie = null;
  
  // Use this for initialization
  void Start () 
  {
    //Get Mesh Renderer Component
    MeshRenderer MeshR = GetComponent&lt;MeshRenderer&gt;();
    
    //Assign movie texture
    MeshR.material.mainTexture = Movie;
    
    GetComponent&lt;AudioSource&gt;().clip = Movie.audioClip; 
    GetComponent&lt;AudioSource&gt;().spatialBlend=0;
  
    Movie.Play();
    GetComponent&lt;AudioSource&gt;().Play();
  }
}</pre></div><p>Drag and drop the script file onto the plane object in the scene, and then drag and drop the movie texture from the Project panel into the <span class="strong"><strong>Movie</strong></span> slot on the <span class="strong"><strong>MoviePlay</strong></span> component. This identifies the texture that should play for the material.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_07_23.jpg" /><div class="caption"><p>Configuring the MoviePlay component</p></div></div><p>Now click on <span class="strong"><strong>Play</strong></span> in <a id="id259" class="indexterm"></a>the toolbar to run the application. When you do this, the movie texture assigned to the plane will run automatically, complete with sound and music. Congratulations! You now have the ability to play cut-scenes, animations, and other prerendered sequences in your game.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_07_24.jpg" /><div class="caption"><p>Playing in-game movie textures</p></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note24"></a>Note</h3><p>The complete project for this section can be found in this book's companion files inside the <code class="literal">Chapter07/MovieTextures</code> folder.</p></div></div>