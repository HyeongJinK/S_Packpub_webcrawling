<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch05lvl1sec30"></a>Retargeting animations</h2></div></div><hr /></div><p>The imported<a id="id199" class="indexterm"></a> character included in this book's files features no animation data even though it's rigged. This isn't a problem, thanks to Avatars and retargeting. As mentioned, it's possible to take animations from a different character or file and apply it to any other character with a correctly configured Avatar. This section will demonstrate how such animation sharing works. To get started, import the characters asset package. This includes first- and third-person controllers alongside character animations for walk and run cycles. To get this package, go to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import Package</strong></span> | <span class="strong"><strong>Characters</strong></span> from the application menu, as shown in this screenshot:</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_05_13.jpg" /><div class="caption"><p>Importing a character assets package, complete with animations</p></div></div><p>The animations <a id="id200" class="indexterm"></a>included in the package can be found in the Project Panel, by going to<span class="strong"><strong> Standard Assets</strong></span> | <span class="strong"><strong>Characters</strong></span> | <span class="strong"><strong>ThirdPersonCharacter</strong></span> | <span class="strong"><strong>Animation</strong></span>. The animations included there are FBX files, featuring rig and animation data but no mesh. To access the animation data, expand the mesh file and select the animation clip, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_05_14.jpg" /><div class="caption"><p>Selecting animation clips for retargeting</p></div></div><p>Most animations can be previewed in the Object Inspector using the default Unity model. By pressing <span class="strong"><strong>Play</strong></span> on the toolbar, you can preview the character animation.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_05_15.jpg" /><div class="caption"><p>Previewing character animation</p></div></div><p>You can<a id="id201" class="indexterm"></a> also see retargeting at work by sampling the animation for your imported character. Change the character model for previews by clicking on the Avatar icon in the bottom-right corner, and select the model for previewing.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_05_16.jpg" /><div class="caption"><p>Selecting an Avatar</p></div></div><p>After clicking on the Avatar, choose Other and then select your character model from the Project Panel. The <a id="id202" class="indexterm"></a>preview panel will be updated in the Object Inspector to show the animation applied to the character. If everything looks good, then the Avatar is configured successfully for retargeting.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_05_17.jpg" /><div class="caption"><p>Retargeting in action</p></div></div><p>Let's give the model a quick try in a real scene, complete with an animation. To start, drag and drop the character mesh from the Project Panel to the scene, and position him at the world's origin, (<span class="emphasis"><em>0</em></span>, <span class="emphasis"><em>0</em></span>, <span class="emphasis"><em>0</em></span>). Unity understands that the added character can accept animations in principle, so it automatically adds an <span class="strong"><strong>Animator</strong></span> component, though it features no controller and no animations plays yet.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_05_18.jpg" /><div class="caption"><p>Positioning a character in the scene</p></div></div><p>Now we'll assign the character a walk animation. To do this, find the walk animation featured in the <a id="id203" class="indexterm"></a>character assets package, and then drag and drop it onto the character mesh in the scene. The walk animation can be found by navigating to <span class="strong"><strong>Standard Assets</strong></span> | <span class="strong"><strong>ThirdPersonCharacter</strong></span> | <span class="strong"><strong>Animation</strong></span>. The filename is <code class="literal">HumanoidWalk.fbx</code>. When you do this, Unity automatically configures an Animation Controller and assigns it to the <span class="strong"><strong>Animator</strong></span> component.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_05_19.jpg" /><div class="caption"><p>Assigning a walk animation to a character</p></div></div><p>Align your scene camera to get a good view of the character, and create a floor plane too. Then press <span class="strong"><strong>Play</strong></span> on the toolbar. Immediately, the character will start walking. Congratulations! You've configured your first character for animation.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_05_20.jpg" /><div class="caption"><p>Creating a walking character</p></div></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note18"></a>Note</h3><p>The completed project at this stage can be found in this book's companion files in the <code class="literal">Chapter05/char_anim_walk_start</code> folder.</p></div></div>