<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch04lvl1sec21"></a>Creating animations for the button and door</h2></div></div><hr /></div><p>Before we<a id="id148" class="indexterm"></a> start working with Mecanim directly, we'll need raw animation data from which to work; that is, we'll need two complete animations, one for the button, and one for the door. When the button is pushed, the door will open. Therefore, we'll need one animation for the button as it moves inward in its socket when pushed, and then returns to its neutral position. We'll also need a door-open animation so that the door rotates around its hinge, opening outwards. The latter should play only after the button is pushed. Both of these animations may be created directly inside the Unity editor using the <span class="strong"><strong>Animation</strong></span> window, as explained in the previous chapter. For this reason, I'll cover the animation process here only in brief.</p><p>To create the button-push animation, select the button object in the scene, either in the viewport or in the hierarchy, and then switch to the <span class="strong"><strong>Animation</strong></span> window. This can be accessed by going to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Animation</strong></span> from the main menu, or by pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>6</em></span> on the keyboard. From the <span class="strong"><strong>Animation</strong></span> window, insert key frames for the <code class="literal">Transform.Position</code> track along the timeline: at the beginning, in the middle, and at the end, time 0 seconds, 0.5 seconds, and 1 second.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_04_04.jpg" /><div class="caption"><p>Creating a button push animation</p></div></div><p>The start and <a id="id149" class="indexterm"></a>end key frames should be identical, representing the button in its neutral, or resting, position. The middle key frame, by contrast, represents the button as pushed inwards in its socket (the true push state). To create this key frame, simply drag the red time slider to the middle of the timeline in the <span class="strong"><strong>Animation</strong></span> window, and then move the button into the position in the scene. This arrangement of key frames ensures that when the button push occurs, the button begins in a neutral state, then goes inwards, and finally returns to its neutral state. To enhance the smoothness of button motion at the start and end of the animation, you can flatten the curve handles using the Curves Editor, which is accessible from the <span class="strong"><strong>Animation</strong></span> window, by clicking on the <span class="strong"><strong>Curves</strong></span> button at the bottom-left corner of the window. If you cannot move or change the curve shape using <span class="strong"><strong>Handles</strong></span>, then right-click on the point and choose <span class="strong"><strong>Flat</strong></span> from the context menu.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_04_05.jpg" /><div class="caption"><p>Smoothing button motion</p></div></div><p>The door-open <a id="id150" class="indexterm"></a>animation can be created in a similar way, though it may require some extra stages of configuration. Specifically, the door should rotate around its hinge point when it opens. By default, a cube, box, or mesh object representing the door will not always have its hinge (pivot) at the correct position for creating a rotation animation. We would not, for example, want the door to rotate around its center. This can be fixed easily from within Unity, by simply parenting the door mesh to an empty object positioned at the pivot location, and then by animating the <span class="emphasis"><em>parent instead of</em></span> the door mesh directly.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_04_06.jpg" /><div class="caption"><p>Creating a pivot point for the door-open animation</p></div></div><p>For the door-open animation, two key frames should be created: one at the beginning of the animation (closed) and one at the end (open). As with the button-push animation, the Curves Editor<a id="id151" class="indexterm"></a> can be used to smooth the animation motion with ease-in and ease-out effects.</p><div class="mediaobject"><img src="/graphics/9781782174813/graphics/B04103_04_07.jpg" /><div class="caption"><p>Defining an animation curve for the door-open animation</p></div></div></div>