<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec71"></a>Photospheres</h2></div></div><hr /></div><p>Yes sir, it's<a id="id540" class="indexterm"></a> all the rage these days. It's better than panoramas. It's better than selfies. It's maybe even better than Snapchat! We're finally getting to the moment that you've been waiting for! It's 360-degree photospheres!</p><p>We have covered a lot of topics in this chapter, which will now make it fairly easy to talk about 360-degree photospheres. Now, all we need is a 360-degree photo. You can try searching <a id="id541" class="indexterm"></a>on Google Images for a 360-degree photo. Alternatively, you can check out the Flickr pool (<a class="ulink" href="https://www.flickr.com/groups/equirectangular/pool/" target="_blank">https://www.flickr.com/groups/equirectangular/pool/</a>). You can also make your own using a Ricoh Theta camera, or Google's Photo Sphere app that is available for Android and iOS. For this example, I'll use one named <code class="literal">FarmHouse.jpg</code>, which is provided with this book:</p><div class="mediaobject"><img src="/graphics/9781783988556/graphics/B04781_09_12.jpg" /></div><p>Let's build it. Here are the complete steps to set up a photo sphere in Unity, starting with a new empty scene:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new scene by navigating to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New Scene</strong></span>. Then, navigate to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Save Scene</strong></span> and name it <code class="literal">PhotoSphere</code>.</p></li><li><p>Create an equirectangular sphere by dragging the <code class="literal">PhotoSphere</code> model from <span class="strong"><strong>Project Assets/Models</strong></span> into the Scene (as imported from <code class="literal">PhotoSphere.fbx</code> in the previous example).</p></li><li><p>Reset its <span class="strong"><strong>Transform</strong></span> component's <span class="emphasis"><em>gear</em></span> icon | <span class="strong"><strong>Reset</strong></span>.</p></li><li><p>Set its <span class="strong"><strong>Scale</strong></span> to (<code class="literal">10, 10, 10</code>).</p></li><li><p>Create a material by navigating to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Material</strong></span> and rename it to <code class="literal">PhotoSphereMat</code>.</p></li><li><p>With <code class="literal">PhotoSphereMat</code> selected, navigate to <span class="strong"><strong>Shader</strong></span> | <span class="strong"><strong>Custom</strong></span> | <span class="strong"><strong>InwardShader</strong></span> (as created earlier in this chapter in the <span class="emphasis"><em>Magic orbs</em></span> section).</p></li><li><p>If there <a id="id542" class="indexterm"></a>will be other objects in the scene, you may need to disable shadows. In the <span class="strong"><strong>Mesh Renderer</strong></span> component, uncheck the <span class="strong"><strong>Receive Shadows</strong></span> checkbox.</p></li><li><p>Disable global <span class="strong"><strong>Directional Light</strong></span> in the scene (uncheck it).</p></li><li><p>Illuminate the inside of the sphere. Add a point light by navigating to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Light</strong></span> | <span class="strong"><strong>Point Light</strong></span> and reset its <span class="strong"><strong>Transform</strong></span> component's <span class="emphasis"><em>gear</em></span> icon | <span class="strong"><strong>Reset</strong></span>.</p></li><li><p>Delete <code class="literal">Main Camera</code> in the scene.</p></li><li><p>Drag an instance of <code class="literal">MeMyselfEye</code> from <span class="strong"><strong>Project Assets</strong></span> into the Scene and set its <span class="strong"><strong>Position</strong></span> to (<code class="literal">0, -0.4, 0</code>).</p></li><li><p>Import the photo that you want to use; ours is named <code class="literal">FarmHouse.jpg</code>. In its <span class="strong"><strong>Import</strong></span> settings, choose the highest <span class="strong"><strong>Max Size</strong></span> to <code class="literal">8192</code>.</p></li><li><p>With <code class="literal">PhotoSphere</code> selected (or the <code class="literal">PhotoSphereMat</code> itself), drag the <code class="literal">FarmHouse</code> texture onto the <span class="strong"><strong>Albedo</strong></span> texture tile.</p></li></ol></div><p>If you are using a device with positional tracking, such as the Oculus Rift, we need to disable it, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select the <code class="literal">MemMyselfEye</code> object in <span class="strong"><strong>Hierarchy</strong></span>.</p></li><li><p>Navigate to <span class="strong"><strong>Add Component | New Script</strong></span> and name it <code class="literal">DisablePositionalTracking</code>.</p></li></ol></div><p>Edit the <code class="literal">DisablePositionalTracking.cs</code> script, as follows:</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;

public class DisablePositionalTracking : MonoBehaviour {
  private Vector3 position;

  void Start () {
    position = Camera.main.transform.position;
  }

  void Update () {
    Camera.main.transform.position = position;
  }
}</pre></div><p>This script just resets the camera position to its starting position on each update. Save the script and try it in VR.</p><p>A few notes about what we did. The creation of the sphere, material, and the custom shader was covered earlier in the chapter.</p><p>The <code class="literal">MeMyselfEye</code> prefab that was set up in <a class="link" href="#" linkend="ch03">Chapter 3</a>, <span class="emphasis"><em>VR Build &amp; Run</em></span> has the camera positioned 0.4 units <a id="id543" class="indexterm"></a>above its center. We want the camera at the origin, (0,0,0). The correct way to experience a photo sphere in VR is the dead center, and while you can turn your head in all directions to look around, positional tracking should be disabled. (Another technique for making the head position stationary is to scale <code class="literal">MeMyselfEye</code> to a very large size.)</p><p>Including a point light dead center is also a good idea. Although, if your image has obvious light sources, it can be effective to position one or more lights at other locations within the sphere.</p><p>Perhaps, there's a way to improve the custom shader so that it does not receive shadows or light sources from the outside. However, we made these adjustments manually.</p><p>To switch images, repeat the last two stepsâ€”import the asset and assign it to the <span class="strong"><strong>Albedo</strong></span> texture of the <code class="literal">PhotoSphereMat</code> material. If you want to do this in game, you can do this in a script (for example, by using <code class="literal">Material.mainTexture()</code>).</p><p>Playing 360-degree videos is similar to this; you use <code class="literal">MovieTexture</code> instead of an image texture. There are limitations with movie textures on mobile devices. Please read the Unity documentation<a id="id544" class="indexterm"></a> for details (<a class="ulink" href="http://docs.unity3d.com/Manual/class-MovieTexture.html" target="_blank">http://docs.unity3d.com/Manual/class-MovieTexture.html</a>). Or consider using a third-party solutions in the Unity Assets Store.</p></div>