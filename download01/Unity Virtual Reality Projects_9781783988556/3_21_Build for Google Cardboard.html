<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec25"></a>Build for Google Cardboard</h2></div></div><hr /></div><p>Read<a id="id156" class="indexterm"></a> this section if you are targeting Google Cardboard on Android and/or iOS.</p><p>A good <a id="id157" class="indexterm"></a>starting point is the <span class="emphasis"><em>Google Cardboard for Unity, Get Started</em></span> guide (for more information, visit <a class="ulink" href="https://developers.google.com/cardboard/unity/get-started" target="_blank">https://developers.google.com/cardboard/unity/get-started</a>).</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec33"></a>The Android setup</h3></div></div></div><p>If you've <a id="id158" class="indexterm"></a>never built for Android, you'll first need to download and install the Android SDK. Take a look at Unity manual for <span class="emphasis"><em>Android SDK Setup</em></span> (<a class="ulink" href="http://docs.unity3d.com/Manual/android-sdksetup.html" target="_blank">http://docs.unity3d.com/Manual/android-sdksetup.html</a>). You'll need to install the <span class="strong"><strong>Android Developer Studio</strong></span> (or at least, the smaller<a id="id159" class="indexterm"></a> SDK Tools) and other related tools, such as Java (JVM) and the USB drivers.</p><p>It might be a good idea to first build, install, and run another Unity project without the Cardboard SDK to ensure that you have all the pieces in place. (A scene with just a cube would be fine.) Make sure that you know how to install and run it on your Android phone.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec34"></a>The iOS setup</h3></div></div></div><p>A <a id="id160" class="indexterm"></a>good starting point is Unity manual,<span class="emphasis"><em> Getting Started with iOS Development</em></span> guide (<a class="ulink" href="http://docs.unity3d.com/Manual/iphone-GettingStarted.html" target="_blank">http://docs.unity3d.com/Manual/iphone-GettingStarted.html</a>). You can only<a id="id161" class="indexterm"></a> perform iOS development from a Mac. You must have an Apple Developer Account approved (and paid for the standard annual membership fee) and set up. Also, you'll need to download and install a copy of the Xcode development tools (via the Apple Store).</p><p>It might be a good idea to first build, install, and run another Unity project <span class="emphasis"><em>without</em></span> the Cardboard SDK to ensure that you have all the pieces in place. (A scene with just a cube would be fine). Make sure that you know how to install and run it on your iPhone.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec35"></a>Installing the Cardboard Unity package</h3></div></div></div><p>To <a id="id162" class="indexterm"></a>set up our project to<a id="id163" class="indexterm"></a> run on Google Cardboard, download the SDK from <a class="ulink" href="https://developers.google.com/cardboard/unity/download" target="_blank">https://developers.google.com/cardboard/unity/download</a>.</p><p>Within your Unity project, import the <code class="literal">CardboardSDKForUnity.unitypackage</code> assets package, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>From the <span class="strong"><strong>Assets</strong></span> main menu bar, navigate to <span class="strong"><strong>Import Package</strong></span> | <span class="strong"><strong>Custom Package...</strong></span>.</p></li><li><p>Find and select the <code class="literal">CardboardSDKForUnity.unitypackage</code> file.</p></li><li><p>Ensure that all the assets are checked, and click on <span class="strong"><strong>Import</strong></span>.</p></li></ol></div><p>Explore the imported assets. In the <span class="strong"><strong>Project</strong></span> panel, the <code class="literal">Assets/Cardboard</code> folder includes a bunch of useful stuff, including the <code class="literal">CardboardMain</code> prefab (which, in turn, contains a copy of <code class="literal">CardboardHead</code>, which contains the camera). There is also a set of useful scripts in the <code class="literal">Cardboard/Scripts/</code> folder. Go check them out.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec36"></a>Adding the camera</h3></div></div></div><p>Now, we'll<a id="id164" class="indexterm"></a> put the Cardboard camera into <code class="literal">MeMyselfEye</code>, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In the <span class="strong"><strong>Project</strong></span> panel, find <code class="literal">CardboardMain</code> in the <code class="literal">Assets/Cardboard/Prefabs</code> folder.</p></li><li><p>Drag it onto the <code class="literal">MeMyselfEye</code> object in the <span class="strong"><strong>Hierarchy</strong></span> panel so that it's a child object.</p></li><li><p>With <code class="literal">CardboardMain</code> selected in <span class="strong"><strong>Hierarchy</strong></span>, look at the <span class="strong"><strong>Inspector</strong></span> panel and ensure the <span class="strong"><strong>Tap is Trigger</strong></span> checkbox is checked.</p></li><li><p>Select the <span class="strong"><strong>Main Camera</strong></span> in the <span class="strong"><strong>Hierarchy</strong></span> panel (inside <code class="literal">MeMyselfEye</code>) and disable it by unchecking the <span class="strong"><strong>Enable</strong></span> checkbox on the upper left of its <span class="strong"><strong>Inspector</strong></span> panel.</p></li></ol></div><p>Finally, apply theses changes back onto the prefab, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>In the <span class="strong"><strong>Hierarchy</strong></span> panel, select the <code class="literal">MeMyselfEye</code> object. Then, in its <span class="strong"><strong>Inspector</strong></span> panel, next to <span class="strong"><strong>Prefab</strong></span>, click on the <span class="strong"><strong>Apply</strong></span> button.</p></li><li><p>Save the scene.</p></li></ol></div><p>We now have replaced the default <span class="strong"><strong>Main Camera</strong></span> with the VR one.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec37"></a>The build settings</h3></div></div></div><p>If you<a id="id165" class="indexterm"></a> know how to build and install from Unity to your mobile phone, doing it for Cardboard is pretty much the same:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>From the main menu bar, navigate to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Build Settings...</strong></span>.</p></li><li><p>If the current scene is not listed under <span class="strong"><strong>Scenes</strong></span> to <span class="strong"><strong>Build</strong></span>, click on <span class="strong"><strong>Add Current</strong></span>.</p></li><li><p>Choose <span class="strong"><strong>Android</strong></span> or <span class="strong"><strong>iOS</strong></span> from the <span class="strong"><strong>Platform</strong></span> list on the left and click on <span class="strong"><strong>Switch Platform</strong></span>.</p></li><li><p>Then, click on <span class="strong"><strong>Player Settingsâ€¦</strong></span> in the <span class="strong"><strong>Inspector</strong></span> panel.</p></li><li><p>For <span class="strong"><strong>Android</strong></span>, ensure that <span class="strong"><strong>Other Settings</strong></span> | <span class="strong"><strong>Virtual Reality Supported</strong></span> is <span class="strong"><strong>unchecked</strong></span>, as that would be for GearVR (via the Oculus drivers), not Cardboard Android!</p></li><li><p>Navigate to <span class="strong"><strong>Other Settings</strong></span> | <span class="strong"><strong>PlayerSettings.bundleIdentifier</strong></span> and enter a valid string, such as <code class="literal">com.YourName.VRisAwesome</code>.</p></li><li><p>Under <span class="strong"><strong>Resolution and Presentation</strong></span> | <span class="strong"><strong>Default Orientation</strong></span> set <span class="strong"><strong>Landscape Left</strong></span>.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec38"></a>The Play Mode</h3></div></div></div><p>To test it <a id="id166" class="indexterm"></a>out, you <span class="emphasis"><em>do not</em></span> need your phone connected. Just press the game's <span class="emphasis"><em>Play</em></span> button at the top of the application in the center to enter <span class="strong"><strong>Play Mode</strong></span>. You will see the split screen stereographic views in the <span class="strong"><strong>Game</strong></span> view panel.</p><p>While in Play Mode, you can simulate the head movement if you were viewing it with the Cardboard headset. Use <span class="emphasis"><em>Alt</em></span> + mouse-move to pan and tilt forward or backwards. Use <span class="emphasis"><em>Ctrl</em></span> + mouse-move to tilt your head from side to side.</p><p>You can also simulate magnetic clicks (we'll talk more about user input in a later chapter) with mouse clicks.</p><p>Note that since this emulates running on a phone, without a keyboard, the keyboard keys that we used to move Ethan <span class="emphasis"><em>do not</em></span> work now.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec39"></a>Building and running in Android</h3></div></div></div><p>To<a id="id167" class="indexterm"></a> build your game as a separate executable<a id="id168" class="indexterm"></a> app, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>From the main menu bar, navigate to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Build &amp; Run</strong></span>.</p></li><li><p>Set the name of the build. I like to keep my builds in a subdirectory named <code class="literal">Build</code>; you can create one if you want.</p></li><li><p>Click on <span class="strong"><strong>Save</strong></span>.</p></li></ol></div><p>This will generate <a id="id169" class="indexterm"></a>an Android executable <code class="literal">.apk</code> file, and then install the app onto your phone. The following screenshot shows the <code class="literal">Diorama</code> scene running on an Android phone with Cardboard (and Unity development monitor in the background).</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec40"></a>Building and running in iOS</h3></div></div></div><p>To build <a id="id170" class="indexterm"></a>your game and run it on the iPhone, perform<a id="id171" class="indexterm"></a> the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Plug your phone into the computer via a USB cable/port.</p></li><li><p>From the main menu bar, navigate to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>Build &amp; Run</strong></span>.</p></li></ol></div><p>This allows you to create an Xcode project, launch Xcode, build your app inside Xcode, and then install the app onto your phone.</p><div class="mediaobject"><img src="/graphics/9781783988556/graphics/B04781_03_02.jpg" /><div class="caption"><p>Antique Stereograph (source <a class="ulink" href="https://www.pinterest.com/pin/493073859173951630/" target="_blank">https://www.pinterest.com/pin/493073859173951630/</a>)</p></div></div></div></div>