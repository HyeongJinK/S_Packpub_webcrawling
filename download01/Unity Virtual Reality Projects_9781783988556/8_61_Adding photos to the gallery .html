<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec60"></a>Adding photos to the gallery </h2></div></div><hr /></div><p>Please find<a id="id469" class="indexterm"></a> 10 of your favorite photos from your photo library to use and add them to a new <span class="strong"><strong>Project Assets</strong></span> folder named <code class="literal">Photos</code>. Follow the following steps to add photos to the gallery:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>To create the photos folder, navigate to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Folder</strong></span> and name it <code class="literal">Photos</code>.</p></li><li><p>Import 10 photos by dragging and dropping them from your <span class="strong"><strong>File Explorer</strong></span> into the <code class="literal">Photos</code> folder that you just created (or navigate to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Import New Asset...</strong></span>).</p></li><li><p>Now, we'll write a script to populate <span class="strong"><strong>Artworks Images</strong></span>. In <span class="strong"><strong>Hierarchy</strong></span>, select <code class="literal">Artworks</code>. Then, in <span class="strong"><strong>Inspector</strong></span>, navigate to <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>New Script</strong></span> and name it <code class="literal">PopulateArtFrames</code>.</p></li><li><p>Open the new script in <span class="strong"><strong>MonoDevelop</strong></span>.</p><p>Edit the code for <code class="literal">PopulateArtFrames.cs</code>, as follows (I've written the code in more lines than it was probably necessary so that I could provide explanations):</p><div class="informalexample"><pre class="programlisting">using UnityEngine;
using System.Collections;
public class PopulateArtFrames : MonoBehaviour {
  public Texture[] images;
  void Start () {
    int imageIndex = 0;
    foreach (Transform artwork in transform) {
      GameObject art = artwork.FindChild("Image").gameObject;
      Renderer rend = art.GetComponent&lt;Renderer&gt;();
      Shader shader = Shader.Find("Standard");
      Material mat = new Material( shader );
      mat.mainTexture = images[imageIndex];
      rend.material = mat; 
      imageIndex++;
      if (imageIndex == images.Length) imageIndex = 0;
    }
  }
}</pre></div></li></ol></div><p>How does<a id="id470" class="indexterm"></a> the script work? As you know, as shown in the following screenshot, each <code class="literal">ArtworkRig</code> contains a child image quad. We'll create a new material for each quad (replacing its <span class="strong"><strong>Default-Material</strong></span>) and assign it a particular texture image:</p><div class="mediaobject"><img src="/graphics/9781783988556/graphics/B04781_08_16.jpg" /></div><p>In the script, the first thing we do is declare an array of <span class="strong"><strong>Texture</strong></span> named <code class="literal">images</code>. We will fill this parameter with the actual images using Unity editor. Then, we define a <code class="literal">Start()</code> function, which puts these images into each <code class="literal">ArtworkRig</code>.</p><p>The <a id="id471" class="indexterm"></a>
<code class="literal">foreach (Transform artwork in transform)</code> line loops through each child <code class="literal">ArtworkRig</code> of <span class="strong"><strong>Artworks</strong></span>, assigning the <code class="literal">artwork</code> loop variable.</p><p>For each <code class="literal">artwork</code>, we find its child <code class="literal">Image</code> quad object, assign it to a local variable named <code class="literal">art</code>, and get its <code class="literal">Renderer</code> component (assigned to <code class="literal">rend</code>).</p><p>Next, we create a new material named <code class="literal">mat</code>, which uses <code class="literal">Standard Shader</code>. It receives an image texture from the images array (<code class="literal">mat.mainTexture = images[imageIndex]</code>).</p><p>We increment <code class="literal">imageIndex</code> so that each <code class="literal">ArtworkRig</code> gets a different image from the images array in order. Note that if there are more <code class="literal">ArtworkRigs</code> than images, it'll start from the beginning instead of causing an error.</p><p>To finish this up, let's perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Save the script and return to the Unity editor.</p></li><li><p>With <code class="literal">Artworks</code> selected in <span class="strong"><strong>Hierarchy</strong></span>, unfold the <span class="strong"><strong>Populate Art Frames</strong></span> script component in <span class="strong"><strong>Inspector</strong></span> and unfold the <span class="strong"><strong>Images</strong></span> parameter.</p></li><li><p>Set the <span class="strong"><strong>Images Size</strong></span> value to <code class="literal">10</code>.</p></li><li><p>Find the images you imported in the <code class="literal">Photos</code> folder under the <code class="literal">Project/Assets/</code> directory and drag them, one at a time, into the <span class="strong"><strong>Images</strong></span> slots as <span class="strong"><strong>Element 0</strong></span> through <span class="strong"><strong>Element 9</strong></span>.</p></li></ol></div><p>When you click on <span class="strong"><strong>Play mode</strong></span>, the artwork in the scene will get populated with the images in the order that you specified:</p><div class="mediaobject"><img src="/graphics/9781783988556/graphics/B04781_08_17.jpg" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note21"></a>Note</h3><p>
<span class="strong"><strong>Extra challenge</strong></span>: Since we manage the list of images as a separate array, the images can come from anywhere. We manually imported them into Unity to build <a id="id472" class="indexterm"></a>the array, but you can extend this application to find images from an external source, such as your hard drive, a website, your Facebook album, or a camera gallery.</p></div></div>