<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec59"></a>Assemble the scene in Unity</h2></div></div><hr /></div><p>Now, we <a id="id459" class="indexterm"></a>can use the gallery room model in Unity and add a floor and a ceiling with skylights. We will apply textures to the walls and add lighting.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec88"></a>The gallery room</h3></div></div></div><p>First, we'll<a id="id460" class="indexterm"></a> build the art gallery's room structure by performing the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create a new scene by navigating to <span class="strong"><strong>File</strong></span> | <span class="strong"><strong>New Scene</strong></span>.</p></li><li><p>Create a floor plane by navigating to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>3D Object</strong></span> | <span class="strong"><strong>Plane</strong></span>. Reset its <span class="strong"><strong>Transform</strong></span> option and rename it to <code class="literal">Floor</code>.</p></li><li><p>Create the material for the floor and color it beige.</p></li><li><p>Our room is sized 24 by 36 feet, which in meters is 7.3 by 11. A Unity plane is 10 units square. So <span class="strong"><strong>Scale</strong></span> it to (<code class="literal">0.73</code>, <code class="literal">1</code>, <code class="literal">1.1</code>).</p></li><li><p>Import the gallery model (for instance, <code class="literal">Gallery.blend</code>). Drag a copy from <span class="strong"><strong>Project Assets</strong></span> into the <span class="strong"><strong>Scene</strong></span>. Reset its <span class="strong"><strong>Transform</strong></span> option.</p></li><li><p>Manually rotate and/or scale it to fit the floor, as needed (mine fits, but its <span class="strong"><strong>Rotate Y</strong></span> value needed to be set to <code class="literal">90</code>). It may help if you first change the <span class="strong"><strong>Scene</strong></span> view to <span class="strong"><strong>Top Iso</strong></span>.</p></li><li><p>It is a good idea to add a collider to the walls so that a character doesn't just walk through them. To accomplish this, navigate to <span class="strong"><strong>Add Component</strong></span> | <span class="strong"><strong>Physics</strong></span> | <span class="strong"><strong>Mesh Collider</strong></span>.</p></li></ol></div><p>Note that when<a id="id461" class="indexterm"></a> imported, as we defined in Blender, the <span class="strong"><strong>Gallery </strong></span>has separate objects for the walls and the ceiling. A material is created (perhaps named <code class="literal">unnamed</code>) that has a neutral gray <span class="strong"><strong>Albedo</strong></span> (204, 204, 204). I like this color for the walls, but I made a new material, all <span class="strong"><strong>White</strong></span> (255, 255, 255) for the ceiling.</p><p>Next, add some sky and sunlight, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>If a <span class="strong"><strong>Lighting</strong></span> tab is not visible in your Unity editor, navigate to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Lighting</strong></span>.</p></li><li><p>In the <span class="strong"><strong>Lighting</strong></span> pane, select the <span class="strong"><strong>Scene</strong></span> tab.</p></li><li><p>For sunlight, in the <span class="strong"><strong>Lighting Scene</strong></span> pane, at the <span class="strong"><strong>Sun</strong></span> input, select the circle icon on the far right to open the <span class="strong"><strong>Select Light</strong></span> dialog box and choose <code class="literal">Directional Light</code>.</p></li><li><p>For the sky, you can use Wispy Skybox like we did in <a class="link" href="#" linkend="ch07">Chapter 7</a>, <span class="emphasis"><em>Physics and the Environment</em></span>. Import the <code class="literal">WispySky.package</code> file.</p></li><li><p>Navigate to <span class="strong"><strong>Window</strong></span> | <span class="strong"><strong>Lighting</strong></span> in the <span class="strong"><strong>Lighting</strong></span> panel and select the <span class="strong"><strong>Scene</strong></span> tab.</p></li><li><p>In the <span class="strong"><strong>Skybox</strong></span> field, click on the circle icon on the far right to open the <span class="strong"><strong>Select Material</strong></span> dialog box and select the material named <code class="literal">WispySkyboxMat</code>.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec89"></a>The artwork rig</h3></div></div></div><p>Now, we <a id="id462" class="indexterm"></a>can plan the art exhibition. You are undoubtedly familiar with the photo galleries that are used on conventional websites, which let you swipe through a collection of images or view them as an animated slideshow. The widget code, the picture frame divs, and the CSS styling are defined once. Then the list of images is defined separately. We will do something similar here.</p><p>First, we'll create an artwork rig with a picture frame, lighting, and positioning. Then, we'll hang the art on the walls of the gallery. Later, we'll apply the actual images. The artwork rig will consist of a picture frame (a cube), a photo plane (a quad), and a spotlight, all relative to the artwork's placement on the wall. We will create the first one inside our <span class="strong"><strong>Scene</strong></span>, save it as a <code class="literal">Prefab</code>, and then place duplicates on the walls throughout the gallery. I suggest doing this in the <span class="strong"><strong>Scene</strong></span> view. Let's get started:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Create <a id="id463" class="indexterm"></a>a container object by navigating to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>Create Empty</strong></span>. Name it <code class="literal">ArtworkRig</code>.</p></li><li><p>Create the frame. With <code class="literal">ArtworkRig</code> selected, right-click and navigate to <span class="strong"><strong>GameObject</strong></span> | <span class="strong"><strong>3D Object</strong></span> | <span class="strong"><strong>Cube</strong></span>. Name it <code class="literal">ArtFrame</code>. In <span class="strong"><strong>Inspector</strong></span>, set its <span class="strong"><strong>Scale Z</strong></span> to <code class="literal">0.05</code>. Also, let's assume a <code class="literal">3:4</code> aspect ratio. So, set its <span class="strong"><strong>Scale Y</strong></span> value to <code class="literal">0.75</code>.</p></li><li><p>Position the rig on a wall (the one facing the entrance on the upper right of the original floor plan). It may help to hide the ceiling child of the <code class="literal">Gallery</code> object (uncheck its <span class="strong"><strong>Enable</strong></span> checkbox option). Then, change the <span class="strong"><strong>Scene</strong></span> view to <span class="strong"><strong>Top and Iso</strong></span> using <span class="strong"><strong>Scene View Gizmo</strong></span> on the upper right of the <span class="strong"><strong>Scene</strong></span> panel. Click on the green <span class="strong"><strong>Y</strong></span> icon for the <span class="strong"><strong>Top</strong></span> view and the middle square icon for the <span class="strong"><strong>Iso</strong></span> view.</p></li><li><p>Select <code class="literal">ArtworkRig</code>, ensure that the <span class="strong"><strong>Translate</strong></span> tool is active (the second icon in the top left icon toolbar), and use the <span class="emphasis"><em>x</em></span> and <span class="emphasis"><em>z</em></span> axis arrows to position it. Be sure to select and move the <code class="literal">ArtworkRig</code>. Leave the frame position at (<code class="literal">0</code>,<code class="literal">0</code>,<code class="literal">0</code>). Set the height at eye level (<code class="literal">Y=1.4</code>). The <span class="strong"><strong>Transform Position</strong></span> value that works for me is (<code class="literal">2</code>, <code class="literal">1.4</code>, <code class="literal">-1.82</code>) and no <span class="strong"><strong>Rotation</strong></span> at (<code class="literal">0</code>,<code class="literal">0</code>,<code class="literal">0</code>), as shown in the following step 7.</p></li><li><p>Make the frame black. Navigate to <span class="strong"><strong>Assets</strong></span> | <span class="strong"><strong>Create</strong></span> | <span class="strong"><strong>Material</strong></span>, name it <code class="literal">FrameMaterial</code>, and set its Albedo color to black. Then in <span class="strong"><strong>Hierarchy</strong></span>, select the <span class="strong"><strong>Frame</strong></span> option and drag the <code class="literal">FrameMaterial</code> material onto it in <span class="strong"><strong>Inspector</strong></span>.</p></li><li><p>Make the image placeholder. With <code class="literal">ArtFrame</code> selected in <span class="strong"><strong>Hierarchy</strong></span>, right-click and navigate to <span class="strong"><strong>3D Object</strong></span> | <span class="strong"><strong>Quad</strong></span>. Name it <code class="literal">Image</code>. Position it just in front of the frame so that it's visible; set its <span class="strong"><strong>Position</strong></span> to (<code class="literal">0</code>, <code class="literal">0</code>, <code class="literal">-0.03</code>) and scale it so that it's slightly smaller than the frame by setting <span class="strong"><strong>Scale</strong></span> to (<code class="literal">0.9</code>, <code class="literal">0.65</code>, <code class="literal">1</code>).</p></li><li><p>To better appreciate the current scale and eye level, try inserting a copy of <span class="strong"><strong>Ethan</strong></span> into the scene:</p><div class="mediaobject"><img src="/graphics/9781783988556/graphics/B04781_08_13.jpg" /></div></li></ol></div><p>Next, we'll add a<a id="id464" class="indexterm"></a> spotlight to the rig, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>First, put the ceiling back in by checking off the <span class="strong"><strong>Enable</strong></span> checkbox option for the child object of <span class="strong"><strong>Gallery</strong></span>.</p></li><li><p>With <code class="literal">ArtworkRig</code> selected in <span class="strong"><strong>Hierarchy</strong></span>, right-click, navigate to <span class="strong"><strong>Light</strong></span> | <span class="strong"><strong>Spotlight</strong></span>, and position it one meter away from the wall (<code class="literal">Z=-1.5</code>) and up near the ceiling. The exact height doesn't matter much since we don't actually have a light fixture. We just have a Vector3 location for the source. I set <span class="strong"><strong>Position</strong></span> to (<code class="literal">1</code>, <code class="literal">2</code>, <code class="literal">-1.5</code>).</p></li><li><p>Now, adjust the <code class="literal">Spotlight</code> value so that it appropriately illuminates the artwork. I set <span class="strong"><strong>Rotation X</strong></span> to <code class="literal">51</code>, <span class="strong"><strong>Spot Angle</strong></span> to <code class="literal">30</code>, <span class="strong"><strong>Intensity</strong></span> to <code class="literal">6</code>, and <span class="strong"><strong>Range</strong></span> to <code class="literal">4</code>. The results are shown in the following screenshot. Also, set <span class="strong"><strong>Render Mode</strong></span> to <code class="literal">Important</code> if you see the light fulcrum become washed out at varying angles from the camera:</p><div class="mediaobject"><img src="/graphics/9781783988556/graphics/B04781_08_14.jpg" /></div></li><li><p>To preserve <a id="id465" class="indexterm"></a>the rig as a <code class="literal">Prefab</code>, select <code class="literal">ArtworkRig</code> in <span class="strong"><strong>Hierarchy</strong></span> and drag it into the <span class="strong"><strong>Project Assets</strong></span> folder.</p></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec90"></a>The exhibition plan</h3></div></div></div><p>The next step<a id="id466" class="indexterm"></a> is to duplicate <code class="literal">ArtworkRig</code> on each wall where we want to display the images. Position it and rotate as needed. If you follow the plan shown in the following diagram, your exhibition will display ten images, indicated by the stars:</p><div class="mediaobject"><img src="/graphics/9781783988556/graphics/B04781_08_15.jpg" /></div><p>The following are<a id="id467" class="indexterm"></a> the steps to duplicate <code class="literal">ArtworkRig</code> on each wall:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>As before, it may be easier to hide the ceiling and change the <span class="strong"><strong>Scene View</strong></span> panel to <span class="strong"><strong>Top and Iso</strong></span>.</p></li><li><p>On the top left of the <span class="strong"><strong>Scene View</strong></span> panel, change <span class="strong"><strong>Transform Gizmo Toggles</strong></span> so that the tool handle is placed at the <span class="strong"><strong>Pivot</strong></span> point rather than <span class="strong"><strong>Center</strong></span>.</p></li></ol></div><p>For each location, place an artwork in the gallery, as follows:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li><p>Select an existing <code class="literal">ArtworkRig</code> in the <span class="strong"><strong>Hierarchy</strong></span>.</p></li><li><p>Duplicate <code class="literal">ArtworkRig</code> with right-click on <span class="strong"><strong>Duplicate</strong></span>, or press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>D</em></span>.</p></li><li><p>Rotate the rig so that it faces the correct direction by setting <span class="strong"><strong>Rotation Y </strong></span>to <code class="literal">0</code>, <code class="literal">90</code>, <code class="literal">180</code>, or <code class="literal">-90</code>.</p></li><li><p>Position the rig on the wall.</p></li></ol></div><p>The settings that work for my gallery are provided in the following table:</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col align="left" /><col align="left" /><col align="left" /><col align="left" /></colgroup><thead><tr><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">Â </th><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">
<p>Position X</p>
</th><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">
<p>Position Z</p>
</th><th style="border-bottom: 0.5pt solid ; " align="left" valign="bottom">
<p>Rotation Y</p>
</th></tr></thead><tbody><tr><td style="" align="left" valign="top">
<p>0</p>
</td><td style="" align="left" valign="top">
<p>2</p>
</td><td style="" align="left" valign="top">
<p>-1.8</p>
</td><td style="" align="left" valign="top">
<p>0</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>1</p>
</td><td style="" align="left" valign="top">
<p>-1.25</p>
</td><td style="" align="left" valign="top">
<p>-5.28</p>
</td><td style="" align="left" valign="top">
<p>-180</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>2</p>
</td><td style="" align="left" valign="top">
<p>-3.45</p>
</td><td style="" align="left" valign="top">
<p>-3.5</p>
</td><td style="" align="left" valign="top">
<p>-90</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>3</p>
</td><td style="" align="left" valign="top">
<p>-3.45</p>
</td><td style="" align="left" valign="top">
<p>0</p>
</td><td style="" align="left" valign="top">
<p>-90</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>4</p>
</td><td style="" align="left" valign="top">
<p>-2</p>
</td><td style="" align="left" valign="top">
<p>1.6</p>
</td><td style="" align="left" valign="top">
<p>0</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>5</p>
</td><td style="" align="left" valign="top">
<p>2</p>
</td><td style="" align="left" valign="top">
<p>-1.7</p>
</td><td style="" align="left" valign="top">
<p>180</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>6</p>
</td><td style="" align="left" valign="top">
<p>3.5</p>
</td><td style="" align="left" valign="top">
<p>0</p>
</td><td style="" align="left" valign="top">
<p>90</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>7</p>
</td><td style="" align="left" valign="top">
<p>3.5</p>
</td><td style="" align="left" valign="top">
<p>3.5</p>
</td><td style="" align="left" valign="top">
<p>90</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>8</p>
</td><td style="" align="left" valign="top">
<p>1.25</p>
</td><td style="" align="left" valign="top">
<p>5.15</p>
</td><td style="" align="left" valign="top">
<p>0</p>
</td></tr><tr><td style="" align="left" valign="top">
<p>9</p>
</td><td style="" align="left" valign="top">
<p>-2</p>
</td><td style="" align="left" valign="top">
<p>1.7</p>
</td><td style="" align="left" valign="top">
<p>180</p>
</td></tr></tbody></table></div><p>Note that the<a id="id468" class="indexterm"></a> objects are listed in the same order that we'll use in the animated walk-through of the scene. Place them, as children of <code class="literal">Artworks</code>, in this order in <span class="strong"><strong>Hierarchy</strong></span>.</p></div></div>