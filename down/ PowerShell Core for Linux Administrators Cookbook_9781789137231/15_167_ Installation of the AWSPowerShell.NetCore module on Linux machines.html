<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch15lvl1sec162"></a>Installation of the AWSPowerShell.NetCore module on Linux machines</h2></div></div><hr /></div><p>In this recipe, we will look at how to install the <span>AWS</span><a id="id325898675" class="indexterm"></a> PowerShell Core module on the Linux machine.</p><p><span class="strong"><strong>Amazon Web Services</strong></span> (<span class="strong"><strong>AWS</strong></span>) offers a variety of tools, <span class="strong"><strong>Command-Line Interfaces</strong></span> (<span class="strong"><strong>CLIs</strong></span>), and SDKs to <span>manage</span><a id="id325898622" class="indexterm"></a> and administrate AWS resources. In any of these cases, PowerShell <span>stands</span><a id="id325898616" class="indexterm"></a> at the top of the list because of the flexibility, language richness, and user-friendliness it provides. AWS Tools for PowerShell is cross-platform and is supported on Windows, Linux, and macOS platforms. Since PowerShell is built on .NET Core, it is very easy to refer .Net Core class libraries in the PowerShell scripts. </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch15lvl2sec420"></a>Getting ready</h3></div></div></div><p>In this section, you will learn how to get started with the <code class="literal">AWSPowerShell.NetCore</code> module's installation:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Log on to the Terminal with your SU account</li><li>Open the PowerShell console</li><li>Type in <code class="literal">pwsh</code></li></ol></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch15lvl2sec421"></a>How to do it…</h3></div></div></div><p>You should have an SU session open now. The AWS PowerShell Core module is accessible via the PSGallery. Let's follow these instructions to install the module:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li> To install the <code class="literal">AWSPowerShell.NetCore</code> PowerShell module, run the <code class="literal">Install-Module</code> cmdlet along with a<span class="emphasis"><em> </em></span>module manifest name, that is, <code class="literal">AWSPowerShell.NetCore</code>:</li></ol></div><pre class="programlisting"><span class="strong"><strong><span>PS&gt; Install-Module</span><span> -Name </span><span>AWSPowerShell</span><span>.</span>NetCore</strong></span></pre><p>If you have trouble installing the module using the aforementioned command, try the following instead:</p><pre class="programlisting"><span class="strong"><strong>PS&gt; Install-Module -Scope CurrentUser -Name AWSPowerShell.NetCore</strong></span></pre><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>To import the cmdlets, run the <code class="literal">Import-Module</code> cmdlet:</li></ol></div><pre class="programlisting"><span class="strong"><strong><span>PS&gt; </span><span>Import-Module -Name AWSPowerShell.NetCore</span></strong></span></pre><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Let's discover the AWS cmdlets by using the <code class="literal">Get-Module</code> cmdlet:</li></ol></div><pre class="programlisting"><span class="strong"><strong><span>PS&gt; Get-Module -Name AWSPowerShell.NetCore</span></strong></span></pre><div class="mediaobject"><img src="/graphics/9781789137231/graphics/00d3b7bc-b891-4c6d-b532-c6724c1985b1.png" /></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li> You can further dissect the cmdlet discovery for a specific verb or noun part of the cmdlets:</li></ol></div><pre class="programlisting"><span class="strong"><strong>PS&gt; Get-Command Get*EC2* -Module AWSPowerShell.NetCore | ForEach-Object {</strong></span>
<span class="strong"><strong>[pscustomobject] @{</strong></span>
<span class="strong"><strong>'Cmdlet' = $_.Name</strong></span>
<span class="strong"><strong>'Description' = (Get-Help $_.Name).Description.Text }</strong></span>
<span class="strong"><strong>} | Format-Table -Wrap</strong></span></pre><div class="mediaobject"><img src="/graphics/9781789137231/graphics/92062967-1a5b-434b-a59d-d725bb66a93b.png" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch15lvl2sec422"></a>How it works…</h3></div></div></div><p>The <code class="literal">AWSPowerShell.NetCore</code> module has been published to the PSGallery, and therefore is available for download and installation on PowerShell 6.0. Sometimes, the module does not install properly; launching <code class="literal">pwsh</code> as an administrator does not seem to help. However, when the scope is restricted to <code class="literal">CurrentUser</code>, the module installs without difficulties.</p><p>When listing out the cmdlets, we used the <code class="literal">pscustomobject</code> accelerator to create a custom PowerShell object with the name of the cmdlet and the description text of the <span>cmdlet</span><a id="id325913572" class="indexterm"></a> as its members. We used the <code class="literal">Wrap</code> parameter to wrap the contents in the <span>table</span><a id="id326071452" class="indexterm"></a> that was output so that we can read the description text without it being truncated.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch15lvl2sec423"></a>There's more…</h3></div></div></div><p>Use the <code class="literal">Update-Module</code> cmdlet to update the module:</p><pre class="programlisting"><span class="strong"><strong>PS&gt; Update-Module -Name AWSPowerShell.NetCore</strong></span></pre></div></div>