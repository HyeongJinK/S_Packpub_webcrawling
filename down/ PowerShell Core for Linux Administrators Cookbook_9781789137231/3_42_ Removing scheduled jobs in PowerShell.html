<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec49"></a>Removing scheduled jobs in PowerShell</h2></div></div><hr /></div><p>In this recipe, we're going to see the steps to <span>remove</span><a id="id325909511" class="indexterm"></a> the entries from the CronTab file.</p><p> </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec135"></a>How to do it…</h3></div></div></div><p>Now that we have created entries into the <code class="literal">cron</code> configuration file, let's attempt to remove those entries:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>List the jobs using the <code class="literal">Get-CronJob</code> cmdlet. This will get you the list of jobs that are created by reading the <code class="literal">CronTab</code> file:</li></ol></div><pre class="programlisting"><span class="strong"><strong>PS&gt; Get-CronJob | Format-Table -AutoSize</strong></span></pre><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Apply a conditional logic to segregate the required job entries using the <code class="literal">Where-Object</code> clause. You will read more about this in <a class="link" href="#" linkend="ch04">Chapter 4</a>, <span class="emphasis"><em>Passing Data Through Pipelines:</em></span></li></ol></div><pre class="programlisting"><span class="strong"><strong>PS &gt; Get-CronJob | Where-Object {$_.Month -match 'Jan'} | Format-Table -AutoSize</strong></span>

Minute Hour DayOfMonth Month DayOfWeek Command
------ ---- ---------- ----- --------- -------
*/15 10-12 * Jan,Mar,Jun,Sep,Dec sun,tue,fri /usr/bin/pwsh -c "cd /tmp/; ./DataLoading.PS1;"
*/15 10-12 * Jan,Mar sun,tue,fri /usr/bin/pwsh -c "cd /tmp/; ./DataLoading.PS1;"</pre><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Remove the entries using <code class="literal">Remove-CronJob</code>:</li></ol></div><pre class="programlisting"><span class="strong"><strong>PS &gt; Get-CronJob | Where-Object {$_.Month -match 'Jan'} | Remove-CronJob</strong></span>

Confirm
Are you sure you want to perform this action?
Performing the operation "Remove" on target "/usr/bin/pwsh -c "cd /tmp/; ./DataLoading.PS1;"".
[Y] Yes [A] Yes to All [N] No [L] No to All [S] Suspend [?] Help (default is "Y"): Y

Confirm
Are you sure you want to perform this action?
Performing the operation "Remove" on target "/usr/bin/pwsh -c "cd /tmp/; ./DataLoading.PS1;"".
[Y] Yes [A] Yes to All [N] No [L] No to All [S] Suspend [?] Help (default is "Y"): Y
PS /home/PacktPub&gt; </pre><p> </p><p> </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec136"></a>How it works…</h3></div></div></div><p>When we would like to <span>remove</span><a id="id325905969" class="indexterm"></a> cron jobs, we list out the cron jobs and then pass the job objects via the pipeline to the cmdlet, <code class="literal">Remove-CronJob</code>, to remove the jobs from the configuration file.</p><p>There is a conditional logic mentioned in the recipe. This concept of conditional filtration is covered in the recipe, <span class="emphasis"><em>Filtering objects</em></span>, in <a class="link" href="#" linkend="ch04">Chapter 4</a>, <span class="emphasis"><em>Passing Data through the Pipeline</em></span>. The concept of using <code class="literal">$_</code> is covered in the recipe, <span class="emphasis"><em>Selecting columns from the output</em></span>, also of the aforementioned chapter.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec137"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">The <span class="emphasis"><em>Selecting columns from the output</em></span> recipe in <a class="link" href="#" linkend="ch04">Chapter 4</a>, <span class="emphasis"><em>Passing Data through the Pipeline</em></span></li><li style="list-style-type: disc">The <span class="emphasis"><em>Filtering objects</em></span> recipe covered in <a class="link" href="#" linkend="ch04">Chapter 4</a>, <span class="emphasis"><em>Passing Data through the Pipeline</em></span></li></ul></div></div></div>