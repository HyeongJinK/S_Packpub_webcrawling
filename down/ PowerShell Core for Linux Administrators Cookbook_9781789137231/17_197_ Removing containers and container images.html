<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch17lvl1sec190"></a>Removing containers and container images</h2></div></div><hr /></div><p>Removing unused/obsolete containers is also part of a normal <span>Docker</span><a id="id325906000" class="indexterm"></a> workflow. In this recipe, we will discuss the process of removing Docker containers and <span>Docker</span><a id="id325905990" class="indexterm"></a> images.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch17lvl2sec509"></a>How to do it…</h3></div></div></div><p>You should have the PowerShell session open and have loaded the Docker module into the session by now.</p><p>Now, let's remove some containers and images. You can use the conditional construct to list specific containers, or we can remove all of the containers and images to start with a clean slate:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Get the list of all available containers:</li></ol></div><pre class="programlisting"><span class="strong"><strong>PS&gt; Get-Container</strong></span></pre><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Stop all of the running containers:</li></ol></div><pre class="programlisting"><span class="strong"><strong>PS&gt; Get-Container | where-object {$_.Status -match 'up'} | Stop-Container</strong></span></pre><p>If you would rather not filter, that's OK:</p><pre class="programlisting"><span class="strong"><strong>PS&gt; Get-Container | Stop-Container</strong></span></pre><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Remove all of the containers:</li></ol></div><pre class="programlisting"><span class="strong"><strong>PS&gt; Get-Container | Remove-Container</strong></span></pre><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Remove all of the Docker images. It is important that the images are removed after the containers are:</li></ol></div><pre class="programlisting"><span class="strong"><strong>PS&gt; Get-ContainerImage -All | Remove-ContainerImage</strong></span></pre><p> </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch17lvl2sec510"></a>How it works…</h3></div></div></div><p>This recipe is no different from what we saw in the previous recipes. As usual, the names of the <code class="literal">Remove-Container</code> and <code class="literal">Remove-ContainerImage</code> cmdlets are self-explanatory.</p><p>While working with Docker, many containers may get created and many images may be downloaded. Removing images helps us save disk space.</p><p>As Docker containers are the layer that's built on top of the Docker images, it is required that you stop the containers before removing the Docker images to avoid potential inconsistency in the system state.</p><p>We can also remove the image without stopping the containers by using the <code class="literal">-Force</code> inline argument on the <code class="literal">Remove-ContainerImage</code> cmdlet. However, we recommend against doing this because the <code class="literal">-Force</code> option is not a recommended solution for any tasks to remain complacent.</p></div></div>