<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec102"></a>Removing elements from an array</h2></div></div><hr /></div><p>Removing <span>elements</span><a id="id325585876" class="indexterm"></a> from an array is not as straightforward as adding elements to an array. Adding two arrays is as simple as using the <code class="literal">+</code> arithmetic operator or the <code class="literal">+=</code> assignment operator. Removing objects, on the other hand, can be done in either of the following two ways:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Filter out objects that you do not want and assign the rest of the array to a new array</li><li style="list-style-type: disc">Use the <code class="literal">System.Collections.ArrayList</code> class</li></ul></div><p>Create a list of all the files and directories within <code class="literal">~/random</code>. Remove the paths within <code class="literal">dir-04</code>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec272"></a>How to do it…</h3></div></div></div><p>We will perform this task in two ways. Here is the first way:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>List out all the paths within the<code class="literal">$HOME/random</code> directory. (Replace all instances of <code class="literal">$HOME/random</code> with the path to your lab directory if you changed the defaults in the script.).</li><li>Filter out paths that do not match <code class="literal">dir-04</code>.</li><li>Show the list.</li></ol></div><p> </p><p> </p><p>Here is the script that performs these actions:</p><pre class="programlisting">$Paths = (Get-ChildItem $HOME/random -Recurse).FullName
$Paths = $Paths | Where-Object {$PSItem -notmatch "^$HOME/random/dir-04"}
Write-Output "Here is the list of paths within the lab directory, without those within dir-04:`n`n"
$Paths</pre><p>The second method would be using the <code class="literal">System.Collections.ArrayList</code> class:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>List out all the paths within the <code class="literal">$HOME/random </code>directory</li><li>List out all the paths that have <code class="literal">$HOME/random/dir-04</code> in them</li><li>Remove these paths from the list of directories, using the <code class="literal">Remove()</code> method of the <code class="literal">System.Collections.ArrayList</code> class</li></ol></div><p>Here is the script that performs these actions:</p><pre class="programlisting">$AllPaths = New-Object -TypeName System.Collections.ArrayList
foreach ($Path in (Get-ChildItem $HOME/random -Recurse)) {
[void]$AllPaths.Add($Path.FullName)
}

$PathsToExclude = $AllPaths -match "^$HOME/random/dir-04"

foreach ($Dir4Path in $PathsToExclude) {
$AllPaths.Remove($Dir4Path)
}

Write-Output "Here is the list of paths within the lab directory, without those within dir-04:`n`n"
$AllPaths</pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec273"></a>How it works…</h3></div></div></div><p>This is relatively simple to understand. We use a simple comparison operation to exclude those <span>elements</span><a id="id325892158" class="indexterm"></a> that we don't want, and then assign the resultant array back to the original array. This is the first way of doing it.</p><p> </p><p>The other, not-so-simple, way of performing deletions is using the .NET class, <code class="literal">System.Collections.Arraylist</code>. This class has methods specific to array operations. Therefore, in some situations, the <code class="literal">Remove()</code> method may seem like a better option to use rather than performing filtration on the array. It is noteworthy that these methods may show undesirable console output. This is because the methods were created with programming in mind; these are neither native to PowerShell, nor entirely meant for administration. To avoid the console output, use <code class="literal">[void]</code> before the variable name (do not use <code class="literal">| Out-Null</code>).</p></div></div>