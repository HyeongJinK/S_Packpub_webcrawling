<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch17lvl1sec183"></a>Installation of Docker on Linux</h2></div></div><hr /></div><p>On Linux, the installation <span>procedures</span><a id="id326430614" class="indexterm"></a> are simple and straightforward. This recipe will help you set up <span>Docker</span><a id="id326430610" class="indexterm"></a> on CentOS, using the latest Docker <code class="literal">.rpm</code> package, which will be installed using <code class="literal">yum</code>.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch17lvl2sec485"></a>Getting ready</h3></div></div></div><p>Getting ready to install Docker on the host machine is simple. You simply need a working Linux computer, and you must have the root user credentials. </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch17lvl2sec486"></a>How to do it…</h3></div></div></div><p>To install the <span>Docker</span><a id="id326430732" class="indexterm"></a> engine on Linux, follow these steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Go to <a class="ulink" href="https://download.docker.com/linux/centos/7/x86_64/stable/Packages/" target="_blank">https://download.docker.com/linux/centos/7/x86_64/stable/Packages/</a> to download the latest <code class="literal">.rpm</code> file for the version of Docker you want to install.</li><li>Save the <code class="literal">docker-ce*.rpm</code> file in a convenient location. In this case, the file is saved to the default Downloads directory.</li><li>Log in to the Terminal with a user with superuser privileges:</li></ol></div><pre class="programlisting"><span class="strong"><strong>$ su</strong></span>
Password: </pre><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Install the RPM package using the <code class="literal">yum install</code> command. Specify the complete path to where the RPM file is:</li></ol></div><pre class="programlisting"><span class="strong"><strong># yum install /home/prashanth/Downloads/docker-ce-18.03.1.ce-1.el7.centos.x86_64.rpm -y</strong></span></pre><div class="mediaobject"><img src="/graphics/9781789137231/graphics/5b4bb0ca-b097-457f-838f-668d19c7db77.png" /></div><p> </p><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Once the installation is complete, verify the package information to ensure that the right package was installed:</li></ol></div><pre class="programlisting"><span class="strong"><strong># yum info docker</strong></span></pre><div class="mediaobject"><img src="/graphics/9781789137231/graphics/bf354097-d3fd-4708-8159-e1bd14d82ecc.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Get the status of the <span>Docker</span><a id="id325909525" class="indexterm"></a> service using the <code class="literal">systemctl</code> command:</li></ol></div><pre class="programlisting"><span class="strong"><strong># systemctl status docker</strong></span></pre><div class="mediaobject"><img src="/graphics/9781789137231/graphics/f9e5e7c5-2391-4a4e-b75d-812ab03f0c05.png" /></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="7" type="1"><li>The service is disabled. To enable and start the <span>Docker</span><a id="id325913572" class="indexterm"></a> service use the <code class="literal">systemctl</code> command again, with the appropriate parameters, use the following commands:</li></ol></div><pre class="programlisting"><span class="strong"><strong># systemctl enable docker</strong></span>
<span class="strong"><strong># systemctl start docker</strong></span>
<span class="strong"><strong># systemctl status docker</strong></span></pre><div class="mediaobject"><img src="/graphics/9781789137231/graphics/ef03a125-fbd8-463e-b3f0-f60f750dcede.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="8" type="1"><li>Test the Docker engine services by running a container. To run a container, use the <code class="literal">docker run</code> command. In this example, we'll use the<code class="literal"> hello-world</code> container image. If the image is not present on your computer, it will be downloaded from the Docker library:</li></ol></div><pre class="programlisting"><span class="strong"><strong># docker run hello-world</strong></span></pre><div class="mediaobject"><img src="/graphics/9781789137231/graphics/e341625e-310a-4152-81ae-6591852f3aed.png" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch17lvl2sec487"></a>How it works…</h3></div></div></div><p>Installing Docker directly on a Linux machine is comparatively easier than installing it on other platforms such as macOS or Windows because there's no need to set up a virtual toolbox or machine to run Docker on Linux; you can run it directly on your localhost. The Docker installation documentation page has several sections covering the installation procedure for various Linux distributions. In this recipe, though, we recommend installing Docker via the repository.</p><p>Once the installation is complete, we need to check the status of the <span>Docker</span><a id="id326185272" class="indexterm"></a> daemon. The <code class="literal">systemctl status</code> command provides required information about the status of the service/process, including the PID and the memory consumed. We use the <code class="literal">systemctl enable</code> and <code class="literal">systemctl start</code> commands to enable and start the Docker daemon. The status loaded indicates that the file unit has been loaded into memory. It also lists the path to the unit file and shows its state. The <code class="literal">systemctl enable</code> command enables the daemon to start at the boot of the machine.</p><p> </p><p> </p><p>Finally, we run the <code class="literal">hello-world</code> container image to test the <span>Docker</span><a id="id326352491" class="indexterm"></a> engine services. If the image is not locally present, <code class="literal">docker run</code> automatically downloads the image from the Docker library and runs the container. The message <strong class="userinput"><code>Hello from Docker!</code></strong> indicates that the Docker client did contact the Docker engine daemon to build a container using the downloaded image.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch17lvl2sec488"></a>See also</h3></div></div></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Installing <span>Docker</span><a id="id326366557" class="indexterm"></a> from a package (<a class="ulink" href="https://docs.docker.com/install/linux/docker-ce/centos/#install-from-a-package" target="_blank">https://docs.docker.com/install/linux/docker-ce/centos/#install-from-a-package</a>)</li></ul></div></div></div>