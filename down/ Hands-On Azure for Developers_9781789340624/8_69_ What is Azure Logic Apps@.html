<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec70"></a>What is Azure Logic Apps?</h2></div></div><hr /></div><p>Sometimes you need to integrate multiple services and <span>automate</span><a id="id325337748" class="indexterm"></a> tasks such as sending an email, creating a file, or generating a report based on some input data (maybe a database table or a social media feed). If you work with a specific cloud vendor (in this particular case, Microsoft Azure), it could be crucial to be able to rapidly develop workflows that can be versioned and are natively integrated with multiple cloud services, using a tool that does not require learning many different concepts to get started. Such a service is Azure Logic Apps, which you will learn about in this chapter.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec72"></a>Azure Logic Apps – how it works</h3></div></div></div><p>In the previous chapter, you learned about <span>Azure</span><a id="id325115404" class="indexterm"></a> Functions, which required a trigger to be executed. The situation is similar with Azure Logic Apps—you need to define specific criteria that tell the runtime when a Logic App instance should be executed. During the execution, even more actions are performed:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Input data is converted so it meets initial requirements</li><li style="list-style-type: disc">All conditional flows are executed so one specific execution flow is evaluated</li><li style="list-style-type: disc">Temporary variables are assigned values</li></ul></div><p>The following shows an example of a flow that is executed each day and sets a variable that is used to remove outdated blobs:</p><div class="mediaobject"><img src="/graphics/9781789340624/graphics/77c57593-514d-4273-a8d4-59df9ce68139.png" /></div><p>As you can see, it contains three different blocks, which are the initial part of the flow (in fact, the whole workflow is much bigger as it contains a loop and different conditions and actions—we will cover all of these later):</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">The first one defines how often an instance of a Logic App should be executed</li><li style="list-style-type: disc">The second one defines a variable, which is used by the next steps—it specifies the maximum age of a file in <span>Azure</span><a id="id325115447" class="indexterm"></a> Blob Storage </li><li style="list-style-type: disc">The third one feeds the next step (a <code class="literal">for each</code> loop) with a list of available blobs within a specific storage account and container</li></ul></div><p>You probably noticed one more thing—the workflow is built using graphical blocks, which can be connected by defining multiple relations. While such a solution is a real handful when creating and modifying Logic Apps, it could be problematic when versioning and developing within a team. Fortunately, each flow is also defined in JSON:</p><pre class="programlisting">{
    "$connections": {
        "value": {
            "azureblob": {
                "connectionId": "/subscriptions/&lt;subscription-id&gt;/resourceGroups/handsonazure-rg/providers/Microsoft.Web/connections/azureblob",
                "connectionName": "azureblob",
                "id": "/subscriptions/&lt;subscription-id&gt;/providers/Microsoft.Web/locations/westeurope/managedApis/azureblob"
            }
        }
    },
    "definition": {
        "$schema": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#",
        "actions": {
            "For_each": {
                "actions": {
                    "Condition": {
                        "actions": {
                            "Delete_blob": {

  (...)
              }
            }
          }
        }
      }
    }
  }
}</pre><p>Thanks to such a representation, you can add your Logic Apps to any version control systems (for example, Git or SVN) and modify them when you wish. Additionally, you can automate the creation of different Logic Apps by generating code files on-the-fly.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec73"></a>Azure Logic Apps – advantages</h3></div></div></div><p>You may wonder what the real use case for <span>Azure</span><a id="id325117149" class="indexterm"></a> Logic Apps is when you have other possibilities available (Azure Functions and custom workflows). If you take a closer look at its features, you will notice the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">You do not have to be a cloud developer to develop workflows—even less advanced users (for example, IT professionals, IT admins, and data scientists) can create the one they need without learning much about this particular service</li><li style="list-style-type: disc">You do not worry about scaling—as Azure Logic Apps are also a part of serverless services available in Azure, you focus on delivering business value rather than server configuration and capabilities</li><li style="list-style-type: disc">In general, you do not have to write code—however, you are not limited to a "codeless" environment as it is possible to host it within Azure Functions and just execute it on demand</li><li style="list-style-type: disc">You are able to implement B2B integration, which leverages enterprise standards relating to exchanging messages and communication, such as AS2 or EDIFACT</li></ul></div><p>The following shows the current pricing for Azure Logic Apps:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Each action costs $0.000025 per execution</li><li style="list-style-type: disc">Each connector costs $0.000125 per execution</li></ul></div><p>To fully understand it, we have to describe those two terms:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Action</strong></span>: This is each step executed <span>after</span><a id="id325120016" class="indexterm"></a> a trigger (for example, listing files, calling an API, or setting a variable)</li><li style="list-style-type: disc"><span class="strong"><strong>Connector</strong></span>: This is a binding to multiple <span>external</span><a id="id325120029" class="indexterm"></a> services (Azure Service Bus, SFTP, or Twitter), which you will use in your workflows</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip106"></a>Note</h3><p>Note that Azure Logic Apps could be quite expensive when performing complicated workflows very often. In such scenarios, consider using other services (such as Azure Functions), which of course require much more time spent on developing but, on the other hand, offer better pricing.</p></div><p> </p><p> </p></div></div>