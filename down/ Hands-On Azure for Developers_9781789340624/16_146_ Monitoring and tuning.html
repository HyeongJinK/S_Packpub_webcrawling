<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch16lvl1sec139"></a>Monitoring and tuning</h2></div></div><hr /></div><p>The last item we cover in this chapter will be the monitoring and tuning of Azure SQL. Because databases are often the heart of many applications, it is crucial to have a quick way to diagnose any issues regarding performance or usage, and easily tweak things if needed. Azure SQL<span class="emphasis"><em> </em></span>uses multiple different features that you can leverage to get insights from <span>your</span><a id="id325143115" class="indexterm"></a> instance.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch16lvl2sec171"></a>Monitoring</h3></div></div></div><p>To monitor <span>your</span><a id="id325143104" class="indexterm"></a> SQL Database, you can use alerts, which should be familiar to you (assuming you have read the previous chapter, <a class="link" href="#" linkend="ch15">Chapter 15</a>, <span class="emphasis"><em>Using Application Insights to Monitor Your Applications</em></span>). You can access this functionality by clicking on the <strong class="userinput"><code>Alerts</code></strong><span class="strong"><strong> </strong></span>blade:</p><div class="mediaobject"><img src="/graphics/9781789340624/graphics/af1b64bd-929c-4237-b590-288ebb9f5095.png" /></div><p>Here you have two types of alert available:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><strong class="userinput"><code>Add metric alert (classic)</code></strong></li><li style="list-style-type: disc"><strong class="userinput"><code>Add activity log alert</code></strong></li></ul></div><p> </p><p>The way they work is a little bit different—a metric alert<span class="strong"><strong> </strong></span>is based on values such as CPU percentage, deadlocks, or total database size while an activity log alert<span class="strong"><strong> </strong></span>is triggered<span class="strong"><strong> </strong></span>whenever an event occurs. You can use them both simultaneously to cover the following things:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Insufficient performance (metric)</li><li style="list-style-type: disc">Invalid queries (metric)</li><li style="list-style-type: disc">Configuration issues (metric)</li><li style="list-style-type: disc">Overall service health (metric)</li><li style="list-style-type: disc">Incoming maintenance activities (activity log)</li><li style="list-style-type: disc">Actual service issues (activity log)</li><li style="list-style-type: disc">Service health recommendations (activity log)</li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch16lvl2sec172"></a>Tuning</h3></div></div></div><p>There is a whole group of features, called <strong class="userinput"><code>Intelligent Performance</code></strong>, which allow you to monitor and tune <span>your</span><a id="id325407384" class="indexterm"></a> SQL Database performance:</p><div class="mediaobject"><img src="/graphics/9781789340624/graphics/d5baeec4-4c2f-400d-bb61-eaaaf9deb596.png" /></div><p>Let's check <strong class="userinput"><code>Performance recommendations</code></strong><span class="strong"><strong> </strong></span>for now:</p><div class="mediaobject"><img src="/graphics/9781789340624/graphics/9708d4f6-b7ae-4989-aa7d-fecfda7808f5.png" /></div><p>While initially this feature is empty, it displays different recommendations while working with Azure SQL<span class="strong"><strong>.</strong></span><span class="emphasis"><em><span class="strong"><strong> </strong></span></em></span>The important thing here is that we can automate things—just click on the <strong class="userinput"><code>Automate</code></strong><span class="strong"><strong> </strong></span>button to display another screen where you can select what you are interested in:</p><div class="mediaobject"><img src="/graphics/9781789340624/graphics/67fe3732-b99b-4190-b71e-c70fad1dc263.png" /></div><p>This screen is, in fact, the <strong class="userinput"><code><span>Automatic</span><a id="id325120006" class="indexterm"></a> tuning</code></strong><span class="strong"><strong> </strong></span>blade presented earlier. You can use it to automate things such as managing indexes or forcing a query plan.</p></div></div>