<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec15"></a>Diagnostics and monitoring of App Services</h2></div></div><hr /></div><p>The last section of this chapter will show you how you can diagnose and <span>monitor</span><a id="id325143122" class="indexterm"></a> App Services that you've deployed. Those operations are crucial <span>when</span><a id="id325143131" class="indexterm"></a> you have a working application, as errors and performance issues always crop up, especially in popular services. Thanks to multiple integrated tools in Azure Web Apps, you can be sure that you'll always have enough information to find and fix a problem.</p><p> </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec14"></a>The Overview blade</h3></div></div></div><p>The very first thing you probably <span>already</span><a id="id325143113" class="indexterm"></a> noticed is the charts visible in the <strong class="userinput"><code>Overview </code></strong>blade:</p><div class="mediaobject"><img src="/graphics/9781789340624/graphics/3432ee87-c807-4fa8-8a03-1c071d6e6490.png" /></div><p>They provide basic insight into the behavior of your application, such as data transfer, the number of requests, or HTTP 500 errors. Let's click on any of those charts—you will see another important screen, which we will look at now.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec15"></a>Metrics</h3></div></div></div><p>The <strong class="userinput"><code>Metrics </code></strong>blade gives you more detailed <span>information</span><a id="id325143079" class="indexterm"></a> and a better view of a specific parameter. On the left, there are many different metrics to choose from. You create your own chart by selecting more than only one parameter.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip29"></a>Note</h3><p>Remember that you can only choose metrics of the same unit—there is no possibility, for example, to connect the number of loaded assemblies and average response time.</p></div><p>On this screen, you can also change the chart's time range. This is very useful when searching for related issues (such as <strong class="userinput"><code>Data In</code></strong><span class="strong"><strong> </strong></span>and <strong class="userinput"><code>Memory working set</code></strong><span class="strong"><strong> </strong></span>to check how much memory your application needs to handle incoming data).</p><p> </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec16"></a>Monitoring</h3></div></div></div><p>Let's go back to the main screen of App Service. There, when you scroll down, you will see a <strong class="userinput"><code>MONITORING </code></strong>section containing even more useful features.</p><p>Click on the <strong class="userinput"><code>Log stream</code></strong><span class="strong"><strong> </strong></span>blade. You will see a black screen with the following information:</p><p><code class="literal">Application logs are switched off. You can turn them on using the 'Diagnostic logs' settings.</code></p><p>Apparently, we do not have this feature available for now. Let's go to the <strong class="userinput"><code>Diagnostic log</code></strong><span class="strong"><strong> </strong></span>blade. It offers some interesting features regarding logging, including the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><strong class="userinput"><code>Application logging (filesystem)</code></strong>: Collects diagnostic traces</li><li style="list-style-type: disc"><strong class="userinput"><code>Application logging (blog)</code></strong>: The same as the <strong class="userinput"><code>filesystem</code></strong> option, but this time logs are stored within the <span class="emphasis"><em>Azure Storage</em></span> account</li><li style="list-style-type: disc"><strong class="userinput"><code>Web server logging</code></strong>: Gathers diagnostics about a web server</li><li style="list-style-type: disc"><strong class="userinput"><code>Detailed error messages</code></strong>: If you feel current messages are not sufficient, you can turn on this feature to get more <span>information</span><a id="id325120045" class="indexterm"></a></li><li style="list-style-type: disc"><strong class="userinput"><code>Failed request tracing</code></strong>: Gathers information about failed requests</li></ul></div><p>Additionally, you can find the FTP location of all logs <span>with user information to log in</span>. Since we need<strong class="userinput"><code> Application logging </code></strong>for<strong class="userinput"><code> Log stream</code></strong>, let's turn this feature on. Now, we can go back to <strong class="userinput"><code>Log stream</code></strong><span class="strong"><strong> </strong></span>to see what kind of information we are gathering:</p><div class="mediaobject"><img src="/graphics/9781789340624/graphics/36022a88-29cf-4421-b354-245e1d88a6d1.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip30"></a>Note</h3><p>If you do not see any information in <strong class="userinput"><code>Log stream</code></strong>, make sure you have set the correct level of logging. For all information possible, use <strong class="userinput"><code>Verbose</code></strong>.</p></div><p> </p></div></div>