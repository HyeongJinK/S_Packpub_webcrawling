<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec34"></a>Time for Action: Loading a Cone with AJAX</h2></div></div><hr /></div><p>Follow the <span>given</span><a id="id325357458" class="indexterm"></a> steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Make sure <span>that</span><a id="id325358923" class="indexterm"></a> your web server is running and access the <code class="literal">ch02_07_ajax-cone.html</code> file using your web server.</li></ol></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip32"></a>Note</h3><p><strong class="userinput"><code>Web Server Address</code></strong>
You know that you are using the web server if the URL in the address bar starts with <code class="literal">localhost/</code> or <code class="literal">127.0.0.1/</code> instead of <code class="literal">file://</code>.</p></div><p></p><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>The folder containing the code for this chapter should look like this:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788629690/graphics/03e93fc5-b735-402c-8253-6f98bd62838a.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Click on <code class="literal">ch02_07_ajax-cone.html</code>.</li><li>The example will load in your browser and you will see something similar to this:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788629690/graphics/727fbe0f-a66f-4d7c-93d5-9494bb8c2d1b.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Please review the <code class="literal">load</code> functions to better understand the use of AJAX and JSON in the application.</li><li>How is the global <code class="literal">model</code> variable used? <span class="emphasis"><em>(Check the source code.)</em></span></li><li>Check what happens when you change the color in the <code class="literal">common/models/geometries/cone.json</code> file and reload the page.</li><li>Modify the coordinates of the cone in the <code class="literal">common/models/geometries/cone.json</code> file and reload the page. Here, you can verify that WebGL reads and renders the coordinates from the file. If you modify them in the file, the geometry will be updated on the screen.</li></ol></div><p><span class="emphasis"><em><span class="strong"><strong>What just happened?</strong></span></em></span></p><p>You learned how to use AJAX and JSON to load geometries from a remote location (web server) instead of specifying these geometries (using JavaScript arrays) inside the web page.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec35"></a>Have a Go: Loading a Nissan GTR</h3></div></div></div><p>Follow the <span>given</span><a id="id325631880" class="indexterm"></a> steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Open the <code class="literal">ch02_08_ajax-car.html</code> file using <span>your</span><a id="id325638038" class="indexterm"></a> web server.</li><li>You should see something like this:</li></ol></div><div class="mediaobject"><img src="/graphics/9781788629690/graphics/d23270e2-9848-4de2-9782-c6f19ad06950.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>The reason we selected the <code class="literal">LINES</code> model instead of the <code class="literal">TRIANGLES</code> model is to easily visualize the structure of the car.</li><li>Find the line where the rendering mode is being selected and make sure that you understand what the code does.</li><li>Go to the <code class="literal">draw</code> function.</li><li>In the <code class="literal">drawElements</code> instruction, change the mode from <code class="literal">gl.LINES</code> to <code class="literal">gl.TRIANGLES</code>.</li><li>Refresh the page in the web browser.</li><li>What do you see? Can you guess why the visuals are different? What is your rationale?</li></ol></div><p></p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip33"></a>Note</h3><p><strong class="userinput"><code>Lights</code></strong>
Illumination helps us visualize complex geometries more clearly. Without lights, all of our volumes will look opaque, and it will be difficult to distinguish their parts when changing from <code class="literal">LINES</code> to <code class="literal">TRIANGLES</code>.</p></div></div></div>