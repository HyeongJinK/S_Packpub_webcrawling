<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec121"></a>Architectural Review</h2></div></div><hr /></div><p>The following components are present in the <span>architecture</span><a id="id325358908" class="indexterm"></a> that has been built throughout this book:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">Axis.js</code>: Auxiliary object that represents the center of the scene with visual helpers.</li><li style="list-style-type: disc"><code class="literal">Camera.js</code>: Contains a camera representation from the two types of camera we have developed: orbiting and tracking.
</li><li style="list-style-type: disc"><code class="literal">Clock.js</code>: A requestAnimationFrame-based timer to synchronize our entire application from a single source of truth.</li><li style="list-style-type: disc"><code class="literal">Controls.js</code>: Listens for mouse and keyboard events on the HTML5 <code class="literal">canvas</code>. It interprets these events and then transforms them into camera actions.</li><li style="list-style-type: disc"><code class="literal">EventEmitter.js</code>: A simple class that provides a pub-sub approach for managing interactions between components in our application.</li><li style="list-style-type: disc"><code class="literal">Floor.js</code>: Auxiliary object that appears like a rectangular mesh and provides the floor reference for the scene.</li><li style="list-style-type: disc"><code class="literal">Light.js</code>: Simplifies the creation and managing of lights in the scene.</li><li style="list-style-type: disc"><code class="literal">Picker.js</code>: Provides color-based object picking.</li><li style="list-style-type: disc"><code class="literal">Program.js</code>: Composes the functions that handle programs, shaders, and the mapping between JavaScript values and ESSL uniforms.</li><li style="list-style-type: disc"><code class="literal">Scene.js</code>: Contains a list of objects to be rendered by WebGL.</li><li style="list-style-type: disc"><code class="literal">Texture.js</code>: A class for the creation and managing of WebGL textures.</li><li style="list-style-type: disc"><code class="literal">Transforms.js</code>: Contains the matrices discussed in this book, that is, the Model-View matrix, the Camera matrix, the uProjectionMatrix, and the Normal matrix. It implements the matrix stack with the <code class="literal">push</code> and <code class="literal">pop</code> operations.</li><li style="list-style-type: disc"><code class="literal">utils.js</code>: Contains auxiliary functions, such as <code class="literal">getGLContext</code>, which helps create a WebGL context for a given HTML5 <code class="literal">canvas</code>.</li><li style="list-style-type: disc">Application hook functions, which are as follows:
<div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">init</code>: This function initializes the application and is only called when the document has loaded via <code class="literal">window.onload = init;</code>.</li><li style="list-style-type: disc"><code class="literal">configure</code>: This function creates and configures dependencies, such as the program, cameras, lights, and so on.</li><li style="list-style-type: disc"><code class="literal">load</code>: This function requests objects from the web server by calling <code class="literal">scene.load</code>. We can also add locally generated geometry (such as the <code class="literal">Floor</code>) by calling <code class="literal">scene.add</code>.</li><li style="list-style-type: disc"><code class="literal">draw</code>: This function is called when the rendering timer goes off. Here, we retrieve objects from the <code class="literal">scene</code> and render them appropriately by ensuring their location (for example, applying local transforms using the matrix stack) and their properties (for example, passing the respective uniforms to the <code class="literal">program</code>).</li></ul></div></li></ul></div><p>Now, let's bring all of these concepts together and create a 3D virtual car showroom.</p><p> </p></div>