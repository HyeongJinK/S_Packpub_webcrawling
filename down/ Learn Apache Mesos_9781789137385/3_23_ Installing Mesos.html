<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec28"></a>Installing Mesos</h2></div></div><hr /></div><p><span>So,</span> we are all set and ready to get into the core part of the chapter: installing Mesos.</p><p>The following section will guide you through exactly how to do this:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>To install Mesos, we will first <span>need</span><a id="id325245110" class="indexterm"></a> to add the Mesosphere repository to all our hosts. To do this, start with master1 and use the following path:</li></ol></div><pre class="programlisting"><span class="strong"><strong>sudo rpm -Uvh http://repos.mesosphere.io/el/7/noarch/RPMS/mesosphere-el-repo-7-1.noarch.rpm</strong></span></pre><p>This will automatically download and install the Mesosphere repository. Repeat this step for <code class="literal">master2</code>, <code class="literal">master3</code>, as well as on the slaves and marathons. With that, we are done adding repositories.</p><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>We can validate the addition of repositories by running the following command:</li></ol></div><pre class="programlisting"><span class="strong"><strong>cd /etc/yum.repos.d</strong></span>
<span class="strong"><strong>ls -rlt</strong></span></pre><p> </p><p> </p><p> </p><p> </p><p>You can see that the Mesosphere repository was added in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781789137385/graphics/7fe514be-905c-48c7-b936-e61c3647bdfa.png" /></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>To install Mesos, return back to the <code class="literal">master</code> directory using <code class="literal">cd</code>, and then run the following command:</li></ol></div><pre class="programlisting"><span class="strong"><strong>sudo yum install mesos</strong></span></pre><p>You will see that Mesosphere has checked all of its dependencies.</p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>We want to install Mesos version 1.5.0 from the Mesosphere repository, so let's enter <code class="literal">Y</code> for yes, and let the installation proceed.</li><li>It is always good to validate whatever we do, so let's use the <span>following</span><a id="id325485816" class="indexterm"></a> command:</li></ol></div><pre class="programlisting"><span class="strong"><strong>service mesos-master status</strong></span></pre><p> </p><p>If your installation was successful, the following should be displayed:</p><div class="mediaobject"><img src="/graphics/9781789137385/graphics/fdb9c02e-46a1-4507-9132-17b442c2de26.png" /></div><p>Do you see the inactive state? Well, fear not. It is just a contradiction—this actually indicates that we have successfully installed Mesos! It is just that the services haven't started yet. But hold on—we won't start any services just yet. Let's first start installing Mesos similarly across all the servers. Once you're done, let's <span>move</span><a id="id325485920" class="indexterm"></a> on to installing ZooKeeper in the next section.</p></div>