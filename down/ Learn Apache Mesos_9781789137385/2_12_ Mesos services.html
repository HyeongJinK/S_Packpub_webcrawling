<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec18"></a>Mesos services</h2></div></div><hr /></div><p>To check the Mesos web page, use the <span>name</span><a id="id325245083" class="indexterm"></a> on the local desktop. There will be no agent activity, so we will start our Mesos slave by typing <code class="literal">sudo service mesos-slave start</code>:</p><p>Check the status with <code class="literal">sudo service mesos-slave status</code> command. It will be in running state. Next, check the Mesos console. Click the <strong class="userinput"><code>Agents</code></strong> tab, and you will see that we have activated the agent that is running on the Mesos host. Hence, the host, CPUs, memory, and disk space are visible, which are registered:</p><div class="mediaobject"><img src="/graphics/9781789137385/graphics/65a2f51a-f064-4713-a16f-2e0e0204fc24.png" /></div><p>Click on the <strong class="userinput"><code>Frameworks</code></strong> tab, and then you will see which frameworks are available via the Mesos console:</p><div class="mediaobject"><img src="/graphics/9781789137385/graphics/219df38a-d8b8-40f2-b4a5-d7909d876c9f.png" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec12"></a>Deploying the Marathon application</h3></div></div></div><p>To deploy the sample <span>nginx</span><a id="id325245236" class="indexterm"></a> application, carry out the <span>following</span><a id="id325245301" class="indexterm"></a> steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Click on <strong class="userinput"><code>Create Application</code></strong> button. In the <strong class="userinput"><code>General</code></strong> tab, set the application ID, CPUs, memory, disk space, and <strong class="userinput"><code>Instances,</code></strong> as can be seen here:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/bfcc04fb-1320-4b9c-8dfa-ecfcbeb95d76.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>In the <strong class="userinput"><code>Docker Container</code></strong> tab, type <code class="literal">nginx</code>; it will pull the latest nginx image and mark it as <strong class="userinput"><code>Bridged</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/b86a3fd5-0d85-465c-948e-0188a7a4ca96.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Enter <code class="literal">80</code> in the <strong class="userinput"><code>Container Port</code></strong> box. Type the name as <code class="literal">nginx</code> and click on <strong class="userinput"><code>Create Application</code></strong>. You will see how quickly our nginx image is running:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/b734002a-9803-4a30-81c2-568fbd1d90a4.png" /></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Click on <code class="literal">nginx</code>, which <span>shows</span><a id="id325485834" class="indexterm"></a> details for <span>your</span><a id="id325485912" class="indexterm"></a> nginx image:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/45648235-763d-46e0-921f-8ba77e1d6c55.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Click on the nginx ID, which will detail the nginx application:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/aaefc929-7982-4e92-b6c7-311ff34d3b01.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note4"></a>Note</h3><p>If you click on nginx, the page won't get loaded as the security group cannot accept any port.</p></div><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>To allow the security group to accept any port in which the nginx space can be viewed, go to the <strong class="userinput"><code>Security groups</code></strong> of your EC2 instance.</li><li>Click on the <strong class="userinput"><code>Inbound</code></strong> tab and edit the rule.</li><li>Click on <strong class="userinput"><code>Add Rule</code></strong> and select <strong class="userinput"><code>All traffic</code></strong>,under <strong class="userinput"><code>Type</code></strong> field, <strong class="userinput"><code>Anywhere</code></strong> under <strong class="userinput"><code>Source</code></strong>, and then <strong class="userinput"><code>Save</code></strong>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/6d4806cc-7930-4c32-9b7c-dd7cad7de017.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="9" type="1"><li>Go back to the page where our <span>connection</span><a id="id325489848" class="indexterm"></a> was refused and refresh the page; you <span>will</span><a id="id325489857" class="indexterm"></a> see the <strong class="userinput"><code>Welcome to nginx!</code></strong> page:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/ed3de9af-93f0-47e6-8de6-795583766bae.png" /></div><p> </p><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="10" type="1"><li>Check the Mesos page and you will see it has <strong class="userinput"><code>Framework ID</code></strong>, <strong class="userinput"><code>Task ID</code></strong>, and <strong class="userinput"><code>Task Name</code></strong>, and it will be in the <strong class="userinput"><code>RUNNING</code></strong> state:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/6ea3691b-fd4e-42a7-8b18-114115cd55df.png" /></div><p>This is how you can build your <span>development</span><a id="id325245316" class="indexterm"></a> environment and deploy the application <span>using</span><a id="id325245324" class="indexterm"></a> the Marathon framework.</p></div></div>