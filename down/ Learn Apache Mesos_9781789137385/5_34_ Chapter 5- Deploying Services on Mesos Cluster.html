<div class="chapter" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="ch05"></a>Chapter 5. Deploying Services on Mesos Cluster</h2></div></div></div><p>A service deployment is a process where we configure a collection of services in the host application that are required to instantiate the program. In this chapter, we will deploy WordPress and the nginx application via the Marathon framework. We will see how we can scale the application very quickly and easily. We will load balance our Marathon console using Elastic Load Balancer. We will also do the same process for our Mesos console. This will help us to save time as we don't have to log in each console every time. If your load balancer is forwarding a request to a standby server, then the standby will forward that request to our elected leader of Mesos. In this way, you will achieve the high availability and the resilience of Marathon and your Mesos master servers.</p><p>We will also see how to set a Marathon-lb HAProxy to load balance your customer request. Marathon-lb is a service discovery and load balancing tool for Marathon based on HAProxy. As soon as your new service is discovered in the cluster, Marathon-lb will detect that and make the changes in its configuration so new services can be consumed by our customers. This helps us to save the manual intuition of the administrator, and it automatically manages the high availability and resilience for your application.</p><p>Following are the main topics that you will get to learn as you progress with the chapter:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Configure AWS Load Balancer for Marathon and Mesos master</li><li style="list-style-type: disc">Enable the containerizer flag on all of our master slave servers, and add a Marathon user on our slave and master server where we want to deploy the services</li><li style="list-style-type: disc">Deploy a sample nginx server on our Mesos cluster</li><li style="list-style-type: disc">Scale the nginx server</li><li style="list-style-type: disc">Set up an RDS MySQL database for WordPress</li><li style="list-style-type: disc">Deploy a WordPress container in Mesos cluster</li><li style="list-style-type: disc">Deploy Marathon-lb based on HAProxy for our WordPress container</li></ul></div></div>