<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec9"></a>Introduction to Apache Mesos</h2></div></div><hr /></div><p>Imagine an e-commerce application server where, if you are <span>selling</span><a id="id325489662" class="indexterm"></a> a product, lots of users access your website. This creates a huge amount of data and requires more CPU memory and disk space. Day-by-day users increase, so the demand for resources increases. To cater to these needs, you use data centers and the cloud to provide these additional resources. Apache Mesos helps to manage and share these resources in an efficient manner, and also helps us with scalable deployments by forming a cluster.</p><p>A Mesos cluster is made up of four major components:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">ZooKeeper</li><li style="list-style-type: disc">Mesos masters</li><li style="list-style-type: disc">Mesos slaves</li><li style="list-style-type: disc">Frameworks</li></ul></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec4"></a>Architecture of Mesos</h3></div></div></div><p>Mesos has an architecture with the combination of <span>master</span><a id="id325489691" class="indexterm"></a> and slave daemons and frameworks. Here are a few definitions of components used in our architecture:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Master daemon</strong></span>: Mesos master runs on a <span>master</span><a id="id325490085" class="indexterm"></a> node and organizes the slave daemons, so we will have three master nodes where we will install Mesos master, and it will manage the Mesos slave server, which runs on the other three servers.</li><li style="list-style-type: disc"><span class="strong"><strong>Slave daemon</strong></span>: Mesos slave runs on slave nodes and runs tasks that belong to the framework, so we will be having a Marathon framework, which will register with the Mesos master and will schedule the Docker containers, and those Docker containers will run on Mesos slave servers.</li><li style="list-style-type: disc"><span class="strong"><strong>Framework</strong></span>: The framework, which can also be called the Mesos application, consists of a scheduler, which registers with the <span>master</span><a id="id325490105" class="indexterm"></a> to achieve resource offers, and one or more executors, which pushes the tasks on slaves. An example of a Mesos framework is Marathon. The Marathon framework can be used in the scheduling of tasks. So, the Marathon framework gets registered with the Mesos master and it receives the resource offers. This framework also deploys the application on the Mesos cluster, which gets launched on slaves.</li></ul></div><p> </p><p>Following are other important components of the <span>Mesos</span><a id="id325490119" class="indexterm"></a> architecture:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Offer</strong></span>: The master gets offers from the slave nodes and the <span>master</span><a id="id325490201" class="indexterm"></a> provides offers to the registered frameworks. So, all the resources are on slave node, such as CPU memory and disk, and then the Mesos <span>master</span><a id="id325490210" class="indexterm"></a> provides offers to the registered framework, which is Marathon.</li><li style="list-style-type: disc"><span class="strong"><strong>Task</strong></span>: A unit of work that is scheduled by a framework, Marathon, and tasks are like Docker. If we run any image of Docker, those Docker images will run on a slave node. Tasks can be anything, from a bash command, or script, or running a Docker container.</li><li style="list-style-type: disc"><span class="strong"><strong>Apache ZooKeeper</strong></span>: It's a software that is used to coordinate the <span>master</span><a id="id325490229" class="indexterm"></a> nodes. It elects the master leader, and if out of three nodes any node is down, it again elects the leader from the remaining two nodes. A minimum of three nodes is required to form a cluster.</li></ul></div></div></div>