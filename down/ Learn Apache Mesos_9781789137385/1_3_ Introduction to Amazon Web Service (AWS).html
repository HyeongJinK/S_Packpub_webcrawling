<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec10"></a>Introduction to Amazon Web Service (AWS)</h2></div></div><hr /></div><p>AWS is a secured cloud service platform that <span>offers</span><a id="id325475170" class="indexterm"></a> computing power. This is where we can run an EC2 instance for our master and slave, and then for the Marathon framework. It offers database storage as well.</p><p>We will use a MySQL database that offers more functionality to help the environment scale and grow.</p><p> </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec5"></a>AWS environment</h3></div></div></div><p>For creating a VPC, EC2 instance, security groups, and load-balancers, perform the <span>following</span><a id="id325482953" class="indexterm"></a> steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Create a Virtual Private Cloud:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/ff8e720e-70b9-4276-9bf4-cec4b02ee9d4.png" /></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Create an EC2 instance: two for Marathon, three for Mesos master servers, and three for the Mesos slave servers:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/9d9930a8-6650-4bdd-9170-220c6043a264.png" /></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Install the Mesos master application, Marathon:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/1db8f722-d35a-4790-8342-a3e310e64a93.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Install ZooKeeper:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/cd1930af-91f6-4387-866f-c76099eb6a4d.png" /></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Insert Docker to run <span>Docker</span><a id="id325485921" class="indexterm"></a> images on all the slave servers. We will install the Mesos slave as well:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/36b49ffe-75f8-4b4b-80aa-e0f27cd5c959.png" /></div><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="6" type="1"><li>Use Marathon to deploy the application, and those tasks will launch on slave servers. We will use a WordPress Docker container:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/20f610ac-eb5d-4c15-b9ad-807432a5e088.png" /></div><p> </p><p> </p><p> </p><p>Also, we will see how to load-balance Marathon and Mesos master servers. This will help to manage the Mesos UI and Marathon UI. It is not necessary to go every time on each Marathon server as the load-balancer will take care of that. If one of the master servers is down, it will redirect to <span>another</span><a id="id325489765" class="indexterm"></a> one, so this is where your management will become easy:</p><div class="mediaobject"><img src="/graphics/9781789137385/graphics/18366705-23de-4aef-a5ca-3b19d1a197e8.png" /></div><p>Use Marathon-lb HAProxy to load-balance your application request:</p><div class="mediaobject"><img src="/graphics/9781789137385/graphics/c2c5a087-6d26-4acf-980c-ec368dc2d096.png" /></div><p>This was a quick overview of what we are going to cover in the <span>upcoming</span><a id="id325489795" class="indexterm"></a> chapters.</p></div></div>