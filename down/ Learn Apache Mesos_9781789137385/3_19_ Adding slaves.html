<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec24"></a>Adding slaves</h2></div></div><hr /></div><p>Now, it is time to add the slaves to our <span>configuration</span><a id="id325245083" class="indexterm"></a> to complete our master-slave setup.</p><p>To do so, follow these simple steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Start the <code class="literal">docker</code> service on all slaves with these commands:</li></ol></div><pre class="programlisting"><span class="strong"><strong>sudo service docker start</strong></span>
<span class="strong"><strong>sudo service docker status</strong></span></pre><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Start the slave services, but first, there are a few things to consider. We should have a Marathon user here:</li></ol></div><pre class="programlisting"><span class="strong"><strong> id marathon //include this on all 3 servers</strong></span></pre><p>We need to add a Marathon user; otherwise, your application will not get deployed, so the Marathon user should be there on all the three services.</p><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Change the directory to <code class="literal">/etc/mesos-slave</code>, and then, once in this directory, type <code class="literal">ls -rlt</code>. You should see the files with containerizers. Run <code class="literal">cat containerizer</code>, and you should see the two files for Mesos and Docker.</li></ol></div><p>This information should be available on all the three servers. Now we can start the slave services as follows:</p><pre class="programlisting"><span class="strong"><strong>sudo service mesos-slave start</strong></span>
<span class="strong"><strong>sudo service mesos-slave status //repeat on all slaves</strong></span></pre><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Now that the slave servers have been started, return to the Mesos console in the browser, and you can see the activated slaves:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789137385/graphics/24718cea-241b-4d33-a759-09e238c3869b.png" /></div><p>This indicates that we have <span>successfully</span><a id="id325485824" class="indexterm"></a> added slaves to our environment.</p><p>This is how we set up a multi-node Mesos cluster.</p></div>