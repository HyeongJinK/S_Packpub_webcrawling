<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec45"></a>Configuring agents</h2></div></div><hr /></div><p>To configure agents, follow <span>these</span><a id="id325092087" class="indexterm"></a> steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>In the <strong class="userinput"><code>slaves</code></strong> tab, type the following commands:</li></ol></div><pre class="programlisting"><span class="strong"><strong>$ cd /etc/mesos-slave 
$ sudo mkdir conf</strong></span></pre><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Repeat this for all the agents.</li><li>In the <code class="literal">conf</code> directory, create a <code class="literal">credential.json</code> file for all agents:</li></ol></div><pre class="programlisting"><span class="strong"><strong>$ cd conf 
$ sudo touch credential.json 
$ sudo vi credential.json</strong></span></pre><div class="orderedlist"><ol class="orderedlist arabic" start="4" type="1"><li>Add the following code in the <code class="literal">credential.json</code> file:</li></ol></div><pre class="programlisting">{ 
         "principal": "agent", 
         "secret": "agents_secret" 
} </pre><div class="orderedlist"><ol class="orderedlist arabic" start="5" type="1"><li>Save and exit using <code class="literal">:wq!</code></li></ol></div><p>This is the secret that the agents will use to get authenticated by the master. We added similar secrets for the master previously. The master will now know what secrets to use to get authenticated.</p><p>Repeat the preceding steps for all the agents.</p><p>The following steps will notify the master about the location of the credential file:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>These steps are similar to what we <span>followed</span><a id="id325475166" class="indexterm"></a> for the master:</li></ol></div><pre class="programlisting"><span class="strong"><strong>$ sudo touch credential</strong></span>
<span class="strong"><strong>$ cd conf/</strong></span>
<span class="strong"><strong>$ pwd</strong></span>
<span class="strong"><strong>//Copy the path that appears as the output of the above command.</strong></span></pre><p>It should be something like <code class="literal">/etc./mesos-slave/conf</code>. Paste it and append to it <code class="literal">/credential.json</code> file.</p><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>Return to the <code class="literal">mesos- slave</code> directory by using the <code class="literal">cd..</code> command.</li><li>Open the <code class="literal">$ sudo vi credential.json</code> credential file.</li><li>Insert the following path:</li></ol></div><pre class="programlisting"><span class="strong"><strong>/etc/mesos-slave/conf/credential.json</strong></span></pre><p>Save and exit using <code class="literal">:wq!</code>, and repeat the preceding steps for all agents.</p><p>We have <span>successfully</span><a id="id325485810" class="indexterm"></a> configured the agents. We will now move onto Marathon!</p></div>