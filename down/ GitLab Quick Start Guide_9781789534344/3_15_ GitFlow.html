<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec21"></a>GitFlow</h2></div></div><hr /></div><p>Git flow is a semi-standardized workflow for dealing with projects in Git. It can be daunting, but the rules involve creating a stringent practice for when branches should be committed to or merged in order to prevent deploying buggy code or releases. A diagram of it is as follows:</p><div class="mediaobject"><img src="/graphics/9781789534344/graphics/6152abbf-6707-4486-8310-5410795827c7.png" /></div><p>As you can see, there are a number of different <span class="emphasis"><em>streams</em></span>. You have the master branch, hotfix branches for fixing emergency bugs, releases, the develop branch, and feature branches. These all have very particular uses, which we'll go into now.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec18"></a>Master</h3></div></div></div><p>The master branch is the original branch where all code is branched from. However, it is never committed to directly; it is only ever merged into. The master branch is then used as the deployed branch, or the released branch if you have a product that is shipped. You can <span class="emphasis"><em>tag</em></span> each merge with a version number to help identify these releases or deployed versions. It is worth reiterating here that code on the master branch should always be considered <span class="emphasis"><em>production ready</em></span> and that no development should be occurring on this branch.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec19"></a>Develop</h3></div></div></div><p>The develop branch is the other continuously existing branch in the Git flow model, along with the master branch. All other branches are considered temporary and can be deleted after work is finished on them and they've been merged.</p><p>This branch can often be the branch that the latest <span class="emphasis"><em>nightly builds</em></span> are produced from and should have the latest delivered work available on it. Note that in many work environments, code will not be committed directly to the develop branch either, instead happening on feature branches that are then merged back in when the fix or feature is completed. Not all workflows are as strict, though, and some allow bug fixes or minor changes on the develop branch. However, this can be considered bad practice as it allows more bugs to be introduced into the main stream.</p><p>Most feature branches will be branched directly from develop, along with release branches as well, so it's good to keep this branch in a steady, known-good, and bug-free state.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec20"></a>Features</h3></div></div></div><p>For each ticket that comes in, or for each project that is worked on, a feature branch can be created from the develop stream. Work is committed directly on this branch, and once in a sufficiently completed state, it can be merged back into develop. It's important to name these branches meaningfully; many teams tag these branches with references to the work/issue tracking system they use and sometimes with a meaningful name like <code class="literal">55-new-login-system</code>.</p><p>Unlike the develop or master branches, feature branches only need to last until the feature is complete and merged into develop, after which you can delete the branch since it should no longer be needed:</p><div class="mediaobject"><img src="/graphics/9781789534344/graphics/e0c49e54-7256-440b-a01e-7c84240f6076.png" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec21"></a>Releases</h3></div></div></div><p>Release branches are a bit more complex than the ones that we have documented thus far. Release branches refer to an upcoming release and are branched from develop at a point where all work needed to be completed for a particular release is done. Commonly, the branch name will be prefixed with <code class="literal">release-</code> to help people know what the branch is for.</p><p>Once a release branch is created, no new features should be added to it. However, it's acceptable to add bug fixes as the extra testing used on these branches might uncover more problems. Each bug fix should be merged back into develop to ensure that develop gets the bug fix and prevent it from having to be fixed again down the line.</p><p>If everything is ready, the branch can be merged directly into the master and tagged appropriately as a new release (with either a major or minor version number, depending on your scheme). Once this is done, the branch should be re-merged into develop once more to ensure that all of the changes are back into the main development stream. You can then safely delete this branch since it is no longer required:</p><div class="mediaobject"><img src="/graphics/9781789534344/graphics/3887634c-9405-42c7-9573-6f8a55d6bd79.png" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec22"></a>Hotfixes</h3></div></div></div><p>Hotfixes are patches that are applied to critical bugs – these are mainly showstopping issues that are found in the master branch. In these cases, <span>you make a branch</span> from the master directly and usually prefix the branch name with <code class="literal">hofix-</code>, then make the fix on a new commit and merge back into master, tagging the master release with a new version (usually a minor or patch version, depending on your versioning strategy). After you've merged into master, you also need to merge this into develop so that develop has the latest patches and fixes and you don't conflict in future releases. The hotfix can then be safely deleted as it is no longer required:</p><div class="mediaobject"><img src="/graphics/9781789534344/graphics/c932497c-ca80-4bc5-a789-8fd76f3b9451.png" /></div></div></div>