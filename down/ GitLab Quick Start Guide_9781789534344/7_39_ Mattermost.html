<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec41"></a>Mattermost</h2></div></div><hr /></div><p>One cool thing about self-hosted GitLab is that it contains <span>everything</span><a id="id325172291" class="indexterm"></a> necessary to run your own Mattermost server. What is Mattermost though? It's an open source, private chat server, similar to the commercially available Slack platform, but one that you can host yourself and have more control over. While chat servers sometimes get a bad rep in terms of productivity, they can also be fantastic for collaboration, especially for remote teams, and an excellent method of discussing topics that require more back-and-forth than an email but also need to be referred back to or searchable (unlike a phone call).</p><p>If you're running your own GitLab server, it's quite easy to enable the Mattermost service. Firstly, you'll need to have an extra domain pointed at your GitLab server. For example, if your GitLab server is reached at <code class="literal">gitlab.example.com</code>, you'll also need to point <code class="literal">mattermost.example.com</code> to the same IP address.</p><p> </p><p>Log in to your GitLab server via SSH and edit the file at <code class="literal">/etc/gitlab/gitlab.rb</code>. Because of its location, you may need to do this with administrator privileges (either as a privileged user or by prefixing your command with <code class="literal">sudo</code>). Find the line that says the following:</p><pre class="programlisting"># mattermost_external_url 'http://mattermost.example.com'</pre><p>Remove the pound/hash/number symbol from the front (you can call it a hashtag if you're a millennial; no judgement) and change the URL to match the domain you created for Mattermost. If you want to use SSL for your Mattermost installation, you can change the protocol from HTTP to HTTPS and it will automatically configure it with an SSL certificate using Let's Encrypt. Now, you need to reconfigure GitLab using this updated configuration file. To do that, run the following command:</p><pre class="programlisting"><span class="strong"><strong>sudo gitlab-ctl reconfigure</strong></span></pre><p>Now, you should be able to visit the URL you specified for your Mattermost server and be faced with the following prompt:</p><div class="mediaobject"><img src="/graphics/9781789534344/graphics/a8c44d88-22a0-4c0d-9f60-12867125c689.png" /></div><p>Select GitLab Single Sign-On and you'll be taken through an OAuth flow. This takes you back to GitLab, which will ask whether you want to authorize Mattermost to access your GitLab instance data to create your account. Select Authorize and you'll be redirected to Mattermost.</p><p>From here, select to create a new team and give your <span>team</span><a id="id325171445" class="indexterm"></a> a name and URL. Now, you can get started with using Mattermost! If you've ever used Slack before, you'll be very familiar with the interface and many of its capabilities. If you have experience with IRC clients, you'll probably also recognize quite a few of the conventions and extras:</p><div class="mediaobject"><img src="/graphics/9781789534344/graphics/c69a8351-aba2-4e05-ad04-c2ad8d4f7140.png" /></div><p>You can create public channels and private channels, as well as directly <span>message</span><a id="id325168890" class="indexterm"></a> other users. You can share files or post image, and you can <span class="emphasis"><em>react</em></span> to messages using built-in or custom emojis. All in all, this is a very handy tool for collaboration, team bonding, and information sharing.</p><p> </p><p> </p></div>