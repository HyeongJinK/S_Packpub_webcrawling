<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec14"></a>Omnibus on Ubuntu/Debian</h2></div></div><hr /></div><p>To install GitLab using the <span>omnibus</span><a id="id325169363" class="indexterm"></a> package on an Ubuntu or Debian system, make sure that you have a server with one of the following versions installed on it:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Ubuntu 14.04 LTS</li><li style="list-style-type: disc">Ubuntu 16.04 LTS</li><li style="list-style-type: disc">Ubuntu 18.04 LTS</li><li style="list-style-type: disc">Debian 7</li><li style="list-style-type: disc">Debian 8</li><li style="list-style-type: disc">Debian 9</li></ul></div><p>While the installation may work on other systems, it isn't guaranteed.</p><p>First, you'll need to connect to a Terminal session, update your package lists, and make sure that a few key packages are installed by running the following commands:</p><pre class="programlisting"><span class="strong"><strong>sudo apt-get update</strong></span>
<span class="strong"><strong>sudo apt-get install -y curl openssh-server ca-certificates</strong></span></pre><p>Next, you'll need to decide whether you want to use Postfix to send notification emails or an external SMTP provider. While the latter is recommended, if you do plan to use Postfix, you'll need to install it like so:</p><pre class="programlisting"><span class="strong"><strong>sudo apt-get install -y postfix</strong></span></pre><p>During the installation of Postfix, a configuration screen will appear. Make sure that you select <strong class="userinput"><code>Internet Site</code></strong> and set an appropriate mail name (preferably the server's external DNS name). For any other requests, you can accept the defaults.</p><p>Next, you'll need to add the GitLab package repository. There's a simple way to do this that's been provided by GitLab, and that's by running the following command:</p><pre class="programlisting"><span class="strong"><strong>curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ee/script.deb.sh | sudo bash</strong></span></pre><p>If you feel uncomfortable cURLing directly from the internet into a shell, you can download the shell script, inspect it, and run it, or browse to it and then run the commands individually.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note3"></a>Note</h3><p>While it is innocuous in this case, it's a good security practice to be wary about running shell scripts straight form the internet, especially to an elevated/administrator command prompt. They could contain anything, including malicious commands.</p></div><p>Now, you'll want to install the GitLab package. To do to this, you should run the following command, supplementing <code class="literal">http://example.com</code> with the URL or IP you plan to use for this installation. This command will configure and start the GitLab instance for you automatically:</p><pre class="programlisting"><span class="strong"><strong>sudo EXTERNAL_URL="http://example.com" apt-get install gitlab-ee</strong></span></pre><p>Once the installation has completed, you should be faced with the following Terminal output:</p><div class="mediaobject"><img src="/graphics/9781789534344/graphics/857a2194-3404-431e-a71e-306035a75e1c.png" /></div><p>Now, you can browse to the value you set for <code class="literal">EXTERNAL_URL</code> and you'll be directed to a password setup screen:</p><div class="mediaobject"><img src="/graphics/9781789534344/graphics/0b0af241-1094-48a6-96f0-0bcc27591bc1.png" /></div><p>Provide a password and you'll be directed to log in. Use the <span>account</span><a id="id325172289" class="indexterm"></a> name <code class="literal">root</code> and the password you just set and you'll be all set up:</p><div class="mediaobject"><img src="/graphics/9781789534344/graphics/ea35ffd9-8577-428a-bd0a-b737dd7daa39.png" /></div></div>