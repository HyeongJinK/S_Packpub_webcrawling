<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec22"></a>Representation error</h2></div></div><hr /></div><p>It should be noted that the <span>native</span><a id="id325896332" class="indexterm"></a> double precision representation of floating-point numbers leads to some unexpected results. For example, consider the following:</p><pre class="programlisting">&gt;&gt;&gt; 1-0.9
0.09999999999999998
&gt;&gt;&gt; 1-0.9==.1
False</pre><p> </p><p> </p><p>This is a result of the fact that most decimal fractions are not exactly representable as a binary fraction, which is how most underlying hardware represents floating-point numbers. For algorithms or applications where this may be an issue, Python provides a decimal module. This module allows for the exact representation of decimal numbers and facilitates greater control of properties, such as rounding behavior, number of significant digits, and precision. It defines two objects, a <code class="literal">Decimal</code> type, representing decimal numbers, and a <code class="literal">Context</code> type, representing various computational parameters such as precision, rounding, and error handling. An example of its usage can be seen in the following snippet:</p><pre class="programlisting">&gt;&gt;&gt; import decimal
&gt;&gt;&gt; x=decimal.Decimal(3.14)
&gt;&gt;&gt; y=decimal.Decimal(2.74)
&gt;&gt;&gt; x*y
Decimal('8.603600000000001010036498883')
&gt;&gt;&gt; decimal.getcontext().prec=4
&gt;&gt;&gt; x*y
Decimal('8.604')</pre><p>Here we have created a global context and set the precision to <code class="literal">4</code>. The <code class="literal">Decimal</code> object can be treated pretty much as you would treat <code class="literal">int</code> or <code class="literal">float</code>. They are subject to all of the same mathematical operations and can be used as dictionary keys, placed in sets, and so on. In addition, <code class="literal">Decimal</code> objects also have several methods for mathematical operations, such as natural exponents, <code class="literal">x.exp()</code>; natural logarithms, <code class="literal">x.ln()</code>; and base 10 logarithms, <code class="literal">x.log10()</code>.</p><p>Python also has a <code class="literal">fractions</code> module that implements a <span>rational</span><a id="id325855601" class="indexterm"></a> number type. The following example shows several ways to create fractions:</p><pre class="programlisting">&gt;&gt;&gt; import fractions
&gt;&gt;&gt; fractions.Fraction(3,4)
Fraction(3, 4)
&gt;&gt;&gt; fractions.Fraction(0.5)
Fraction(1, 2)
&gt;&gt;&gt; fractions.Fraction("0.25") 
Fraction(1, 4)</pre><p>It is also worth mentioning here the NumPy extension. This has types for mathematical objects, such as arrays, vectors, and matrices, and capabilities for linear algebra, calculation of Fourier transforms, eigenvectors, logical operations, and much more.</p><p> </p><p> </p></div>