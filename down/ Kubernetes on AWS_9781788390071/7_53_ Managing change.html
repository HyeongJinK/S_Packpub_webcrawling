<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec55"></a>Managing change</h2></div></div><hr /></div><p>Managing your Kubernetes clusters <span>with</span><a id="id325162570" class="indexterm"></a> a tool like Terraform offers a lot of advantages over the manual approach that we explored in <a class="link" href="#" linkend="ch03">Chapter 3</a>, <span class="emphasis"><em>Reach for the Cloud</em></span>. Being able to quickly and easily repeat the process of provisioning a cluster is very useful when you want to test changes to your configuration, or even when you come to upgrade the version of Kubernetes that your cluster is running.</p><p>The other key advantage of defining your infrastructure as code, is that you can use a version control tool to keep track of the changes that you make to your infrastructure over time. One of the key advantages to this is that every time you make a change, you can leave a commit message. Decisions that you make now might seem obvious, but having a record of why you chose to do something a certain way will certainly help you and others who have to work with your configuration in the future, especially as those others may not have the same context that you had when you made your changes.</p><p>A lot has been written about writing good commit messages by many software engineers. The best piece of advice is to make sure that you include as much information as isÂ required to explain why your change was needed. Your future self will thank you if you have to return to the configuration months later.</p><p>Consider this commit message:</p><pre class="programlisting">Update K8s Node Security Groups 
 
Open port 80 on the Node Security Group  </pre><p>Also consider this commit message:</p><pre class="programlisting">Allow deveopers to access the guestbook app 
 
The guestbook is served from port 80. We are allowing the control plane access to this port on the Node security groups, so developers can test the application using kubectl proxy. 
 
Once the application is in production and we provision a LoadBalancer, we can remove these rules. </pre><p>The first commit message is bad because it just explains what you did, and that should be obvious just by looking at how the configuration changed. The second message gives a lot more information. Importantly, the second message explains why the change needed to be made and gives some information that will be useful for anyone making changes to the cluster in the future. Without this important context, you might wonder why port <code class="literal">80</code> was opened and worry about what might happen if you changed that information.</p><p>Operating a Kubernetes cluster in a production setting is not just about how you launch the cluster on day one; it's about making sure that you can update and extend the cluster over time to continue to meet the requirements of your organization.</p></div>