<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec53"></a>Understanding REST verbs </h2></div></div><hr /></div><p>HTTP is a widely used <span>application</span><a id="id325816192" class="indexterm"></a> protocol for data exchange within the <span class="strong"><strong>World Wide Web</strong></span> (<span class="strong"><strong>WWW</strong></span>). This defines how the messages are formatted, how they can be transferred over the web, and the verbs or actions that the client or server has to do for data communication. REST verbs are derived from standard HTTP. Let's familiarize ourselves with these verbs.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec52"></a>Resources</h3></div></div></div><p>A resource is a <span>fundamental</span><a id="id325816100" class="indexterm"></a> concept in the world of REST. This can be anything that can be accessed and processed over the web. It can also be a simple HTML file, identity data, an image, a video, a text file, or a CSV file. These resources are uniquely identified by URI  on the web. The client makes a request using this uniquely identifiable resource on the server, and the server responds with the resource in return.</p><p>In REST, we use some of the standard HTTP verbs to map to the CRUD operations of the services. The HTTP verbs themselves are varied. These include HTTP <code class="literal">GET</code>, HTTP <code class="literal">POST</code>, HTTP <code class="literal">PUT</code>, and HTTP <code class="literal">DELETE</code>. </p><p>HTTP <code class="literal">GET</code> is the most extensively used HTTP method on the web. If we load any website in a browser, the browser accordingly makes a <code class="literal">GET</code> request to the service hosted. <code class="literal">GET</code> is used to retrieve the information from the server, but is more commonly used to read the data. If we want to retrieve a record of an identity (let's say a person's record), the <code class="literal">GET</code> request will look as follows:</p><pre class="programlisting">GET {{host-service}}/person/10</pre><p>We specify the <span class="emphasis"><em>hostname,  </em></span>a <span class="emphasis"><em>path,</em></span> <code class="literal">/person</code> in this case, and a unique identifier for the person. </p><p><code class="literal">GET</code> is considered to be a safe method as this call doesn't modify anything on the server. <code class="literal">GET</code> calls are not expected to have any side effects as they don't modify anything on the server. For this reason, a <code class="literal">GET</code> operation is known as a non-idempotent operation. The server issues the same response no matter how many times a <code class="literal">GET</code> request is made.</p><p>The <code class="literal">POST</code> method is used to create the data on the server side. A HTTP <code class="literal">POST</code> call requests that the resource be created and it is enclosed inside the request. Consider the following code:</p><pre class="programlisting">POST /person
{
"loginId":"user1@ymail.com",
"name":"username"
}</pre><p>Typically, an endpoint is exposed to receive a <code class="literal">POST</code> call that accepts the request body. Here, we pass the resource to be created in the request body, the server processes the request, does the basic validation of this request (if there is one), creates the resource, and then signals to the client that a new record has been created. Upon resource creation, the server responds with a 201 status code that indicates the creation of a new resource on the server side and a location header of the newly created resource.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note36"></a>Note</h3><p>Sending a location header is just a convention in REST. There is no hard and fast rule that the endpoint creating the resource must include a location header. Some service implementations choose to send the location header, using which the resource can be referenced later. Other service implementations may choose not to include the location header. This is because the service may expose another endpoint, which takes the input using which the resource is created earlier in order to get the unique ID or the reference of the resource that is created on the server side.
We can use <code class="literal">POST</code> to both create a new record, as well as updating an existing one.</p></div><p>HTTP <code class="literal">PUT</code> is typically used to update a resource. This takes the request body, which is the data to be updated, and the reference ID or the URI of the <span>resource</span><a id="id325812919" class="indexterm"></a> that the request was made to update, as shown by the following code:</p><pre class="programlisting">PUT {{host-service}}/person/10
{
"name":"username"
}</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip37"></a>Note</h3><p>HTTP <code class="literal">PUT</code> can also be used to create a resource. <code class="literal">PUT</code> is conventionally used for updating the existing resources in the web services.
Preferably, <code class="literal">PUT</code> is used for resources that we already know exist on the server, and it is referenced with a URI that we received after the creation.</p></div><p>HTTP <code class="literal">DELETE</code> is used to delete a resource on the server. The service defines what delete means to it; it can be a soft delete or a hard delete of the resources. We pass an identifier, or reference of the resource, to be deleted for the delete operation. The HTTP <code class="literal">DELETE</code> method requests the server to delete the referenced resource. If the server deletes the resource, it returns a 204 status code and empty response body like this:</p><pre class="programlisting">DELETE person/10</pre><p>When we call a <code class="literal">DELETE</code> operation with a reference to the resource to be removed, this call actually translates to finding that particular referenced entity on the data source and performing a delete operation on it.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note38"></a>Note</h3><p>The HTTP <code class="literal">POST</code> and  <code class="literal">PUT</code> and  <code class="literal">DELETE</code> operations are known as idempotent operations. These requests modify the resources on the server side.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec51"></a>HTTP status codes</h4></div></div></div><p>A status code is a way of <span>conveying</span><a id="id325985234" class="indexterm"></a> the status of the <span>operation</span><a id="id326014826" class="indexterm"></a> performed on the resources. These status codes are set on the server side and sent to the client who made a request on the resources. Based on the status code, the client gets to know whether the requested operation is fulfilled or not. Status codes also indicate that if there was an error on the server side while processing the request, the input supplied from the client itself is invalid, and so on.</p><p>As in HTTP, REST also has response status codes of different ranges, which are used to indicate the status of the operation that was requested. Status codes are three digit numbers that range from 100 to 599. Each series indicates the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>100-199 series</strong></span>: The general information in the response</li><li style="list-style-type: disc"><span class="strong"><strong>200-299 series</strong></span>: The requested operation is completed on the server</li><li style="list-style-type: disc"><span class="strong"><strong>300-399 series</strong></span>: The request needs to be redirected to another resource in order for the request to be completed</li><li style="list-style-type: disc"><span class="strong"><strong>400-499 series</strong></span>: Something in the request is incorrect</li><li style="list-style-type: disc"><span class="strong"><strong>500-599 series</strong></span>: Errors on the server side</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note39"></a>Note</h3><p>The status code is used for conveying the response to the server's attempt to fulfill a client's request.</p></div><p>Let's try to understand the status codes and when they can be used in the following sections.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch07lvl4sec22"></a>The 100 series</h5></div></div></div><p>The 100 series is used for conveying <span>informational</span><a id="id326015368" class="indexterm"></a> messages to the client. It is very uncommon to see this series, but possible to send the information status like this:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>100 Continue</strong></span>: This status code indicates that the server has received the request headers and is ready to accept the payload that the client wants to send. The client first makes a request to the server; if the server responds with 100 Continue in response header, the client then sends the request body for further processing. The server can choose to respond with 417 Expectation Failed status if it is not ready to accept the request.</li><li style="list-style-type: disc"><span class="strong"><strong>101 Switching Protocols</strong></span>: This status code indicates that the server is fine for switching the protocol that the client is requesting.</li><li style="list-style-type: disc"><span class="strong"><strong>102 Processing</strong></span>: This status code indicates that the server is processing the request and it may take a long time for this to complete. This prevents a client from being timed out when waiting for the response.</li><li style="list-style-type: disc"><span class="strong"><strong>103 Early Hints</strong></span>: This status code is used to indicate that the server is likely to send a final informational response to the client. It is common for servers to send HTTP responses that contain links to external resources that need to be processed before consuming the actual response; for example, rendering an HTML file or an image by a web browser. Sending early hints helps to prepare the clients to process theresponse.</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note40"></a>Note</h3><p>Status codes 104-199 are unassigned and have no defined meaning.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch07lvl4sec23"></a>The 200 series</h5></div></div></div><p>The 200 series is used for indicating the success of the operation requested by the client. This tells the client that the request has been processed successfully, the necessary changes have been made to the resource, and a successful response has been issued to the client:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>200 OK</strong></span>: This status code indicates that the <span>request</span><a id="id326079053" class="indexterm"></a> processing is successful and the server responds with the success response body.</li><li style="list-style-type: disc"><span class="strong"><strong>201 Created</strong></span>: This status code indicates that the server processed the request successfully and a new resource is created on the server.
</li><li style="list-style-type: disc"><p><span class="strong"><strong>202 Accepted:</strong></span> This status is used to indicate that the server has accepted the request. Generally this status code is used when the server takes longer time to process the request. When the server accepts the request, it sends the 202 status code to the client indicating that it has accepted the request and takes time to complete the processing of the request.</p></li><li style="list-style-type: disc"><span class="strong"><strong>203 </strong></span><span class="strong"><strong> Non-Authoritative Information</strong></span>: This status code used to indicate that the server(origin) has processed the request successfully but the enclosed response is modified from that of origin server's original response. Sometimes the HTTP proxy which is in between the client and the server can modify the response coming from the server.
The HTTP proxy changes the status code to 203 if it modifies the response. 203 status code is a <span class="emphasis"><em>Non-Authoritative Information</em></span> and indicates the transformation applied on the original response from the server. It changes the original HTTP status code and there is no way to check what was the original status code from the server.
As an alternative to 203 HTTP status code, RFC suggest to use a <span class="emphasis"><em>warning header</em></span> set to <span class="strong"><strong>214 Transformation applied</strong></span>. In case of this warning header, the original status code from the origin will not be modified once the proxy applies any transformation on the response.</li><li style="list-style-type: disc"><span class="strong"><strong>204 No Content</strong></span>: This status code indicates that the request processing is successful and the server responds with an empty response body. Usually, the 204 No Content status code is used for a successful delete operation on a resource.</li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch07lvl4sec24"></a>The 300 series</h5></div></div></div><p>The 300 series is used for indicating <span>that</span><a id="id326166595" class="indexterm"></a> the resource requested has been moved to a different location and the client has to redirect its request to a new resource:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>304 Not Modified</strong></span>: This status code indicates that the resource has not been modified since it was last accessed.</li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch07lvl4sec25"></a>The 400 series</h5></div></div></div><p>The 400 series indicates that the request that the client sending is invalid and not in a format that the server can process:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>400 Bad Request</strong></span>: This status code indicates that the server is unable to process the request as either the syntax is incorrect, or the value doesn't <span>match</span><a id="id326559794" class="indexterm"></a> the condition that server has defined.
</li><li style="list-style-type: disc"><span class="strong"><strong>401 Unauthorized</strong></span>:This status code indicates that authentication is required to access the requested resource.</li><li style="list-style-type: disc"><span class="strong"><strong>403 Forbidden</strong></span>: This status code is indicates to the client that it either lacks the required authorization to access the resource, or the server refuses to process the request though the request is valid. The reason will be listed in the response body.</li><li style="list-style-type: disc"><span class="strong"><strong>404 Not Found</strong></span>:This status code indicates that the requested resource is not found on the server at the location specified in the request.</li><li style="list-style-type: disc"><span class="strong"><strong>405 Method Not Allowed</strong></span>:This status code indicates that the HTTP method specified in the request is not allowed on the resource identified by the URI.</li><li style="list-style-type: disc"><span class="strong"><strong>408 Request Timeout</strong></span>:This status code indicates that the client failed to respond within the elapsed time set on the server side.</li><li style="list-style-type: disc"><span class="strong"><strong>409 Conflict</strong></span>: This status code indicates that the request cannot be processed or completed as it conflicts with the constraints defined on the resources in the server. For example, a resource creation request that already exists can return 409 Conflict, indicating that the resource is already present on the server side.</li></ul></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch07lvl4sec26"></a>The 500 series</h5></div></div></div><p>The 500 series indicates that something went wrong while processing the request on the server side. These may possibly arise when exceptions are not handled properly, when the server ends up in a run-time exception, or with any other errors, such as out of memory. This indicates that the request cannot be fulfilled.</p><p>The 500 series status code <span>informs</span><a id="id325884423" class="indexterm"></a> us that there is something wrong with the execution of the action performed in the given resource:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>500 Internal Server Error</strong></span>: This status code indicates that the requested action has not been processed successfully by the server. This occurs when the server encounters an error while processing the request and the server returns the 500 status code.</li><li style="list-style-type: disc"><span class="strong"><strong>503 Service Unavailable</strong></span>: This status code indicates that the server is not available to process the request or when it is down.</li><li style="list-style-type: disc"><span class="strong"><strong>504 Gateway Timeout</strong></span>: This status code indicates that the request is sent to the server but the response was not received on time.
</li></ul></div></div></div></div></div>