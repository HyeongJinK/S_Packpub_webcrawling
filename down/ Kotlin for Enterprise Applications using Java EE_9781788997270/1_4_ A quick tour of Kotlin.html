<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec11"></a>A quick tour of Kotlin</h2></div></div><hr /></div><p>In this section, let's take a quick look at the world of <span>Kotlin</span><a id="id326237140" class="indexterm"></a> and understand the basics of the language.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec6"></a>Declaring variables</h3></div></div></div><p>To declare a variable in Kotlin, we use <span>either</span><a id="id326237125" class="indexterm"></a> the <code class="literal">val</code> or <code class="literal">var</code> keywords.</p><p>Let's take a look at the following example:</p><pre class="programlisting">val number = 10
println(number)</pre><p>The preceding code prints the value that is assigned to a variable number, as can be seen in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/d1b08628-eaf2-499e-894d-9d925931a994.png" /></div><p>However, if we try to change the value assigned to the number, we will get a compilation error. Take a look at the following code:</p><pre class="programlisting">val number = 10
println(number)
number = 11
println(number)</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/d347a73a-2f9a-4853-a2d0-120beee800d4.png" /></div><p>This is because <code class="literal">val</code> is immutable in Kotlin. This means that once a value is assigned, it cannot be modified. The keyword <code class="literal">var</code>, however, can be used to create a mutable variable.</p><p>Now consider the code for <code class="literal">3_valnVar.kts</code>:</p><pre class="programlisting">val number = 10
println(number)

var anotherNumber = 15
println(anotherNumber)

anotherNumber = 20
println(anotherNumber)</pre><p>The output for the preceding code is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/b3461fab-0ca6-4a54-9330-e2de7a5debd1.png" /></div><p>Let's examine what happens if we assign a string value to the preceding code:</p><pre class="programlisting">val number = 10
println(number)

var anotherNumber = 15
println(anotherNumber)

anotherNumber = "20"
println(anotherNumber)</pre><p>Compile this and see what happens:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/1a62165b-9bbf-4cb8-a9dc-06ccad1abbea.png" /></div><p>In this case, the compiler throws an error saying that the <span>type</span><a id="id325601678" class="indexterm"></a> is mismatched. This is because the <code class="literal">anotherNumber</code>variable was inferred to be of type <code class="literal">int</code> and, as a result, we cannot assign a different type.</p><p>The type is inferred from the context and type safety is also guaranteed.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note4"></a>Note</h3><p>Both <code class="literal">var</code> and <code class="literal">val</code> are used to declare variables in Kotlin. <code class="literal">val</code> creates immutable variables, and <code class="literal">var</code> creates mutable variables. Variables declared using the <code class="literal">val</code> keyword cannot be changed once a value is assigned to them. This is similar to a final variable in Java. <code class="literal">val</code> is used to create constants. Variables declared using the <code class="literal">var</code> keyword can be changed later in the program. This corresponds to a regular Java variable.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec7"></a>Data types in Kotlin</h3></div></div></div><p>The basic data types in <span>Kotlin</span><a id="id325812948" class="indexterm"></a> are numbers, characters, Boolean, arrays, and strings. These are described as follows:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Number</strong></span>: Kotlin provides the following built-in types <span>that</span><a id="id325813036" class="indexterm"></a> represent numbers, similar to Java:</li></ul></div><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; "><colgroup><col /><col /></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Type</strong></span></p></td><td style="border-bottom: 0.5pt solid ; "><p><span class="strong"><strong>Byte</strong></span></p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Double</p></td><td style="border-bottom: 0.5pt solid ; "><p>8</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Float</p></td><td style="border-bottom: 0.5pt solid ; "><p>4</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Long</p></td><td style="border-bottom: 0.5pt solid ; "><p>8</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Int</p></td><td style="border-bottom: 0.5pt solid ; "><p>4</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; "><p>Short</p></td><td style="border-bottom: 0.5pt solid ; "><p>2</p></td></tr><tr><td style="border-right: 0.5pt solid ; "><p>Byte</p></td><td style=""><p>1</p></td></tr></tbody></table></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note5"></a>Note</h3><p>Unlike in Java, characters are not numbers in Kotlin.</p></div><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Byte</strong></span>: Byte is a one-byte or 8-bit type for which values range from -128 to 127</li><li style="list-style-type: disc"><span class="strong"><strong>Short</strong></span>: Short is a two-byte or 16-bit type for which values range from -32768 to 32767</li><li style="list-style-type: disc"><span class="strong"><strong>Int</strong></span>: Int is a four-byte or 32-bit type for which values range from -2^31 to 2^31-1</li><li style="list-style-type: disc"><span class="strong"><strong>Long</strong></span>: Long is an eight-byte or 64-bit type that can have values from -2^63 to 2^63-1
</li><li style="list-style-type: disc"><span class="strong"><strong>Double</strong></span>: Double is a double-precision, 8-byte, or 64-bit floating point</li><li style="list-style-type: disc"><span class="strong"><strong>Float</strong></span>: Float is a single-precision, 4-byte or 32-bit floating point</li><li style="list-style-type: disc"><span class="strong"><strong>Char</strong></span>: Char is used to represent a character in Kotlin, two-byte or 16-bit long, and is used to represent unicode characters</li></ul></div></li></ul></div><p><code class="literal">Char</code> is a type used to represent characters. This is represented as follows:</p><pre class="programlisting">val ch = 'a'</pre><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Boolean</strong></span>: Kotlin has a Boolean type to represent Booleans. It takes either <code class="literal">true</code> or <code class="literal">false</code>:</li></ul></div><pre class="programlisting">val isValid = true
val flag = false</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip6"></a>Note</h3><p>If you are using IntelliJ IDEA, you can place your cursor inside the variable and press <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>Shift</em></span> + <span class="emphasis"><em>P</em></span> to see its type.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec1"></a>Warnings</h4></div></div></div><p>If we have created a variable and not used it, or if we forget to <span>initialize</span><a id="id326166529" class="indexterm"></a> a variable, we will get warnings, which can be useful to prevent errors. Kotlin provides many such warnings during compile time to avoid possible runtime errors. This increases program reliability.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec2"></a>Type inference</h4></div></div></div><p>Kotlin is a statically-typed language. It <span>executes</span><a id="id326166576" class="indexterm"></a> the type inference for us, so we don't have to specify types. Consider the code for <code class="literal">3a_TypeInference.kts</code>:</p><pre class="programlisting">val message = "Hi there"
println(message)</pre><p>When we run this code, we get the following output:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/0646e0f0-a062-4a51-9d5f-b2aec41daf82.png" /></div><p>We can also explicitly specify the type. Consider the following code:</p><pre class="programlisting">val message : String = "Hi there"
println(message)</pre><p>This is an example of creating a variable of the <code class="literal">String</code> type and printing it in the console. This looks like Scala syntax and it is quite different from what we do in Java.</p><p>In Java, we would write this as follows:</p><pre class="programlisting">String message = "Hi there";</pre><p>Languages such as Kotlin emphasize that the name of a variable is more important than the nature of the variable. Kotlin puts the name of a variable or constant first and the type after in the <code class="literal">var</code> declaration syntax. The type is, in fact, optional; we don't have to specify it. We might think that this is the same as the dynamic type, where the type is resolved during runtime. Kotlin, however, actually infers the type at compile time.</p><p>Kotlin uses the String class from the JDK library. We can query the class that it uses as follows:</p><pre class="programlisting">val message = "Hi there"
println(message.javaClass)</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/52a83738-bf99-4978-a6fc-c8322c224a1e.png" /></div><p>As a general rule, it's a good idea to specify type information when we write public-facing interfaces and, when using local variables, we can let the language infer the type.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec3"></a>String templates</h4></div></div></div><p>Kotlin has support for templates for the String type. This is <span>useful</span><a id="id326567161" class="indexterm"></a> because it helps us to <span>avoid</span><a id="id326567896" class="indexterm"></a> concatenation in code.</p><p>Let's look at an example for <code class="literal">4_StringTemplate.kts</code>:</p><pre class="programlisting">val name = "Atrium"
println("Hello ${name}")</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/e723e61d-f8e8-4a2f-9c2a-3bf1a7049694.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip7"></a>Note</h3><p>The curly brackets are optional here. <code class="literal">println("Hello ${name}")</code> can be written as <code class="literal">println("Hello $name")</code>, but it is good practice to use them to indicate the boundaries of the expression.</p></div><p>Let's look at <code class="literal">4a_StringTemplate.kts</code>:</p><pre class="programlisting">val name = "Atrium"
println("Hello $name")</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/e723e61d-f8e8-4a2f-9c2a-3bf1a7049694.png" /></div><p>Now consider the following code in Java:</p><pre class="programlisting">myName= "tanbul"
System.out.println("my name is" + myName);   </pre><p>Here, we meant to print <code class="literal">tanbul</code>, but due to a formatting error, this code prints <code class="literal">my name istanbul</code>. We want to correct the code as follows:</p><pre class="programlisting">myName= "tanbul"
System.out.println("my name is " + myName);</pre><p>Kotlin's<span class="strong"><strong> </strong></span>string template really helps to avoid any possible formatting errors from string concatenation. In Kotlin, we write the preceding code with clear syntax as follows:</p><pre class="programlisting">myName= "tanbul"
println("my name is ${myName}")</pre><p>This prints the following:</p><pre class="programlisting">my name is tanbul</pre><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h5 class="title"><a id="ch01lvl4sec4"></a>Multi-line String Literals</h5></div></div></div><p>We can also define multiline string literals without having to use <code class="literal">+ +</code> for concatenation. Let's create a <span>multiline</span><a id="id325996469" class="indexterm"></a> string in the example <code class="literal">4b_MultilineString.kts</code>:</p><pre class="programlisting">val name = "Atrium"
val message = """This is an example of
 multiline String $name
"""
println(message)</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/160ee938-7ba2-43ed-a803-05814483c13f.png" /></div><p>Observe the indentation in the preceding example. If we don't want to use indentation, we can put <code class="literal">|</code> and use the <code class="literal">trimMargin()</code> function to trim the margin as follows:</p><pre class="programlisting">val name = "Atrium"
val message = """This is an example of
 |multiline String $name
"""
println(message.trimMargin())</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/d445802e-de3e-49b1-a38c-4d2777ae0a7e.png" /></div><p>One more thing that we can do is customize the character that we are going to use for margin separation and pass it to the <code class="literal">trimMargin()</code> function as follows:</p><pre class="programlisting">val name = "Atrium"
val message = """This is an example of
 ^multiline String $name
"""
println(message.trimMargin("^"))</pre><p>This gives the following output:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/d445802e-de3e-49b1-a38c-4d2777ae0a7e.png" /></div></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec8"></a>Expressions over statements</h3></div></div></div><p>A <span>statement</span><a id="id325996761" class="indexterm"></a> is an element of a program that <span>represents</span><a id="id325996768" class="indexterm"></a> an action. An expression is a part of the statement that gets evaluated to a value. Statements introduce mutability. The more statements a program contains, the more mutability it will have. Mutability in code increases the chance that it is erroneous. Expressions, on the other hand, do not produce mutability. In purely functional constructs, there are no statements, there are only expressions. More expressions in a program mean less mutability and code that is more concise.</p><p>Consider the code for <code class="literal">5_Expressions.kts</code>:</p><pre class="programlisting">val number = 5
val evenOrOdd = if(number % 2 == 0) "is even number" else "is odd number"
println("$number $evenOrOdd")</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/f7908cd0-9a7f-4195-b662-92436999bcdf.png" /></div><p>In this case, the code has expressions and we are not mutating any state. We are simply assigning the result of an expression to a variable and printing it.</p><p>Similarly, <code class="literal">try...catch</code> is also an expression. <span class="strong"><strong><code class="literal">try...catch</code> </strong></span>is used for handling the exceptions. The last statement in the <code class="literal">try</code> block becomes the expression for the <code class="literal">try</code> block.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec4"></a>Functions</h4></div></div></div><p>The <code class="literal">fun</code> keyword is used to define <span>functions</span><a id="id326006934" class="indexterm"></a> in Kotlin. In this section, we'll discuss writing a function, type inference, and specifying the return type.</p><p>In the following example, we create a function that takes two arguments of the <code class="literal">String</code>type and prints them to the console.</p><p>Consider the following code for <code class="literal">6_Function.kts</code>:</p><pre class="programlisting">fun welcome(name:String, msg:String) {
    println("$msg $name")
}
welcome("Bob", "hello")</pre><p>Note that we used string template to print the values without concatenating string literals.</p><p>The output of the preceding code as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/b516f346-65a4-4887-9977-c51209bb64a8.png" /></div><p>This is a simple example of creating a <span>function</span><a id="id326007180" class="indexterm"></a> and invoking it. Now, let's create a function that returns a value.</p><p>Consider the code for <code class="literal">6a_Function.kts</code>:</p><pre class="programlisting">fun welcome(name: String, msg:String) =
"$msg $name"
println(welcome("Bob", "hello"))</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/be1da0c9-bf18-4daa-bc88-3af682766417.png" /></div><p>The <code class="literal">=</code> symbol says that Kotlin should infer the type from the context and identify the return type of the function. This is more suitable for single-line functions. For complex functions, we can specify the return type, in this case a <code class="literal">String</code>, and the <code class="literal">return</code> statement in the function, as shown here.</p><p>Consider the code for <code class="literal">6b_Function.kts</code>:</p><pre class="programlisting">fun welcome(name: String, msg:String) : String {
  return "$msg $name"
}
println(welcome("Bob", "hello"))</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/5e54e27f-2c77-403d-832d-40b48b1b983c.png" /></div><p>We specified the <code class="literal">String</code>return type after the arguments prefixed by the colon (<code class="literal">:</code>) and the <code class="literal">return</code> statement in the function body.</p><p>Let's take a look at a function that doesn't return anything. We are interested in writing the <code class="literal">void</code> function. </p><p>Consider the code for <code class="literal">6c_Function.kts</code>:</p><pre class="programlisting">fun addNumbers(x: Int, y:Int) : Unit {
    println("Sum of numbers is ${x+y}")
}
addNumbers(2, 3)</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/edc07e03-b1e4-4d89-821b-903a4b6a3570.png" /></div><p><code class="literal">Unit</code> is the representation of void in Kotlin. We can also write a <code class="literal">void</code> function <span>without</span><a id="id326007293" class="indexterm"></a> the <code class="literal">Unit</code>, as shown here.</p><p>Consider the code for <code class="literal">6d_Function</code>:</p><pre class="programlisting">fun addNumbers(x: Int, y:Int) {
    println("Sum of numbers is ${x+y}")
}
addNumbers(2, 3)</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/ba5ca96a-6e96-474e-b59c-6984423c2ac2.png" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec5"></a>Default arguments</h4></div></div></div><p>Default values to the <span>arguments</span><a id="id326014231" class="indexterm"></a> is a nice way for an API to evolve. If we already have a function with two arguments and we need a third argument, we can make the transition easy by making use ofdefault values to arguments. The existing code still works and, at the same time, we can invoke a function with new arguments. Default values to arguments make the API simple and expressive. </p><p>Let's write an example to provide a default value to an argument to the function.</p><p>Consider the code for <code class="literal">6e_DefaultArguments.kts</code>:</p><pre class="programlisting">fun welcome(name: String, msg:String = "Hey") {
    println("$msg $name")
}
welcome("Bob", "hello")
welcome("Berry")</pre><p>In this case, we are not providing the second argument, <code class="literal">msg</code>, to the <code class="literal">welcome()</code> function.It therefore uses a default message instead. The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/864cf5d7-b87c-47e3-b06d-130d0d1bd37b.png" /></div><p>As shown in the preceding example, a <span>default</span><a id="id326014409" class="indexterm"></a> value to an argument can be specified with an <code class="literal">=</code> symbol in the argument declaration. In this case, if we don't pass the second argument while invoking the function, a default value will be provided.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec6"></a>Named arguments</h4></div></div></div><p>We can use a <span>named</span><a id="id326014425" class="indexterm"></a> argument to invoke a function and pass the arguments by naming them. Since the arguments are named, the order doesn't need to be maintained.</p><p>Let's take a look at the following example. Consider the code for <code class="literal">6f_NamedArguments.kts</code>:</p><pre class="programlisting">fun welcome(name: String, msg:String = "Hey") {
    println("$msg $name")
}
welcome(msg = "How are you", name = "Mark")</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/c931af15-01cb-4281-836b-ca390db9ed80.png" /></div><p>We can also mix named arguments with arguments without a name. Consider the code for <code class="literal">6g_NamedArguments.kts</code>:</p><pre class="programlisting">fun welcome(name: String, msg:String = "Hey") {
    println("$msg $name")
}
welcome("Joseph", msg = "Hi")</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/f7372951-5319-4878-a3d3-a3571aa55487.png" /></div><p>In this case, we invoked the function with one positional argument with the value <code class="literal">Joseph</code> and one argument named <code class="literal">msg</code>. When we are dealing with multiple arguments in a method, we can choose to send some arguments positionally by maintaining the order and to send others as named arguments. The language gives us the flexibility to invoke functions with type safety.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl3sec7"></a>varargs and spread</h4></div></div></div><p>Kotlin supports a variable <span>number</span><a id="id326024906" class="indexterm"></a> of arguments. <code class="literal">vararg</code> is the keyword that is used for a variable <span>number</span><a id="id326024916" class="indexterm"></a> of arguments. Using <code class="literal">vararg</code>, we can pass multiple arguments to a function.</p><p>Let's see an example of <code class="literal">7a_VarArgs.kts</code>:</p><pre class="programlisting">fun findMaxNumber(vararg numbers : Int) =
        numbers.reduce { max , e -&gt; if(max &gt; e) max else e }

println(findMaxNumber(1,2,3,4))</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/60b48b44-d9fc-45c0-8958-0b782640ea1b.png" /></div><p>The <code class="literal">findMaxNumber()</code> function takes a variable number of arguments and finds the maximum. We invoked <code class="literal">reduce</code> on the numbers and wrote a lambda expression. In Kotlin, a lambda is specified using curly braces.</p><p>If we have an array of numbers, we can invoke the <code class="literal">findMaxNumber()</code> function using the <code class="literal">spread</code> operator without changing the function argument type.</p><p>Consider the following code for <code class="literal">7b_Spread.kts</code>:</p><pre class="programlisting">fun findMaxNumber(vararg numbers : Int) =
        numbers.reduce { max , e -&gt; if(max &gt; e) max else e }

val numberArray = intArrayOf(25,50,75,100)
println(findMaxNumber(*numberArray))</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/52895ebc-7398-461f-9d9b-1de40aa784c9.png" /></div><p>Note that <code class="literal">*</code> acts as a spread <span>operator</span><a id="id326059571" class="indexterm"></a> here. We can combine this with <span>discrete</span><a id="id326059577" class="indexterm"></a> values, as shown in the following <code class="literal">7c_Spread</code> file.</p><p>Consider the code for <code class="literal">7c_Spread.kts</code>:</p><pre class="programlisting">fun findMaxNumber(vararg numbers : Int) =
        numbers.reduce { max , e -&gt; if(max &gt; e) max else e }

val numberArray = intArrayOf(25,50,75,100)
println(findMaxNumber(4,5,*numberArray,200, 10))</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/857493cf-ce1c-4c8a-9556-6241bb5242fc.png" /></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec9"></a>The for loop</h3></div></div></div><p>Let's write a <code class="literal">for</code> loop to <span>print</span><a id="id326060029" class="indexterm"></a> numbers. Consider the code for <code class="literal">8a_ForLoop.kts</code>:</p><pre class="programlisting">for(num in 1 .. 5){
    println(num)
}</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/d85ec9f7-f97e-4cb6-9ff1-b4e518eac0d1.png" /></div><p><code class="literal">..</code> is used to specify the range, meaning the program prints numbers from <code class="literal">1</code> to <code class="literal">5</code> inclusively.</p><p>To exclude a range, the <code class="literal">until</code> keyword is used. Consider the code for <code class="literal">8b_ForLoop_Until.kts</code>:</p><pre class="programlisting">for(num in 1 until 5){
    println(num)
}</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/c72eab69-46df-499b-925f-bb0bfba2688c.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip8"></a>Note</h3><p>If we want our numbers to be inclusive, we use (<code class="literal">..</code>). If we want to exclude the range, we use <code class="literal">until</code>.</p></div><p>If we want to traverse the range in a <span>given</span><a id="id326060107" class="indexterm"></a> step size, we can use <code class="literal">step</code>. Consider the code for <code class="literal">8c_ForLoop_Step.kts</code>:</p><pre class="programlisting">for(num in 1 .. 10 step 2){
    println(num)
}</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/6b58847f-6ab9-41c1-9ccf-96e8460b772c.png" /></div><p>If we want to iterate in reverse order, we can use <code class="literal">downTo</code>.</p><p>Consider the code for <code class="literal">8d_ForLoop_downTo.kts</code>:</p><pre class="programlisting">for(num in 25 downTo 20){
    println(num)
}</pre><p>This gives us the following output:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/8a9641c9-7a76-43be-a803-5c48eddf9d15.png" /></div><p>If we want to iterate in reverse order in a given step size, we can use <code class="literal">downTo</code> and<code class="literal">step</code>. </p><p>Consider <span>the</span><a id="id326062054" class="indexterm"></a> code for <code class="literal">8e_ForLoop_downTo_Step.kts</code>:</p><pre class="programlisting">for(num in 25 downTo 15 step 2){
    println(num)
}</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/3a4c3621-20c2-4ddd-bbf6-ac10029d9490.png" /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip9"></a>Note</h3><p><code class="literal">..</code>works on a range in ascending order.</p></div><p>Now, consider the code for <code class="literal">8e1_ForLoop_downTo.kts</code>:</p><pre class="programlisting">for(num in 25 .. 20){
    println(num)
}</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/927ac426-346c-40f7-b2c4-e6799fc88a04.png" /></div><p>This code compiles without any errors, but when you run it, there will be no output.</p><p>For <code class="literal">downTo</code> and <code class="literal">step</code>, the value has to be a positive number. If we give a <span>negative</span><a id="id326062122" class="indexterm"></a> number, such as <code class="literal">-2</code>, it will produce a compilation error.</p><p>Consider the code for <code class="literal">8e2_ForLoop_downTo_Step.kts</code>:</p><pre class="programlisting">for(num in 25 downTo 15 step -2){
    println(num)
} </pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/2d2299b9-6924-4f31-bc33-3ef04e956841.png" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec10"></a>Iterating over a list</h3></div></div></div><p>Collections are used for <span>storing</span><a id="id326084212" class="indexterm"></a> and processing a set of objects. Kotlin provides an elegant syntax for iteration over a collection. </p><p>Consider the code for <code class="literal">9_IteratingOverList.kts</code>:</p><pre class="programlisting">val names = listOf("Mark", "Tina", "Williams")
for(name in names) {
    println(name)
}</pre><p><span class="emphasis"><em> </em></span>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/d82e9425-e436-4948-a59b-078e8a107eea.png" /></div><p>If we are interested in getting the index value, we can do that by running the <code class="literal">indices</code> command on the collection.</p><p>Consider the code for <code class="literal">9a_IteratingOverListIndex.kts</code>:</p><pre class="programlisting">val names = listOf("Mark", "Tina", "Williams")
for(index in names.indices) {
    println(index)
}</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/7c6540bb-fcdd-4b62-a171-991ec7a8454f.png" /></div><p>As the index is a String, we can write an <span>expression</span><a id="id326091512" class="indexterm"></a> to print it. Consider the code for <code class="literal">9b_IteratingOverListIndex.kts</code>:</p><pre class="programlisting">val names = listOf("Mark", "Tina", "Joseph")
for(index in names.indices) {
  println("$index")
}</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/aa2b219e-bdbc-4243-b0f4-d5af4b7c7f7a.png" /></div><p>We can also add names to the expression to get items out of the collection, as in the following example, in which we are printing <code class="literal">index</code> and <code class="literal">name</code>. Consider the code for <code class="literal">9c_IteratingOverList.kts</code>:</p><pre class="programlisting">val names = listOf("Mark", "Tina", "Joseph")
for(index in names.indices) {
 println("$index: ${names.get(index)}")
}</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/91e30c9d-1298-4ee5-96be-473ff9127fed.png" /></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec11"></a>When clause</h3></div></div></div><p><code class="literal">when</code> is a pattern <span>matching</span><a id="id326142440" class="indexterm"></a> clause in Kotlin. This helps us to write elegant code when dealing with pattern matching, meaning we can avoid using a lot of <code class="literal">if else</code> statements.</p><p>Let's write a function that takes an input, the type of which is not known. <code class="literal">Any</code> is used to indicate this and a <code class="literal">when</code> block is used to handle different patterns.</p><p>Consider the code for <code class="literal">10_when.kts</code>:</p><pre class="programlisting">fun processInput(input: Any) {
    when(input) {
        10 -&gt; println("It is 10")
        98,99 -&gt; println("It is 98 or 99")
        in 101 .. 120 -&gt; println("More than 100")
        is String -&gt; println("This is ${input} of length ${input.length}")
        else -&gt; println("Not known")
    }
}
processInput(10)
processInput(98)
processInput(99)
processInput(102)
processInput("hey there")
processInput(Thread())</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/87b6cdc9-177f-44ec-8803-be68cd28e608.png" /></div><p>Alongside the pattern matching, we can also <span>perform</span><a id="id326142485" class="indexterm"></a> type checking using the <code class="literal">when</code> block:</p><pre class="programlisting">is String -&gt; println("This is ${input} of length ${input.length}")</pre><p>Note that the argument input is of the <code class="literal">Any</code> type. After type checking, the input is automatically cast to String, and we can use the <code class="literal">length</code> property, which is defined in the String class. The Kotlin language does the auto-typecasting for us, so we don't have to do any explicit type casting.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl2sec12"></a>The nullable type</h3></div></div></div><p>In Kotlin, we can declare a variable to hold a <span>null</span><a id="id326142926" class="indexterm"></a> value using the nullable type.</p><p>Let's write a program to check whether the given input is <code class="literal">Web</code>. If it is, it should return <code class="literal">Web Development</code>. If not, it should return an empty string.</p><p>Consider the code for <code class="literal">11_NullType.kts</code>:</p><pre class="programlisting">fun checkInput (data: String) : String {
    if(data == "Web")
        return "Web development"
    return ""
}
println(checkInput ("Web"))
println(checkInput ("Android"))</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/0b384b12-215a-4225-a2e1-53e7c68fd48e.png" /></div><p>So far, so good. Let's say that we want to return<code class="literal">null</code>if there is no match for the given input:</p><pre class="programlisting">fun checkInput (data: String) : String {
    if(data == "Web")
        return "Web development"
    return null
}
println(checkInput ("Web"))
println(checkInput ("Android"))</pre><p>Let's compile and run this code:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/739cbecc-df66-49c8-84b0-726147e2eea3.png" /></div><p>Here, we get a compilation error because the return type is non-null by default in the function declaration. If we <span>want</span><a id="id326153094" class="indexterm"></a> to return null, we have to specify the type as nullable using <code class="literal">?</code>:</p><pre class="programlisting">fun checkInput (data: String) : String? {
    if(data == "Web")
        return "Web development"
    return null
}
println(checkInput ("Web"))
println(checkInput ("Android"))</pre><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/6a3c16c1-efb5-4b50-a83f-496e8e3e97f1.png" /></div><p>This code has compiled and run successfully. When we invoke the <code class="literal">checkInput</code> function with <code class="literal">Web</code>, it prints <code class="literal">Web development</code>. When we pass <code class="literal">Android</code>, it prints <code class="literal">null</code> to the console.</p><p>Similarly, when we receive data in response, we can also receive a nullable type from the function and perform a null check. Kotlin provides a very elegant syntax to do null checks.</p><p> </p><p>Consider the code for <code class="literal">11a_NullCheck.kts</code>:</p><pre class="programlisting">fun checkInput (data: String) : String? {
    if(data == "Web")
        return "Web development"
    return null
}
var response = checkInput ("Web")
println(response)
response ?.let {
    println("got non null value")
} ?: run {
    println("got null")
}</pre><p>The <code class="literal">checkInput()</code>function returns a string if there is a match for <code class="literal">Web</code>, otherwise it returns <code class="literal">null</code>. Once the function returns a value, we can check whether it is <span>null</span><a id="id326153576" class="indexterm"></a> or non-null and act appropriately. <code class="literal">?.let</code> and <code class="literal">?:run</code> are used for this kind of scenario.</p><p>The output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/98180246-bd41-46be-aadb-d306bf618196.png" /></div><p>Consider the code for <code class="literal">11a_NullCheck.kts</code>:</p><pre class="programlisting">fun checkInput (data: String) : String? {
    if(data == "Web")
        return "Web development"
    return null
}
var response = checkInput ("iOS")
println(response)
response ?.let {
    println("got non null value")
} ?: run {
    println("got null")
}</pre><p>We now pass <code class="literal">iOS</code> instead of <code class="literal">Web</code>.</p><p> </p><p>In this case, the output is as follows:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/6eca9939-9852-40fc-bca4-6317d746be2d.png" /></div></div></div>