<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec52"></a>Web services</h2></div></div><hr /></div><p>A web service is an <span>interoperable</span><a id="id325996455" class="indexterm"></a> application that can be delivered over the web. These are also commonly known as <span class="strong"><strong>application services</strong></span>. Characteristics of web <span>services</span><a id="id325996468" class="indexterm"></a> include the interoperable nature between the applications over a network, and the ability to communicate with other services, as depicted in the following diagram:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/dd1b404b-1892-4b5e-9ee7-84fd79a8bc51.png" /></div><p>These applications can interact with each other, irrespective of the underlying technology used for building them. These application services provide the output that other applications can understand, and the output of an application is consumable by another application.</p><p>In short, a service is referred to as a web service when it is platform independent, involves interaction with other services, and communicates over the web.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec50"></a>Working model of the web service</h3></div></div></div><p>The web service is <span>based</span><a id="id325816206" class="indexterm"></a> on the <span class="emphasis"><em>request-response</em></span> model. When services interact with each other, one passes an input to the other. The service accepts the input in a particular format, processes the input, and returns the response in a format that the receiving client can understand, as shown in the following diagram:</p><div class="mediaobject"><img src="/graphics/9781788997270/graphics/08ea5750-14da-4b81-98bf-5510a491517b.png" /></div><p>Let's say we have a web service that takes input data and returns output data in exchange. The data that we input to a web service is called the request and the data that we get in exchange for an input from the web service is the response. When an application wants to consume the web service, it has to send an input, or trigger a call, in order to start consuming the web service.</p><p>Typically, the application sends a request in a standard format that the web service can understand for processing. When a web service returns the response, it sends it in a standard exchange format that the application that sent the request can understand.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note34"></a>Note</h3><p>The standard format of request and response is what makes web services platform independent. This is how a Python-based application can talk to a Java or Kotlin application.</p></div><p>In the web services world, there are two standard formats for request and response:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>JSON</strong></span>: <span class="strong"><strong>JavaScript Object Notation</strong></span> (<span class="strong"><strong>JSON</strong></span>) data is what JavaScript represents as an object. For example, a <span>sample</span><a id="id325819054" class="indexterm"></a> JSON payload looks like this:</li></ul></div><pre class="programlisting">{
 "loginId":"john@abc.org",
 "name":"John",
 "city":"Bengaluru"
}</pre><p>This example defines a JSON object with a comma-separated list of name-value pairs. A JSON object is surrounded by curly braces, <code class="literal">{</code> and <code class="literal">}</code>. A name-value pair consists of a field name (in double quotes), followed by a colon (<code class="literal">:</code>), followed by the field value.</p><p>JSON is easy to read, write, and parse while processing the request.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>XML</strong></span>: <span class="strong"><strong>Extensible Markup Language</strong></span> (<span class="strong"><strong>XML</strong></span>) is yet another way to <span>represent</span><a id="id325985242" class="indexterm"></a> structured information. For example, a sample XML payload looks like this:</li></ul></div><pre class="programlisting">&lt;person&gt;
  &lt;loginId&gt;john@abc.org&lt;/loginId&gt;
  &lt;name&gt;John&lt;/name&gt;
  &lt;city&gt;Bengaluru&lt;/city&gt;
&lt;/person&gt;</pre><p>The JSON and XML data formats are supported by most of the web services of different platforms. These are common in modern applications. This is how web services became independent; by making the request and response independent of the platform.</p><p>Once we have the common format for data exchange, we can look at how to define the request structure and how to interpret the response from the web service. Each web service will have a service definition that talks about what a web service can offer.</p><p>A service definition specifies the standard request-response format that is used, whether this is JSON or XML. It specifies the structure of the request, how a consuming application can create a request, and what a request format would look like. This also defines the <span>response</span><a id="id325985261" class="indexterm"></a> structure, which is the structure of the response returned by the service. In addition, the service definition specifies the endpoint with which a service can be invoked.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note35"></a>Note</h3><p>There are other alternatives to JSON/XML for data exchange between the services, such as BSON (short for Binary JSON), MessagePack, and YAML (short for YAML Ain't Markup Language). BSON is a binary-encoded format of JSON-like data. It also contains extensions to JSON to represent the data types that are not part of the JSON specification. MessagePack is also a binary-encoded JSON-like data exchange format. BSON and MessagePack are binary encoded and not human readable. YAMLis a unicode-based data exchange format and is in human-readable format.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec51"></a>RESTful web services</h3></div></div></div><p>REST is an architectural <span>style</span><a id="id325986000" class="indexterm"></a> for managing the state information. REST specifies the uniform interface, and when applied to the services makes them interoperable over the web. The RESTful architecture is based on HTTP 1.1 and aims to make best use of the <span class="strong"><strong>HTTP</strong></span> (<span class="strong"><strong>Hyper Text Transfer Protocol</strong></span>). The REST style is used mostly for web-based applications. It <span>provides</span><a id="id325986017" class="indexterm"></a> an easy way to exchange data, irrespective of the underlying platform of the services.</p><p>REST is a style, not a standard. REST embraces the ideas of HTTP, as well as defining the best way to use HTTP protocol to build distributed systems. REST is very intuitive in nature and embraces simplicity in its system architecture style when applied.</p><p>REST builds on top of HTTP protocol and derives HTTP verbs, such as request methods, headers, status code, request-response models, negotiation for data to be represented (content negotiation), and so on. This enforces the stateless distribution mechanism for developing interoperable systems.</p><p>These are the REST service principles:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">It should be stateless.</li><li style="list-style-type: disc">It should access all the resources from the <span>server</span><a id="id325986040" class="indexterm"></a> using a <span class="strong"><strong>Uniform Resource Identifier (URI)</strong></span>.</li><li style="list-style-type: disc">It does not have inbuilt encryption.</li><li style="list-style-type: disc">It does not have sessions.</li><li style="list-style-type: disc">It uses HTTP protocol.</li><li style="list-style-type: disc">For performing CRUD operations, it should use HTTP verbs such as <code class="literal">GET</code>, <code class="literal">POST</code>, <code class="literal">PUT</code>, and <code class="literal">DELETE</code>.</li><li style="list-style-type: disc">It should return the result only in the standard data <span>exchange</span><a id="id325996419" class="indexterm"></a> form, such as JSON or XML, BSON, atom, or<span class="strong"><strong>Open Data Protocol</strong></span> (<span class="strong"><strong>OData</strong></span>).</li></ul></div></div></div>