<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec25"></a>Building the /blockchain endpoint</h2></div></div><hr /></div><p>Let's continue building our <span>blockchain</span><a id="id325462128" class="indexterm"></a> API. In this section, we are going to interact with our <code class="literal">/blockchain</code> endpoint. This means that we will have to import our blockchain from our <code class="literal">blockchain.js</code> file:</p><pre class="programlisting">const Blockchain = require('./blockchain');</pre><p>We have now imported our blockchain data structure or our blockchain constructor function. Next, we want to make an instance of our blockchain. We can do that as follows:</p><pre class="programlisting">const bitcoin = new Blockchain();</pre><p>Now we have an instance of our blockchain constructor function and we have called it <code class="literal">bitcoin</code>. You can call this whatever you want, but I'm just going to call it <code class="literal">bitcoin</code> to keep it simple.</p><p>Let's build on our <code class="literal">/blockchain</code>endpoint. All this endpoint is going to do is send our entire blockchain back to whoever called this endpoint. To do that, we are going to add a line that will send the response:</p><pre class="programlisting">app.get('/blockchain', function(req, res) {
    res.send(bitcoin);
});</pre><p>Believe it or not, that's all we're going to do for this endpoint. </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec17"></a>Testing the /blockchain endpoint</h3></div></div></div><p>Now we can test whether or not this <span>endpoint</span><a id="id325683641" class="indexterm"></a> works by using it in our browser:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Let's go to our browser and hit <code class="literal">localhost:3000/blockchain</code>:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789618822/graphics/b1ba7819-3cb6-42cf-83d1-b956472e8ad9.png" /></div><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>As you can see, we get our entire blockchain back. Now, you might have noticed that this is a little bit difficult to read, so to make it readable, let's download a Chrome extension called <span class="strong"><strong>JSON formatter</strong></span>. You can Google this and add the extension to your Chrome browser. Once installed, refresh the page again and you will get the following output:</li></ol></div><div class="mediaobject"><img src="/graphics/9781789618822/graphics/4c26ad8e-876a-4875-9548-cd5cb9ae7458.png" /></div><p>As you can see, we get our data back in a <span>much</span><a id="id325690329" class="indexterm"></a> more readable format, which is in JSON format. You can see that we have <code class="literal">chain</code>, which has one item in it – our genesis block – and we also have the <code class="literal">pendingTransaction</code> block. This is pretty cool, and we can tell that our <code class="literal">/blockchain</code> endpoint is working because we get our entire blockchain back. </p></div></div>