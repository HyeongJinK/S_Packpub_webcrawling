<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec52"></a>Defining the block explorer endpoints </h2></div></div><hr /></div><p>In order for the block explorer to <span>function</span><a id="id325268059" class="indexterm"></a> correctly, we'll need to query the blockchain for addresses, block hashes, and transaction IDs so that we can search for a particular parameter and get that particular piece of data in return. Consequently, the first step that we'll need to carry out is to build a few more endpoints. To do this, lets proceed with the following steps: </p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Go to the <code class="literal">dev/networkNode.js</code> file and after the <code class="literal">/consensus</code> endpoint, let's define the first endpoint of our block explorer, <code class="literal">/block/:blockHash</code>, as follows: </li></ol></div><pre class="programlisting">app.get('/block/:blockHash', function(req, res) { 

});</pre><p>A specific <code class="literal">blockHash</code> will be sent with this endpoint, which, as a result, will simply return to us the block that the input of <code class="literal">blockHash</code> corresponds to.</p><p> </p><div class="orderedlist"><ol class="orderedlist arabic" start="2" type="1"><li>The next endpoint that we'll build will be <code class="literal">/transaction/:transactionId</code>. This is defined as follows: </li></ol></div><pre class="programlisting">app.get('/transaction/:transactionId', function(req, res) {

});</pre><p>With this endpoint, send a <code class="literal">transactionId</code>, and in the response, we should expect to get the correct transaction that this ID corresponds to.</p><div class="orderedlist"><ol class="orderedlist arabic" start="3" type="1"><li>Finally, the third endpoint that we'll build is <code class="literal">/address/:address</code>, which is defined as follows: </li></ol></div><pre class="programlisting">app.get('/address/:address', function(req, res) {

});</pre><p>With this endpoint, we'll send a specific address, and in response, you should expect to get all of the transactions that correspond to this address—every time this specific address has either sent or received Bitcoin—in response. you'll also get to know the current balance of this address, which is how many Bitcoins this address currently owns.</p><p>So, these are the three <span>endpoints</span><a id="id325693410" class="indexterm"></a> that you'll be building in this chapter. For each of these endpoints, we will build a specific method in the blockchain data structure that will query the blockchain for the correct piece of data. So, let's create methods that query the blockchain for a specific block hash, transaction, and address.</p></div>