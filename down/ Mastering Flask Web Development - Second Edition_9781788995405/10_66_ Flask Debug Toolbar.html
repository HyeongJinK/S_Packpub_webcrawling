<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch10lvl1sec65"></a>Flask Debug Toolbar</h2></div></div><hr /></div><p><span class="strong"><strong>Flask Debug Toolbar</strong></span> is a Flask extension that aids <span>development</span><a id="id324991602" class="indexterm"></a> by adding debugging tools into the web view of your application. It gives you information on things such as the bottlenecks of your view rendering code, and how many SQLAlchemy queries it took to render the view.</p><p>As always, we will use <code class="literal">pip</code> to install Flask Debug Toolbar and add it to our <code class="literal">requirements.txt</code> file:</p><pre class="programlisting"><span class="strong"><strong>$ source venv/bin/activate
(venv) $ pip install -r requirements</strong></span></pre><p>Next, we need to add Flask Debug Toolbar to the <code class="literal">webapp/__init__.py</code> file. As we will be modifying this file a lot in this chapter, here is the start of the file so far, along with the code to initialize Flask Debug Toolbar:</p><pre class="programlisting">...
from flask_debugtoolbar import DebugToolbarExtension 
 
...
debug_toolbar = DebugToolbarExtension()
...
def create_app(config):
...
    debug_toolbar.init_app(app)
...</pre><p>This is all that is needed to get Flask Debug Toolbar up and running. If the <code class="literal">DEBUG</code> variable in your app's <code class="literal">config</code> is set to <code class="literal">true</code>, the toolbar will appear. If <code class="literal">DEBUG</code> is not set to <code class="literal">true</code>, the toolbar will not be injected into the page:</p><div class="mediaobject"><img src="/graphics/9781788995405/graphics/35d90f91-72d8-49ca-b499-3462b5d3914b.png" /></div><p>On the right-hand side of the screen, you will see the toolbar. Each section is a link that will display a table of values on the page. To get a list of all the functions that were called in order to render the view, click the checkbox next to <strong class="userinput"><code>Profiler</code></strong> to enable it, then reload the page and click on <strong class="userinput"><code>Profiler</code></strong>. This view easily allows you to quickly diagnose which parts of your apps are the slowest, or are called the most.</p><p>By default, Flask Debug Toolbar intercepts <code class="literal">HTTP 302 redirect</code> requests. To disable this, add the following to your configuration:</p><pre class="programlisting">class DevConfig(Config): 
    DEBUG = True 
    DEBUG_TB_INTERCEPT_REDIRECTS = False </pre><p>Also, if you are using Flask-MongoEngine, you can view all of the queries that were made to render the page, by overriding which panels are rendered and adding MongoEngine's custom panel as follows:</p><pre class="programlisting">class DevConfig(Config): 
    DEBUG = True 
    DEBUG_TB_PANELS = [
        'flask_debugtoolbar.panels.versions.VersionDebugPanel', 
        'flask_debugtoolbar.panels.timer.TimerDebugPanel', 
        'flask_debugtoolbar.panels.headers.HeaderDebugPanel', 
        'flask_debugtoolbar.panels.
         request_vars.RequestVarsDebugPanel',        
         'flask_debugtoolbar.panels.config_vars.
         ConfigVarsDebugPanel ',         
         'flask_debugtoolbar.panels.template.
         TemplateDebugPanel',        'flask_debugtoolbar.panels.
         logger.LoggingPanel',        'flask_debugtoolbar.panels.
         route_list.RouteListDebugPanel'        
        'flask_debugtoolbar.panels.profiler.
         ProfilerDebugPanel',        'flask_mongoengine.panels.
         MongoDebugPanel' 
    ] 
    DEBUG_TB_INTERCEPT_REDIRECTS = False </pre><p>This will add a panel to the toolbar that is very similar to the <span>default</span><a id="id325371653" class="indexterm"></a> SQLAlchemy one.</p></div>