<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec30"></a>Remapping commands</h2></div></div><hr /></div><p>Now that you are comfortable working with plugins, you may want to consider customizing your Vim further by remapping commands to suit your preferences. Plugins are written by many kinds of different people, and everyone's workflow is different. Vim is infinitely extensible, allowing you to remap nearly every action, change certain default behaviors, and really make Vim your own. Let's talk about remapping commands.</p><p> </p><p> </p><p>Vim allows you to remap certain keys to be used in place of <span>other</span><a id="id326606219" class="indexterm"></a> keys. <code class="literal">:map</code> and <code class="literal">:noremap</code> provide just that:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">:map</code> is used for recursive mapping</li><li style="list-style-type: disc"><code class="literal">:noremap</code> is used for non-recursive mapping</li></ul></div><p>This means that commands remapped with <code class="literal">:map</code> are aware of other custom mappings, while <code class="literal">:noremap</code> works with system defaults.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip73"></a>Note</h3><p>Before you decide to create a new mapping, you may want to see whether the key or sequence you're mapping to is already used somewhere. You can scan through <code class="literal">:help index</code> for a list of built-in key bindings. The <code class="literal">:map</code> command lets you view plugin and user-defined mappings. For instance, <code class="literal">:map g</code> will display every mapping starting with the <code class="literal">g</code> key.</p></div><p>Let's add a custom mapping to our <code class="literal">.vimrc</code> file:</p><pre class="programlisting">noremap ; :  " Use ; in addition to : to type commands.</pre><p>In the preceding example, we're remapping <code class="literal">;</code> to function the same way <code class="literal">:</code> does. Now, we don't have to press down <span class="emphasis"><em>Shift</em></span> to enter command-line mode. On the downside, we now don't have a command that repeats the last <code class="literal">t</code>, <code class="literal">f</code>, <code class="literal">T</code>, or <code class="literal">F</code> (find character and find till character) movement.</p><p>We're using <code class="literal">noremap</code> because we still want to enter command-line mode, even if <code class="literal">:</code> gets remapped to do something else.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note74"></a>Note</h3><p>If you ever want to explicitly remove a mapping you or a plugin defined, you'd be looking for <code class="literal">:unmap</code>. There's also a nuclear option of <code class="literal">:mapclear</code>, which drops both user-defined and default mappings.</p></div><p>You can use special characters and commands in mappings as well, for example:</p><pre class="programlisting">" noremap &lt;c-u&gt; :w&lt;cr&gt; " Save using &lt;Ctrl-u&gt; (u stands for update).</pre><p><code class="literal">&lt;c-u&gt;</code> in the preceding example represents <span class="emphasis"><em>Ctrl </em></span>+ <span class="emphasis"><em>u</em></span>. The <span class="emphasis"><em>Ctrl</em></span> prefix in Vim is denoted by <code class="literal">&lt;c-_&gt;</code><span class="emphasis"><em> </em></span>, where <code class="literal">_</code> is some character. Other modifier keys are represented similarly:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><p><code class="literal">&lt;a-_&gt;</code> or &lt;<code class="literal">m-_&gt;</code> represents <span class="emphasis"><em>Alt</em></span> pressed with some key, for example, &lt;m-b&gt; would correspond to <span class="emphasis"><em>Alt </em></span>+ <code class="literal">b</code></p></li><li style="list-style-type: disc"><p><code class="literal">&lt;s-_&gt;</code> represents a<span class="emphasis"><em>Shift</em></span>press, for example, &lt;s-f&gt; would correspond to<span class="emphasis"><em>Shift </em></span>+ <span class="emphasis"><em>f</em></span></p></li></ul></div><p> </p><p>Please note that a command is terminated by <code class="literal">&lt;cr&gt;</code>, which stands for a carriage return (the<span class="emphasis"><em>Enter</em></span>key). Otherwise, the command will be entered but not executed, and you will be left hanging in command-line mode (unless that's exactly what you want).</p><p>By the way, here are all of the special characters you can use:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">&lt;space&gt;</code>: spacebar</li><li style="list-style-type: disc"><code class="literal">&lt;esc&gt;</code>: <span class="emphasis"><em>Esc</em></span></li><li style="list-style-type: disc"><code class="literal">&lt;cr&gt;</code>, <code class="literal">&lt;enter&gt;</code>: <span class="emphasis"><em>Enter</em></span></li><li style="list-style-type: disc"><code class="literal">&lt;tab&gt;</code>: <span class="emphasis"><em>Tab</em></span></li><li style="list-style-type: disc"><code class="literal">&lt;bs&gt;</code>: <span class="emphasis"><em>Backspace</em></span></li><li style="list-style-type: disc"><code class="literal">&lt;up&gt;</code>, <code class="literal">&lt;down&gt;</code>, <code class="literal">&lt;left&gt;</code>, <code class="literal">&lt;right&gt;</code>: Arrow keys</li><li style="list-style-type: disc"><code class="literal">&lt;pageup&gt;</code>, <code class="literal">&lt;pagedown&gt;</code>: <span class="emphasis"><em>Page Up</em></span> and <span class="emphasis"><em>Page Down</em></span></li><li style="list-style-type: disc"><code class="literal">&lt;f1&gt;</code> to <code class="literal">&lt;f12&gt;</code>: Function keys</li><li style="list-style-type: disc"><code class="literal">&lt;home&gt;</code>, <code class="literal">&lt;insert&gt;</code>, <code class="literal">&lt;del&gt;</code>, <code class="literal">&lt;end&gt;</code>: <span class="emphasis"><em>Home</em></span>, <span class="emphasis"><em>Insert</em></span>, <span class="emphasis"><em>Delete</em></span>, and <span class="emphasis"><em>End</em></span></li></ul></div><p>You can also map a key to <code class="literal">&lt;nop&gt;</code> (short for <span class="emphasis"><em>no operation</em></span>) if you want the key to not do anything. This, for instance, could be useful if you're trying to get used to <code class="literal"><span class="emphasis"><em>hjkl</em></span></code>-style movement versus arrow keys. Disabling your arrow keys in <code class="literal">.vimrc</code> would look like this:</p><pre class="programlisting">" Map arrow keys nothing so I can get used to hjkl-style movement.
 map &lt;up&gt; &lt;nop&gt;
 map &lt;down&gt; &lt;nop&gt;
 map &lt;left&gt; &lt;nop&gt;
 map &lt;right&gt; &lt;nop&gt;</pre><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl2sec35"></a>Mode – aware remapping</h3></div></div></div><p>The <code class="literal">:map</code> and <code class="literal">:noremap</code> commands work for normal, visual, select, and <span>operator</span><a id="id325881683" class="indexterm"></a> pending modes. Vim supports a more fine-grained control over which modes the mappings work in:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">:nmap</code> and <code class="literal">:nnoremap</code>: Normal mode</li><li style="list-style-type: disc"><code class="literal">:vmap</code> and <code class="literal">:vnoremap</code>: Visual and select modes</li><li style="list-style-type: disc"><code class="literal">:xmap</code> and <code class="literal">:xnoremap</code>: Visual mode</li><li style="list-style-type: disc"><code class="literal">:smap</code> and <code class="literal">:snoremap</code>: Select mode</li><li style="list-style-type: disc"><code class="literal">:omap</code> and <code class="literal">:onoremap</code>: Operator-pending mode
</li><li style="list-style-type: disc"><code class="literal">:map!</code> and <code class="literal">:noremap!</code>: Insert and command-line modes</li><li style="list-style-type: disc"><code class="literal">:imap</code> and <code class="literal">:inoremap</code>: Insert mode</li><li style="list-style-type: disc"><code class="literal">:cmap</code> and <code class="literal">:cnoremap</code>: Command-line mode</li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note75"></a>Note</h3><p>Vim often uses an exclamation mark <code class="literal">!</code> to force command execution, or to add additional functionality to a command. Try <code class="literal">:help!</code> for yourself!</p></div><p>For example, if you wanted to add some mappings to alter some insert mode behavior, you could do this:</p><pre class="programlisting">" Immediately add a closing quotes or braces in insert mode.
 inoremap ' ''&lt;esc&gt;i
 inoremap " ""&lt;esc&gt;i
 inoremap ( ()&lt;esc&gt;i
 inoremap { {}&lt;esc&gt;i
 inoremap [ []&lt;esc&gt;i</pre><p>In the preceding example, we changed the default behavior of a key press in insert mode (for example, the opening square bracket <code class="literal">[</code>) to insert two characters instead of one (<code class="literal">[]</code>), leave insert mode, and immediately reenter it (to be placed between both braces, since insert mode is entered before the cursor).</p></div></div>