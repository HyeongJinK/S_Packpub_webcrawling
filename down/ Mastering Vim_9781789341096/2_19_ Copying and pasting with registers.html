<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec25"></a>Copying and pasting with registers</h2></div></div><hr /></div><p>You can copy <span>text</span><a id="id326470626" class="indexterm"></a> by using the <code class="literal">y</code> (yank) command, followed by a movement or a text object. You can also hit <code class="literal">y</code> from a <span>visual</span><a id="id326470611" class="indexterm"></a> mode when you have selected some text.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip59"></a>Note</h3><p>In addition to all of the standard movement, you can use <code class="literal">yy</code> to yank the contents of the current line.</p></div><p>Let's yank the following piece of code by typing <code class="literal">ye</code> (yank until the end of the word):</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/d4890f96-f8c2-4ceb-a4d9-ed931efca6bd.png" /></div><p>This will copy <code class="literal">animal_kind</code> into our default register. Now, place the cursor where you want the text to appear (the text is inserted after the cursor):</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/7e7e1d90-4f5b-45f5-aa5a-b8de0ea2673b.png" /></div><p>To paste the code, hit <code class="literal">p</code>:</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/a5c5af27-49b8-4856-9c33-ab6b7addb4dd.png" /></div><p>The delete and change operators also yanks content so that you can paste it later. Oh, and you can prefix the paste command with a number, in case you ever want to duplicate something multiple times.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec24"></a>Where do the registers come in?</h3></div></div></div><p>Whenever you copy and paste text, it's saved in a register. Vim allows you to <span>operate</span><a id="id326470365" class="indexterm"></a> with many registers, which are identified by letters, numbers, and special symbols.</p><p>Registers can be accessed by hitting <code class="literal">"</code>, followed by the register identifier, followed for the operation on said register.</p><p>Registers <code class="literal">a</code> - <code class="literal">z</code> are used for holding manually assigned data. For example, to yank a word into the <code class="literal">a</code> register, you can run <code class="literal">"ayw</code> and paste it using <code class="literal">"ap</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note60"></a>Note</h3><p>Registers are also used to record macros, which you will learn about in <a class="link" href="#" linkend="ch06">Chapter 6</a>, <span class="emphasis"><em>Refactoring Code with Regular Expressions and Macros</em></span>.</p></div><p>All of the operations you've performed so far have used the unnamed register. If you ever need to access the unnamed register explicitly, it is identified by a double quote character,<code class="literal">"</code>. For example, you can use<code class="literal">""p</code>to paste from the unnamed register (which is the same as just invoking<code class="literal">p</code>).</p><p>Numbered registers are effectively a history of your last 10 delete operations. <code class="literal">0</code> accesses the last deleted text, <code class="literal">1</code> the one before it, and so on. For example, if you have stellar memory, you can paste some text you yanked seven yank operations ago by hitting <code class="literal">"7p</code>.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note61"></a>Note</h3><p>There are some read-only registers you might find handy: <code class="literal">%</code> holds the name of the current file, <code class="literal">#</code> holds the name of the previously opened file, <code class="literal">.</code> is the last inserted text, and <code class="literal">:</code> is the last executed command.</p></div><p>You can also interact with buffers from outside of a normal mode. <span class="emphasis"><em>Ctrl </em></span>+ <span class="emphasis"><em>r</em></span> is a convenient shortcut, which allows you to paste a register's contents when you're in insert or command-line modes. For example, while you're in insert mode, <span class="emphasis"><em>Ctrl </em></span>+ <span class="emphasis"><em>r</em></span>, <code class="literal">"</code> will paste the contents of the unnamed buffer at the position of the cursor.</p><p>You can access the content of a register at any time by running <code class="literal">:reg &lt;register names&gt;</code>. For instance, if you wanted to check what's inside the <code class="literal">a</code> and <code class="literal">b</code> registers, you'd run <code class="literal">:reg a b</code>. Here's the output:</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/00af47ae-9dda-4321-868a-51ba33539e97.png" /></div><p>In the preceding example, the <code class="literal">a</code>register contains <code class="literal">def make_animal(kind):</code>, and the <code class="literal">b</code> register contains a set of imports (<code class="literal">from animals import ...</code>) separated by newlines.</p><p>In addition, you can list the contents of every register by running <code class="literal">:reg</code> without any parameters.</p><p>Named registers (<code class="literal">a</code>-<code class="literal">z</code>) can be appended to as well. To append to a register instead of overwriting it, capitalize the register name. For example, to append a, word to register a, run <code class="literal">"Ayw</code> with a cursor at the beginning of the word.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch02lvl2sec25"></a>Copying from outside of Vim</h3></div></div></div><p>There are two built-in registers that interact <span>with</span><a id="id325850078" class="indexterm"></a> the outside world:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">The <code class="literal">*</code> register is the primary system clipboard (the default clipboard in Mac and Windows, and mouse selection inside a Terminal in Linux)</li><li style="list-style-type: disc"><p>The <code class="literal">+</code> register (only in Linux) is <span>used</span><a id="id325850102" class="indexterm"></a> for Windows-style <span class="emphasis"><em>Ctrl </em></span>+ <span class="emphasis"><em>c</em></span> and <span class="emphasis"><em>Ctrl </em></span>+ <span class="emphasis"><em>v</em></span> operations (referred to as <span class="strong"><strong>Clipboard selection</strong></span>)</p></li></ul></div><p>You can interact with these registers as you would <span>with</span><a id="id325868166" class="indexterm"></a> any other. For instance, you can use <code class="literal">"*p</code> to paste from the primary clipboard or use <code class="literal">"+yy</code> to yank a line into Linux's Clipboard selection.</p><p>If you want Vim to work with these registers by default, you can set the <code class="literal">clipboard</code> variable in your <code class="literal">.vimrc</code> file. Set it to <code class="literal">unnamed</code> to copy and paste from the <code class="literal">*</code> register:</p><pre class="programlisting"><span class="strong"><strong>set clipboard=unnamed  " Copy into system (*) register.</strong></span></pre><p>Set it to <code class="literal">unnamedplus</code> for yank and paste commands to work with the <code class="literal">+</code> register by default:</p><pre class="programlisting"><span class="strong"><strong>set clipboard=unnamedplus  " Copy into system (+) register.</strong></span></pre><p>You can also tell Vim to use both at once:</p><pre class="programlisting"><span class="strong"><strong>set clipboard=unnamed,unnamedplus  " Copy into system (*, +) register.</strong></span></pre><p>Now, <code class="literal">y</code> and <code class="literal">p</code> will yank and paste from the specified register by default.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note62"></a>Note</h3><p>You can also sometimes choose to paste text from the system clipboard while inside the insert mode. In older Vim versions or in certain Terminal emulators, this will yield some issues, since Vim will try to automatically indent code or extend commented out sections. To avoid this, run <code class="literal">:set paste</code> before pasting code to disable auto indent and auto comment insertion. Run <code class="literal">:set nopaste</code> to turn it back on once you're done.
Most of these issues are resolved in bracketed paste mode, which is enabled by default, starting with version 8.0. See <code class="literal">:help xterm-bracketed-paste</code> for more details.</p></div></div></div>