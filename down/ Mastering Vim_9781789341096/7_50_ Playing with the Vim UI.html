<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec51"></a>Playing with the Vim UI</h2></div></div><hr /></div><p>Vim has extensible UI, and it doesn't always have to look like it's stuck in the 90s. You <span>can</span><a id="id326576018" class="indexterm"></a> change its themes, tweak the way certain UI elements are displayed, and enhance the information displayed in a status line. If you're a gVim user, there are even more customization options available to you!</p><p> </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec60"></a>Color schemes</h3></div></div></div><p>Vim has a plethora of beautiful color <span>schemes</span><a id="id326398427" class="indexterm"></a> available, both packaged with Vim and made by <span>community</span><a id="id326399019" class="indexterm"></a> members.</p><p>You can change the color scheme by changing the <code class="literal">colorscheme</code> setting in your <code class="literal">.vimrc</code>, as follows:</p><pre class="programlisting">:colorscheme elflord</pre><p>To get a list of currently installed color schemes, execute <code class="literal">:colorscheme</code><span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>d</em></span>. This will list every installed color scheme:</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/c27af67a-f9dd-4995-a91c-1abc53e12e70.png" /></div><p>In the preceding example, I'm using <code class="literal">:colorscheme PaperColor</code> from<a class="ulink" href="https://github.com/NLKNguyen/papercolor-theme" target="_blank">https://github.com/NLKNguyen/papercolor-theme</a>.<a class="ulink" href="https://github.com/NLKNguyen/papercolor-theme" target="_blank">https://github.com/NLKNguyen/papercolor-theme</a></p><p>You can further customize the color scheme by <span>setting</span><a id="id326450232" class="indexterm"></a> the <code class="literal">background</code> option to either light or dark (the option must precede the <code class="literal">colorscheme</code> call).</p><p>For example, this is how the same color scheme as in the preceding screenshot (<code class="literal">PaperColor</code>) looks with <code class="literal">set background=dark</code>:</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/139b6199-f88a-4f57-a418-496ebac26a6d.png" /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec43"></a>Browsing the color schemes</h4></div></div></div><p>There are many color schemes available online, since tastes differ so significantly. There's no single indisputably authoritative resource for color schemes. Your best <span>bet</span><a id="id326450861" class="indexterm"></a> is looking around and trying to find what catches your eye.</p><p>If you manage to get your hands on lots of color schemes while you're trying to find the one you like, you can use a helpful plugin called <code class="literal">ScrollColors</code>. Now, <code class="literal">ScrollColors</code> adds a <code class="literal">:SCROLL</code> command that lets you interactively cycle through your color schemes.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note124"></a>Note</h3><p>If you're using vim-plug, you can install <code class="literal">ScrollColors</code> by adding <code class="literal">Plug 'vim-scripts/ScrollColors'</code> to your <code class="literal">.vimrc</code> and running <code class="literal">:w | source $MYVIMRC | PlugInstall</code><span class="emphasis"><em>.</em></span></p></div><p>There's also a collection of color schemes available at <a class="ulink" href="https://github.com/flazz/vim-colorschemes" target="_blank">https://github.com/flazz/vim-colorschemes</a>, with what looks like a few hundred of the most popular color schemes. I found all of my personal favorites in that list, so it might be a good resource for someone who's trying to decide on a few favorite color schemes.</p><p>This plugin and <code class="literal">ScrollColors</code> can be used together to browse through a gallery of the <span>most</span><a id="id326496240" class="indexterm"></a> popular color schemes.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note125"></a>Note</h3><p><code class="literal">vim-colorschemes</code> can be installed with vim-plug by adding <code class="literal">Plug 'flazz/vim-colorschemes'</code> to your <code class="literal">.vimrc</code> and running <code class="literal">:w | source $MYVIMRC | PlugInstall</code><span class="emphasis"><em>.</em></span></p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec44"></a>Common issues</h4></div></div></div><p>Sometimes you'll find that the color <span>schemes</span><a id="id326496288" class="indexterm"></a> you're trying out don't look as nice or don't display as many colors as you see in screenshots online.</p><p>This is most likely due to the fact that your Terminal emulator mistakenly tells Vim that it only supports 8 colors, and not the 256 most likely available in modern Terminal emulators. For that, you'll have to properly set the <code class="literal">$TERM</code> environment variable.</p><p>It's most common when using tmux and GMU Screen, as they might wrongly report the number of colors available.</p><p> </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip126"></a>Note</h3><p>If you find 256 colors to be not enough, certain Terminals support 24-bit colors, often referred to as "truecolor". If your Terminal supports 24-bit truecolor (a quick web search would help), add <code class="literal">set termguicolors</code> to your <code class="literal">~/.vimrc</code>.</p></div><p>To view the current content of the <code class="literal">$TERM</code> environment variable, run the following in your shell:</p><pre class="programlisting"><span class="strong"><strong>$ echo $TERM</strong></span></pre><p>If you're using tmux, add the following to your <code class="literal">.tmux.conf</code>:</p><pre class="programlisting">set -g default-terminal "xterm-256color"</pre><p>If you're a GNU Screen user, add the following to your <code class="literal">.screenrc</code>:</p><pre class="programlisting">term "xterm-256color"</pre><p>If the preceding didn't apply to you, add the following to your <code class="literal">.bashrc</code>:</p><pre class="programlisting">TERM=xterm-256color</pre><p>However, overriding <code class="literal">$TERM</code> in your <code class="literal">.bashrc</code> is rarely a good idea, and you may want to do some deeper research into what sets your <code class="literal">$TERM</code> environment variable to the wrong format.</p></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec61"></a>The status line</h3></div></div></div><p>The status line is that lovely bar at the bottom of the <span>screen</span><a id="id325865745" class="indexterm"></a> that is used to display information. You can make it even more useful with some minor configuration tweaks:</p><pre class="programlisting">" Always display a status line (it gets hidden sometimes otherwise).
 set laststatus=2

" Show last command in the status line.
 set showcmd</pre><p>If you want to go even further, there are plugins to enhance your status line. Powerline is an everything-in-one powerhouse, while Airline is its lighter alternative.</p><p> </p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec45"></a>Powerline</h4></div></div></div><p>Powerline provides an enhanced status line for Vim, as well as <span>providing</span><a id="id325865769" class="indexterm"></a> other functions, such as extending your shell prompt or tmux status line. It is available (along with detailed installation instructions) from <a class="ulink" href="https://github.com/powerline/powerline" target="_blank">https://github.com/powerline/powerline</a>. When enabled in Vim, it looks something like this:</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/d03eadf2-b09d-46d4-9fec-cb22993c6a3e.png" /></div><p>As you can see, it displays a plethora of information, including current mode, Git branch, filename, status of a current file, file type, encoding, and how far along you are in a current file. It's fully customizable, and lets you display as much or as little information as you want.</p><p>It's a bit of trouble to install, since it's not just a Vim plugin. First, you'll need to install the <code class="literal">powerline-status</code> package through pip:</p><pre class="programlisting"><span class="strong"><strong>$ python3 -m pip install powerline-status</strong></span></pre><p>If you don't have pip installed, see the technical requirements at the beginning of this chapter for setup instructions.</p><p>You'll also need to make sure <code class="literal">$HOME/.local/bin</code> (the default scripts location for pip) is on your path by adding the following to your <code class="literal">.bashrc</code>:</p><p> </p><pre class="programlisting">PATH=$HOME/.local/bin:$PATH</pre><p> </p><p> </p><p>Finally, set <code class="literal">laststatus</code> to <code class="literal">2</code> (to make sure the status line is always displayed), and load Powerline in your <code class="literal">.vimrc</code>:</p><pre class="programlisting">" Always display status line (or what's the purpose of having powerline?)
set laststatus=2

" Load powerline.
python3 from powerline.vim import setup as powerline_setup
python3 powerline_setup()
python3 del powerline_setup</pre><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p> </p><p>Now, reload your Vim configuration (<code class="literal">:w | source $MYVIMRC</code>), and you'll see the fancy new status line at the bottom of your screen:</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/8ff02b9a-7fb1-49a5-b38c-cec91ea3de97.png" /></div><p> </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch07lvl3sec46"></a>Airline</h4></div></div></div><p>Airline is a great alternative if you don't want <span>anything</span><a id="id325999573" class="indexterm"></a> extra, and don't like the idea of a Python daemon continuously running in the background. It provides an informative, nice-looking prompt, as in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/56aead77-ae93-423d-ad89-522e2b8fa81a.png" /></div><p>Airline is available from <a class="ulink" href="https://github.com/vim-airline/vim-airline" target="_blank">https://github.com/vim-airline/vim-airline</a>, and has no additional dependencies.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note127"></a>Note</h3><p>You can install Airline with vim-plug by adding <code class="literal">Plug 'vim-airline/vim-airline'</code> to your <code class="literal">.vimrc</code> and running <code class="literal">:w | source $MYVIMRC | PlugInstall</code><span class="emphasis"><em>.</em></span></p></div></div></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec62"></a>gVim-specific configuration</h3></div></div></div><p>gVim is a standalone application, and lets you <span>configure</span><a id="id325999622" class="indexterm"></a> more than out-of-the box Vim does. In fact, gVim supports having its own configuration file (in addition to reading <code class="literal">.vimrc</code>): <code class="literal">.gvimrc</code>.</p><p>The primary option for managing how the GUI looks is <code class="literal">guioptions.</code> This configuration string takes a set of letters, which enable options. Some relevant settings might include the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">a</code> and <code class="literal">P</code><span>—</span>automatically yank the visual selection into the system clipboard (for <code class="literal">*</code> and <code class="literal">+</code> registers respectively, see <span class="emphasis"><em>Registers</em></span> in <a class="link" href="#" linkend="ch02">Chapter 2</a>, <span class="emphasis"><em>Advanced Editing and Navigation</em></span>)</li><li style="list-style-type: disc"><code class="literal">c</code><span>—</span>use console dialogs instead of pop-ups</li><li style="list-style-type: disc"><code class="literal">e</code><span>—</span>display tabs using GUI components</li><li style="list-style-type: disc"><code class="literal">m</code><span>—</span>display a menu bar</li><li style="list-style-type: disc"><code class="literal">T</code><span>—</span>include a toolbar</li><li style="list-style-type: disc"><code class="literal">r</code>, <code class="literal">l</code>, and <code class="literal">b</code><span>—</span>make right, left, and bottom scroll bars always visible</li></ul></div><p>For example, if you wanted to display a menu bar, a toolbar, and always display a bottom scroll bar, you could do so by adding the following to your <code class="literal">.vimrc</code>:</p><pre class="programlisting">" GUI: Enable menu bar, toolbar, always display bottom scrollbar.
 set guioptions=mTb</pre><p>The changes will look like this (this screenshot depicts gVim in Windows):</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/d54d2489-5550-4e52-bf38-d70ce7c141af.png" /></div><p>You can learn more about gVim-specific options by reading <code class="literal">:help gui</code>.</p></div></div>