<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch09lvl1sec65"></a>Installing and configuring Neovim</h2></div></div><hr /></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note140"></a>Note</h3><p>Neovim and its installation <span>instructions</span><a id="id326605592" class="indexterm"></a> are available from GitHub at <a class="ulink" href="https://github.com/neovim/neovim" target="_blank">https://github.com/neovim/neovim</a>. You can either download the binary, or install it through one of the <span>package</span><a id="id326605604" class="indexterm"></a> managers. The installation instructions are rather detailed, and may change rather quickly, so you should give them a read at <a class="ulink" href="https://github.com/neovim/neovim/wiki/Installing-Neovim" target="_blank">https://github.com/neovim/neovim/wiki/Installing-Neovim</a>. 
If you are working on Debian based Linux distribution, you can install Neovim by running: <code class="literal">$ sudo apt-get install neovim</code> and <code class="literal">$ Python3 -m pip install neovim</code> to add Python3 to support neovim.</p></div><p>Once you install Neovim, it's available through the <code class="literal">nvim</code> command:</p><pre class="programlisting"><span class="strong"><strong>$ nvim</strong></span></pre><p>You're greeted by a screen similar to a vanilla Vim intro screen:</p><p> </p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/ba995733-2734-4f37-8db7-39b5a2332cef.png" /></div><p>All of the commands familiar to you from Vim will work, and Neovim uses the same configuration format as Vim. However, your <code class="literal">.vimrc</code> is not picked up automatically.</p><p>Neovim adheres to the <code class="literal">XDG</code> base directory specification, which suggests placing all of your configuration files into the <code class="literal">~/.config</code> directory. Neovim configuration is stored inside the <code class="literal">~/.config/nvim</code> directory:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">~/.vimrc</code> becomes <code class="literal">~/.config/nvim/init.vim</code></li><li style="list-style-type: disc"><code class="literal">~/.vim/</code> becomes <code class="literal">~/.config/nvim/</code></li></ul></div><p>Most likely, you'll want to symlink your Neovim configuration to your Vim configuration:</p><pre class="programlisting"><span class="strong"><strong>$ mkdir -p $HOME/.config</strong></span>
<span class="strong"><strong>$ ln -s $HOME/.vim $HOME/.config/nvim</strong></span>
<span class="strong"><strong>$ ln -s $HOME/.vimrc $HOME/.config/nvim/init.vim</strong></span></pre><p>All done! Neovim will now read your <code class="literal">.vimrc</code>!</p><p>Under Windows, Neovim <span>configuration</span><a id="id326178689" class="indexterm"></a> is likely located in <code class="literal">C:\Users\%USERNAME%\AppData\Local\nvim</code>.</p><p>You can configure Windows <span>symlinks</span><a id="id326178702" class="indexterm"></a> as follows:</p><pre class="programlisting"><span class="strong"><strong>$ mklink /D %USERPROFILE%\AppData\Local\nvim %USERPROFILE%\vimfiles
$ mklink %USERPROFILE%\AppData\Local\nvim\init.vim %USERPROFILE%\_vimrc</strong></span></pre><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec85"></a>Checking health</h3></div></div></div><p>The intro screen <span>suggests</span><a id="id326178725" class="indexterm"></a> you run <code class="literal">:checkhealth;</code> let's give it a shot:</p><pre class="programlisting"><span class="strong"><strong>:checkhealth</strong></span></pre><p>You will be greeted by a screen that may look something like this:</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/f57d3ad9-9db5-4640-b70b-b7384b013acd.png" /></div><p>Neovim health checks will outline everything wrong with your Neovim setup, and suggest ways to fix those issues. You should go through the list and fix the errors relevant to you.</p><p> </p><p>For instance, my installation required a <code class="literal">neovim</code> library for Python support:</p><div class="mediaobject"><img src="/graphics/9781789341096/graphics/38178105-4ac6-4ac0-8f9f-b389f63eee7c.png" /></div><p>And here's how to install the missing Python provider:</p><pre class="programlisting"><span class="strong"><strong>$ pip install neovim  # Python 2</strong></span>
<span class="strong"><strong>$ python3 -m pip install neovim  # Python 3</strong></span></pre><p>One of the really nice things about Neovim is the fact that you don't have to recompile it to enable certain options. For instance, Python support will work as <span>soon</span><a id="id326179448" class="indexterm"></a> as you install the <code class="literal">neovim</code> Python package and restart Neovim.</p><p> </p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch09lvl2sec86"></a>Sane defaults</h3></div></div></div><p>Neovim comes <span>with</span><a id="id326337715" class="indexterm"></a> a number of different defaults than Vim. The defaults are meant to be more applicable to working with a text editor in the modern world. Compared to using Vim with an empty <code class="literal">.vimrc</code>, some of the more noticeable defaults include enabled syntax highlighting, sensible indentation settings, <code class="literal">wildmenu</code>, highlighted search results, and search-as-you-type.</p><p>You can check <code class="literal">:help nvim-defaults</code> from within Neovim to learn more about the defaults.</p><p>If you wanted to synchronize your settings between Vim and Neovim, you could add the following to your <code class="literal">~/.vimrc</code> (which is hopefully symlinked to <code class="literal">~/.config/nvim/init.vim</code>):</p><pre class="programlisting">if !has('nvim')
  set nocompatible                " not compatible with Vi
  filetype plugin indent on       " mandatory for modern plugins
  syntax on                       " enable syntax highlighting
  set autoindent                  " copy indent from the previous line
  set autoread                    " reload from disk
  set backspace=indent,eol,start  " modern backspace behavior
  set belloff=all                 " disable the bell
  set cscopeverbose               " verbose cscope output
  set complete-=i                 " don't scan current on included
                                  " files for completion
  set display=lastline,msgsep     " display more message text
  set encoding=utf-8              " set default encoding
  set fillchars=vert:|,fold:      " separator characters
  set formatoptions=tcqj          " more intuitive autoformatting
  set fsync                       " call fsync() for robust file saving
  set history=10000               " longest possible command history
  set hlsearch                    " highlight search results
  set incsearch                   " move cursor as you type when searching
  set langnoremap                 " helps avoid mappings breaking
  set laststatus=2                " always display a status line
  set listchars=tab:&gt;\ ,trail:-,nbsp:+  " chars for :list
  set nrformats=bin,hex           " &lt;c-a&gt; and &lt;c-x&gt; support
  set ruler                       " display current line # in a corner
  set sessionoptions-=options     " do not carry options across sessions
  set shortmess=F                 " less verbose file info
  set showcmd                     " show last command in the status line
  set sidescroll=1                " smoother sideways scrolling
  set smarttab                    " tab setting aware &lt;Tab&gt; key
  set tabpagemax=50               " maximum number of tabs open by -p flag
  set tags=./tags;,tags           " filenames to look for the tag command
  set ttimeoutlen=50              " ms to wait for next key in a sequence
  set ttyfast                     " indicates that our connection is fast
  set viminfo+=!                  " save global variables across sessions
  set wildmenu                    " enhanced command line completion
endif</pre><p>I've left some short comments, attempting to briefly describe each one of these settings, and you can learn more about them by checking the corresponding <code class="literal">:help</code> entry.</p></div></div>