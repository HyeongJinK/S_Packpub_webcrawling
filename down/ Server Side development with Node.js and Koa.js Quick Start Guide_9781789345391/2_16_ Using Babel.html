<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch02lvl1sec23"></a>Using Babel</h2></div></div><hr /></div><p>If you're using an older version of Node (&lt; 7.6), you will need to use a transpiler such as Babel to make <code class="literal">async</code> functions compatible with your version of Node. Koa recommends using Babel's <span>require</span><a id="id325905195" class="indexterm"></a> hook, as seen in the <span>example</span><a id="id325904963" class="indexterm"></a> in the following code snippet (<a class="ulink" href="https://babeljs.io/docs/en/babel-register/" target="_blank">https://babeljs.io/docs/en/babel-register/</a>):</p><pre class="programlisting">require('babel-register');

<span class="strong"><strong>// require the rest of the app that needs to be transpiled after the hook</strong></span><span class="emphasis"><em>

</em></span>const app = require('./app');</pre><p>You can then install the transforms you would need, depending on your version of Node. If you are using V6 of Node, you would not need most of the transforms, since it already supports a lot of ES6 features. At the minimum though, you would need the <code class="literal">transform-async-to-generator</code> plugin. You can define this in your <code class="literal">.babelrc</code> file, as follows:</p><pre class="programlisting">{
  "plugins": ["transform-async-to-generator"]
}</pre><p>According to the Koa documentation, you can also use the <code class="literal">env</code> preset with a target option <code class="literal">"node": "current"</code> instead.</p></div>