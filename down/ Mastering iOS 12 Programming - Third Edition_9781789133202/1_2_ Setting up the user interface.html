<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch01lvl1sec10"></a>Setting up the user interface</h2></div></div><hr /></div><p>Every <span>time</span><a id="id325609936" class="indexterm"></a> you start a new project in Xcode, you have the option to pick a template for your application. Every template contains a small amount of code to get you started. Sometimes, a basic layout will even be set up for you. Throughout this book, you should default to using the <strong class="userinput"><code>Single View Application</code></strong> template. Don't be fooled by its name; you can add as many views to your app as you would like, this template only provides you with only one simple view. Using this template allows you to build your application from scratch, giving you the freedom to set up all the components as you like.</p><p>In this chapter, you will <span>create</span><a id="id325611488" class="indexterm"></a> an app that is called <strong class="userinput"><code>Hello-Contacts</code></strong>. This app renders your user's contact list in a <code class="literal">UITableView</code> that you will set up. Let's create a project for this app right now. Select <strong class="userinput"><code>File</code></strong> | <strong class="userinput"><code>New</code></strong> | <strong class="userinput"><code>Project</code></strong> in the menu bar. Next, select <strong class="userinput"><code>Single View Application</code></strong> from the list of project templates. When prompted to give your project a name, call it <strong class="userinput"><code>Hello-Contacts</code></strong>. Make sure that <strong class="userinput"><code>Swift</code></strong> is selected as the programming language for your app and uncheck all the Core Data and testing-related checkboxes; we won't need those right now.</p><p>Your <span>configuration</span><a id="id325612677" class="indexterm"></a> should resemble the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781789133202/graphics/52dc9eb0-a5b9-4165-b443-fab26c9442e8.png" /></div><p>Once your application is configured, open the file named <code class="literal">Main.storyboard</code>. The storyboard file is used to lay out all of your application's views and to connect them to the code you write. The editor you use to manipulate your storyboard is called <strong class="userinput"><code>Interface Builder</code></strong>. Storyboards are a great way to edit your files and see the results of your actions immediately.</p><p>If you <span>have</span><a id="id325615341" class="indexterm"></a> used <code class="literal">UITableView</code> in the past, you may have used <code class="literal">UITableViewController</code>. The <code class="literal">UITableViewController</code> class is a subclass of a regular <code class="literal">UIViewController</code>. The difference is that <code class="literal">UITableViewController</code> contains a lot of setup that you would otherwise have to perform on your own. To fully <span>understand</span><a id="id325617722" class="indexterm"></a> how <code class="literal">UITableView</code> is configured and set up, you will not use <code class="literal">UITableViewController</code> now.</p><p>Take a look at the top bar in the <span class="strong"><strong><strong class="userinput"><code>Interface Builder</code></strong></strong></span> window. There is a button there that has a circle with a square in it. This button opens the <span class="strong"><strong><strong class="userinput"><code>Object Library</code></strong></strong></span>. The following screenshot shows you the <span class="strong"><strong><strong class="userinput"><code>Object Library</code></strong></strong></span> and the button you can click to access it:</p><div class="mediaobject"><img src="/graphics/9781789133202/graphics/c5561997-c975-4531-9560-2a4053b9ce04.png" /></div><p>With the <span class="strong"><strong><strong class="userinput"><code>Object Library</code></strong></strong></span> opened, look for <code class="literal">UITableView</code>. If you begin typing the name of the component you're looking for in the <span class="strong"><strong><strong class="userinput"><code>Object Library</code></strong></strong></span>, all potential matches should automatically be filtered. Once you find the table view, drag it to the app's view. After doing this, use the white squares at the corners of the table view to make sure that the table covers the entire view.</p><p>If you look at the bottom of the window, you can see the <span>dynamic</span><a id="id325580646" class="indexterm"></a> viewport inspector. If you don't see it, try clicking on the name of the current preview device. In the inspector, select a device that either has a larger or a smaller screen than the current device. When you <span>have</span><a id="id325580654" class="indexterm"></a> done this, you will notice that the table view doesn't cover the viewport as nicely anymore. On smaller screens, you'll see that the table view has become larger than the view and on larger screens, the table view isn't large enough to cover the viewport:</p><div class="mediaobject"><img src="/graphics/9781789133202/graphics/e01718f6-e83b-4046-9b37-2be44f48b285.png" /></div><p>To make sure your layout scales properly to fit any screen size you select, you use <span class="emphasis"><em>Auto Layout</em></span>. <span class="emphasis"><em>Auto Layout</em></span> enables you to create layouts that automatically adapt to any screen size that exists. Your layout currently uses fixed coordinates and dimensions to lay out the table view. For instance, your table view is set up to be positioned at <code class="literal">(0, 0)</code> with a size of <code class="literal">(375, 667)</code>. This size is perfect for devices such as the iPhone 6, 6S, 7, and 8. But it wouldn't fit nicely with the iPhone Xs or iPad Pro. This combination of a view's position and size is called the <code class="literal">frame</code>.</p><p><span class="emphasis"><em>Auto Layout</em></span> uses <span>constraints</span><a id="id325580695" class="indexterm"></a> to define a layout instead of a <code class="literal">frame</code>. For instance, to make the table view fit the entire screen, you would add constraints that pin every edge of the table view to the corresponding edge of its superview. Doing so would make the table view match its superview's size at all times. The simplest way to set up constraints for this is to let Xcode add them for you. Let's use the <span class="emphasis"><em>dynamic viewport inspector</em></span> to switch back to the initial device you had selected so we can add constraints from there.</p><p>First, ensure that the table view covers the entire <span>viewport</span><a id="id325580747" class="indexterm"></a> again, then click on the <span class="strong"><strong><strong class="userinput"><code>Resolve Auto Layout Issues</code></strong></strong></span> button in the bottom-right corner of the <span class="strong"><strong><strong class="userinput"><code>Interface Builde</code></strong>r</strong></span> screen and select <span class="strong"><strong><strong class="userinput"><code>Reset to Suggested Constraints</code></strong></strong></span> from the menu that pops up:</p><div class="mediaobject"><img src="/graphics/9781789133202/graphics/5022fb14-5821-4827-9aff-35f2b7e6df59.png" /></div><p>Selecting this option automatically adds the <span>constraints</span><a id="id325580785" class="indexterm"></a> that Xcode considers required for your view. The constraints that were added by Xcode pin all of the table view's edges to its superview edges, which is precisely what you wanted to happen. You can manually inspect these constraints in the <span class="strong"><strong><strong class="userinput"><code>Document Outline</code></strong></strong></span> on the left-hand side of the <strong class="userinput"><code><span class="strong"><strong>Interface Builder</strong></span></code></strong> window:</p><div class="mediaobject"><img src="/graphics/9781789133202/graphics/e2cbbe3a-09d9-4c39-a3ac-b08d428f8525.png" /></div><p>Each constraint that got <span>added</span><a id="id325580851" class="indexterm"></a> describes how the table <span>view</span><a id="id325580859" class="indexterm"></a> should behave relative to another view. In this case, the other view is the superview. If you change the preview device in the <span class="emphasis"><em>dynamic viewport inspector,</em></span> you should see that the table view always covers the entire screen. Try picking a couple of different screen sizes to make sure this works.</p><p>Now that you have a table view added to your view and its layout is exactly what you need, it is time to provide the table with some contents to display. To do this, you're going to write some code that uses Apple's <code class="literal">Contacts.framework</code> to fetch the app user's contacts list from their address book.</p></div>