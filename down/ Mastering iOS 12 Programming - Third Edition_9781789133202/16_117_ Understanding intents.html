<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch16lvl1sec110"></a>Understanding intents</h2></div></div><hr /></div><p>Siri is a powerful, smart, and ever-learning <span>personal</span><a id="id325333110" class="indexterm"></a> assistant that aims to give natural responses to natural speech input. This means that there is often more than one way to say something to Siri. Some users like to be extremely polite when they talk to Siri, saying please and thank you whenever they ask for something. Other users <span>like</span><a id="id325602500" class="indexterm"></a> to be short and to the point; they simply tell Siri what they want and that's it.</p><p>This means that Siri has to be really smart about how it interprets language and how it converts the user's requests to actionable items. Not only does Siri take into account the language used; it's also aware of how a user is using Siri. If a user activates Siri by saying <span class="emphasis"><em>Hey, Siri!</em></span>, Siri will be more vocal and verbose than when a user activates Siri by pressing and holding the home or side buttons because it's more likely if they didn't press the home or side button, that the user is not looking at their device.</p><p>To convert a user's spoken requests into actions, Siri uses intents. An <strong class="userinput"><code>intent</code></strong> is a way to describe an action. These intents are supported by app-specific vocabularies; this allows you to make sure that your users can use terms that are familiar to them because they are also used in your app.</p><p>Siri does not <span>handle</span><a id="id325602539" class="indexterm"></a> an unlimited amount of intents. All of the intents that Siri can handle belong to a predefined set of domains. If you plan to create a Siri extension for your own app, it must fit into one of the predefined domains that Siri understands—unless you provide a custom intent. Currently, Siri handles the following <span>domains</span><a id="id325604085" class="indexterm"></a> out of the box:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Messaging (<span class="emphasis"><em>Send a message to Donny that says Hello, World</em></span>)</li><li style="list-style-type: disc">Calling (<span class="emphasis"><em>Call my sister</em></span>)</li><li style="list-style-type: disc">Payments (<span class="emphasis"><em>Transfer 5 euros to Jeff</em></span>)</li><li style="list-style-type: disc">Workouts (<span class="emphasis"><em>Start an outdoor run</em></span>)</li><li style="list-style-type: disc">Ride booking (<span class="emphasis"><em>Get me a taxi to the airport</em></span>)</li><li style="list-style-type: disc">Photo search (<span class="emphasis"><em>Find me photos from Paris</em></span>)</li><li style="list-style-type: disc">Notes (<span class="emphasis"><em>Create a note that says "Don't forget the dishes"</em></span>)</li><li style="list-style-type: disc">Reminders (<span class="emphasis"><em>Remind me to do the dishes when I get home</em></span>)</li><li style="list-style-type: disc">Visual codes (<span class="emphasis"><em>Show me my ticket for tonight's concert</em></span>)</li></ul></div><p> </p><p>If your app is not in one of these domains, you will need to do a bit more work to integrate your app with Siri, as you will learn in the last section of this chapter. In order to integrate Siri with your app, your app must ask the user permission for it to be used with Siri. It's recommended that you do this when your user first opens your app because this ensures that your app is available to Siri as soon as possible. Make sure that you ask for permission appropriately, though; you don't want to unpleasantly surprise your user with a permission request. You also need to add the <span class="emphasis"><em>Privacy—Siri Usage Description</em></span> (<code class="literal">NSSiriUsageDescription</code>) key to your <code class="literal">Info.plist</code> file, and enable the Siri capability in your app's Capabilities tab.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note45"></a>Note</h3><p>You can only enable the Siri capability for your app if you are a paying member of Apple's Developer Program. Unfortunately, you can't enable or test Siri if you haven't got such a membership.</p></div><p>In order for Siri to work with your app, it's important that a user mentions your app's name to Siri when asking it something related to your app. This is to make sure that apps don't hijack certain words or verbs, which would result in a confusing experience. It doesn't matter exactly how or when the user does this. Siri is all about natural language, and it will even understand if your app name is used as a verb. For example, <span class="emphasis"><em>MyBankApp some money to John Doe</em></span> would be interpreted as a money transfer action with an app named <span class="emphasis"><em>MyBankApp</em></span> to a person named <span class="emphasis"><em>John Doe</em></span>.</p><p>If a user would literally ask <span>Siri</span><a id="id325606076" class="indexterm"></a> to perform the preceding action, Siri would not be able to fulfill the request yet. In the case of a money transfer Siri has to know two things:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Who should receive the money?</li><li>How much money should be transferred?</li></ol></div><p>These requirements are captured in an intent, and if Siri is missing information, it will ask the user directly for this information in order to collect everything needed to successfully transfer the money.</p><p>Now that you know what an intent is and what it's used for, let's see how you can implement an intents extension so Siri knows how to use your app to send messages.</p><p> </p></div>