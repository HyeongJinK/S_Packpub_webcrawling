<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec78"></a>Virtual networks</h2></div></div><hr /></div><p>Here are some practices that <span>should</span><a id="id324953591" class="indexterm"></a> be followed in Azure, with regard to virtual networks:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Use subnets for <span>large</span><a id="id325432072" class="indexterm"></a> IP address spaces</li><li style="list-style-type: disc">Use <span class="strong"><strong>Network Security Groups</strong></span> (<span class="strong"><strong>NSG</strong></span>) to provide allow/deny rules for network traffic</li></ul></div><p>However, it's best to avoid the following:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">D<span>on't use split tunneling; instead, enable forced tunneling. An example of a split tunnel is like when you VPN to your corporate network from Starbucks, which you will then have access to all your corporate resources, but when you go to the internet it does not go through the VPN.  When connected to a corporate network you want all your traffic to go through the VPN for security reason and to reduce risk, which is what happens when you enable forced tunneling.</span></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="note31"></a>Note</h3><p>Virtual networks are the core component for making your resources secure, so plan them wisely. Implement Azure DMZ if required. While making gateway subnets, keep their scope as small as possible, to avoid IP wastage.</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title"><a id="tip32"></a>Note</h3><p><span>The default system routes are usually all that you need, but you can create user-defined routes</span>.  The default system routes let Azure resources initiate communication between themselves, which is usually only what you need, but if you need more you can define your own user-defined routes.</p></div></div>