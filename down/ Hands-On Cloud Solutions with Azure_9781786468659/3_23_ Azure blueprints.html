<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch03lvl1sec29"></a>Azure blueprints</h2></div></div><hr /></div><p><span class="strong"><strong>Azure blueprints</strong></span> is something that was added to <span>Azure</span><a id="id324953600" class="indexterm"></a> that allows architects to sketch out the design parameters for a project, which adhere to patterns, standards, and requirement within an organization. The thing that was missing since the beginning was a declarative way to orchestrate the deployment of multiple ARM templates and artifacts, such as:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Policy assignments</li><li style="list-style-type: disc">Role assignments</li><li style="list-style-type: disc">ARM templates</li><li style="list-style-type: disc">Resource groups</li></ul></div><p>Now one of the things I had to learn was how blueprints differed from ARM templates, which for me, was ARM templates on steroids, meaning not only can you have a set of resource groups, but also roles and policy assignments.</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Life of a blueprint, either through the Azure portal or REST API (I use PowerShell)</li><li style="list-style-type: disc">Create and edit; this functions is in draft mode and is not assigned</li><li style="list-style-type: disc">Publish, once publish is assigned, it can’t be changed</li><li style="list-style-type: disc">Create and edit new versions; to change a blueprint you create a new version</li><li style="list-style-type: disc">Publish new version; once published, a version can’t be changed</li><li style="list-style-type: disc">Delete a version (if needed); remove a version</li><li style="list-style-type: disc">Delete a blueprint; remove a blueprint</li></ul></div><p>Blueprints can have many version that can be assigned to multiple subscriptions. This can be for an environment set up with different roles or different types of application modules. You also cannot remove a blueprint that is actively assigned to a subscription.</p><p>Blueprints, like ARM templates, allow for both static or dynamic input and output parameters. The blueprint, because it is an orchestrator artifact, requires a sequence for deployment and, by default, follows the following sequence by subscription level, as resource group artifacts are sorted by placeholder name:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Role assignment artifacts by artifact name</li><li style="list-style-type: disc">Policy assignment artifacts by artifact name</li><li style="list-style-type: disc">ARM template by artifact name</li></ul></div><p>This same process is followed for child resources within each resource group artifact being processed. Now, you can customize the sequence by using the standard dependsOn property with JSON. To gain a deeper understanding, head over to <a class="ulink" href="https://docs.microsoft.com/en-us/azure/governance/blueprints/" target="_blank">https://docs.microsoft.com/en-us/azure/governance/blueprints/</a>. Now it is time to review the responsibility matrix so that we understand what our architecture should be responsible for.</p></div>