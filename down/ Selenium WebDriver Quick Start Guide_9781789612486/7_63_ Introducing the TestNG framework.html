<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch07lvl1sec65"></a>Introducing the TestNG framework</h2></div></div><hr /></div><p>We will now start the part that every test <span>automation</span><a id="id325162059" class="indexterm"></a> developer should know, that is, the TestNG framework. TestNG is a framework similar to JUnit and has many useful annotations. In this chapter, we will be using the <code class="literal">@Test</code> annotation. First, we will install the TestNG plugin for Eclipse.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec57"></a>Installing the TestNG plugin for Eclipse</h3></div></div></div><p>Follow these steps to <span>install</span><a id="id325162939" class="indexterm"></a> the TestNG <span>plugin</span><a id="id325447111" class="indexterm"></a> for Eclipse:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Select <strong class="userinput"><code>Help</code></strong> | <strong class="userinput"><code>Eclipse Marketplace</code></strong></li><li>Search for <code class="literal">TestNG Eclipse</code></li><li>Install <strong class="userinput"><code>TestNG for Eclipse</code></strong></li></ol></div><p>The plugin's installation will take some time. Eventually, after the installation, we can right-click on the project and will see the various options that are available, as shown in the following screenshot:</p><div class="mediaobject"><img src="/graphics/9781789612486/graphics/859ca3fb-22b8-49c6-97d8-8700c0d7041a.png" /></div><p>Click <code class="literal">Convert to TestNG</code>. On the screen that appears, click <strong class="userinput"><code>Finish</code></strong>. After a split second, you will see that a file with the name <code class="literal">testng.xml</code> has <span>been</span><a id="id325448939" class="indexterm"></a> created at the <span>root</span><a id="id325448948" class="indexterm"></a> location.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch07lvl2sec58"></a>A look at testng.xml</h3></div></div></div><p>This is <span>what</span><a id="id325448963" class="indexterm"></a> the <code class="literal">testng.xml</code> file looks like:</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd"&gt;
&lt;suite name="Suite"&gt;
  &lt;test name="ChromeTest" enabled="true"&gt;
    &lt;classes&gt;
      &lt;class name="org.packt.client.Driver_Script"&gt;
             &lt;parameter name="browserName" value="chrome"&gt;&lt;/parameter&gt;
     &lt;/class&gt;
 &lt;/classes&gt;
 &lt;/test&gt;
  &lt;test name="IETest" enabled="true"&gt;
    &lt;classes&gt;
      &lt;class name="org.packt.client.Driver_Script"&gt;
             &lt;parameter name="browserName" value="ie"&gt;&lt;/parameter&gt;
     &lt;/class&gt;
 &lt;/classes&gt;
 &lt;/test&gt;
  &lt;test name="FirefoxTest" enabled="true"&gt;
    &lt;classes&gt;
      &lt;class name="org.packt.client.Driver_Script"&gt;
             &lt;parameter name="browserName" value="firefox"&gt;&lt;/parameter&gt;
     &lt;/class&gt;
 &lt;/classes&gt;
 &lt;/test&gt;

&lt;/suite&gt; &lt;!-- Suite --&gt;

</pre><p>As you can see, the <code class="literal">Driver_Script</code> class in the <code class="literal">org.packt.client</code> package gets executed. Let's look at the contents of the <code class="literal">Driver_Script</code> class next.</p><p>The <code class="literal">Driver_Script</code> class has a switch case for all of the <span>different</span><a id="id325450396" class="indexterm"></a> keywords, such as <code class="literal">openBrowser</code>, and <code class="literal">Navigat<span>e</span></code>, as you can see in the following block of code:</p><pre class="programlisting">  @Test
  @Parameters({ "browserName" })
  public void Run_Framework(String browserName) {
    List&lt;String&gt; browsers = new ArrayList&lt;String&gt;();
    browsers.add(browserName);
    input_data = ExtractAllData.extractData(browserName);
    System.out.println("kya ha ?" + input_data.size());
    for (int i = 0; i &lt; input_data.size(); i++) {
      String timestamp = new SimpleDateFormat("yyyyMMMddHHmmss")
          .format(new java.util.Date());

      System.out.println("Starting " + browserName + timestamp);
      actionKeyword = input_data.get(i).get("Keyword").toString();
      inputData = input_data.get(i).get("Data").toString();
      testcaseID = input_data.get(i).get("TestCaseID").toString();

      switch (actionKeyword) {
      case "openbrowser":
        try {
          actKeyword = new OpenBrowser();
        } catch (IOException e) {
          throw;
        } catch (FilloException e) {
          e.printStackTrace();
        }
        command = new NewBrowser(actKeyword);
        invoker = new BrowserInvoker(command);
        driver = invoker.open(browsers);
        break;
      case "navigate":
        try {
          actKeyword = new OpenURL();
        } catch (IOException e) {
          e.printStackTrace();
        } catch (FilloException e) {
          e.printStackTrace();
        }
        command = new OpenURLCommand(actKeyword);
        NavigatorInvoker invoker1 = new NavigatorInvoker(command);
        driver = invoker1.navigate(driver, inputData);
        break;
      }
    }
  }
}</pre><p>If the <code class="literal">Framework.xlsx</code> file contains four test cases with two marked as <code class="literal">Y</code> in the <code class="literal">Execute_Flag</code> column, the <code class="literal">Browser</code> has the values <code class="literal">Chrome</code> and <code class="literal">Internet Explorer</code>, and if you execute <code class="literal">testng.xml</code> with this code, then one Chrome session will start, navigate to <a class="ulink" href="http://www.freecrm.com" target="_blank">http://www.freecrm.com</a>, and stay open. Similarly, an Internet Explorer session will open after that and navigate to the same URL and stay open. A new keyword called <code class="literal">closeBrowser</code> can be added if the browser windows need to be closed.</p><p>As you may have <span>noticed</span><a id="id325450485" class="indexterm"></a> from the timestamp, both of the timestamps will be different, indicating that each test case runs sequentially. But wait...if we have around 2,000 test cases in our test suite, won't the execution take a huge amount of time?</p></div></div>