<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec72"></a>Introducing assertions</h2></div></div><hr /></div><p>Testing in Selenium is incomplete if we don't have a way to verify our test results. The TestNG framework provides the <code class="literal">Assert</code> class, using which we can do <span>validations</span><a id="id325161520" class="indexterm"></a> and verifications in TestNG. We can use assertions to verify text on screen, do validations, and so on.</p><p>The most common methods in the <code class="literal">Assert</code> class are given here:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><code class="literal">assertTrue(condition, message)</code>: Takes <span>two</span><a id="id325161541" class="indexterm"></a> arguments, which are <code class="literal">condition</code> and <code class="literal">message</code>. A check is done to see whether the Condition is <code class="literal">true</code> or not. If the Condition is evaluated as <code class="literal">false</code>, then it fails and the message gets printed. The message is optional.</li><li style="list-style-type: disc"><code class="literal">assertFalse(condition, message)</code>: Takes <span>two</span><a id="id325162060" class="indexterm"></a> arguments, which are <code class="literal">condition</code> and <code class="literal">message</code>. A check is done to see whether the Condition is <code class="literal"><span>false</span></code> or not. If the Condition is evaluated as<code class="literal">true</code>, then it fails and the message gets printed. The message is optional. </li><li style="list-style-type: disc"><code class="literal">assertNull(object, message)</code>: Checks <span>whether</span><a id="id325437571" class="indexterm"></a> an object is null. If the object is not null, then it fails and the optional message is printed.</li><li style="list-style-type: disc"><code class="literal">assertNotNull(object, message)</code>: Checks <span>whether</span><a id="id325441757" class="indexterm"></a> an object is not null. If the object is null, then it fails and the optional message is printed.</li><li style="list-style-type: disc"><code class="literal">assertEquals(actual,expected,message)</code>: Checks <span>whether</span><a id="id325441770" class="indexterm"></a> the <code class="literal">actual</code> and <code class="literal">expected</code> are equal. If these are not equal, then it fails and the optional message is printed.</li><li style="list-style-type: disc"><code class="literal">assertNotEquals(actual, expected, message)</code>: Checks <span>whether</span><a id="id325441789" class="indexterm"></a> the actual and <code class="literal">expected</code> are not equal. If these are equal, then it fails and the optional message is printed.</li></ul></div><p>The following code is a simple <span>example</span><a id="id325442145" class="indexterm"></a> using assertions:</p><pre class="programlisting">@Listeners(org.packt.listeners.SampleListener1.class)
public class ListenerClass {
 @Test
 public void checkListeners() {
     System.setProperty("webdriver.chrome.driver",
     System.getProperty("user.dir")
 + "\\src\\main\\resources\\chromedriver.exe");
     WebDriver driver = new ChromeDriver();
     driver.get("http://www.freecrm.com");
     System.out.println("Title is : " + driver.getTitle());
     Assert.assertEquals(driver.getTitle(),
         "#1 Free CRM software in the cloud for sales and service");
 }
}</pre><p>Once this test is run after right-clicking on project and selecting <strong class="userinput"><code>Run As TestNG Test</code></strong>, the script navigates to the freecrm website and passes when it finds the <span>correct</span><a id="id325444758" class="indexterm"></a> title.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec67"></a>Testing for a negative scenario</h3></div></div></div><p>You might wonder what <span>happens</span><a id="id325444803" class="indexterm"></a> when you give incorrect text in the <code class="literal">expected</code> parameter. Suppose we give the string <code class="literal"># Free CRM software in the cloud for sales and service</code><span class="emphasis"><em> , </em></span>then the <code class="literal">AssertEquals</code> check will fail and the output shown here will get printed to the console:</p><pre class="programlisting"><span class="strong"><strong>FAILED: checkListeners</strong></span>
<span class="strong"><strong>java.lang.AssertionError: expected [# Free CRM software in the cloud for sales and service] but found [#1 Free CRM software in the cloud for sales and service]</strong></span></pre><p>Next, we will understand what are soft and hard asserts.</p></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="ch08lvl2sec68"></a>Two different types of asserts </h3></div></div></div><p>There are two different types of assertions, hard assert and soft assert:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc"><span class="strong"><strong>Hard assert</strong></span>: When a hard <span>assert</span><a id="id325447036" class="indexterm"></a> is <span>used</span><a id="id325447082" class="indexterm"></a> and the test case fails, the statements following the assert will not get executed and the test execution will abort.</li><li style="list-style-type: disc"><span class="strong"><strong>Soft assert</strong></span>: When a soft<span> </span>is <span>used</span><a id="id325447100" class="indexterm"></a> and the test case fails, the statements following the assert will  get executed and the test execution will pass.</li></ul></div><p>The normal assert is a hard assert, which we have already seen. We will see how to use a soft assert next.</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="ch08lvl3sec21"></a>Using soft asserts</h4></div></div></div><p>Unlike hard assertions, soft assertions <span>allow</span><a id="id325447118" class="indexterm"></a> us to continue execution on failure without aborting. For this, a class called <code class="literal">SoftAssert</code> is used. An object of this class has to be created in order to use it:</p><p><code class="literal">SoftAssert assertNew = new SoftAssert();</code></p><p>Now use this object to invoke the various methods. Let's have a look at this with a simple example:</p><pre class="programlisting">public class SoftAssertExample {
     @Test
     public void checkListeners() {
         SoftAssert assertNew = new SoftAssert();
         System.setProperty("webdriver.chrome.driver",
         System.getProperty("user.dir")
             + "\\src\\main\\resources\\chromedriver.exe");
         WebDriver driver = new ChromeDriver();
         driver.get("http://www.freecrm.com");
         System.out.println("Title is : " + driver.getTitle());
             assertNew.assertEquals(driver.getTitle(),
                 "# Free CRM software in the cloud for sales and 
                   service");
         System.out.println("Assert has been executed");
    }
}
The output from the preceding code is given here:


</pre><p>If you check the output from this code, notice that even when the assertion fails, control passes to the statement following the assert, which in the preceding case is:</p><p><code class="literal">System.out.println("Assert has been executed");</code></p><pre class="programlisting"><span class="strong"><strong>Title is : #1 Free CRM software in the cloud for sales and service
Assert has been executed</strong></span>
<span class="strong"><strong> checkListeners was a success</strong></span>
<span class="strong"><strong> [Utils] Attempting to create C:\Users\Bhagyashree\workspace\SeleniumFramework\test-output\Default suite\Default test.xml</strong></span>
<span class="strong"><strong> [Utils] Directory C:\Users\Bhagyashree\workspace\SeleniumFramework\test-output\Default suite exists: true</strong></span>
<span class="strong"><strong> PASSED: checkListeners</strong></span>
<span class="strong"><strong>===============================================</strong></span>
<span class="strong"><strong> Default test</strong></span>
<span class="strong"><strong> Tests run: 1, Failures: 0, Skips: 0</strong></span>
<span class="strong"><strong> ===============================================</strong></span></pre><p>Notice the <code class="literal">println</code> statement after the <span>assert</span><a id="id325448968" class="indexterm"></a> has been printed. Try the same code using a hard assert. You will notice that the <code class="literal">println</code> statement does not get printed and, moreover, the test fails.</p></div></div></div>