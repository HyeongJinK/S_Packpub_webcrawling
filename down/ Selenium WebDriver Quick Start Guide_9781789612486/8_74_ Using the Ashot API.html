<div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ch08lvl1sec75"></a>Using the Ashot API</h2></div></div><hr /></div><p>The Ashot API <span>provides</span><a id="id325161569" class="indexterm"></a> the following features:</p><div class="itemizedlist"><ul type="bullet"><li style="list-style-type: disc">Takes a screenshot of an individual <code class="literal">WebElement</code> on different platforms (such as desktop browsers, iOS simulator, mobile Safari)</li><li style="list-style-type: disc">Decorates the screenshots</li><li style="list-style-type: disc">Provides screenshot comparison</li></ul></div><p>Taking screenshots of individual <code class="literal">WebElements</code> is also possible with AShot.</p><p>AShot takes a screenshot in three steps:</p><div class="orderedlist"><ol class="orderedlist arabic" type="1"><li>Captures a screenshot of the full page</li><li>Finds the element's size and coordinates</li><li>Adjusts the original screenshot by cropping</li></ol></div><p>This way, AShot provides an image of the <code class="literal">WebElement</code> </p><p>To use AShot, add the <span>dependency</span><a id="id325441795" class="indexterm"></a> given here to <code class="literal">pom.xml</code>:</p><pre class="programlisting">&lt;dependency&gt;
 &lt;groupId&gt;ru.yandex.qatools.ashot&lt;/groupId&gt;
 &lt;artifactId&gt;ashot&lt;/artifactId&gt;
 &lt;version&gt;1.1&lt;/version&gt;
&lt;/dependency&gt;</pre><p>The following code helps to take a full-page screenshot:</p><pre class="programlisting">public class TakeScreenShot {

  public static void main(String[] args) {

    // Open Firefox
    System.setProperty("webdriver.chrome.driver",
 System.getProperty("user.dir")
 + "\\src\\main\\resources\\chromedriver.exe");

    WebDriver driver = new ChromeDriver();

    // Maximize the window
    driver.manage().window().maximize();

    // Pass the url
    driver.get("http://www.freecrm.com");

    Screenshot screenshot = new AShot().shootingStrategy(
        ShootingStrategies.viewportPasting(1000))
        .takeScreenshot(driver);
    try {
      ImageIO.write(screenshot.getImage(), "PNG",
          new File(System.getProperty("user.dir") + "//test.png"));
    } catch (IOException e) {
      throw new IOException();
    }
  }
} </pre><p>The two lines <span>mentioned</span><a id="id325444757" class="indexterm"></a> here are sufficient to take a full-page screenshot:</p><pre class="programlisting">    Screenshot screenshot = new AShot().shootingStrategy(
        ShootingStrategies.viewportPasting(1000))
        .takeScreenshot(driver);
    try {
      ImageIO.write(screenshot.getImage(), "PNG",
          new File(System.getProperty("user.dir") + "//test.png"));</pre><p>Next, we will see how to take screenshot of an individual <code class="literal">WebElement</code>.</p><p><span>The two lines</span> are all that change for taking the screenshot of an individual <code class="literal">WebElement</code>.</p><p>Given here is the code to take a screenshot of an individual <code class="literal">WebElement</code>:</p><pre class="programlisting">public class TakeScreenShot {

  public static void main(String[] args) {

    // Open Firefox
    System.setProperty("webdriver.chrome.driver",
        System.getProperty("user.dir")
            + "\\src\\main\\resources\\chromedriver.exe");

    WebDriver driver = new ChromeDriver();

    // Maximize the window
    driver.manage().window().maximize();

    // Pass the url
    driver.get("http://www.freecrm.com");

    // Take screenshot and store as a file format
    // File src = ((TakesScreenshot)
    // driver).getScreenshotAs(OutputType.FILE);
    WebElement element = driver.findElement(By.name("username"));
    Screenshot screenshot = new AShot().shootingStrategy(
        ShootingStrategies.viewportPasting(1000)).takeScreenshot(
        driver, element);
    try {
      ImageIO.write(screenshot.getImage(), "PNG",
          new File(System.getProperty("user.dir") + "//test.png"));
    } catch (IOException e) {
      // TODO Auto-generated catch block
      e.printStackTrace();
    }
  }

}</pre><p>We will look at some new <span>location</span><a id="id325447012" class="indexterm"></a> techniques in Selenium WebDriver 3 next.</p></div>